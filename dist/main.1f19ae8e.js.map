{"version":3,"sources":["../src/strings.ts","../src/enums.ts","../src/shared.ts","../src/utils.ts","../src/serialization.ts","../src/host-capabilities.ts","../src/host-config.ts","../src/registry.ts","../src/card-object.ts","../src/text-formatters.ts","../../src/controls/constants.ts","../../src/controls/menu-item.ts","../../src/controls/collection.ts","../../src/controls/popup-control.ts","../../src/controls/popup-menu.ts","../../src/controls/index.ts","../src/card-elements.ts","../../node_modules/ssr-window/ssr-window.esm.js","../../node_modules/dom7/dom7.esm.js","../../node_modules/swiper/shared/dom.js","../../node_modules/swiper/shared/utils.js","../../node_modules/swiper/shared/get-support.js","../../node_modules/swiper/shared/get-device.js","../../node_modules/swiper/shared/get-browser.js","../../node_modules/swiper/core/modules/resize/resize.js","../../node_modules/swiper/core/modules/observer/observer.js","../../node_modules/swiper/core/events-emitter.js","../../node_modules/swiper/core/update/updateSize.js","../../node_modules/swiper/core/update/updateSlides.js","../../node_modules/swiper/core/update/updateAutoHeight.js","../../node_modules/swiper/core/update/updateSlidesOffset.js","../../node_modules/swiper/core/update/updateSlidesProgress.js","../../node_modules/swiper/core/update/updateProgress.js","../../node_modules/swiper/core/update/updateSlidesClasses.js","../../node_modules/swiper/core/update/updateActiveIndex.js","../../node_modules/swiper/core/update/updateClickedSlide.js","../../node_modules/swiper/core/update/index.js","../../node_modules/swiper/core/translate/getTranslate.js","../../node_modules/swiper/core/translate/setTranslate.js","../../node_modules/swiper/core/translate/minTranslate.js","../../node_modules/swiper/core/translate/maxTranslate.js","../../node_modules/swiper/core/translate/translateTo.js","../../node_modules/swiper/core/translate/index.js","../../node_modules/swiper/core/transition/setTransition.js","../../node_modules/swiper/core/transition/transitionEmit.js","../../node_modules/swiper/core/transition/transitionStart.js","../../node_modules/swiper/core/transition/transitionEnd.js","../../node_modules/swiper/core/transition/index.js","../../node_modules/swiper/core/slide/slideTo.js","../../node_modules/swiper/core/slide/slideToLoop.js","../../node_modules/swiper/core/slide/slideNext.js","../../node_modules/swiper/core/slide/slidePrev.js","../../node_modules/swiper/core/slide/slideReset.js","../../node_modules/swiper/core/slide/slideToClosest.js","../../node_modules/swiper/core/slide/slideToClickedSlide.js","../../node_modules/swiper/core/slide/index.js","../../node_modules/swiper/core/loop/loopCreate.js","../../node_modules/swiper/core/loop/loopFix.js","../../node_modules/swiper/core/loop/loopDestroy.js","../../node_modules/swiper/core/loop/index.js","../../node_modules/swiper/core/grab-cursor/setGrabCursor.js","../../node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","../../node_modules/swiper/core/grab-cursor/index.js","../../node_modules/swiper/core/events/onTouchStart.js","../../node_modules/swiper/core/events/onTouchMove.js","../../node_modules/swiper/core/events/onTouchEnd.js","../../node_modules/swiper/core/events/onResize.js","../../node_modules/swiper/core/events/onClick.js","../../node_modules/swiper/core/events/onScroll.js","../../node_modules/swiper/core/events/index.js","../../node_modules/swiper/core/breakpoints/setBreakpoint.js","../../node_modules/swiper/core/breakpoints/getBreakpoint.js","../../node_modules/swiper/core/breakpoints/index.js","../../node_modules/swiper/core/classes/addClasses.js","../../node_modules/swiper/core/classes/removeClasses.js","../../node_modules/swiper/core/classes/index.js","../../node_modules/swiper/core/images/loadImage.js","../../node_modules/swiper/core/images/preloadImages.js","../../node_modules/swiper/core/images/index.js","../../node_modules/swiper/core/check-overflow/index.js","../../node_modules/swiper/core/defaults.js","../../node_modules/swiper/core/moduleExtendParams.js","../../node_modules/swiper/core/core.js","../../node_modules/swiper/modules/virtual/virtual.js","../../node_modules/swiper/modules/keyboard/keyboard.js","../../node_modules/swiper/modules/mousewheel/mousewheel.js","../../node_modules/swiper/shared/create-element-if-not-defined.js","../../node_modules/swiper/modules/navigation/navigation.js","../../node_modules/swiper/shared/classes-to-selector.js","../../node_modules/swiper/modules/pagination/pagination.js","../../node_modules/swiper/modules/scrollbar/scrollbar.js","../../node_modules/swiper/modules/parallax/parallax.js","../../node_modules/swiper/modules/zoom/zoom.js","../../node_modules/swiper/modules/lazy/lazy.js","../../node_modules/swiper/modules/controller/controller.js","../../node_modules/swiper/modules/a11y/a11y.js","../../node_modules/swiper/modules/history/history.js","../../node_modules/swiper/modules/hash-navigation/hash-navigation.js","../../node_modules/swiper/modules/autoplay/autoplay.js","../../node_modules/swiper/modules/thumbs/thumbs.js","../../node_modules/swiper/modules/free-mode/free-mode.js","../../node_modules/swiper/modules/grid/grid.js","../../node_modules/swiper/modules/manipulation/methods/appendSlide.js","../../node_modules/swiper/modules/manipulation/methods/prependSlide.js","../../node_modules/swiper/modules/manipulation/methods/addSlide.js","../../node_modules/swiper/modules/manipulation/methods/removeSlide.js","../../node_modules/swiper/modules/manipulation/methods/removeAllSlides.js","../../node_modules/swiper/modules/manipulation/manipulation.js","../../node_modules/swiper/shared/effect-init.js","../../node_modules/swiper/shared/effect-target.js","../../node_modules/swiper/shared/effect-virtual-transition-end.js","../../node_modules/swiper/modules/effect-fade/effect-fade.js","../../node_modules/swiper/modules/effect-cube/effect-cube.js","../../node_modules/swiper/shared/create-shadow.js","../../node_modules/swiper/modules/effect-flip/effect-flip.js","../../node_modules/swiper/modules/effect-coverflow/effect-coverflow.js","../../node_modules/swiper/modules/effect-creative/effect-creative.js","../../node_modules/swiper/modules/effect-cards/effect-cards.js","../../node_modules/swiper/swiper.esm.js","../src/carousel.ts","../src/table.ts","../src/channel-adapter.ts","../src/activity-request.ts","../src/adaptive-applet.ts","../src/adaptivecards.ts","default-template/default-template.json","default-template/default-template-data.json","microsoft-badge-template/microsoft-badge-template.json","microsoft-badge-template/microsoft-badge-template-data.json","main.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["isObject","obj","constructor","Object","extend","target","src","keys","forEach","key","length","ssrDocument","body","addEventListener","removeEventListener","activeElement","blur","nodeName","querySelector","querySelectorAll","getElementById","createEvent","initEvent","createElement","children","childNodes","style","setAttribute","getElementsByTagName","createElementNS","importNode","location","hash","host","hostname","href","origin","pathname","protocol","search","exports","getDocument","doc","document","ssrWindow","navigator","userAgent","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","Image","Date","screen","setTimeout","clearTimeout","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","id","getWindow","win","window","_ssrWindow","require","makeReactive","proto","__proto__","defineProperty","get","set","value","Dom7","Array","items","arrayFlat","arr","res","el","isArray","push","arrayFilter","prototype","filter","call","arrayUnique","uniqueArray","i","indexOf","toCamelCase","string","toLowerCase","replace","match","group","toUpperCase","qsa","selector","context","a","$","html","trim","toCreate","tempParent","innerHTML","nodeType","fn","addClass","classes","classNames","map","c","split","classList","add","removeClass","remove","toggleClass","className","toggle","hasClass","contains","attr","attrs","arguments","getAttribute","undefined","attrName","removeAttr","removeAttribute","prop","props","propName","data","dom7ElementDataStorage","dataKey","removeData","dataset","attributes","name","parseFloat","val","multiple","values","selectedOptions","j","options","selected","transform","transition","duration","transitionDuration","on","args","eventType","targetSelector","listener","capture","handleLiveEvent","e","eventData","dom7EventData","unshift","is","apply","parents","k","handleEvent","events","event","dom7Listeners","proxyListener","dom7LiveListeners","off","handlers","handler","splice","dom7proxy","once","dom","eventName","onceHandler","eventArgs","trigger","evt","detail","bubbles","cancelable","dataIndex","dispatchEvent","transitionStart","fireCallBack","transitionEnd","animationEnd","width","innerWidth","css","outerWidth","includeMargins","styles","offsetWidth","height","innerHeight","outerHeight","offsetHeight","offset","box","getBoundingClientRect","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","top","left","hide","display","show","each","index","result","text","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","child","previousSibling","eq","returnIndex","append","els","newChild","tempDiv","firstChild","appendChild","appendTo","parent","prepend","insertBefore","prependTo","before","parentNode","cloneNode","insertAfter","after","nextSibling","next","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","siblings","closest","find","foundElements","found","removeChild","detach","toAdd","empty","scrollTo","easing","animate","currentTop","currentLeft","maxTop","maxLeft","newTop","newLeft","animateTop","animateLeft","scrollHeight","Math","max","min","scrollWidth","startTime","render","time","getTime","progress","easeProgress","cos","PI","done","initialProps","initialParams","assign","params","elements","animating","que","easingProgress","stop","frameId","element","dom7AnimateInstance","complete","shift","initialFullValue","initialValue","unit","finalValue","finalFullValue","container","currentValue","elementsDone","propsDone","began","begin","animateInstance","noTrigger","shortcut","eventHandler","click","focus","focusin","focusout","keyup","keydown","keypress","submit","change","mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseout","mouseover","touchstart","touchend","touchmove","resize","scroll","_default","default","_dom","Methods","methodName","writable","_defineProperty","_toPropertyKey","enumerable","configurable","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","TypeError","Number","iterator","deleteProps","object","nextTick","delay","now","currentStyle","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","join","MozTransform","OTransform","MsTransform","msTransform","toString","m41","m42","o","slice","isNode","node","HTMLElement","to","noExtend","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","__swiper__","setCSSProperty","varName","varValue","setProperty","animateCSSModeScroll","swiper","targetPosition","side","startPosition","translate","speed","wrapperEl","scrollSnapType","cssModeFrameID","dir","isOutOfBound","current","currentPosition","overflow","support","calcSupport","smoothScroll","documentElement","touch","DocumentTouch","passiveListener","checkPassiveListener","supportsPassive","opts","gestures","checkGestures","getSupport","_getSupport","deviceCached","calcDevice","platform","ua","device","ios","android","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","iPadScreens","concat","os","getDevice","overrides","browser","calcBrowser","isSafari","isWebView","test","getBrowser","Resize","emit","observer","animationFrame","resizeHandler","destroyed","initialized","createObserver","ResizeObserver","entries","newWidth","newHeight","contentBoxSize","contentRect","inlineSize","blockSize","observe","removeObserver","unobserve","orientationChangeHandler","resizeObserver","Observer","extendParams","observers","attach","ObserverFunc","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","childList","characterData","init","observeParents","containerParents","$el","observeSlideChildren","$wrapperEl","destroy","disconnect","priority","self","eventsListeners","method","__emitterProxy","onAny","eventsAnyListeners","offAny","eventsArray","updateSize","clientWidth","clientHeight","isHorizontal","isVertical","parseInt","isNaN","size","_utils","updateSlides","getDirectionLabel","property","getDirectionPropertyValue","label","swiperSize","rtlTranslate","rtl","wrongRTL","isVirtual","virtual","enabled","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginBottom","marginTop","marginRight","centeredSlides","cssMode","gridEnabled","grid","rows","initSlides","slideSize","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","paddingLeft","paddingRight","boxSizing","floor","swiperSlideSize","abs","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","_","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","v","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","backFaceHiddenClass","containerModifierClass","hasClassBackfaceClassAdded","maxBackfaceHiddenSlides","_interopRequireDefault","__esModule","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","ceil","activeIndex","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","isVisible","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","activeSlide","loop","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","_updateSize","_updateSlides","_updateAutoHeight","_updateSlidesOffset","_updateSlidesProgress","_updateProgress","_updateSlidesClasses","_updateActiveIndex","_updateClickedSlide","getSwiperTranslate","virtualTranslate","currentTranslate","setTranslate","byController","x","y","z","previousTranslate","newProgress","translateTo","runCallbacks","translateBounds","internal","preventInteractionOnTransition","newTranslate","isH","_wrapperEl$scrollTo","onTranslateToWrapperTransitionEnd","_getTranslate","_setTranslate","_minTranslate","_maxTranslate","_translateTo","transitionEmit","direction","step","_transitionEmit","_setTransition","_transitionStart","_transitionEnd","slideTo","initial","Error","indexAsNumber","isValidNumber","isFinite","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","t","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalize","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","lastIndex","slideReset","slideToClosest","threshold","currentSnap","nextSnap","slideToIndex","_slideTo","_slideToLoop","_slideNext","_slidePrev","_slideReset","_slideToClosest","_slideToClickedSlide","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","loopedSlidesLimit","prependSlides","appendSlides","snapTranslate","diff","slideChanged","loopDestroy","_loopCreate","_loopFix","_loopDestroy","setGrabCursor","moving","simulateTouch","isLocked","touchEventsTarget","cursor","unsetGrabCursor","_setGrabCursor","_unsetGrabCursor","closestElement","base","__closestFrom","assignedSlot","getRootNode","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","isTouchEvent","type","which","button","isTouched","isMoved","swipingClassHasValue","noSwipingClass","eventPath","composedPath","path","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","preventDefault","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","freeMode","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","grabCursor","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","onTouchEnd","touchEndTime","timeDiff","pathTree","lastClickTime","currentPos","stopIndex","groupSize","rewindFirstIndex","rewindLastIndex","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","isNavButtonTarget","navigation","nextEl","prevEl","onResize","setBreakpoint","autoplay","running","paused","run","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","_onTouchStart","_onTouchMove","_onTouchEnd","_onResize","_onClick","_onScroll","dummyEventAttached","dummyEventListener","touchEvents","domMethod","swiperMethod","start","move","end","passiveListeners","passive","cancel","updateOnWindowResize","attachEvents","bind","detachEvents","isGridEnabled","breakpoint","getBreakpoint","breakpointsBase","currentBreakpoint","breakpointOnlyParams","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","emitContainerClasses","fill","wasModuleEnabled","isModuleEnabled","disable","enable","directionChanged","needsReLoop","changeDirection","isEnabled","containerEl","currentHeight","points","point","minRatio","substr","sort","b","_setBreakpoint","_getBreakpoint","prepareClasses","prefix","resultClasses","item","addClasses","suffixes","removeClasses","_addClasses","_removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","isPicture","onload","onerror","preloadImages","imagesToLoad","imagesLoaded","updateOnImagesReady","update","currentSrc","_loadImage","_preloadImages","wasLocked","lastSlideIndex","lastSlideRightEdge","initialSlide","createElements","url","uniqueNavElements","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","_getDevice","_getBrowser","_resize","_observer","_eventsEmitter","_index","_index2","_index3","_index4","_index5","_index6","_index7","_index8","_index9","_index10","_index11","_defaults","_moduleExtendParams","prototypes","eventsEmitter","images","extendedDefaults","Swiper","swipers","newParams","modules","__modules__","mod","swiperParams","defaults","passedParams","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","view","exact","spv","breakLoop","slideInView","translateValue","translated","newDirection","needUpdate","currentDirection","changeLanguageDirection","mount","mounted","getWrapperSelector","getWrapper","wrapper","deleteInstance","cleanStyles","extendDefaults","newDefaults","installModule","use","module","m","prototypeGroup","protoMethod","Virtual","cache","renderSlide","renderExternal","renderExternalUpdate","addSlidesBefore","addSlidesAfter","cssModeTimeout","from","$slideEl","force","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","load","getSlides","slidesToRender","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","Keyboard","keyboard","onlyInViewport","pageUpDown","handle","kc","keyCode","charCode","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","ctrlKey","metaKey","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","mousewheel","releaseOnEdges","invert","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","timeout","lastScrollTime","lastEventBeforeSnap","recentWheelEvents","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","delta","raw","releaseScroll","rtlFactor","positions","sign","prevEvent","ignoreWheelEvents","position","sticky","firstEvent","snapToThreshold","autoplayDisableOnInteraction","createElementIfNotDefined","checkProps","_createElementIfNotDefined","Navigation","hideOnClick","disabledClass","hiddenClass","lockClass","navigationDisabledClass","$nextEl","$prevEl","getEl","toggleEl","disabled","tagName","onPrevClick","onNextClick","_s","targetEl","pagination","clickable","isHidden","classesToSelector","_classesToSelector","Pagination","pfx","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","bullets","bulletSize","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scale","scaleX","scaleY","paginationHTML","numberOfBullets","Scrollbar","dragTimeout","dragStartPos","dragSize","trackSize","divider","scrollbar","draggable","snapOnRelease","dragClass","scrollbarDisabledClass","dragEl","$dragEl","newSize","newPos","opacity","getPointerPosition","clientX","clientY","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","activeListener","eventMethod","enableDraggable","disableDraggable","$swiperEl","Parallax","parallax","setTransform","p","currentOpacity","currentScale","parallaxEl","$parallaxEl","parallaxDuration","_swiper","Zoom","zoom","maxRatio","containerClass","zoomedSlideClass","isScaling","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","gesture","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","distance","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","zoomIn","touchAction","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","amount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","controller","control","inverse","by","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","getInterpolateFunction","spline","_t","controlled","controlledTranslate","setControlledTranslate","setControlledTransition","removeSpline","A11y","a11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","clicked","liveRegion","notify","message","notification","getRandomNumber","randomChar","round","random","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","controls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","updateNavigation","hasPagination","hasClickablePagination","updatePagination","bulletEl","initNavEl","wrapperId","handlePointerDown","handlePointerUp","handleFocus","includes","isActive","sourceCapabilities","firesTouchEvents","ariaLabelMessage","$containerEl","History","root","keepQuery","paths","slugify","getPathValues","urlOverride","URL","pathArray","part","setHistory","currentState","state","scrollToSlide","slideHistory","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","activeSlideHash","setHash","slideHash","Autoplay","waitForTransition","disableOnInteraction","stopOnLastSlide","reverseDirection","pauseOnMouseEnter","$activeSlideEl","autoplayResult","pause","onVisibilityChange","visibilityState","onMouseEnter","onMouseLeave","attachMouseEvents","detachMouseEvents","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","currentIndex","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","currentThumbsIndex","newThumbsIndex","prevThumbsIndex","nextThumbsIndex","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","minimumVelocity","lastMoveEvent","pop","velocityEvent","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","column","row","groupIndex","slideIndexInGroup","columnsInGroup","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","_appendSlide","_prependSlide","_addSlide","_removeSlide","_removeAllSlides","Manipulation","effectInit","overwriteParams","perspective","recreateShadows","getEffectParams","overwriteParamsResult","slideShadows","requireUpdateOnVirtual","effectTarget","effectParams","transformEl","effectVirtualTransitionEnd","allSlides","eventTriggered","$transitionEndTarget","triggerEvents","_effectInit","_effectTarget","_effectVirtualTransitionEnd","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","$transitionElements","EffectCube","cubeEffect","shadow","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","wrapperRotate","$cubeShadowEl","slideAngle","tz","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","_createShadow","EffectFlip","flipEffect","limitRotation","rotate","rotateY","rotateX","zIndex","EffectCoverflow","coverflowEffect","stretch","depth","modifier","center","centerOffset","offsetMultiplier","translateZ","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","margin","r","custom","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","perSlideRotate","perSlideOffset","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","_core","_virtual","_keyboard","_mousewheel","_navigation","_pagination","_scrollbar","_parallax","_zoom","_lazy","_controller","_a11y","_history","_hashNavigation","_autoplay","_thumbs","_freeMode","_grid","_manipulation","_effectFade","_effectCube","_effectFlip","_effectCoverflow","_effectCreative","_effectCards","AdaptiveCards","_interopRequireWildcard","_defaultTemplate","_defaultTemplateData","_microsoftBadgeTemplate","_microsoftBadgeTemplateData","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","has","newObj","hasPropertyDescriptor","hasOwnProperty","_createForOfIteratorHelper","allowArrayLike","it","_unsupportedIterableToArray","F","s","n","_e","f","normalCompletion","didErr","err","_e2","return","minLen","_arrayLikeToArray","arr2","adaptiveCard","AdaptiveCard","cardJson","replacePlaceholders","microsoftcardJson","msftData","parse","renderedCard","pickCardTemplate","template","defaultCardJson","jsonString","JSON","stringify","console","log","replacedString","getValueByKey","_iterator","_step","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","stackTrace","innerText","getParents","d","dep","Function","deps","cached","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,4DAA4D;AAC5D,kCAAkC;;;AAElC,kEAAkE;AAClE;IAAA;IAyGA,CAAC;IAxGmB,cAAM,GAAG;QACrB,kBAAkB,EAAE,UAAC,QAAgB;YACjC,OAAA,iCAAyB,QAAQ,0CAAsC;QAAvE,CAAuE;QAC3E,iBAAiB,EAAE,UAAC,QAAgB;YAChC,OAAA,gCAAwB,QAAQ,0CAAsC;QAAtE,CAAsE;QAC1E,qBAAqB,EAAE,UAAC,QAAgB;YACpC,OAAA,yBAAiB,QAAQ,uCAAmC;QAA5D,CAA4D;QAChE,oBAAoB,EAAE,UAAC,QAAgB;YACnC,OAAA,wBAAgB,QAAQ,uCAAmC;QAA3D,CAA2D;QAC/D,oBAAoB,EAAE,UAAC,KAAU,EAAE,YAAoB;YACnD,OAAA,0BAAkB,KAAK,+BAAmB,YAAY,QAAI;QAA1D,CAA0D;QAC9D,oBAAoB,EAAE;YAClB,OAAA,0FAAuF;QAAvF,CAAuF;QAC3F,kBAAkB,EAAE,UAAC,YAAoB;YACrC,OAAA,iCAAyB,YAAY,iCAA2B;QAAhE,CAAgE;QACpE,kBAAkB,EAAE,UAAC,mBAA2B;YAC5C,OAAA,gDAAwC,mBAAmB,QAAI;QAA/D,CAA+D;QACnE,oBAAoB,EAAE,UAAC,aAAqB;YACxC,OAAA,mCAA2B,aAAa,QAAI;QAA5C,CAA4C;QAChD,yBAAyB,EAAE,UACvB,KAAU,EACV,YAAoB,EACpB,kBAA0B,EAC1B,WAAmB;YAEnB,OAAA,kBAAU,KAAK,+BAAmB,YAAY,wCAA6B,kBAAkB,yCAA+B,WAAW,MAAG;QAA1I,CAA0I;QAC9I,oBAAoB,EAAE,UAClB,YAAoB,EACpB,kBAA0B,EAC1B,WAAmB;YAEnB,OAAA,qBAAa,YAAY,wCAA6B,kBAAkB,yCAA+B,WAAW,MAAG;QAArH,CAAqH;QACzH,eAAe,EAAE,UAAC,KAAa,IAAK,OAAA,8BAAuB,KAAK,OAAI,EAAhC,CAAgC;QACpE,2BAA2B,EAAE;YACzB,OAAA,+FAA+F;QAA/F,CAA+F;QACnG,qBAAqB,EAAE;YACnB,OAAA,yFAAyF;QAAzF,CAAyF;QAC7F,uBAAuB,EAAE,cAAM,OAAA,+BAA+B,EAA/B,CAA+B;QAC9D,sBAAsB,EAAE,cAAM,OAAA,mCAAmC,EAAnC,CAAmC;QACjE,iCAAiC,EAAE;YAC/B,OAAA,2DAA2D;QAA3D,CAA2D;QAC/D,qCAAqC,EAAE;YACnC,OAAA,mFAAmF;QAAnF,CAAmF;QACvF,iBAAiB,EAAE,UAAC,YAAoB,IAAK,OAAA,qBAAa,YAAY,oBAAgB,EAAzC,CAAyC;QACtF,qCAAqC,EAAE;YACnC,OAAA,8EAA8E;QAA9E,CAA8E;QAClF,cAAc,EAAE,UAAC,cAAsB;YACnC,OAAA,8CAAuC,cAAc,OAAI;QAAzD,CAAyD;QAC7D,kBAAkB,EAAE,UAAC,gBAAwB;YACzC,OAAA,uCAAgC,gBAAgB,OAAI;QAApD,CAAoD;QACxD,oBAAoB,EAAE,UAAC,gBAAwB;YAC3C,OAAA,qDAA8C,gBAAgB,OAAI;QAAlE,CAAkE;QACtE,uBAAuB,EAAE,UAAC,gBAAwB;YAC9C,OAAA,+CAAwC,gBAAgB,OAAI;QAA5D,CAA4D;QAChE,gCAAgC,EAAE,cAAM,OAAA,mDAAmD,EAAnD,CAAmD;QAC3F,eAAe,EAAE;YACb,OAAA,8FAA4F;QAA5F,CAA4F;QAChG,sBAAsB,EAAE,UAAC,OAAe,EAAE,mBAA2B;YACjE,OAAA,sCAA+B,OAAO,yFAA+E,mBAAmB,MAAG;QAA3I,CAA2I;QAC/I,WAAW,EAAE,UAAC,EAAU,IAAK,OAAA,yBAAiB,EAAE,QAAI,EAAvB,CAAuB;QACpD,4BAA4B,EAAE;YAC1B,OAAA,+GAA+G;QAA/G,CAA+G;QACnH,2BAA2B,EAAE;YACzB,OAAA,wGAAwG;QAAxG,CAAwG;QAC5G,sBAAsB,EAAE,cAAM,OAAA,mDAAmD,EAAnD,CAAmD;QACjF,qBAAqB,EAAE,cAAM,OAAA,gDAAgD,EAAhD,CAAgD;QAC7E,wBAAwB,EAAE,UAAC,QAAgB;YACvC,OAAA,2BAAoB,QAAQ,4CAAyC;QAArE,CAAqE;QACzE,sBAAsB,EAAE;YACpB,OAAA,wEAAwE;QAAxE,CAAwE;KAC/E,CAAC;IACc,0BAAkB,GAAG;QACjC,QAAQ,EAAE,cAAM,OAAA,sCAAsC,EAAtC,CAAsC;QACtD,WAAW,EAAE;YACT,OAAA,oGAAoG;QAApG,CAAoG;QACxG,cAAc,EAAE,cAAM,OAAA,kBAAkB,EAAlB,CAAkB;QACxC,+BAA+B,EAAE,cAAM,OAAA,2CAA2C,EAA3C,CAA2C;QAClF,MAAM,EAAE,cAAM,OAAA,QAAQ,EAAR,CAAQ;QACtB,MAAM,EAAE,cAAM,OAAA,QAAQ,EAAR,CAAQ;QACtB,kBAAkB,EAAE,cAAM,OAAA,qDAAqD,EAArD,CAAqD;QAC/E,oBAAoB,EAAE,cAAM,OAAA,wBAAwB,EAAxB,CAAwB;KACvD,CAAC;IACc,eAAO,GAAG;QACtB,sBAAsB,EAAE,cAAM,OAAA,2BAA2B,EAA3B,CAA2B;QACzD,6BAA6B,EAAE,cAAM,OAAA,mBAAmB,EAAnB,CAAmB;QACxD,eAAe,EAAE,cAAM,OAAA,mBAAmB,EAAnB,CAAmB;KAC7C,CAAC;IACc,aAAK,GAAG;QACpB,2CAA2C,EAAE;YACzC,OAAA,+KAA+K;QAA/K,CAA+K;KACtL,CAAC;IACc,gBAAQ,GAAG;QACvB,iBAAiB,EAAE,cAAM,OAAA,eAAe,EAAf,CAAe;QACxC,kBAAkB,EAAE,cAAM,OAAA,KAAK,EAAL,CAAK;QAC/B,qBAAqB,EAAE,cAAM,OAAA,cAAc,EAAd,CAAc;QAC3C,gBAAgB,EAAE,UAAC,WAAmB,IAAK,OAAA,gBAAS,WAAW,CAAE,EAAtB,CAAsB;QACjE,oBAAoB,EAAE,cAAM,OAAA,eAAe,EAAf,CAAe;QAC3C,oBAAoB,EAAE,cAAM,OAAA,YAAY,EAAZ,CAAY;QACxC,kBAAkB,EAAE,cAAM,OAAA,sBAAsB,EAAtB,CAAsB;QAChD,gBAAgB,EAAE,cAAM,OAAA,oBAAoB,EAApB,CAAoB;QAC5C,sBAAsB,EAAE,cAAM,OAAA,0BAA0B,EAA1B,CAA0B;QACxD,iCAAiC,EAAE,cAAM,OAAA,wBAAwB,EAAxB,CAAwB;QACjE,6BAA6B,EAAE,cAAM,OAAA,oBAAoB,EAApB,CAAoB;KAC5D,CAAC;IACN,cAAC;CAzGD,AAyGC,IAAA;AAzGY,0BAAO;;;;ACJpB,4DAA4D;AAC5D,kCAAkC;;;AAElC;;;;;;;;;;;;;;;;EAgBE;AACF,iGAAiG;AACjG;IAAA;IAOA,CAAC;IANmB,sBAAO,GAAc,SAAS,CAAC;IAC/B,uBAAQ,GAAe,UAAU,CAAC;IAClC,qBAAM,GAAa,QAAQ,CAAC;IAC5B,mBAAI,GAAW,MAAM,CAAC;IACtB,wBAAS,GAAgB,WAAW,CAAC;IACrC,sBAAO,GAAc,SAAS,CAAC;IACnD,qBAAC;CAPD,AAOC,IAAA;AAPY,wCAAc;AAS3B;IAAA;IAIA,CAAC;IAHmB,mBAAO,GAAc,SAAS,CAAC;IAC/B,oBAAQ,GAAe,UAAU,CAAC;IAClC,uBAAW,GAAkB,aAAa,CAAC;IAC/D,kBAAC;CAJD,AAIC,IAAA;AAJY,kCAAW;AAMxB;IAAA;IAGA,CAAC;IAFmB,kBAAO,GAAc,SAAS,CAAC;IAC/B,oBAAS,GAAgB,WAAW,CAAC;IACzD,iBAAC;CAHD,AAGC,IAAA;AAHY,gCAAU;AAIvB,gGAAgG;AAEhG,IAAY,IAMX;AAND,WAAY,IAAI;IACZ,+BAAI,CAAA;IACJ,qCAAO,CAAA;IACP,iCAAK,CAAA;IACL,mCAAM,CAAA;IACN,iCAAK,CAAA;AACT,CAAC,EANW,IAAI,GAAJ,YAAI,KAAJ,YAAI,QAMf;AAED,IAAY,SAIX;AAJD,WAAY,SAAS;IACjB,2CAAK,CAAA;IACL,6CAAM,CAAA;IACN,2CAAK,CAAA;AACT,CAAC,EAJW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAIpB;AAED,IAAY,yBAGX;AAHD,WAAY,yBAAyB;IACjC,+EAAO,CAAA;IACP,+EAAO,CAAA;AACX,CAAC,EAHW,yBAAyB,GAAzB,iCAAyB,KAAzB,iCAAyB,QAGpC;AAED,IAAY,QAGX;AAHD,WAAY,QAAQ;IAChB,2CAAM,CAAA;IACN,yCAAK,CAAA;AACT,CAAC,EAHW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAGnB;AAED,IAAY,QAMX;AAND,WAAY,QAAQ;IAChB,yCAAK,CAAA;IACL,6CAAO,CAAA;IACP,2CAAM,CAAA;IACN,yCAAK,CAAA;IACL,mDAAU,CAAA;AACd,CAAC,EANW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAMnB;AAED,IAAY,UAGX;AAHD,WAAY,UAAU;IAClB,6DAAa,CAAA;IACb,iDAAO,CAAA;AACX,CAAC,EAHW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAGrB;AAED,IAAY,UAIX;AAJD,WAAY,UAAU;IAClB,iDAAO,CAAA;IACP,iDAAO,CAAA;IACP,+CAAM,CAAA;AACV,CAAC,EAJW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAIrB;AAED,IAAY,QAGX;AAHD,WAAY,QAAQ;IAChB,6CAAO,CAAA;IACP,iDAAS,CAAA;AACb,CAAC,EAHW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAGnB;AAED,IAAY,OAQX;AARD,WAAY,OAAO;IACf,qCAAI,CAAA;IACJ,uCAAK,CAAA;IACL,2CAAO,CAAA;IACP,yCAAM,CAAA;IACN,uCAAK,CAAA;IACL,iDAAU,CAAA;IACV,2CAAO,CAAA;AACX,CAAC,EARW,OAAO,GAAP,eAAO,KAAP,eAAO,QAQlB;AAED,IAAY,SAQX;AARD,WAAY,SAAS;IACjB,+CAAO,CAAA;IACP,yCAAI,CAAA;IACJ,2CAAK,CAAA;IACL,6CAAM,CAAA;IACN,yCAAI,CAAA;IACJ,+CAAO,CAAA;IACP,mDAAS,CAAA;AACb,CAAC,EARW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAQpB;AAED,IAAY,mBAIX;AAJD,WAAY,mBAAmB;IAC3B,6DAAI,CAAA;IACJ,iEAAM,CAAA;IACN,+DAAK,CAAA;AACT,CAAC,EAJW,mBAAmB,GAAnB,2BAAmB,KAAnB,2BAAmB,QAI9B;AAED,IAAY,iBAIX;AAJD,WAAY,iBAAiB;IACzB,uDAAG,CAAA;IACH,6DAAM,CAAA;IACN,6DAAM,CAAA;AACV,CAAC,EAJW,iBAAiB,GAAjB,yBAAiB,KAAjB,yBAAiB,QAI5B;AAED,IAAY,eAKX;AALD,WAAY,eAAe;IACvB,qDAAI,CAAA;IACJ,yDAAM,CAAA;IACN,uDAAK,CAAA;IACL,2DAAO,CAAA;AACX,CAAC,EALW,eAAe,GAAf,uBAAe,KAAf,uBAAe,QAK1B;AAED,IAAY,UAGX;AAHD,WAAY,UAAU;IAClB,iDAAO,CAAA;IACP,+CAAM,CAAA;AACV,CAAC,EAHW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAGrB;AAED,IAAY,kBAGX;AAHD,WAAY,kBAAkB;IAC1B,+DAAM,CAAA;IACN,6DAAK,CAAA;AACT,CAAC,EAHW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAG7B;AAED,IAAY,WAGX;AAHD,WAAY,WAAW;IACnB,yDAAU,CAAA;IACV,qDAAQ,CAAA;AACZ,CAAC,EAHW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAGtB;AAED,IAAY,QAKX;AALD,WAAY,QAAQ;IAChB,yCAAK,CAAA;IACL,mEAAkB,CAAA;IAClB,+DAAgB,CAAA;IAChB,2CAAM,CAAA;AACV,CAAC,EALW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAKnB;AAED,IAAY,mBAGX;AAHD,WAAY,mBAAmB;IAC3B,2EAAW,CAAA;IACX,yEAAU,CAAA;AACd,CAAC,EAHW,mBAAmB,GAAnB,2BAAmB,KAAnB,2BAAmB,QAG9B;AAED,IAAY,cAMX;AAND,WAAY,cAAc;IACtB,mDAAI,CAAA;IACJ,iDAAG,CAAA;IACH,iDAAG,CAAA;IACH,qDAAK,CAAA;IACL,2DAAQ,CAAA;AACZ,CAAC,EANW,cAAc,GAAd,sBAAc,KAAd,sBAAc,QAMzB;AAED,IAAY,kBAGX;AAHD,WAAY,kBAAkB;IAC1B,+DAAM,CAAA;IACN,6DAAK,CAAA;AACT,CAAC,EAHW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAG7B;AAED,IAAY,eAIX;AAJD,WAAY,eAAe;IACvB,uDAAK,CAAA;IACL,yDAAM,CAAA;IACN,iEAAU,CAAA;AACd,CAAC,EAJW,eAAe,GAAf,uBAAe,KAAf,uBAAe,QAI1B;AAED,IAAY,eAmBX;AAnBD,WAAY,eAAe;IACvB,qDAAI,CAAA;IACJ,qFAAoB,CAAA;IACpB,uFAAqB,CAAA;IACrB,iEAAU,CAAA;IACV,uFAAqB,CAAA;IACrB,2FAAuB,CAAA;IACvB,qFAAoB,CAAA;IACpB,2EAAe,CAAA;IACf,iFAAkB,CAAA;IAClB,yEAAc,CAAA;IACd,gFAAiB,CAAA;IACjB,kFAAkB,CAAA;IAClB,0FAAsB,CAAA;IACtB,oEAAW,CAAA;IACX,oFAAmB,CAAA;IACnB,wGAA6B,CAAA;IAC7B,sHAAoC,CAAA;IACpC,wDAAK,CAAA;AACT,CAAC,EAnBW,eAAe,GAAf,uBAAe,KAAf,uBAAe,QAmB1B;AAED,IAAY,kBAIX;AAJD,WAAY,kBAAkB;IAC1B,mFAAgB,CAAA;IAChB,yEAAW,CAAA;IACX,yFAAmB,CAAA;AACvB,CAAC,EAJW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAI7B;AAED,IAAY,aAGX;AAHD,WAAY,aAAa;IACrB,+DAAW,CAAA;IACX,mEAAa,CAAA;AACjB,CAAC,EAHW,aAAa,GAAb,qBAAa,KAAb,qBAAa,QAGxB;AAED,IAAY,WAIX;AAJD,WAAY,WAAW;IACnB,qDAAQ,CAAA;IACR,iDAAM,CAAA;IACN,uDAAS,CAAA;AACb,CAAC,EAJW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAItB;AAED,IAAY,QAIX;AAJD,WAAY,QAAQ;IAChB,uCAAI,CAAA;IACJ,6CAAO,CAAA;IACP,yCAAK,CAAA;AACT,CAAC,EAJW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAInB;AAED,IAAY,wBAKX;AALD,WAAY,wBAAwB;IAChC,2FAAc,CAAA;IACd,mGAAkB,CAAA;IAClB,mFAAU,CAAA;IACV,+EAAQ,CAAA;AACZ,CAAC,EALW,wBAAwB,GAAxB,gCAAwB,KAAxB,gCAAwB,QAKnC;AAED,IAAY,UAMX;AAND,WAAY,UAAU;IAClB,+CAAM,CAAA;IACN,2CAAI,CAAA;IACJ,yCAAG,CAAA;IACH,2CAAI,CAAA;IACJ,mDAAQ,CAAA;AACZ,CAAC,EANW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAMrB;;;;;;ACxOD,4DAA4D;AAC5D,kCAAkC;AAClC,+BAAiC;AAoBjC,kEAAkE;AAClE;IAAA;IA8BA,CAAC;IA7BU,6CAA8B,GAAY,IAAI,CAAC;IAC/C,8CAA+B,GAAY,KAAK,CAAC;IACjD,kDAAmC,GAAY,IAAI,CAAC;IACpD,2CAA4B,GAAY,KAAK,CAAC;IAC9C,oCAAqB,GAAY,KAAK,CAAC;IACvC,sCAAuB,GAAY,KAAK,CAAC;IACzC,2CAA4B,GAAY,IAAI,CAAC;IAC7C,+CAAgC,GAAY,KAAK,CAAC;IAClD,oCAAqB,GAAY,IAAI,CAAC;IACtC,6BAAc,GAAY,IAAI,CAAC;IAC/B,iCAAkB,GAAY,IAAI,CAAC;IACnC,oDAAqC,GAAY,KAAK,CAAC;IACvD,6DAA8C,GAAY,KAAK,CAAC;IAChE,wDAAyC,GAAY,IAAI,CAAC;IAEjD,sBAAO,GAAoB;QACvC,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,KAAK,CAAC,QAAQ,CAAC,KAAK;QAC9B,oBAAoB,EAAE,CAAC;QACvB,+BAA+B,EAAE,IAAI;QACrC,eAAe,EAAE,GAAG;QACpB,gBAAgB,EAAE,GAAG;QACrB,OAAO,EAAE;YACL,IAAI,EAAE,KAAK,CAAC,WAAW,CAAC,MAAM;YAC9B,6BAA6B,EAAE,IAAI;YACnC,oCAAoC,EAAE,CAAC;YACvC,2CAA2C,EAAE,IAAI;SACpD;KACJ,CAAC;IACN,qBAAC;CA9BD,AA8BC,IAAA;AA9BY,wCAAc;AAgCd,QAAA,YAAY,GAAG;IACxB,eAAe,EAAE,kBAAkB;IACnC,6BAA6B,EAAE,mCAAmC;CACrE,CAAC;AAgBF;IAAA;QACY,iBAAY,GAAY,KAAK,CAAC;IA0E1C,CAAC;IAtEG,qDAAmB,GAAnB,UAAoB,MAAgB,EAAE,gBAAoC;QACtE,IAAI,CAAC,gBAAgB,EAAE;YACnB,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;SACrE;QAED,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,KAAoB,UAAM,EAAN,iBAAM,EAAN,oBAAM,EAAN,IAAM,EAAE;gBAAvB,IAAM,KAAK,eAAA;gBACZ,IAAM,OAAO,GAAG,IAAI,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC,EAAE,GAAG,eAAe,EAAE,IAAI,CAAC,CAAC,IAAI,CACzE,IAAI,CAAC,SAAS,CACjB,CAAC;gBAEF,IAAI,OAAO,IAAI,IAAI,IAAI,KAAK,CAAC,EAAE,EAAE;oBAC7B,gBAAgB,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;iBACtC;aACJ;SACJ;IACL,CAAC;IAED,uDAAqB,GAArB,UAAsB,MAA0B,EAAE,WAAmB;QACjE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;QAEjC,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAM,KAAK,GAAG,kCAAkC,CAAC;YACjD,IAAI,OAAO,SAAA,CAAC;YAEZ,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;gBACvE,KAAkB,UAAmB,EAAnB,KAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAnB,cAAmB,EAAnB,IAAmB,EAAE;oBAAlC,IAAM,GAAG,SAAA;oBACV,IAAI,GAAG,CAAC,WAAW,EAAE,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,EAAE;wBAChD,IAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;wBAEjC,IAAI,eAAe,GAAG,EAAE,CAAC;wBAEzB,IAAI,YAAY,CAAC,KAAK,EAAE;4BACpB,eAAe,GAAG,YAAY,CAAC,KAAK,CAAC;yBACxC;wBAED,IAAI,WAAW,KAAK,oBAAY,CAAC,eAAe,EAAE;4BAC9C,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;4BAClD,eAAe,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;yBAClD;6BAAM,IAAI,WAAW,KAAK,oBAAY,CAAC,6BAA6B,EAAE;4BACnE,eAAe,GAAG,kBAAkB,CAAC,eAAe,CAAC,CAAC;yBACzD;wBAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;wBAEvE,MAAM;qBACT;iBACJ;aACJ;SACJ;QAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED,6CAAW,GAAX;QACI,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,qCAAG,GAAH;QACI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACpB,OAAO,IAAI,CAAC,SAAS,CAAC;SACzB;aAAM;YACH,OAAO,IAAI,CAAC,UAAU,CAAC;SAC1B;IACL,CAAC;IAED,qCAAG,GAAH,UAAI,KAAyB;QACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC9B,CAAC;IACL,8BAAC;AAAD,CA3EA,AA2EC,IAAA;AA3EY,0DAAuB;AA6EpC;IAMI,2BAAY,GAAe,EAAE,KAAiB,EAAE,MAAkB,EAAE,IAAgB;QAAxE,oBAAA,EAAA,OAAe;QAAE,sBAAA,EAAA,SAAiB;QAAE,uBAAA,EAAA,UAAkB;QAAE,qBAAA,EAAA,QAAgB;QALpF,SAAI,GAAW,CAAC,CAAC;QACjB,QAAG,GAAW,CAAC,CAAC;QAChB,UAAK,GAAW,CAAC,CAAC;QAClB,WAAM,GAAW,CAAC,CAAC;QAGf,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IACL,wBAAC;AAAD,CAZA,AAYC,IAAA;AAZY,8CAAiB;AAc9B;IAMI,2BACI,GAAuC,EACvC,KAAyC,EACzC,MAA0C,EAC1C,IAAwC;QAHxC,oBAAA,EAAA,MAAqB,KAAK,CAAC,OAAO,CAAC,IAAI;QACvC,sBAAA,EAAA,QAAuB,KAAK,CAAC,OAAO,CAAC,IAAI;QACzC,uBAAA,EAAA,SAAwB,KAAK,CAAC,OAAO,CAAC,IAAI;QAC1C,qBAAA,EAAA,OAAsB,KAAK,CAAC,OAAO,CAAC,IAAI;QAT5C,QAAG,GAAkB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;QACxC,UAAK,GAAkB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;QAC1C,WAAM,GAAkB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;QAC3C,SAAI,GAAkB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;QAQrC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IACL,wBAAC;AAAD,CAjBA,AAiBC,IAAA;AAjBY,8CAAiB;AAmB9B;IAgCI,qBAAY,YAAoB,EAAE,IAAoB;QAClD,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IA/BM,iBAAK,GAAZ,UAAa,KAAa,EAAE,oBAAqC;QAArC,qCAAA,EAAA,4BAAqC;QAC7D,IAAM,MAAM,GAAG,IAAI,WAAW,CAAC,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAEzD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC3B,MAAM,CAAC,YAAY,GAAG,KAAK,CAAC;YAE5B,OAAO,MAAM,CAAC;SACjB;aAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAClC,IAAM,MAAM,GAAG,qBAAqB,CAAC;YACrC,IAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnC,IAAM,kBAAkB,GAAG,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAExD,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,IAAI,kBAAkB,EAAE;gBACjD,MAAM,CAAC,YAAY,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE3C,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;oBACtB,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;wBACrB,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC;qBACtC;iBACJ;gBAED,OAAO,MAAM,CAAC;aACjB;SACJ;QAED,MAAM,IAAI,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC,CAAC;IAC9C,CAAC;IAML,kBAAC;AAAD,CApCA,AAoCC,IAAA;AApCY,kCAAW;AA2CxB;;;;;IAKI;AACJ,6GAA6G;AAC7G;IAAA;IAsCA,CAAC;IAnCU,aAAQ,GAAf;QACI,IAAM,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAM,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAM,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAM,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAE5C,OAAO,CACH,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;YAC3B,GAAG;YACH,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAC1B,GAAG;YACH,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;YACpC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;YAC3B,GAAG;YACH,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAC1B,GAAG;YACH,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,CAC9B,CAAC;IACN,CAAC;IAEM,eAAU,GAAjB;QACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1B,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;SACtD;IACL,CAAC;IApCc,QAAG,GAAa,EAAE,CAAC;IAqCtC,WAAC;CAtCD,AAsCC,IAAA;AAtCY,oBAAI;AAwCjB,IAAI,CAAC,UAAU,EAAE,CAAC;AAClB,4GAA4G;;;;;;;ACnR5G,4DAA4D;AAC5D,kCAAkC;AAClC,+BAAiC;AACjC,iCAAmC;AAWnC,SAAgB,kBAAkB;IAC9B,8CAA8C;IAC9C,OAAO,MAAM,CAAC,QAAQ,CAAC,YAAY,KAAK,SAAS,CAAC;AACtD,CAAC;AAHD,gDAGC;AAED,SAAgB,UAAU;IACtB,IAAM,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC;IAE7C,OAAO,CACH,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAC9F,CAAC;AACN,CAAC;AAND,gCAMC;AAED;;GAEG;AACH,SAAgB,gBAAgB;IAC5B,OAAO,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;AAC5C,CAAC;AAFD,4CAEC;AAED,SAAgB,WAAW,CAAC,IAAU,EAAE,KAAuB;IAC3D,IAAI,KAAK,EAAE;QACP,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KAC3B;AACL,CAAC;AAJD,kCAIC;AAED,SAAgB,WAAW,CAAC,GAAQ,EAAE,YAAqB;IACvD,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC;AACxD,CAAC;AAFD,kCAEC;AAED,SAAgB,WAAW,CAAC,GAAQ,EAAE,YAAqB;IACvD,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC;AACxD,CAAC;AAFD,kCAEC;AAED,SAAgB,SAAS,CAAC,KAAU,EAAE,YAAsB;IACxD,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE;QAC5B,OAAO,KAAK,CAAC;KAChB;SAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAClC,QAAQ,KAAK,CAAC,WAAW,EAAE,EAAE;YACzB,KAAK,MAAM;gBACP,OAAO,IAAI,CAAC;YAChB,KAAK,OAAO;gBACR,OAAO,KAAK,CAAC;YACjB;gBACI,OAAO,YAAY,CAAC;SAC3B;KACJ;IAED,OAAO,YAAY,CAAC;AACxB,CAAC;AAfD,8BAeC;AAED,SAAgB,kBAAkB,CAC9B,QAAiC,EACjC,IAAY;IAEZ,wCAAwC;IACxC,KAAK,IAAM,GAAG,IAAI,QAAQ,EAAE;QACxB,IAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;QAEtC,IAAI,WAAW,IAAI,CAAC,EAAE;YAClB,IAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;YAE5B,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,WAAW,EAAE,EAAE;gBAClF,OAAO,WAAW,CAAC;aACtB;SACJ;KACJ;IAED,OAAO,SAAS,CAAC;AACrB,CAAC;AAlBD,gDAkBC;AAED,SAAgB,SAAS,CACrB,QAAiC,EACjC,IAAY,EACZ,YAAqB;IAErB,IAAI,CAAC,IAAI,EAAE;QACP,OAAO,YAAY,CAAC;KACvB;IAED,IAAM,SAAS,GAAG,kBAAkB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAErD,OAAO,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC;AAC9D,CAAC;AAZD,8BAYC;AAED,SAAgB,gBAAgB,CAAC,KAAyB;IACtD,IAAI,KAAK,EAAE;QACP,IAAM,KAAK,GAAG,0DAA0D,CAAC;QACzE,IAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAElC,IAAI,OAAO,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE;YACvB,IAAM,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;YACzC,IAAM,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YACnC,IAAM,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YACnC,IAAM,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAEnC,OAAO,OAAO,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;SAC1D;KACJ;IAED,OAAO,KAAK,CAAC;AACjB,CAAC;AAhBD,4CAgBC;AAED,SAAS,cAAc,CACnB,OAAoB,EACpB,SAAiB,EACjB,QAAgB,EAChB,UAA+C,EAC/C,UAAmB;IAEnB,IAAM,IAAI,GAAG;QACT,iEAAiE;QACjE,mBAAmB;QACnB,OAAO,SAAS,GAAG,OAAO,CAAC,YAAY,IAAI,CAAC,GAAG,CAAC;IACpD,CAAC,CAAC;IAEF,IAAI,IAAI,EAAE,EAAE;QACR,OAAO;KACV;IAED,IAAM,gBAAgB,GAAG,oBAAoB,CAAC,QAAQ,CAAC,CAAC;IACxD,IAAI,EAAE,GAAG,CAAC,CAAC;IACX,IAAI,EAAE,GAAG,gBAAgB,CAAC,MAAM,CAAC;IACjC,IAAI,YAAY,GAAG,CAAC,CAAC;IAErB,sDAAsD;IACtD,OAAO,EAAE,GAAG,EAAE,EAAE;QACZ,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QACtC,UAAU,CAAC,QAAQ,EAAE,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;QAE5C,IAAI,IAAI,EAAE,EAAE;YACR,YAAY,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;YACrC,EAAE,GAAG,GAAG,GAAG,CAAC,CAAC;SAChB;aAAM;YACH,EAAE,GAAG,GAAG,CAAC;SACZ;KACJ;IAED,UAAU,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;IAEnC,mEAAmE;IACnE,wEAAwE;IACxE,IAAI,UAAU,IAAI,SAAS,GAAG,OAAO,CAAC,YAAY,IAAI,UAAU,GAAG,GAAG,EAAE;QACpE,IAAI,GAAG,GAAG,iBAAiB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;QAEpD,OAAO,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE;YAC1B,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YAE1B,IAAI,IAAI,EAAE,EAAE;gBACR,YAAY,GAAG,GAAG,CAAC;gBACnB,GAAG,GAAG,iBAAiB,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;aAC1C;iBAAM;gBACH,MAAM;aACT;SACJ;QAED,UAAU,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;KACtC;AACL,CAAC;AAED,SAAgB,YAAY,CAAC,OAAoB,EAAE,SAAiB,EAAE,UAAmB;IACrF,cAAc,CACV,OAAO,EACP,SAAS,EACT,OAAO,CAAC,SAAS,EACjB,UAAC,IAAY,EAAE,GAAW;QACtB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;IACvD,CAAC,EACD,UAAU,CACb,CAAC;AACN,CAAC;AAVD,oCAUC;AAED;;;;;GAKG;AACH,IAAM,kBAAkB,GAAG,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAA,MAAM,CAAC,YAAY,0CAAE,YAAY,CAAC,gDAAgD,EAAE;IACzJ,UAAU,EAAE,UAAC,KAAK,IAAK,OAAA,KAAK,EAAL,CAAK;CAC/B,CAAC,CAAC;AAEH,oDAAoD;AACpD,SAAgB,QAAQ,CAAC,OAAoB,EAAE,SAAiB,EAAE,UAAmB;IACjF,cAAc,CACV,OAAO,EACP,SAAS,EACT,OAAO,CAAC,SAAS,EACjB,UAAC,IAAY,EAAE,GAAW;;QACtB,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;QACvD,IAAM,aAAa,GACf,MAAA,kBAAkB,aAAlB,kBAAkB,uBAAlB,kBAAkB,CAAE,UAAU,CAAC,eAAe,CAAC,mCAAI,eAAe,CAAC;QACvE,OAAO,CAAC,SAAS,GAAG,aAAuB,CAAC;IAChD,CAAC,EACD,UAAU,CACb,CAAC;AACN,CAAC;AAbD,4BAaC;AAED,SAAS,oBAAoB,CAAC,IAAY;IACtC,IAAM,OAAO,GAAa,EAAE,CAAC;IAC7B,IAAI,GAAG,GAAG,iBAAiB,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IAEtC,OAAO,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE;QACtB,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,EAAE;YACnB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACrB;QAED,GAAG,GAAG,iBAAiB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;KACtC;IAED,OAAO,OAAO,CAAC;AACnB,CAAC;AAED,SAAS,iBAAiB,CAAC,IAAY,EAAE,OAAe;IACpD,OAAO,IAAI,CAAC,CAAC;IAEb,oEAAoE;IACpE,kEAAkE;IAClE,OAAO,OAAO,GAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE;QACnD,OAAO,OAAO,GAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,KAAK,GAAG,EAAE;YACrD,SAAS;SACZ;KACJ;IAED,OAAO,OAAO,CAAC;AACnB,CAAC;AAED,SAAgB,YAAY,CAAC,OAAoB,EAAE,YAAoB;IACnE,IAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC;IAChC,IAAM,GAAG,GAAG,KAAK,GAAG,OAAO,CAAC,YAAY,CAAC;IAEzC,IAAI,GAAG,IAAI,YAAY,EAAE;QACrB,OAAO,KAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC;KACpD;SAAM,IAAI,KAAK,GAAG,YAAY,EAAE;QAC7B,OAAO,KAAK,CAAC,kBAAkB,CAAC,WAAW,CAAC;KAC/C;SAAM;QACH,OAAO,KAAK,CAAC,kBAAkB,CAAC,mBAAmB,CAAC;KACvD;AACL,CAAC;AAXD,oCAWC;AAED,SAAgB,UAAU;IACtB,OAAO,MAAM,CAAC,WAAW,CAAC;AAC9B,CAAC;AAFD,gCAEC;AAED,SAAgB,UAAU;IACtB,OAAO,MAAM,CAAC,WAAW,CAAC;AAC9B,CAAC;AAFD,gCAEC;AAED,SAAgB,oBAAoB,CAAC,OAAoB;IACrD,OAAO,OAAO,CAAC,UAAU,EAAE;QACvB,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;KAC3C;AACL,CAAC;AAJD,oDAIC;AAED,SAAgB,iCAAiC,CAAC,OAAoB;IAClE,OAAO,CAAC,OAAO,GAAG,UAAC,CAAC;QAChB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;IAC1B,CAAC,CAAC;AACN,CAAC;AALD,8EAKC;AAED,SAAgB,QAAQ,CAAC,EAAmC,EAAE,KAAa;IACvE,IAAI,KAAqB,CAAC;IAC1B,SAAS,WAAW;QAAC,cAAkB;aAAlB,UAAkB,EAAlB,qBAAkB,EAAlB,IAAkB;YAAlB,yBAAkB;;QACnC,IAAI,KAAK,EAAE;YACP,YAAY,CAAC,KAAK,CAAC,CAAC;SACvB;QACD,KAAK,GAAG,UAAU,CAAC;YACf,EAAE,eAAI,IAAI,EAAE;QAChB,CAAC,EAAE,KAAK,CAAC,CAAC;IACd,CAAC;IACD,OAAO,WAAW,CAAC;AACvB,CAAC;AAXD,4BAWC;;;;;;;;;;;;;;;;;;;;;AC9RD,4DAA4D;AAC5D,kCAAkC;AAClC,mCAAuD;AACvD,+BAAiC;AACjC,+BAAiC;AACjC,qCAAoC;AASpC;IAOI,iBAAY,KAAiB,EAAE,KAAiB,EAAE,KAAc;QAApD,sBAAA,EAAA,SAAiB;QAAE,sBAAA,EAAA,SAAiB;QAHxC,aAAQ,GAAY,IAAI,CAAC;QAI7B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAEM,aAAK,GAAZ,UAAa,aAAqB,EAAE,OAAiC;QACjE,IAAI,CAAC,aAAa,EAAE;YAChB,OAAO,SAAS,CAAC;SACpB;QAED,IAAM,MAAM,GAAG,IAAI,OAAO,EAAE,CAAC;QAC7B,MAAM,CAAC,cAAc,GAAG,aAAa,CAAC;QAEtC,IAAM,KAAK,GAAG,eAAe,CAAC;QAC9B,IAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAE1C,IAAI,OAAO,IAAI,IAAI,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;YACzC,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SACxC;aAAM;YACH,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC;SAC3B;QAED,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;YAClB,OAAO,CAAC,aAAa,CACjB,SAAS,EACT,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,MAAM,CAAC,cAAc,CAAC,CAC7D,CAAC;SACL;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0BAAQ,GAAR;QACI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IAClF,CAAC;IAED,wBAAM,GAAN;QACI,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,2BAAS,GAAT,UAAU,YAAqB;QAC3B,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;YACxC,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;SACtD;QAED,IAAI,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,EAAE;YACjC,OAAO,CAAC,CAAC;SACZ;aAAM,IAAI,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,EAAE;YACxC,OAAO,CAAC,CAAC,CAAC;SACb;aAAM,IAAI,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,EAAE;YACxC,OAAO,CAAC,CAAC;SACZ;aAAM,IAAI,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,EAAE;YACxC,OAAO,CAAC,CAAC,CAAC;SACb;QAED,OAAO,CAAC,CAAC;IACb,CAAC;IAED,sBAAI,0BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;QACvD,CAAC;;;OAAA;IAED,sBAAI,0BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAED,sBAAI,0BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAED,sBAAI,4BAAO;aAAX;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;;;OAAA;IACL,cAAC;AAAD,CAnFA,AAmFC,IAAA;AAnFY,0BAAO;AAuFpB,kEAAkE;AAClE;IAAA;IAmCA,CAAC;IAzBG,oDAAoD;IACpD,2HAA2H;IAC3H,wDAAwD;IAEjD,+BAAsB,GAA7B;QACI,IAAM,IAAI,GAAQ,QAAQ,CAAC;QAC3B,IAAM,UAAU,GAAc,EAAE,CAAC;QAEjC,KAAK,IAAM,YAAY,IAAI,IAAI,EAAE;YAC7B,IAAI,YAAY,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;gBAClC,gBAAgB;gBAChB,IAAI;oBACA,IAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;oBAEzC,IAAI,aAAa,YAAY,OAAO,EAAE;wBAClC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;qBAClC;iBACJ;gBAAC,WAAM;oBACJ,sDAAsD;oBACtD,mDAAmD;iBACtD;aACJ;SACJ;QACD,OAAO,UAAU,CAAC,IAAI,CAAC,UAAC,EAAW,EAAE,EAAW,IAAK,OAAA,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,EAAhB,CAAgB,CAAC,CAAC;IAC3E,CAAC;IAjCD,yDAAyD;IACzC,aAAI,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACzB,aAAI,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACzB,aAAI,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACzB,aAAI,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACzB,aAAI,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACzB,aAAI,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACzB,aAAI,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACzB,eAAM,GAAG,QAAQ,CAAC,IAAI,CAAC;IA0B3C,eAAC;CAnCD,AAmCC,IAAA;AAnCY,4BAAQ;AAqCrB,SAAgB,oBAAoB,CAChC,OAAsB,EACtB,aAA4B;IAE5B,IAAI,OAAO,YAAY,OAAO,EAAE;QAC5B,IAAI,aAAa,YAAY,OAAO,EAAE;YAClC,OAAO,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SAChD;aAAM;YACH,sBAAsB;YACtB,OAAO,IAAI,CAAC;SACf;KACJ;SAAM;QACH,eAAe;QACf,OAAO,IAAI,CAAC;KACf;AACL,CAAC;AAfD,oDAeC;AAED;IAMI,kCAAY,aAAwC;QAAxC,8BAAA,EAAA,gBAAyB,QAAQ,CAAC,MAAM;QAL5C,sBAAiB,GAAuB,EAAE,CAAC;QAM/C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;IACvC,CAAC;IAEO,mDAAgB,GAAxB,UAAyB,KAAU;QAC/B,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC3B,OAAO,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SACjC;aAAM;YACH,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;IAEO,iDAAc,GAAtB,UAAuB,MAA8B,EAAE,YAAoB;QACvE,IAAI,CAAC,uBAAc,CAAC,uBAAuB,EAAE;YACzC,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC;SAC/B;IACL,CAAC;IAEO,wDAAqB,GAA7B,UAA8B,MAA8B,EAAE,YAAoB;QAC9E,IAAI,CAAC,uBAAc,CAAC,uBAAuB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,EAAE;YACzF,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC;SAC/B;IACL,CAAC;IAED,iDAAc,GAAd,UACI,MAA8B,EAC9B,YAAoB,EACpB,aAAkB,EAClB,YAA6B,EAC7B,0BAA2C;QAD3C,6BAAA,EAAA,wBAA6B;QAC7B,2CAAA,EAAA,kCAA2C;QAE3C,IACI,aAAa,KAAK,IAAI;YACtB,aAAa,KAAK,SAAS,EAC7B;YACE,IAAI,CAAC,uBAAc,CAAC,uBAAuB,IAAI,0BAA0B,EAAE;gBACvE,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC;aAC/B;SACJ;aAAM,IAAI,aAAa,KAAK,YAAY,EAAE;YACvC,IAAI,CAAC,uBAAc,CAAC,uBAAuB,IAAI,0BAA0B,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,EAAE;gBACvH,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC;aAC/B;SACJ;aAAM;YACH,MAAM,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC;SACxC;IACL,CAAC;IAED,kDAAe,GAAf,UACI,MAA8B,EAC9B,YAAoB,EACpB,aAAsB,EACtB,YAAqB;QAErB,IACI,aAAa,KAAK,IAAI;YACtB,aAAa,KAAK,SAAS,EAC7B;YACE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;SAC7C;aAAM,IAAI,aAAa,KAAK,YAAY,EAAE;YACvC,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;SACpD;aAAM;YACH,MAAM,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC;SACxC;IACL,CAAC;IAED,gDAAa,GAAb,UACI,MAA8B,EAC9B,YAAoB,EACpB,aAAuB,EACvB,YAAsB;QAEtB,IACI,aAAa,KAAK,IAAI;YACtB,aAAa,KAAK,SAAS,EAC7B;YACE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;SAC7C;aAAM,IAAI,aAAa,KAAK,YAAY,EAAE;YACvC,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;SACpD;aAAM;YACH,MAAM,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC;SACxC;IACL,CAAC;IAED,kDAAe,GAAf,UACI,MAA8B,EAC9B,YAAoB,EACpB,aAAsB,EACtB,YAAqB;QAErB,IACI,aAAa,KAAK,IAAI;YACtB,aAAa,KAAK,SAAS;YAC3B,KAAK,CAAC,aAAa,CAAC,EACtB;YACE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;SAC7C;aAAM,IAAI,aAAa,KAAK,YAAY,EAAE;YACvC,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;SACpD;aAAM;YACH,MAAM,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC;SACxC;IACL,CAAC;IAED,gDAAa,GAAb,UACI,QAAiC,EACjC,MAA8B,EAC9B,YAAoB,EACpB,aAAiC,EACjC,YAA4C;QAA5C,6BAAA,EAAA,wBAA4C;QAE5C,IACI,aAAa,KAAK,IAAI;YACtB,aAAa,KAAK,SAAS,EAC7B;YACE,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;SAC7C;aAAM,IAAI,aAAa,KAAK,YAAY,EAAE;YACvC,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;SACpD;aAAM;YACH,MAAM,CAAC,YAAY,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC;SAClD;IACL,CAAC;IAED,iDAAc,GAAd,UACI,MAA8B,EAC9B,YAAoB,EACpB,aAAgC;QAEhC,IAAM,KAAK,GAAG,EAAE,CAAC;QAEjB,IAAI,aAAa,EAAE;YACf,KAAmB,UAAa,EAAb,+BAAa,EAAb,2BAAa,EAAb,IAAa,EAAE;gBAA7B,IAAM,IAAI,sBAAA;gBACX,IAAI,cAAc,GAAQ,SAAS,CAAC;gBAEpC,IAAI,IAAI,YAAY,kBAAkB,EAAE;oBACpC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;iBACtC;qBAAM,IAAI,IAAI,CAAC,MAAM,EAAE;oBACpB,cAAc,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;iBAClC;qBAAM;oBACH,cAAc,GAAG,IAAI,CAAC;iBACzB;gBAED,IAAI,cAAc,KAAK,SAAS,EAAE;oBAC9B,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;iBAC9B;aACJ;SACJ;QAED,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpB,IAAI,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,EAAE;gBAC5E,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC;aAC/B;SACJ;aAAM;YACH,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;SACpD;IACL,CAAC;IAED,8CAAW,GAAX;QACI,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;IAChC,CAAC;IAED,2CAAQ,GAAR,UACI,MAAsC,EACtC,KAA4B,EAC5B,KAA4B,EAC5B,OAAe;QAEf,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;YACxB,MAAM,EAAE,MAAM;YACd,KAAK,EAAE,KAAK;YACZ,KAAK,EAAE,KAAK;YACZ,OAAO,EAAE,OAAO;SACnB,CAAC,CAAC;IACP,CAAC;IAED,gDAAa,GAAb,UACI,MAAsC,EACtC,KAA4B,EAC5B,OAAe;QAEf,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IACvE,CAAC;IAED,6CAAU,GAAV,UAAW,KAAa;QACpB,OAAO,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;IAED,sBAAI,gDAAU;aAAd;YACI,OAAO,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;QACzC,CAAC;;;OAAA;IACL,+BAAC;AAAD,CAlMA,AAkMC,IAAA;AAlMqB,4DAAwB;AAoM9C;IAAyC,8CAAwB;IAAjE;;IAAmE,CAAC;IAAD,iCAAC;AAAD,CAAnE,AAAoE,CAA3B,wBAAwB,GAAG;AAEpE;IA4BI,4BACa,aAAsB,EACtB,IAAY,EACZ,YAAkB,EAClB,iBAAuD;QAHvD,kBAAa,GAAb,aAAa,CAAS;QACtB,SAAI,GAAJ,IAAI,CAAQ;QACZ,iBAAY,GAAZ,YAAY,CAAM;QAClB,sBAAiB,GAAjB,iBAAiB,CAAsC;QANpE,2BAAsB,GAAY,IAAI,CAAC;QAQnC,IAAI,CAAC,gBAAgB,GAAG,kBAAkB,CAAC,iBAAiB,CAAC;QAE7D,kBAAkB,CAAC,iBAAiB,EAAE,CAAC;IAC3C,CAAC;IAlCD,4CAAe,GAAf;QACI,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAED,kCAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED,mCAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAU,EACV,OAAiC;QAEjC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACxE,CAAC;IArBc,oCAAiB,GAAW,CAAC,CAAC;IAqCjD,yBAAC;CAtCD,AAsCC,IAAA;AAtCY,gDAAkB;AAwC/B;IAAoC,kCAAkB;IAyClD,wBACa,aAAsB,EACtB,IAAY,EACZ,qBAAqC,EACrC,KAAc,EACd,YAAqB,EACrB,iBAA0D;QAH1D,sCAAA,EAAA,4BAAqC;QAHlD,YAQI,kBAAM,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,iBAAiB,CAAC,SAC9D;QARY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,2BAAqB,GAArB,qBAAqB,CAAgB;QACrC,WAAK,GAAL,KAAK,CAAS;QACd,kBAAY,GAAZ,YAAY,CAAS;QACrB,uBAAiB,GAAjB,iBAAiB,CAAyC;;IAGvE,CAAC;IAjDD,8BAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAM,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC5E,IAAM,WAAW,GACb,WAAW,KAAK,SAAS,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAEpF,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YAC1C,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAE7C,IAAI,CAAC,OAAO,EAAE;gBACV,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAC9D,CAAC;gBAEF,OAAO,SAAS,CAAC;aACpB;SACJ;QAED,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,+BAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAyB,EACzB,OAAiC;QAEjC,OAAO,CAAC,eAAe,CACnB,MAAM,EACN,IAAI,CAAC,IAAI,EACT,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,EAC9D,IAAI,CAAC,YAAY,CACpB,CAAC;IACN,CAAC;IAYL,qBAAC;AAAD,CAnDA,AAmDC,CAnDmC,kBAAkB,GAmDrD;AAnDY,wCAAc;AAqD3B;IAAkC,gCAAkB;IAkBhD,sBACa,aAAsB,EACtB,IAAY,EACZ,YAAsB,EACtB,iBAAuD;QAJpE,YAMI,kBAAM,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,iBAAiB,CAAC,SAC9D;QANY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,kBAAY,GAAZ,YAAY,CAAU;QACtB,uBAAiB,GAAjB,iBAAiB,CAAsC;;IAGpE,CAAC;IAxBD,4BAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,OAAO,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACjE,CAAC;IAED,6BAAM,GAAN,UACI,MAA0B,EAC1B,MAAc,EACd,KAA0B,EAC1B,OAAiC;QAEjC,OAAO,CAAC,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACvE,CAAC;IAUL,mBAAC;AAAD,CA1BA,AA0BC,CA1BiC,kBAAkB,GA0BnD;AA1BY,oCAAY;AA4BzB;IAAiC,+BAAkB;IAkB/C,qBACa,aAAsB,EACtB,IAAY,EACZ,YAAqB,EACrB,iBAAuD;QAJpE,YAMI,kBAAM,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,iBAAiB,CAAC,SAC9D;QANY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,kBAAY,GAAZ,YAAY,CAAS;QACrB,uBAAiB,GAAjB,iBAAiB,CAAsC;;IAGpE,CAAC;IAxBD,2BAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,OAAO,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACnE,CAAC;IAED,4BAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAyB,EACzB,OAAiC;QAEjC,OAAO,CAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACzE,CAAC;IAUL,kBAAC;AAAD,CA1BA,AA0BC,CA1BgC,kBAAkB,GA0BlD;AA1BY,kCAAW;AA4BxB;IAAuC,qCAAkB;IAAzD;;IAgDA,CAAC;IA/CG,iCAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAI,MAAM,GAAuB,SAAS,CAAC;QAC3C,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEhC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC3B,IAAI,OAAO,GAAG,KAAK,CAAC;YAEpB,IAAI;gBACA,IAAM,IAAI,GAAG,oBAAW,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAE5C,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE;oBACpC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;oBAE3B,OAAO,GAAG,IAAI,CAAC;iBAClB;aACJ;YAAC,WAAM;gBACJ,6CAA6C;aAChD;YAED,IAAI,CAAC,OAAO,EAAE;gBACV,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CACpE,CAAC;aACL;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,kCAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAyB,EACzB,OAAiC;QAEjC,OAAO,CAAC,cAAc,CAClB,MAAM,EACN,IAAI,CAAC,IAAI,EACT,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,SAAS,CACxE,CAAC;IACN,CAAC;IACL,wBAAC;AAAD,CAhDA,AAgDC,CAhDsC,kBAAkB,GAgDxD;AAhDY,8CAAiB;AAuD9B;IAAyC,uCAAkB;IAwCvD,6BACa,aAAsB,EACtB,IAAY,EACZ,YAAuB,EACvB,iBAAwE;QAJrF,YAMI,kBAAM,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,iBAAiB,CAAC,SAC9D;QANY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,kBAAY,GAAZ,YAAY,CAAW;QACvB,uBAAiB,GAAjB,iBAAiB,CAAuD;;IAGrF,CAAC;IA9CD,mCAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEtC,IAAI,WAAW,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;YAC1D,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QAED,IAAM,MAAM,GAAa,EAAE,CAAC;QAE5B,KAAoB,UAAW,EAAX,2BAAW,EAAX,yBAAW,EAAX,IAAW,EAAE;YAA5B,IAAM,KAAK,oBAAA;YACZ,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;gBAC3B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACtB;iBAAM;gBACH,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,gCAAwB,IAAI,CAAC,SAAS,CAClC,KAAK,CACR,0BAAc,OAAO,KAAK,8BAAkB,IAAI,CAAC,IAAI,QAAI,CAC7D,CAAC;aACL;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,oCAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAA2B,EAC3B,OAAiC;QAEjC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACrD,CAAC;IAUL,0BAAC;AAAD,CAhDA,AAgDC,CAhDwC,kBAAkB,GAgD1D;AAhDY,kDAAmB;AAkDhC;IAAsC,oCAAkB;IAyGpD,0BACa,aAAsB,EACtB,IAAY,EACZ,MAAiC,EACjC,YAAqB,EACrB,iBAA0D;QALvE,YAOI,kBAAM,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,iBAAiB,CAAC,SAC9D;QAPY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,YAAM,GAAN,MAAM,CAA2B;QACjC,kBAAY,GAAZ,YAAY,CAAS;QACrB,uBAAiB,GAAjB,iBAAiB,CAAyC;;IAGvE,CAAC;IAhHD,uCAAY,GAAZ,UAAa,KAAa,EAAE,OAAiC;QACzD,KAA6B,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;YAArC,IAAM,cAAc,SAAA;YACrB,IAAI,KAAK,CAAC,WAAW,EAAE,KAAK,cAAc,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE;gBAC5D,IAAM,aAAa,GAAG,cAAc,CAAC,aAAa;oBAC9C,CAAC,CAAC,cAAc,CAAC,aAAa;oBAC9B,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;gBAEzB,OAAO,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC9D;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,gCAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEtC,IAAI,WAAW,KAAK,SAAS,EAAE;YAC3B,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QAED,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;YACjC,KAA6B,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;gBAArC,IAAM,cAAc,SAAA;gBACrB,IAAI,WAAW,CAAC,WAAW,EAAE,KAAK,cAAc,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE;oBAClE,IAAM,aAAa,GAAG,cAAc,CAAC,aAAa;wBAC9C,CAAC,CAAC,cAAc,CAAC,aAAa;wBAC9B,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;oBAEzB,IAAI,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;wBACrD,OAAO,cAAc,CAAC,KAAK,CAAC;qBAC/B;yBAAM;wBACH,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,yBAAyB,CACpC,WAAW,EACX,IAAI,CAAC,IAAI,EACT,aAAa,CAAC,QAAQ,EAAE,EACxB,OAAO,CAAC,aAAa,CAAC,QAAQ,EAAE,CACnC,CACJ,CAAC;wBAEF,OAAO,IAAI,CAAC,YAAY,CAAC;qBAC5B;iBACJ;aACJ;SACJ;QAED,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAC9D,CAAC;QAEF,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,iCAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAyB,EACzB,OAAiC;QAEjC,IAAI,YAAY,GAAG,KAAK,CAAC;QAEzB,IAAI,KAAK,KAAK,SAAS,EAAE;YACrB,YAAY,GAAG,IAAI,CAAC;YAEpB,KAA6B,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;gBAArC,IAAM,cAAc,SAAA;gBACrB,IAAI,cAAc,CAAC,KAAK,KAAK,KAAK,EAAE;oBAChC,IAAM,aAAa,GAAG,cAAc,CAAC,aAAa;wBAC9C,CAAC,CAAC,cAAc,CAAC,aAAa;wBAC9B,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;oBAEzB,IAAI,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;wBACrD,YAAY,GAAG,KAAK,CAAC;wBAErB,MAAM;qBACT;yBAAM;wBACH,OAAO,CAAC,QAAQ,CACZ,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,MAAM,EAC5B,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,yBAAyB,CACpC,KAAK,EACL,IAAI,CAAC,IAAI,EACT,aAAa,CAAC,QAAQ,EAAE,EACxB,OAAO,CAAC,aAAa,CAAC,QAAQ,EAAE,CACnC,CACJ,CAAC;qBACL;iBACJ;aACJ;SACJ;QAED,IAAI,CAAC,YAAY,EAAE;YACf,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;SAC7E;IACL,CAAC;IAWL,uBAAC;AAAD,CAlHA,AAkHC,CAlHqC,kBAAkB,GAkHvD;AAlHY,4CAAgB;AAoH7B;IAAyE,gCAAkB;IA0FvF,sBACa,aAAsB,EACtB,IAAY,EACZ,QAAe,EACf,YAAqB,EAC9B,MAAkC,EACzB,iBAA0D;QANvE,YAQI,kBAAM,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,iBAAiB,CAAC,SAc9D;QArBY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,cAAQ,GAAR,QAAQ,CAAO;QACf,kBAAY,GAAZ,YAAY,CAAS;QAErB,uBAAiB,GAAjB,iBAAiB,CAAyC;QA/F/D,aAAO,GAA8B,EAAE,CAAC;QAmG5C,IAAI,CAAC,MAAM,EAAE;YACT,wCAAwC;YACxC,KAAK,IAAM,GAAG,IAAI,QAAQ,EAAE;gBACxB,IAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;gBAEtC,IAAI,WAAW,IAAI,CAAC,EAAE;oBAClB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC,CAAC;iBAC7C;aACJ;SACJ;aAAM;YACH,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC;SACzB;;IACL,CAAC;IA7GD,4BAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEtC,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;YACjC,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QAED,IAAM,SAAS,GAAG,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QAEvE,IAAI,SAAS,KAAK,SAAS,EAAE;YACzB,KAA6B,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;gBAArC,IAAM,cAAc,SAAA;gBACrB,IAAI,cAAc,CAAC,KAAK,KAAK,SAAS,EAAE;oBACpC,IAAM,aAAa,GAAG,cAAc,CAAC,aAAa;wBAC9C,CAAC,CAAC,cAAc,CAAC,aAAa;wBAC9B,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;oBAEzB,IAAI,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;wBACrD,OAAO,SAAS,CAAC;qBACpB;yBAAM;wBACH,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,yBAAyB,CACpC,WAAW,EACX,IAAI,CAAC,IAAI,EACT,aAAa,CAAC,QAAQ,EAAE,EACxB,OAAO,CAAC,aAAa,CAAC,QAAQ,EAAE,CACnC,CACJ,CAAC;wBAEF,OAAO,IAAI,CAAC,YAAY,CAAC;qBAC5B;iBACJ;aACJ;SACJ;QAED,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAC9D,CAAC;QAEF,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,6BAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAyB,EACzB,OAAiC;QAEjC,IAAI,YAAY,GAAG,KAAK,CAAC;QAEzB,IAAI,KAAK,KAAK,SAAS,EAAE;YACrB,YAAY,GAAG,IAAI,CAAC;YAEpB,KAA6B,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;gBAArC,IAAM,cAAc,SAAA;gBACrB,IAAI,cAAc,CAAC,KAAK,KAAK,KAAK,EAAE;oBAChC,IAAM,aAAa,GAAG,cAAc,CAAC,aAAa;wBAC9C,CAAC,CAAC,cAAc,CAAC,aAAa;wBAC9B,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;oBAEzB,IAAI,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;wBACrD,YAAY,GAAG,KAAK,CAAC;wBAErB,MAAM;qBACT;yBAAM;wBACH,OAAO,CAAC,QAAQ,CACZ,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,MAAM,EAC5B,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CACxD,CAAC;qBACL;iBACJ;aACJ;SACJ;QAED,IAAI,CAAC,YAAY,EAAE;YACf,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SACrF;IACL,CAAC;IA0BD,sBAAI,gCAAM;aAAV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IACL,mBAAC;AAAD,CArHA,AAqHC,CArHwE,kBAAkB,GAqH1F;AArHY,oCAAY;AAyHzB;IAAgD,8CAAkB;IAqC9D,oCACa,aAAsB,EACtB,IAAY,EACZ,UAAkC,EAClC,QAAyB,EAClC,YAAiC;QADxB,yBAAA,EAAA,gBAAyB;QAJtC,YAOI,kBAAM,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,UAAC,MAA0B;YAChE,OAAO,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,KAAI,CAAC,UAAU,EAAE,CAAC;QAC7D,CAAC,CAAC,SACL;QATY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,gBAAU,GAAV,UAAU,CAAwB;QAClC,cAAQ,GAAR,QAAQ,CAAiB;;IAMtC,CAAC;IA9CD,0CAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEtC,IAAI,WAAW,KAAK,SAAS,EAAE;YAC3B,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;SACtF;QAED,IAAM,MAAM,GAAG,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;QACrC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;QAEnC,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,2CAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAqC,EACrC,OAAiC;QAEjC,IAAI,eAAe,GAAuB,SAAS,CAAC;QAEpD,IAAI,KAAK,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,mBAAmB,EAAE,EAAE;YACrD,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SAC3C;QAED,IAAI,OAAO,eAAe,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAClF,eAAe,GAAG,SAAS,CAAC;SAC/B;QAED,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,eAAe,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IACxF,CAAC;IAaL,iCAAC;AAAD,CAhDA,AAgDC,CAhD+C,kBAAkB,GAgDjE;AAhDY,gEAA0B;AAkDvC;IAA0D,wDAAkB;IAuCxE,8CACa,aAAsB,EACtB,IAAY,EACZ,UAAkC,EAClC,WAA4E;QAJzF,YAMI,kBAAM,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,UAAC,MAA0B;YAC7D,OAAO,EAAE,CAAC;QACd,CAAC,CAAC,SACL;QARY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,gBAAU,GAAV,UAAU,CAAwB;QAClC,iBAAW,GAAX,WAAW,CAAiE;;IAKzF,CAAC;IA/CD,oDAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAM,MAAM,GAAqC,EAAE,CAAC;QAEpD,IAAM,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE3C,IAAI,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE;YACjC,KAAyB,UAAgB,EAAhB,qCAAgB,EAAhB,8BAAgB,EAAhB,IAAgB,EAAE;gBAAtC,IAAM,UAAU,yBAAA;gBACjB,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;gBACnC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;gBAEhC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAElB,IAAI,IAAI,CAAC,WAAW,EAAE;oBAClB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;iBAClC;aACJ;SACJ;QAED,OAAO,MAAM,CAAC,MAAM,GAAG,CAAC;YACpB,CAAC,CAAC,MAAM;YACR,CAAC,CAAC,IAAI,CAAC,iBAAiB;gBACxB,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAChC,CAAC,CAAC,SAAS,CAAC;IACpB,CAAC;IAED,qDAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAuC,EACvC,OAAiC;QAEjC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACrD,CAAC;IAYL,2CAAC;AAAD,CAjDA,AAiDC,CAjDyD,kBAAkB,GAiD3E;AAjDY,oFAAoC;AAmDjD;IAAuC,kCAAkB;IAcrD,wBACa,aAAsB,EACtB,IAAY,EACZ,OAKH,EACG,QAMA,EACA,YAAgB,EAChB,iBAAqD;QAjBlE,YAmBI,kBAAM,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,iBAAiB,CAAC,SAS9D;QA3BY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,aAAO,GAAP,OAAO,CAKV;QACG,cAAQ,GAAR,QAAQ,CAMR;QACA,kBAAY,GAAZ,YAAY,CAAI;QAChB,uBAAiB,GAAjB,iBAAiB,CAAoC;QAI9D,IAAI,CAAC,KAAI,CAAC,OAAO,EAAE;YACf,MAAM,IAAI,KAAK,CAAC,kEAAkE,CAAC,CAAC;SACvF;QAED,IAAI,CAAC,KAAI,CAAC,QAAQ,EAAE;YAChB,MAAM,IAAI,KAAK,CAAC,mEAAmE,CAAC,CAAC;SACxF;;IACL,CAAC;IAzCD,8BAAK,GAAL,UAAM,MAA0B,EAAE,MAAmB,EAAE,OAAiC;QACpF,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;IACvD,CAAC;IAED,+BAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAQ,EACR,OAAiC;QAEjC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;IA+BL,qBAAC;AAAD,CA3CA,AA2CC,CA3CsC,kBAAkB,GA2CxD;AA3CY,wCAAc;AA6C3B;IAAA;QACY,gBAAW,GAAyB,EAAE,CAAC;IAyCnD,CAAC;IAvCG,0CAAO,GAAP,UAAQ,IAAwB;QAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC9C,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;gBAC9B,OAAO,CAAC,CAAC;aACZ;SACJ;QAED,OAAO,CAAC,CAAC,CAAC;IACd,CAAC;IAED,sCAAG,GAAH;QAAI,oBAAmC;aAAnC,UAAmC,EAAnC,qBAAmC,EAAnC,IAAmC;YAAnC,+BAAmC;;QACnC,KAAmB,UAAU,EAAV,yBAAU,EAAV,wBAAU,EAAV,IAAU,EAAE;YAA1B,IAAM,IAAI,mBAAA;YACX,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC/B;SACJ;IACL,CAAC;IAED,yCAAM,GAAN;QAAO,oBAAmC;aAAnC,UAAmC,EAAnC,qBAAmC,EAAnC,IAAmC;YAAnC,+BAAmC;;QACtC,KAAmB,UAAU,EAAV,yBAAU,EAAV,wBAAU,EAAV,IAAU,EAAE;YAA1B,IAAM,IAAI,mBAAA;YACX,OAAO,IAAI,EAAE;gBACT,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAEjC,IAAI,KAAK,IAAI,CAAC,EAAE;oBACZ,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBACrC;qBAAM;oBACH,MAAM;iBACT;aACJ;SACJ;IACL,CAAC;IAED,4CAAS,GAAT,UAAU,KAAa;QACnB,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,2CAAQ,GAAR;QACI,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;IACnC,CAAC;IACL,+BAAC;AAAD,CA1CA,AA0CC,IAAA;AA1CY,4DAAwB;AA4CrC,2FAA2F;AAC3F,oBAAoB;AACpB,SAAgB,QAAQ,CAAC,IAAwB;IAC7C,OAAO,UAAU,MAAW,EAAE,WAAmB;QAC7C,IAAM,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,WAAW,CAAC,IAAI,EAAE,CAAC;QAE9E,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE;YACpC,UAAU,CAAC,GAAG,GAAG;gBACb,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC/B,CAAC,CAAC;YACF,UAAU,CAAC,GAAG,GAAG,UAAoC,KAAU;gBAC3D,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC/B,CAAC,CAAC;YAEF,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;SAC1D;IACL,CAAC,CAAC;AACN,CAAC;AAfD,4BAeC;AAID;IA0II;QAjIQ,iBAAY,GAAgB,EAAE,CAAC;QAC/B,mBAAc,GAAgB,EAAE,CAAC;QA8HzC,eAAU,GAAY,kBAAkB,CAAC,iBAAiB,CAAC;QAGvD,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,EAAE;YACnC,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAE5B,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;aACrD;SACJ;IACL,CAAC;IAtIS,2DAA8B,GAAxC;QACI,OAAO,IAAI,0BAA0B,EAAE,CAAC;IAC5C,CAAC;IAES,2CAAc,GAAxB,UAAyB,MAAgC;QACrD,IAAM,IAAI,GAAQ,IAAI,CAAC,WAAW,CAAC;QACnC,IAAM,UAAU,GAAyB,EAAE,CAAC;QAE5C,wCAAwC;QACxC,KAAK,IAAM,YAAY,IAAI,IAAI,EAAE;YAC7B,IAAI;gBACA,IAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;gBAEzC,IAAI,aAAa,YAAY,kBAAkB,EAAE;oBAC7C,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAClC;aACJ;YAAC,WAAM;gBACJ,sDAAsD;gBACtD,mDAAmD;aACtD;SACJ;QAED,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,IAAM,gBAAgB,GAAG,UAAU,CAAC,IAAI,CACpC,UAAC,EAAsB,EAAE,EAAsB;gBAC3C,IAAI,EAAE,CAAC,gBAAgB,GAAG,EAAE,CAAC,gBAAgB,EAAE;oBAC3C,OAAO,CAAC,CAAC;iBACZ;qBAAM,IAAI,EAAE,CAAC,gBAAgB,GAAG,EAAE,CAAC,gBAAgB,EAAE;oBAClD,OAAO,CAAC,CAAC,CAAC;iBACb;gBAED,OAAO,CAAC,CAAC;YACb,CAAC,CACJ,CAAC;YAEF,MAAM,CAAC,GAAG,OAAV,MAAM,EAAQ,gBAAgB,EAAE;SACnC;QAED,IAAI,kBAAkB,CAAC,0BAA0B,EAAE;YAC/C,kBAAkB,CAAC,0BAA0B,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC/D;IACL,CAAC;IAES,qCAAQ,GAAlB,UAAmB,IAAwB;QACvC,OAAO,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC3D,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC3C,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;IAC5B,CAAC;IAES,qCAAQ,GAAlB,UAAmB,IAAwB,EAAE,KAAU;QACnD,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,EAAE;YACvC,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;SACpD;aAAM;YACH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,GAAG,KAAK,CAAC;SACrD;IACL,CAAC;IAES,0CAAa,GAAvB,UAAwB,MAAmB,EAAE,OAAiC;QAC1E,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,uBAAc,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAE3F,IAAI,MAAM,EAAE;YACR,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;YAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAE5B,IAAI,IAAI,CAAC,sBAAsB,EAAE;oBAC7B,IAAI,aAAa,GAAG,IAAI,CAAC,iBAAiB;wBACtC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;wBAC9B,CAAC,CAAC,SAAS,CAAC;oBAEhB,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;wBAClC,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;4BAC1D,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;yBACrD;6BAAM;4BACH,OAAO,CAAC,aAAa,CACjB,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,mBAAmB,EACzC,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAC/B,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,EAC7B,OAAO,CAAC,aAAa,CAAC,QAAQ,EAAE,CACnC,CACJ,CAAC;yBACL;qBACJ;oBAED,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;iBACtC;aACJ;SACJ;aAAM;YACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC7B;IACL,CAAC;IAES,2CAAc,GAAxB,UAAyB,MAAmB,EAAE,OAAiC;QAC3E,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC3B,IAAM,oBAAoB,GAAa,EAAE,CAAC;QAE1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,EAAE;YACnC,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAE5B,wEAAwE;YACxE,sEAAsE;YACtE,WAAW;YACX,IACI,IAAI,CAAC,sBAAsB;gBAC3B,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC;gBACxD,oBAAoB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAChD;gBACE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;gBAExD,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACxC;SACJ;IACL,CAAC;IAES,4CAAe,GAAzB,UAA0B,QAAkC;QACxD,OAAO,IAAI,CAAC;IAChB,CAAC;IAgBD,kCAAK,GAAL,UAAM,MAAmB,EAAE,OAAkC;QACzD,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,0BAA0B,EAAE,CAAC,CAAC;IACrF,CAAC;IAED,mCAAM,GAAN,UAAO,OAAkC;QACrC,IAAI,gBAA0C,CAAC;QAE/C,IAAI,OAAO,IAAI,OAAO,YAAY,wBAAwB,EAAE;YACxD,gBAAgB,GAAG,OAAO,CAAC;SAC9B;aAAM;YACH,gBAAgB,GAAG,IAAI,CAAC,8BAA8B,EAAE,CAAC;YACzD,gBAAgB,CAAC,mBAAmB,GAAG,OAAO,CAAC;SAClD;QAED,IAAI,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAE;YACxC,IAAI,MAAM,SAAa,CAAC;YAExB,IACI,uBAAc,CAAC,uBAAuB;gBACtC,IAAI,CAAC,cAAc;gBACnB,OAAO,IAAI,CAAC,cAAc,KAAK,QAAQ,EACzC;gBACE,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC;aAChC;iBAAM;gBACH,MAAM,GAAG,EAAE,CAAC;aACf;YAED,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;YAE9C,OAAO,MAAM,CAAC;SACjB;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAED,4CAAe,GAAf,UAAgB,IAAwB;QACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,YAAY,CAAC;IACrD,CAAC;IAED,gDAAmB,GAAnB;QACI,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,EAAE;YACnC,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAE5B,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;gBAC7B,OAAO,KAAK,CAAC;aAChB;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,+CAAkB,GAAlB;QACI,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,EAAE;YACnC,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAE5B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SAC1C;IACL,CAAC;IAED,8CAAiB,GAAjB,UAAkB,IAAY,EAAE,KAAU;QACtC,IAAM,oBAAoB,GACtB,CAAC,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,CAAC;QAEnF,IAAI,oBAAoB,EAAE;YACtB,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;SACpC;aAAM;YACH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;SACrC;IACL,CAAC;IAED,8CAAiB,GAAjB,UAAkB,IAAY;QAC1B,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,sCAAS,GAAT;QACI,IAAI,MAAM,GAA6B,kBAAkB,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QAE5F,IAAI,CAAC,MAAM,EAAE;YACT,MAAM,GAAG,IAAI,wBAAwB,EAAE,CAAC;YAExC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YAE5B,kBAAkB,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,GAAG,MAAM,CAAC;SACjE;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IA3OM,oCAAiB,GAAY,QAAQ,CAAC,MAAM,CAAC;IAE5B,+BAAY,GAAqD,EAAE,CAAC;IA0OhG,yBAAC;CAjPD,AAiPC,IAAA;AAjPqB,gDAAkB;;;;;;;;;;;;;;;;;;;;;AChiCxC,4DAA4D;AAC5D,kCAAkC;AAClC,iDAMyB;AAEzB;IAAsC,oCAAkB;IAAxD;QAAA,qEA0EC;QAzEW,mBAAa,GAAqC,EAAE,CAAC;;IAyEjE,CAAC;IAvEa,uCAAY,GAAtB;QACI,OAAO,kBAAkB,CAAC;IAC9B,CAAC;IAES,wCAAa,GAAvB,UAAwB,MAAW,EAAE,OAAiC;QAClE,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,MAAM,EAAE;YACR,wCAAwC;YACxC,KAAK,IAAM,MAAI,IAAI,MAAM,EAAE;gBACvB,IAAM,WAAW,GAAG,MAAM,CAAC,MAAI,CAAC,CAAC;gBAEjC,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;oBACjC,IAAI,WAAW,KAAK,GAAG,EAAE;wBACrB,IAAI,CAAC,aAAa,CAAC,MAAI,EAAE,GAAG,CAAC,CAAC;qBACjC;yBAAM;wBACH,IAAM,OAAO,GAAG,uBAAO,CAAC,KAAK,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;wBAEpD,IAAI,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,EAAE;4BAClB,IAAI,CAAC,aAAa,CAAC,MAAI,EAAE,OAAO,CAAC,CAAC;yBACrC;qBACJ;iBACJ;aACJ;SACJ;IACL,CAAC;IAES,yCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAAiC;QAC3E,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,wCAAwC;QACxC,KAAK,IAAM,GAAG,IAAI,IAAI,CAAC,aAAa,EAAE;YAClC,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;SACzC;IACL,CAAC;IAED,wCAAa,GAAb,UAAc,IAAY,EAAE,OAAsB;QAC9C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;IACvC,CAAC;IAED,2CAAgB,GAAhB,UAAiB,IAAY;QACzB,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,gCAAK,GAAL;QACI,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,wCAAa,GAAb,UAAc,IAAY,EAAE,OAAsB;QAC9C,IAAI,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;YACzC,IAAI,OAAO,KAAK,GAAG,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE;gBACrD,OAAO,IAAI,CAAC;aACf;YAED,OAAO,OAAO,CAAC,SAAS,CAAU,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;SACpE;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,oCAAS,GAAT,UAAU,gBAAkC;QACxC,KAAK,IAAM,cAAc,IAAI,IAAI,CAAC,aAAa,EAAE;YAC7C,IACI,CAAC,gBAAgB,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,EACrF;gBACE,OAAO,KAAK,CAAC;aAChB;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,uBAAC;AAAD,CA1EA,AA0EC,CA1EqC,kCAAkB,GA0EvD;AA1EY,4CAAgB;;;;;;;;;;;;;;;;;;;;;ACV7B,4DAA4D;AAC5D,kCAAkC;AAClC,+BAAiC;AACjC,+BAAiC;AACjC,iCAAmC;AACnC,yDAAuD;AAEvD,SAAS,mBAAmB,CACxB,UAAmC,EACnC,KAAsB,EACtB,YAAoB;IAEpB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAC3B,IAAM,WAAW,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC;QAErE,OAAO,WAAW,KAAK,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC;KACjE;SAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAClC,OAAO,KAAK,CAAC;KAChB;SAAM;QACH,OAAO,YAAY,CAAC;KACvB;AACL,CAAC;AAED;IAII,yBAAY,YAAqB,EAAE,WAAoB;QAHvD,YAAO,GAAW,SAAS,CAAC;QAC5B,WAAM,GAAW,SAAS,CAAC;QAGvB,IAAI,YAAY,EAAE;YACd,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC;SAC/B;QAED,IAAI,WAAW,EAAE;YACb,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;SAC7B;IACL,CAAC;IAED,+BAAK,GAAL,UAAM,GAAS;QACX,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC;YAC9C,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC;SAC9C;IACL,CAAC;IACL,sBAAC;AAAD,CApBA,AAoBC,IAAA;AApBY,0CAAe;AAsB5B;IAAyC,uCAAe;IAAxD;QAAA,qEAUC;QATY,qBAAe,GAAG,IAAI,eAAe,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;;IAS7E,CAAC;IAPG,mCAAK,GAAL,UAAM,GAAS;QACX,iBAAM,KAAK,YAAC,GAAG,CAAC,CAAC;QAEjB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC;SACtD;IACL,CAAC;IACL,0BAAC;AAAD,CAVA,AAUC,CAVwC,eAAe,GAUvD;AAVY,kDAAmB;AAYhC;IAGI,4BAAY,GAAS;QAFrB,qBAAgB,GAAY,KAAK,CAAC;QAG9B,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC;SAC5E;IACL,CAAC;IACL,yBAAC;AAAD,CARA,AAQC,IAAA;AARY,gDAAkB;AAU/B;IAII,wBAAY,GAAS;QAHrB,cAAS,GAAe,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;QAC1C,mBAAc,GAAW,GAAG,CAAC;QAGzB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;YAC9E,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE,GAAG,CAAE,CAAC;SACxE;IACL,CAAC;IAED,+BAAM,GAAN;QACI,OAAO;YACH,SAAS,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;YACrC,cAAc,EAAE,IAAI,CAAC,cAAc;SACtC,CAAC;IACN,CAAC;IACL,qBAAC;AAAD,CAjBA,AAiBC,IAAA;AAjBY,wCAAc;AAmB3B;IAII,qBAAY,GAAS;QAFrB,wBAAmB,GAAY,IAAI,CAAC;QAGhC,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,eAAe,CAAC,CAAC;YAC1C,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC,qBAAqB,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC;SACrF;IACL,CAAC;IAED,4BAAM,GAAN;QACI,OAAO;YACH,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,mBAAmB,EAAE,IAAI,CAAC,mBAAmB;SAChD,CAAC;IACN,CAAC;IACL,kBAAC;AAAD,CAjBA,AAiBC,IAAA;AAjBY,kCAAW;AAmBxB;IAGI,qBAAY,GAAS;QAFrB,gBAAW,GAAW,CAAC,CAAC;QAGpB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,WAAW;gBACZ,GAAG,CAAC,WAAW,IAAI,OAAO,GAAG,CAAC,WAAW,KAAK,QAAQ;oBAClD,CAAC,CAAC,GAAG,CAAC,WAAW;oBACjB,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;SAC9B;IACL,CAAC;IAED,4BAAM,GAAN;QACI,OAAO;YACH,WAAW,EAAE,IAAI,CAAC,WAAW;SAChC,CAAC;IACN,CAAC;IACL,kBAAC;AAAD,CAjBA,AAiBC,IAAA;AAjBY,kCAAW;AAmBxB;IAMI,4BAAY,GAAS;QALrB,SAAI,GAAmB,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;QAC9C,UAAK,GAAoB,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC;QACjD,aAAQ,GAAY,KAAK,CAAC;QAC1B,WAAM,GAAqB,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;QAGhD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACpB,CAAC;IAED,kCAAK,GAAL,UAAM,GAAQ;QACV,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,IAAI,GAAG,mBAAmB,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACxE,IAAI,CAAC,KAAK,GAAG,mBAAmB,CAAC,KAAK,CAAC,SAAS,EAAE,GAAG,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5E,IAAI,CAAC,QAAQ;gBACT,GAAG,CAAC,QAAQ,KAAK,SAAS,IAAI,OAAO,GAAG,CAAC,QAAQ,KAAK,SAAS;oBAC3D,CAAC,CAAC,GAAG,CAAC,QAAQ;oBACd,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;YACxB,IAAI,CAAC,MAAM,GAAG,mBAAmB,CAC7B,KAAK,CAAC,UAAU,EAChB,GAAG,CAAC,QAAQ,CAAC,EACb,IAAI,CAAC,gBAAgB,EAAE,CAC1B,CAAC;SACL;IACL,CAAC;IAED,6CAAgB,GAAhB;QACI,OAAO,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;IACpC,CAAC;IAED,mCAAM,GAAN;QACI,OAAO;YACH,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;YAC/B,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;YAClC,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC;SACxC,CAAC;IACN,CAAC;IACL,yBAAC;AAAD,CAtCA,AAsCC,IAAA;AAtCY,gDAAkB;AAwC/B;IAAyC,uCAAkB;IAA3D;QAAA,qEAUC;QATG,cAAQ,GAAmB,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;;IAStD,CAAC;IAPG,mCAAK,GAAL,UAAM,GAAQ;QACV,iBAAM,KAAK,YAAC,GAAG,CAAC,CAAC;QAEjB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,QAAQ,GAAG,mBAAmB,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SACpF;IACL,CAAC;IACL,0BAAC;AAAD,CAVA,AAUC,CAVwC,kBAAkB,GAU1D;AAVY,kDAAmB;AAYhC;IAUI,sBAAY,GAAS;QATZ,YAAO,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACzD,YAAO,GAAwB,IAAI,mBAAmB,CAAC;YAC5D,IAAI,EAAE,OAAO;YACb,MAAM,EAAE,QAAQ;SACnB,CAAC,CAAC;QACM,iBAAY,GAAwB,IAAI,mBAAmB,CAAC;YACjE,MAAM,EAAE,QAAQ;SACnB,CAAC,CAAC;QAGC,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAChC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;SAC7C;IACL,CAAC;IAED,qCAAc,GAAd,UAAe,IAAY;QACvB,QAAQ,IAAI,CAAC,WAAW,EAAE,EAAE;YACxB,KAAK,SAAS;gBACV,OAAO,IAAI,CAAC,OAAO,CAAC;YACxB,KAAK,cAAc;gBACf,OAAO,IAAI,CAAC,YAAY,CAAC;YAC7B;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC;SAC3B;IACL,CAAC;IACL,mBAAC;AAAD,CA3BA,AA2BC,IAAA;AA3BY,oCAAY;AA6BzB;IAGI,yBAAY,GAAS;QACjB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;SAC3D;IACL,CAAC;IACL,sBAAC;AAAD,CARA,AAQC,IAAA;AARY,0CAAe;AAU5B;IAAsD,oDAAkB;IAAxE;QAAA,qEAwBC;QAvBG,YAAM,GAAY,IAAI,CAAC;QACvB,iBAAW,GAAoB,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC;;IAsB7D,CAAC;IApBG,gDAAK,GAAL,UAAM,GAAS;QACX,iBAAM,KAAK,YAAC,GAAG,CAAC,CAAC;QAEjB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC;YAC3C,IAAI,CAAC,WAAW,GAAG,mBAAmB,CAClC,KAAK,CAAC,SAAS,EACf,GAAG,CAAC,aAAa,CAAC,EAClB,IAAI,CAAC,WAAW,CACnB,CAAC;SACL;IACL,CAAC;IAED,iDAAM,GAAN;QACI,IAAM,MAAM,GAAG,iBAAM,MAAM,WAAE,CAAC;QAC9B,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QAC/B,MAAM,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE1D,OAAO,MAAM,CAAC;IAClB,CAAC;IACL,uCAAC;AAAD,CAxBA,AAwBC,CAxBqD,kBAAkB,GAwBvE;AAxBY,4EAAgC;AA0B7C;IAOI,0BAAY,GAAS;QANrB,iBAAY,GAAkB,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;QAClD,UAAK,GAAW,EAAE,CAAC;QACV,mBAAc,GACnB,IAAI,gCAAgC,EAAE,CAAC;QAClC,mBAAc,GAAuB,IAAI,kBAAkB,EAAE,CAAC;QAGnE,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,YAAY,GAAG,mBAAmB,CACnC,KAAK,CAAC,OAAO,EACb,GAAG,CAAC,cAAc,CAAC,EACnB,IAAI,CAAC,YAAY,CACpB,CAAC;YACF,IAAI,CAAC,cAAc,GAAG,IAAI,gCAAgC,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAClF,IAAI,CAAC,cAAc,GAAG,IAAI,kBAAkB,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,KAAK;gBACN,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;SACxD;IACL,CAAC;IACL,uBAAC;AAAD,CApBA,AAoBC,IAAA;AApBY,4CAAgB;AAsB7B;IASI,qBAAY,GAAS;QARZ,UAAK,GAAqB,IAAI,gBAAgB,EAAE,CAAC;QACjD,iBAAY,GAAuB,IAAI,kBAAkB,CAAC;YAC/D,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,SAAS;SACnC,CAAC,CAAC;QACM,+BAA0B,GAAW,CAAC,CAAC;QACvC,sCAAiC,GAAY,IAAI,CAAC;QAClD,4BAAuB,GAAY,KAAK,CAAC;QAG9C,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,KAAK,GAAG,IAAI,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,YAAY,GAAG,IAAI,kBAAkB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,uBAAuB;gBACxB,GAAG,CAAC,yBAAyB,CAAC,IAAI,IAAI,CAAC,uBAAuB,CAAC;YACnE,IAAI,CAAC,iCAAiC;gBAClC,GAAG,CAAC,mCAAmC,CAAC,IAAI,IAAI,CAAC,iCAAiC,CAAC;YACvF,IAAI,CAAC,0BAA0B;gBAC3B,GAAG,CAAC,4BAA4B,CAAC,IAAI,IAAI,CAAC,0BAA0B,CAAC;SAC5E;IACL,CAAC;IACL,kBAAC;AAAD,CArBA,AAqBC,IAAA;AArBY,kCAAW;AAuBxB;IAAwC,sCAAkB;IAA1D;QAAA,qEAiBC;QAhBG,UAAI,GAAY,IAAI,CAAC;;IAgBzB,CAAC;IAdG,kCAAK,GAAL,UAAM,GAAS;QACX,iBAAM,KAAK,YAAC,GAAG,CAAC,CAAC;QAEjB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;SAC7D;IACL,CAAC;IAED,mCAAM,GAAN;QACI,IAAM,MAAM,GAAG,iBAAM,MAAM,WAAE,CAAC;QAC9B,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;QAE3B,OAAO,MAAM,CAAC;IAClB,CAAC;IACL,yBAAC;AAAD,CAjBA,AAiBC,CAjBuC,kBAAkB,GAiBzD;AAjBY,gDAAkB;AAmB/B;IAAyC,uCAAkB;IAIvD,6BAAY,GAAS;QAArB,YACI,kBAAM,GAAG,CAAC,SAUb;QAdD,cAAQ,GAAY,GAAG,CAAC;QACxB,YAAM,GAAqB,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC;QAK/C,IAAI,GAAG,EAAE;YACL,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC;YAC1E,KAAI,CAAC,MAAM,GAAG,mBAAmB,CAC7B,KAAK,CAAC,UAAU,EAChB,GAAG,CAAC,QAAQ,CAAC,EACb,KAAK,CAAC,UAAU,CAAC,MAAM,CAC1B,CAAC;SACL;;IACL,CAAC;IAED,8CAAgB,GAAhB;QACI,OAAO,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC;IACnC,CAAC;IACL,0BAAC;AAAD,CApBA,AAoBC,CApBwC,kBAAkB,GAoB1D;AApBY,kDAAmB;AAsBhC;IAKI,uBAAY,GAAS;QAJZ,UAAK,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACvD,UAAK,GAAuB,IAAI,kBAAkB,EAAE,CAAC;QAC9D,YAAO,GAAW,EAAE,CAAC;QAGjB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,KAAK,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;YACnD,IAAI,CAAC,KAAK,GAAG,IAAI,kBAAkB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,OAAO;gBACR,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;SACtF;IACL,CAAC;IACL,oBAAC;AAAD,CAbA,AAaC,IAAA;AAbY,sCAAa;AAe1B;IAKI,8BAAY,GAAS;QAJrB,eAAU,GAA6B,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC;QACvE,oBAAe,GAAW,EAAE,CAAC;QAC7B,UAAK,GAAY,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC;QAG3C,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,UAAU,GAAG,mBAAmB,CACjC,KAAK,CAAC,kBAAkB,EACxB,GAAG,CAAC,YAAY,CAAC,EACjB,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAClC,CAAC;YACF,IAAI,CAAC,eAAe;gBAChB,GAAG,CAAC,iBAAiB,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;YACnF,IAAI,CAAC,KAAK;gBACN,GAAG,CAAC,OAAO,CAAC,IAAI,OAAO,GAAG,CAAC,OAAO,CAAC,KAAK,QAAQ;oBAC5C,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;oBACd,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC;SAC3C;IACL,CAAC;IAED,qCAAM,GAAN;QACI,OAAO;YACH,UAAU,EAAE,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC;YACrD,eAAe,EAAE,IAAI,CAAC,eAAe;YACrC,KAAK,EAAE,IAAI,CAAC,KAAK;SACpB,CAAC;IACN,CAAC;IACL,2BAAC;AAAD,CA5BA,AA4BC,IAAA;AA5BY,oDAAoB;AA8BjC;IAYI,uBAAY,GAAS;QAXrB,eAAU,GAAW,CAAC,CAAC;QACvB,YAAO,GAAkB,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC;QAC/C,kBAAa,GAAW,EAAE,CAAC;QAClB,aAAQ,GAAyB,IAAI,oBAAoB,EAAE,CAAC;QACrE,kCAA6B,GAAa,KAAK,CAAC;QAChD,uBAAkB,GAAsB,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;QACrE,oBAAe,GAA0B,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC;QACpE,kBAAa,GAA8B,KAAK,CAAC,mBAAmB,CAAC,WAAW,CAAC;QACjF,qBAAgB,GAAY,KAAK,CAAC;QAClC,aAAQ,GAAW,EAAE,CAAC;QAGlB,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;YAClF,IAAI,CAAC,OAAO,GAAG,mBAAmB,CAC9B,KAAK,CAAC,OAAO,EACb,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,EAC1B,KAAK,CAAC,OAAO,CAAC,OAAO,CACxB,CAAC;YACF,IAAI,CAAC,aAAa;gBACd,GAAG,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;YAC7E,IAAI,CAAC,QAAQ,GAAG,IAAI,oBAAoB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,6BAA6B,GAAG,KAAK,CAAC,SAAS,CAChD,GAAG,CAAC,+BAA+B,CAAC,EACpC,KAAK,CACR,CAAC;YACF,IAAI,CAAC,kBAAkB,GAAG,mBAAmB,CACzC,KAAK,CAAC,WAAW,EACjB,GAAG,CAAC,oBAAoB,CAAC,EACzB,KAAK,CAAC,WAAW,CAAC,UAAU,CAC/B,CAAC;YACF,IAAI,CAAC,eAAe,GAAG,mBAAmB,CACtC,KAAK,CAAC,eAAe,EACrB,GAAG,CAAC,iBAAiB,CAAC,EACtB,KAAK,CAAC,eAAe,CAAC,IAAI,CAC7B,CAAC;YACF,IAAI,CAAC,aAAa,GAAG,mBAAmB,CACpC,KAAK,CAAC,mBAAmB,EACzB,GAAG,CAAC,eAAe,CAAC,EACpB,KAAK,CAAC,mBAAmB,CAAC,WAAW,CACxC,CAAC;YACF,IAAI,CAAC,gBAAgB;gBACjB,GAAG,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC;YAEtF,IAAI;gBACA,IAAM,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;gBAE9D,IAAI,WAAW,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE;oBAC3C,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,YAAY,CAAC;iBAC5C;aACJ;YAAC,OAAO,CAAC,EAAE;gBACR,uCAAuC;aAC1C;SACJ;IACL,CAAC;IAED,8BAAM,GAAN;QACI,OAAO;YACH,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;YACpC,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,6BAA6B,EAAE,IAAI,CAAC,6BAA6B;YACjE,kBAAkB,EAAE,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC;YAC9D,eAAe,EAAE,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC;SAC/D,CAAC;IACN,CAAC;IACL,oBAAC;AAAD,CApEA,AAoEC,IAAA;AApEY,sCAAa;AAsE1B;IAeI,4BAAY,GAAS;QARrB,YAAO,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACzD,SAAI,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACtD,UAAK,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACvD,WAAM,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACxD,SAAI,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACtD,YAAO,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACzD,cAAS,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QAGvD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACpB,CAAC;IAhBO,6CAAgB,GAAxB,UAAyB,GAAQ,EAAE,YAAoB;QACnD,IAAI,GAAG,EAAE;YACE,IAAK,CAAC,YAAY,CAAyB,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;SAC/E;IACL,CAAC;IAcD,kCAAK,GAAL,UAAM,GAAQ;QACV,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;YACtC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;YACnC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;YACpC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;YACnC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;YACtC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;SAC3C;IACL,CAAC;IACL,yBAAC;AAAD,CA9BA,AA8BC,IAAA;AA9BY,gDAAkB;AAgC/B;IA8BI,kCAAY,GAAS;QA3BZ,qBAAgB,GAAuB,IAAI,kBAAkB,CAAC;YACnE,SAAS,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE;YACtD,MAAM,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE;YACnD,OAAO,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,QAAQ,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE;YACrD,MAAM,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE;YACnD,SAAS,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE;YACtD,WAAW,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE;SAC3D,CAAC,CAAC;QAoBC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACpB,CAAC;IAfD,wCAAK,GAAL,UAAM,GAAQ;QACV,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAE9C,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAErD,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC,0BAA0B,CAAC,CAAC;YAChE,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC,0BAA0B,CAAC,CAAC;YAEhE,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;SACzC;IACL,CAAC;IAMD,sBAAI,+CAAS;aAAb;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IACL,+BAAC;AAAD,CArCA,AAqCC,IAAA;AArCY,4DAAwB;AAuCrC;IAA8C,mDAAwB;IAAtE;;IAIA,CAAC;IAHG,sBAAI,sDAAS;aAAb;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IACL,sCAAC;AAAD,CAJA,AAIC,CAJ6C,wBAAwB,GAIrE;AAUD;IAGI,2BAAY,GAAS;QAFb,eAAU,GAAgD,EAAE,CAAC;QAGjE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,IAAI,+BAA+B,EAAE,CAAC;QACtF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,IAAI,+BAA+B,EAAE,CAAC;QACvF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,IAAI,+BAA+B,EAAE,CAAC;QACrF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,+BAA+B,EAAE,CAAC;QACnF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,IAAI,+BAA+B,EAAE,CAAC;QACxF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,IAAI,+BAA+B,EAAE,CAAC;QAEtF,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,KAAK,CAChD,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CACrC,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;YACjF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,KAAK,CACjD,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CACtC,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;YAEvF,IAAM,gBAAgB,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;YAE7C,IAAI,gBAAgB,IAAI,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE;gBACrD,KAA0B,UAAgB,EAAhB,qCAAgB,EAAhB,8BAAgB,EAAhB,IAAgB,EAAE;oBAAvC,IAAM,WAAW,yBAAA;oBAClB,IAAI,WAAW,EAAE;wBACb,IAAM,SAAS,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC;wBAEtC,IAAI,SAAS,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;4BAC5C,IAAI,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;gCAC3C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;6BAC1D;iCAAM;gCACH,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,IAAI,wBAAwB,CACrD,WAAW,CAAC,OAAO,CAAC,CACvB,CAAC;6BACL;yBACJ;qBACJ;iBACJ;aACJ;SACJ;IACL,CAAC;IAED,kCAAM,GAAN;QAAA,iBAsBC;QArBG,IAAM,gBAAgB,GAAU,EAAE,CAAC;QAEnC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAC,GAAG;YACrC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE;gBACjC,gBAAgB,CAAC,IAAI,CAAC;oBAClB,IAAI,EAAE,GAAG;oBACT,KAAK,EAAE,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC;iBAC9B,CAAC,CAAC;aACN;QACL,CAAC,CAAC,CAAC;QAEH,IAAM,MAAM,GAAQ;YAChB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,QAAQ,EAAE,IAAI,CAAC,QAAQ;SAC1B,CAAC;QAEF,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,MAAM,CAAC,YAAY,GAAG,gBAAgB,CAAC;SAC1C;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAAc,GAAd,UACI,IAAwB,EACxB,YAAuC;QAEvC,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;YAC9C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SAChC;aAAM;YACH,OAAO,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;SACtF;IACL,CAAC;IAED,sBAAI,sCAAO;aAAX;YACI,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACzD,CAAC;;;OAAA;IAED,sBAAI,uCAAQ;aAAZ;YACI,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC1D,CAAC;;;OAAA;IACL,wBAAC;AAAD,CAvFA,AAuFC,IAAA;AAvFY,8CAAiB;AAuG9B;IAmBI,4BAAY,UAAmB;QAhB/B,eAAU,GAAY,6DAA6D,CAAC;QAEpF,cAAS,GAAyB;YAC9B,KAAK,EAAE,EAAE;YACT,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,KAAK,EAAE,EAAE;YACT,UAAU,EAAE,EAAE;SACjB,CAAC;QAEF,gBAAW,GAA2B;YAClC,OAAO,EAAE,GAAG;YACZ,OAAO,EAAE,GAAG;YACZ,MAAM,EAAE,GAAG;SACd,CAAC;QAGE,IAAI,UAAU,EAAE;YACZ,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;SAChC;IACL,CAAC;IAED,kCAAK,GAAL,UAAM,GAAS;QACX,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC;QACvD,IAAI,CAAC,SAAS,GAAG;YACb,KAAK,EAAE,CAAC,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK;YACxE,OAAO,EAAE,CAAC,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO;YAC9E,MAAM,EAAE,CAAC,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM;YAC3E,KAAK,EAAE,CAAC,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK;YACxE,UAAU,EAAE,CAAC,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU;SAC1F,CAAC;QACF,IAAI,CAAC,WAAW,GAAG;YACf,OAAO,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO;YACpF,OAAO,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO;YACpF,MAAM,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM;SACpF,CAAC;IACN,CAAC;IAtCe,4BAAS,GAAG,IAAI,kBAAkB,CAAC,mCAAmC,CAAC,CAAC;IAuC5F,yBAAC;CAxCD,AAwCC,IAAA;AAxCY,gDAAkB;AA0C/B;IAII,qBAAY,GAAS;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACxC,IAAI,CAAC,SAAS,GAAG,IAAI,kBAAkB,CAAC,mCAAmC,CAAC,CAAC;QAE7E,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;SAC1C;IACL,CAAC;IAED,wCAAkB,GAAlB,UAAmB,KAAiC;QAChD,QAAQ,KAAK,EAAE;YACX,KAAK,KAAK,CAAC,QAAQ,CAAC,SAAS;gBACzB,OAAO,IAAI,CAAC,SAAS,CAAC;YAC1B,KAAK,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC5B;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC;SAC3B;IACL,CAAC;IACL,kBAAC;AAAD,CAvBA,AAuBC,IAAA;AAvBY,kCAAW;AAyBxB;IAII,wBAAY,GAAS;QAHrB,qBAAgB,GAAW,EAAE,CAAC;QAC9B,qBAAgB,GAAW,MAAM,CAAC;QAG9B,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,gBAAgB;gBACjB,GAAG,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC;YACtF,IAAI,CAAC,gBAAgB;gBACjB,GAAG,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC;SACzF;IACL,CAAC;IAED,+BAAM,GAAN;QACI,OAAO;YACH,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;YACvC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;SAC1C,CAAC;IACN,CAAC;IACL,qBAAC;AAAD,CAnBA,AAmBC,IAAA;AAnBY,wCAAc;AAqB3B;IA6CI,oBAAY,GAAS;QA5CZ,qBAAgB,GAAG,IAAI,oCAAgB,EAAE,CAAC;QAInD,iCAA4B,GAAW,GAAG,CAAC;QAC3C,0BAAqB,GAAY,IAAI,CAAC;QAI7B,YAAO,GAAG;YACf,KAAK,EAAE,CAAC;YACR,OAAO,EAAE,CAAC;YACV,MAAM,EAAE,EAAE;YACV,KAAK,EAAE,EAAE;YACT,UAAU,EAAE,EAAE;YACd,OAAO,EAAE,EAAE;SACd,CAAC;QAEO,cAAS,GAAG;YACjB,aAAa,EAAE,CAAC;YAChB,SAAS,EAAE,SAAS;SACvB,CAAC;QAEO,eAAU,GAAG;YAClB,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,KAAK,EAAE,GAAG;SACb,CAAC;QAEO,oBAAe,GAAsB,IAAI,iBAAiB,EAAE,CAAC;QAC7D,WAAM,GAAgB,IAAI,WAAW,EAAE,CAAC;QACxC,YAAO,GAAkB,IAAI,aAAa,EAAE,CAAC;QAC7C,iBAAY,GAAuB,IAAI,kBAAkB,EAAE,CAAC;QAC5D,aAAQ,GAAmB,IAAI,cAAc,EAAE,CAAC;QAChD,UAAK,GAAgB,IAAI,WAAW,EAAE,CAAC;QACvC,YAAO,GAAkB,IAAI,aAAa,EAAE,CAAC;QAC7C,UAAK,GAAgB,IAAI,WAAW,EAAE,CAAC;QACvC,eAAU,GAAiB,IAAI,YAAY,EAAE,CAAC;QAC9C,cAAS,GAAoB,IAAI,eAAe,EAAE,CAAC;QACnD,aAAQ,GAAmB,IAAI,cAAc,EAAE,CAAC;QAGzD,qBAAgB,GAAY,KAAK,CAAC;QAG9B,IAAI,GAAG,EAAE;YACL,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,YAAY,MAAM,EAAE;gBAClD,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAa,CAAC,CAAC;aACnC;YAED,IAAI,CAAC,4BAA4B;gBAC7B,GAAG,IAAI,OAAO,GAAG,CAAC,8BAA8B,CAAC,KAAK,QAAQ;oBAC1D,CAAC,CAAC,GAAG,CAAC,8BAA8B,CAAC;oBACrC,CAAC,CAAC,IAAI,CAAC,4BAA4B,CAAC;YAC5C,IAAI,CAAC,qBAAqB;gBACtB,GAAG,IAAI,OAAO,GAAG,CAAC,uBAAuB,CAAC,KAAK,SAAS;oBACpD,CAAC,CAAC,GAAG,CAAC,uBAAuB,CAAC;oBAC9B,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC;YAErC,IAAI,CAAC,eAAe,GAAG,IAAI,kBAAkB,EAAE,CAAC;YAChD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAEhC,IAAI,GAAG,CAAC,SAAS,EAAE;gBACf,IAAI,CAAC,SAAS,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;aACnD;YAED,IAAI,GAAG,CAAC,WAAW,EAAE;gBACjB,IAAI,CAAC,WAAW,GAAG;oBACf,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC;oBAC/B,OAAO,EAAE,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC;oBACnC,MAAM,EAAE,GAAG,CAAC,WAAW,CAAC,QAAQ,CAAC;oBACjC,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC;oBAC/B,UAAU,EAAE,GAAG,CAAC,WAAW,CAAC,YAAY,CAAC;iBAC5C,CAAC;aACL;YAED,IAAI,CAAC,UAAU,GAAG;gBACd,KAAK,EAAE,CAAC,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK;gBAC3E,MAAM,EAAE,CAAC,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM;gBAC9E,KAAK,EAAE,CAAC,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK;aAC9E,CAAC;YAEF,IAAI,CAAC,eAAe,GAAG,IAAI,iBAAiB,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC;YACrE,IAAI,CAAC,OAAO,GAAG;gBACX,KAAK,EAAE,CAAC,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK;gBAClE,OAAO,EAAE,CAAC,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO;gBACxE,MAAM,EAAE,CAAC,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM;gBACrE,KAAK,EAAE,CAAC,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK;gBAClE,UAAU,EAAE,CAAC,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU;gBACjF,OAAO,EAAE,CAAC,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO;aAC3E,CAAC;YAEF,IAAI,CAAC,SAAS,GAAG;gBACb,aAAa,EACT,CAAC,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;oBACjD,IAAI,CAAC,SAAS,CAAC,aAAa;gBAChC,SAAS,EAAE,CAAC,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS;aACvF,CAAC;YAEF,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC;YACzD,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAC,GAAG,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;YAC9D,IAAI,CAAC,YAAY,GAAG,IAAI,kBAAkB,CAAC,GAAG,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;YAClF,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;YACpD,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;YACjD,IAAI,CAAC,UAAU,GAAG,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;YACtD,IAAI,CAAC,SAAS,GAAG,IAAI,eAAe,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;YACvD,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;SACvD;IACL,CAAC;IAED,0CAAqB,GAArB,UAAsB,KAAsB;QACxC,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,OAAO,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;SACnD;aAAM;YACH,OAAO,KAAK,KAAK,KAAK,CAAC,QAAQ,CAAC,SAAS;gBACrC,CAAC,CAAC,kBAAkB,CAAC,SAAS;gBAC9B,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;SAC9B;IACL,CAAC;IAED,wCAAmB,GAAnB,UAAoB,OAAsB;QACtC,QAAQ,OAAO,EAAE;YACb,KAAK,KAAK,CAAC,OAAO,CAAC,KAAK;gBACpB,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YAC9B,KAAK,KAAK,CAAC,OAAO,CAAC,OAAO;gBACtB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;YAChC,KAAK,KAAK,CAAC,OAAO,CAAC,MAAM;gBACrB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;YAC/B,KAAK,KAAK,CAAC,OAAO,CAAC,KAAK;gBACpB,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YAC9B,KAAK,KAAK,CAAC,OAAO,CAAC,UAAU;gBACzB,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YACnC,KAAK,KAAK,CAAC,OAAO,CAAC,OAAO;gBACtB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;YAChC;gBACI,OAAO,CAAC,CAAC;SAChB;IACL,CAAC;IAED,yDAAoC,GAApC,UACI,iBAA2C;QAE3C,OAAO,IAAI,MAAM,CAAC,iBAAiB,CAC/B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAC/C,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,KAAK,CAAC,EACjD,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAClD,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,IAAI,CAAC,CACnD,CAAC;IACN,CAAC;IAED,sCAAiB,GAAjB;QAAkB,oBAAuB;aAAvB,UAAuB,EAAvB,qBAAuB,EAAvB,IAAuB;YAAvB,+BAAuB;;QACrC,IAAM,MAAM,GAAa,EAAE,CAAC;QAE5B,KAAwB,UAAU,EAAV,yBAAU,EAAV,wBAAU,EAAV,IAAU,EAAE;YAA/B,IAAM,SAAS,mBAAA;YAChB,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,CAAC;SAC3F;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,qCAAgB,GAAhB;QAAiB,oBAAuB;aAAvB,UAAuB,EAAvB,qBAAuB,EAAvB,IAAuB;YAAvB,+BAAuB;;QACpC,IAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,OAAtB,IAAI,EAAsB,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;QAE/D,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;IAChC,CAAC;IAED,sBAAI,kCAAU;aAAd;YACI,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC;QAC3C,CAAC;aAED,UAAe,KAAyB;YACpC,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC;QAC5C,CAAC;;;OAJA;IAMD,sBAAI,iCAAS;aAAb;YACI,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC;QAC1C,CAAC;;;OAAA;IAED,sBAAI,mCAAW;aAAf;YACI,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC;QAC5C,CAAC;;;OAAA;IACL,iBAAC;AAAD,CAtLA,AAsLC,IAAA;AAtLY,gCAAU;AAwLvB,gEAAgE;AACnD,QAAA,iBAAiB,GAAe,IAAI,UAAU,CAAC;IACxD,qBAAqB,EAAE,IAAI;IAC3B,OAAO,EAAE;QACL,KAAK,EAAE,EAAE;QACT,OAAO,EAAE,EAAE;QACX,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;QACT,UAAU,EAAE,EAAE;QACd,OAAO,EAAE,EAAE;KACd;IACD,SAAS,EAAE;QACP,aAAa,EAAE,CAAC;QAChB,SAAS,EAAE,SAAS;KACvB;IACD,SAAS,EAAE;QACP,OAAO,EAAE;YACL,UAAU,EAAE,iDAAiD;YAC7D,SAAS,EAAE;gBACP,KAAK,EAAE,EAAE;gBACT,OAAO,EAAE,EAAE;gBACX,MAAM,EAAE,EAAE;gBACV,KAAK,EAAE,EAAE;gBACT,UAAU,EAAE,EAAE;aACjB;YACD,WAAW,EAAE;gBACT,OAAO,EAAE,GAAG;gBACZ,OAAO,EAAE,GAAG;gBACZ,MAAM,EAAE,GAAG;aACd;SACJ;QACD,SAAS,EAAE;YACP,UAAU,EAAE,mCAAmC;YAC/C,SAAS,EAAE;gBACP,KAAK,EAAE,EAAE;gBACT,OAAO,EAAE,EAAE;gBACX,MAAM,EAAE,EAAE;gBACV,KAAK,EAAE,EAAE;gBACT,UAAU,EAAE,EAAE;aACjB;YACD,WAAW,EAAE;gBACT,OAAO,EAAE,GAAG;gBACZ,OAAO,EAAE,GAAG;gBACZ,MAAM,EAAE,GAAG;aACd;SACJ;KACJ;IACD,UAAU,EAAE;QACR,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,GAAG;KACb;IACD,eAAe,EAAE;QACb,OAAO,EAAE;YACL,eAAe,EAAE,SAAS;YAC1B,gBAAgB,EAAE;gBACd,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,KAAK,EAAE;oBACH,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,MAAM,EAAE;oBACJ,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,SAAS,EAAE;oBACP,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;aACJ;SACJ;QACD,QAAQ,EAAE;YACN,eAAe,EAAE,WAAW;YAC5B,gBAAgB,EAAE;gBACd,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,KAAK,EAAE;oBACH,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,MAAM,EAAE;oBACJ,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,SAAS,EAAE;oBACP,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;aACJ;SACJ;QACD,MAAM,EAAE;YACJ,eAAe,EAAE,SAAS;YAC1B,gBAAgB,EAAE;gBACd,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,KAAK,EAAE;oBACH,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,MAAM,EAAE;oBACJ,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,SAAS,EAAE;oBACP,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;aACJ;SACJ;QACD,IAAI,EAAE;YACF,eAAe,EAAE,SAAS;YAC1B,gBAAgB,EAAE;gBACd,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,KAAK,EAAE;oBACH,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,MAAM,EAAE;oBACJ,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,SAAS,EAAE;oBACP,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;aACJ;SACJ;QACD,SAAS,EAAE;YACP,eAAe,EAAE,SAAS;YAC1B,gBAAgB,EAAE;gBACd,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,KAAK,EAAE;oBACH,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,MAAM,EAAE;oBACJ,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,SAAS,EAAE;oBACP,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;aACJ;SACJ;QACD,OAAO,EAAE;YACL,eAAe,EAAE,SAAS;YAC1B,gBAAgB,EAAE;gBACd,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,KAAK,EAAE;oBACH,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,MAAM,EAAE;oBACJ,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,SAAS,EAAE;oBACP,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,IAAI,EAAE;oBACF,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;gBACD,OAAO,EAAE;oBACL,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,WAAW;iBACtB;aACJ;SACJ;KACJ;IACD,MAAM,EAAE;QACJ,KAAK,EAAE;YACH,cAAc,EAAE;gBACZ,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,MAAM;gBAC/B,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,SAAS;aACzC;YACD,cAAc,EAAE;gBACZ,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,MAAM;aAClC;SACJ;QACD,YAAY,EAAE;YACV,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,SAAS;YAChC,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,MAAM;SAClC;QACD,0BAA0B,EAAE,GAAG;KAClC;IACD,OAAO,EAAE;QACL,UAAU,EAAE,CAAC;QACb,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,OAAO;QAC9B,aAAa,EAAE,EAAE;QACjB,QAAQ,EAAE;YACN,UAAU,EAAE,KAAK,CAAC,kBAAkB,CAAC,MAAM;YAC3C,eAAe,EAAE,EAAE;SACtB;QACD,kBAAkB,EAAE,KAAK,CAAC,WAAW,CAAC,UAAU;QAChD,eAAe,EAAE,KAAK,CAAC,eAAe,CAAC,IAAI;KAC9C;IACD,YAAY,EAAE;QACV,gBAAgB,EAAE,KAAK;KAC1B;IACD,QAAQ,EAAE;QACN,SAAS,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM;QAC5B,cAAc,EAAE,GAAG;KACtB;IACD,OAAO,EAAE;QACL,KAAK,EAAE;YACH,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,OAAO;YAC9B,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,OAAO;YAC5B,QAAQ,EAAE,KAAK;YACf,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,MAAM;YAC/B,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,GAAG;SAChB;QACD,KAAK,EAAE;YACH,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,OAAO;YAC9B,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,OAAO;YAC5B,QAAQ,EAAE,KAAK;YACf,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,OAAO;YAChC,IAAI,EAAE,IAAI;SACb;QACD,OAAO,EAAE,EAAE;KACd;IACD,QAAQ,EAAE;QACN,gBAAgB,EAAE,EAAE;QACpB,mBAAmB,EAAE,IAAI;KAC5B;IACD,SAAS,EAAE;QACP,YAAY,EAAE,CAAC;KAClB;CACJ,CAAC,CAAC;;;;;;AC3rCH,iDAAwE;AAQxE;IAAA;QACY,WAAM,GAAiD,EAAE,CAAC;IA+DtE,CAAC;IA7DG,uCAAU,GAAV,UAAW,QAAgB;QACvB,OAAO,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IACpF,CAAC;IAED,kCAAK,GAAL;QACI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,mCAAM,GAAN,UAAO,MAA6B;QAChC,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEtC,KAAkB,UAAI,EAAJ,aAAI,EAAJ,kBAAI,EAAJ,IAAI,EAAE;YAAnB,IAAM,GAAG,aAAA;YACV,IAAM,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAE1C,MAAM,CAAC,QAAQ,CACX,gBAAgB,CAAC,QAAQ,EACzB,gBAAgB,CAAC,UAAU,EAC3B,gBAAgB,CAAC,aAAa,CACjC,CAAC;SACL;IACL,CAAC;IAED,qCAAQ,GAAR,UACI,QAAgB,EAChB,UAAyB,EACzB,aAAsC;QAAtC,8BAAA,EAAA,gBAAyB,wBAAQ,CAAC,IAAI;QAEtC,IAAI,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAEjD,IAAI,gBAAgB,KAAK,SAAS,EAAE;YAChC,gBAAgB,CAAC,UAAU,GAAG,UAAU,CAAC;SAC5C;aAAM;YACH,gBAAgB,GAAG;gBACf,QAAQ,EAAE,QAAQ;gBAClB,UAAU,EAAE,UAAU;gBACtB,aAAa,EAAE,aAAa;aAC/B,CAAC;SACL;QAED,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,gBAAgB,CAAC;IAC7C,CAAC;IAED,uCAAU,GAAV,UAAW,QAAgB;QACvB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;IAED,2CAAc,GAAd,UAAe,QAAgB,EAAE,aAAsB;QACnD,IAAM,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAEnD,OAAO,gBAAgB,IAAI,gBAAgB,CAAC,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC;YACnF,CAAC,CAAC,IAAI,gBAAgB,CAAC,UAAU,EAAE;YACnC,CAAC,CAAC,SAAS,CAAC;IACpB,CAAC;IAED,yCAAY,GAAZ;QACI,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;IAC3C,CAAC;IAED,sCAAS,GAAT,UAAU,KAAa;QAAvB,iBAEC;QADG,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC,KAAK,CAAC,CAAC;IACtE,CAAC;IACL,yBAAC;AAAD,CAhEA,AAgEC,IAAA;AAhEY,gDAAkB;AAkE/B,kEAAkE;AAClE;IAAA;IAwCA,CAAC;IApCU,0CAA2B,GAAlC,UAAmC,QAAyC;QACxE,QAAQ,CAAC,KAAK,EAAE,CAAC;QAEjB,cAAc,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACpD,CAAC;IAEM,yCAA0B,GAAjC,UAAkC,QAAoC;QAClE,QAAQ,CAAC,KAAK,EAAE,CAAC;QAEjB,cAAc,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAID,sBAAW,0BAAQ;aAAnB;YACI,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE;gBAC3B,cAAc,CAAC,SAAS,GAAG,IAAI,kBAAkB,EAAe,CAAC;gBACjE,cAAc,CAAC,2BAA2B,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;aACxE;YAED,OAAO,cAAc,CAAC,SAAS,CAAC;QACpC,CAAC;;;OAAA;IAED,sBAAW,yBAAO;aAAlB;YACI,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE;gBAC1B,cAAc,CAAC,QAAQ,GAAG,IAAI,kBAAkB,EAAU,CAAC;gBAC3D,cAAc,CAAC,0BAA0B,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;aACtE;YAED,OAAO,cAAc,CAAC,QAAQ,CAAC;QACnC,CAAC;;;OAAA;IAEM,oBAAK,GAAZ;QACI,cAAc,CAAC,SAAS,GAAG,SAAS,CAAC;QACrC,cAAc,CAAC,QAAQ,GAAG,SAAS,CAAC;IACxC,CAAC;IAvBe,8BAAe,GAAG,IAAI,kBAAkB,EAAe,CAAC;IACxD,6BAAc,GAAG,IAAI,kBAAkB,EAAU,CAAC;IAuBtE,qBAAC;CAxCD,AAwCC,IAAA;AAxCY,wCAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9E3B,4DAA4D;AAC5D,kCAAkC;AAClC,+BAAiC;AACjC,qCAAoC;AACpC,mCAAsD;AAEtD,yDAAuD;AACvD,iDAQyB;AAEzB;IAAA;QACa,WAAM,GAAuB,EAAE,CAAC;QAChC,qBAAgB,GAAuB,EAAE,CAAC;IAUvD,CAAC;IARG,sCAAU,GAAV,UAAW,UAAsB,EAAE,KAA4B,EAAE,OAAe;QAC5E,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACvB,KAAK,EAAE,KAAK,CAAC,eAAe,CAAC,UAAU;YACvC,MAAM,EAAE,UAAU;YAClB,KAAK,EAAE,KAAK;YACZ,OAAO,EAAE,OAAO;SACnB,CAAC,CAAC;IACP,CAAC;IACL,wBAAC;AAAD,CAZA,AAYC,IAAA;AAZY,8CAAiB;AAgB9B;IAAyC,8BAAkB;IAA3D;QACI,gBAAgB;QADpB,qEA4JC;QA1HG,YAAY;QAEJ,qBAAe,GAAY,KAAK,CAAC;;IAwH7C,CAAC;IAtIa,iCAAY,GAAtB;QACI,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC;IAClC,CAAC;IAMD,sBAAI,gCAAQ;aAAZ;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;QACtD,CAAC;;;OAAA;IASD;;;;OAIG;IACO,6BAAQ,GAAlB,UAAmB,IAAU;QACzB,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC/C;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAYD,4CAAuB,GAAvB,UAAwB,IAAwB,EAAE,aAAmB;QACjE,IAAM,KAAK,GAAG,aAAa,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QAEhF,IAAI,uBAAc,CAAC,gCAAgC,EAAE;YACjD,4DAA4D;YAC5D,IAAI,aAAa,GAA2B,IAAI,CAAC;YAEjD,OAAO,aAAa,IAAI,CAAC,aAAa,CAAC,yBAAyB,EAAE;gBAC9D,aAAa,GAAG,aAAa,CAAC,MAAM,CAAC;aACxC;YAED,IAAI,aAAa,IAAI,aAAa,CAAC,yBAAyB,EAAE;gBAC1D,OAAO,aAAa,CAAC,yBAAyB,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;aACrE;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,8BAAS,GAAT,UAAU,KAA6B;QACnC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,sCAAiB,GAAjB,UAAkB,KAAc;QAC5B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IACjC,CAAC;IAED,mCAAc,GAAd;QACI,OAAO,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;IAC9F,CAAC;IAED,kCAAa,GAAb;QACI,4DAA4D;QAC5D,IAAI,aAAa,GAAe,IAAI,CAAC;QAErC,OAAO,aAAa,CAAC,MAAM,EAAE;YACzB,aAAa,GAAG,aAAa,CAAC,MAAM,CAAC;SACxC;QAED,OAAO,aAAa,CAAC;IACzB,CAAC;IAED,+CAA0B,GAA1B,UAA2B,OAA0B;QACjD,IAAI,IAAI,CAAC,EAAE,EAAE;YACT,IAAI,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;gBACxC,IAAI,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;oBAC/B,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,WAAW,EACjC,iBAAO,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CACtC,CAAC;iBACL;gBAED,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;aAChC;iBAAM;gBACH,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;aAC/B;SACJ;IACL,CAAC;IAED,uCAAkB,GAAlB;QACI,IAAM,MAAM,GAAG,IAAI,iBAAiB,EAAE,CAAC;QAEvC,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC;QAExC,OAAO,MAAM,CAAC;IAClB,CAAC;IAED;;;;;;;OAOG;IACH,qCAAgB,GAAhB,UAAiB,IAAU;QACvB,qEAAqE;QACrE,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;IAClD,CAAC;IAED,wCAAmB,GAAnB;QACI,oCAAoC;IACxC,CAAC;IAED,sBAAI,8BAAM;aAAV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IAED,sBAAI,uCAAe;aAAnB;YACI,OAAO,IAAI,CAAC,gBAAgB,CAAC;QACjC,CAAC;;;OAAA;IAxJe,2BAAgB,GAAG,IAAI,8BAAc,CACjD,wBAAQ,CAAC,IAAI,EACb,MAAM,EACN,SAAS,EACT,SAAS,EACT,SAAS,EACT,UAAC,MAAc;QACX,OAAoB,MAAO,CAAC,eAAe,EAAE,CAAC;IAClD,CAAC,CACJ,CAAC;IACc,qBAAU,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACrD,2BAAgB,GAAG,IAAI,0CAA0B,CAC7D,wBAAQ,CAAC,IAAI,EACb,UAAU,EACV,oCAAgB,EAChB,KAAK,EACL,IAAI,oCAAgB,EAAE,CACzB,CAAC;IAOF;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,UAAU,CAAC;0CACpB;IAGZ;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,gBAAgB,CAAC;8CAGrC;IA4HL,iBAAC;CA5JD,AA4JC,CA5JwC,kCAAkB,GA4J1D;AA5JqB,gCAAU;;;;;;;;;;;;;;;;;;;;;ACjChC,4DAA4D;AAC5D,kCAAkC;AAClC;IAKI,+BAAY,iBAAyB;QACjC,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;IAChD,CAAC;IAED,sCAAM,GAAN,UAAO,IAAwB,EAAE,KAAyB;QACtD,IAAI,OAAO,CAAC;QAEZ,IAAI,KAAK,EAAE;YACP,IAAI,MAAM,GAAG,KAAK,CAAC;YAEnB,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,EAAE;gBAC5D,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;aAC3E;YAED,OAAO,MAAM,CAAC;SACjB;aAAM;YACH,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;IACL,4BAAC;AAAD,CAxBA,AAwBC,IAAA;AAED;IAA4B,iCAAqB;IAAjD;;IAgBA,CAAC;IAfa,sCAAc,GAAxB,UAAyB,IAAwB,EAAE,OAAwB;QACvE,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,IAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QAE/E,IAAI,MAAM,KAAK,SAAS,EAAE;YACtB,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE;gBACjC,GAAG,EAAE,SAAS;gBACd,OAAO,EAAE,MAAM;gBACf,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,SAAS;aACY,CAAC,CAAC;SACpC;aAAM;YACH,OAAO,IAAI,CAAC,kBAAkB,EAAE,CAAC;SACpC;IACL,CAAC;IACL,oBAAC;AAAD,CAhBA,AAgBC,CAhB2B,qBAAqB,GAgBhD;AAED;IAA4B,iCAAqB;IAAjD;;IAMA,CAAC;IALa,sCAAc,GAAxB,UAAyB,IAAwB,EAAE,OAAwB;QACvE,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9C,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;IACjF,CAAC;IACL,oBAAC;AAAD,CANA,AAMC,CAN2B,qBAAqB,GAMhD;AAED,SAAgB,UAAU,CAAC,IAAwB,EAAE,IAAwB;IACzE,IAAM,UAAU,GAA4B;QACxC,IAAI,aAAa,CACb,mHAAmH,CACtH;QACD,IAAI,aAAa,CACb,uFAAuF,CAC1F;KACJ,CAAC;IAEF,IAAI,MAAM,GAAG,IAAI,CAAC;IAElB,KAAwB,UAAU,EAAV,yBAAU,EAAV,wBAAU,EAAV,IAAU,EAAE;QAA/B,IAAM,SAAS,mBAAA;QAChB,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;KAC3C;IAED,OAAO,MAAM,CAAC;AAClB,CAAC;AAjBD,gCAiBC;;;;ACvED,4DAA4D;AAC5D,kCAAkC;;;AAElC,kEAAkE;AAClE;IAAA;IAUA,CAAC;IATmB,cAAI,GAAG;QACnB,GAAG,EAAE,KAAK;QACV,KAAK,EAAE,OAAO;QACd,MAAM,EAAE,QAAQ;QAChB,KAAK,EAAE,GAAG;QACV,EAAE,EAAE,SAAS;QACb,IAAI,EAAE,WAAW;QACjB,MAAM,EAAE,QAAQ;KACV,CAAC;IACf,gBAAC;CAVD,AAUC,IAAA;AAVY,8BAAS;;;;;;ACJtB,4DAA4D;AAC5D,kCAAkC;AAClC,8CAA+D;AAC/D,yCAAwC;AAExC;IAiCI,kBAAY,GAAW,EAAE,KAAa;QA7B9B,eAAU,GAAY,IAAI,CAAC;QA8B/B,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IA9BO,wBAAK,GAAb;QACI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,EAAE;YAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SACtB;IACL,CAAC;IAEO,mCAAgB,GAAxB;QACI,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAM,mBAAmB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,+BAAiB,CAAC;YAEpF,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,mBAAmB,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YAC1E,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CACvB,mBAAmB,CAAC,gBAAgB,CAChC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC,gCAAgC,CAC9E,CACJ,CAAC;YAEF,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACjB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,CAAC;aACpF;SACJ;IACL,CAAC;IAWD,2BAAQ,GAAR;QACI,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,yBAAM,GAAN,UAAO,UAAuB;QAA9B,iBA4BC;QA3BG,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAE9B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC/C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE/C,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACjB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;aACvD;YAED,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;YACpD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,UAAC,EAAE;gBACzB,KAAI,CAAC,KAAK,EAAE,CAAC;YACjB,CAAC,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,UAAC,CAAC;gBACxB,IAAI,CAAC,CAAC,GAAG,KAAK,qBAAS,CAAC,IAAI,CAAC,KAAK,EAAE;oBAChC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;oBAEtB,KAAI,CAAC,KAAK,EAAE,CAAC;iBAChB;YACL,CAAC,CAAC;YAEF,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;QAED,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAED,sBAAI,2BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAU,QAAgB;YACtB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;YAEvB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC;aACtC;QACL,CAAC;;;OARA;IAUD,sBAAI,+BAAS;aAAb;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aAED,UAAc,KAAc;YACxB,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;gBAC3B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBAExB,IAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B;QACL,CAAC;;;OARA;IASL,eAAC;AAAD,CA/FA,AA+FC,IAAA;AA/FY,4BAAQ;;;;;;ACLrB,4DAA4D;AAC5D,kCAAkC;AAClC;IAAA;QACY,WAAM,GAAiB,EAAE,CAAC;IAoCtC,CAAC;IA/BG,wBAAG,GAAH,UAAI,KAAa;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,wBAAG,GAAH,UAAI,IAAW;QACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEvB,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAC1B;IACL,CAAC;IAED,2BAAM,GAAN,UAAO,IAAW;QACd,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAEpC,IAAI,CAAC,IAAI,CAAC,EAAE;YACR,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAEvC,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC5B;SACJ;IACL,CAAC;IAED,4BAAO,GAAP,UAAQ,IAAW;QACf,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,sBAAI,8BAAM;aAAV;YACI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAC9B,CAAC;;;OAAA;IACL,iBAAC;AAAD,CArCA,AAqCC,IAAA;AArCY,gCAAU;;;;;;ACFvB,4DAA4D;AAC5D,kCAAkC;AAClC,yCAAwC;AACxC,gCAAkC;AAClC,8CAA+D;AAE/D;IAAA;QACY,YAAO,GAAY,KAAK,CAAC;IA6MrC,CAAC;IApMG,8BAAO,GAAP,UAAQ,CAAgB;QACpB,QAAQ,CAAC,CAAC,GAAG,EAAE;YACX,KAAK,qBAAS,CAAC,IAAI,CAAC,MAAM;gBACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAEtB,MAAM;SACb;IACL,CAAC;IAED,6BAAM,GAAN,UAAO,kBAA8B;QAArC,iBAeC;QAdG,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;QACrB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,yBAAyB,CAAC,CAAC;QAC3F,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACvC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAC3C,OAAO,CAAC,SAAS,GAAG,UAAC,CAAC;YAClB,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAEhB,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC;QAC3B,CAAC,CAAC;QAEF,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;QAE1C,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,4BAAK,GAAL;QACI,IAAI,IAAI,CAAC,aAAa,EAAE;YACN,IAAI,CAAC,aAAa,CAAC,iBAAkB,CAAC,KAAK,EAAE,CAAC;SAC/D;IACL,CAAC;IAED,4BAAK,GAAL,UAAM,WAAwB;;QAA9B,iBA2IC;QA1IG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;YACrF,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,eAAe,CAAC,WAAW,GAAG,IAAI,CAAC;YAC/E,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC;YACjF,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,UAAC,EAAE;gBAC9B,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC;YAEF,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAEhD,IAAM,iBAAiB,GAAG,WAAW,CAAC,qBAAqB,EAAE,CAAC;YAE9D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;YACpD,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,MAAM,WAC5B,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,EAC1B,0BAA0B,EAC1B,0BAA0B,EAC1B,0BAA0B,CAC7B,EACH;YAEF,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,UAAC,EAAE;gBACjC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;YAEH,IAAM,gBAAgB,GAAG,WAAW,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;YAChE,IAAI,gBAAgB,EAAE;gBAClB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAC;aACnE;YAED,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAErD,IAAM,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YAEtE,IAAM,mBAAmB,GAAG,MAAM,CAAC,WAAW,GAAG,iBAAiB,CAAC,MAAM,CAAC;YAC1E,IAAM,mBAAmB,GAAG,iBAAiB,CAAC,GAAG,CAAC;YAClD,IAAM,mBAAmB,GAAG,MAAM,CAAC,UAAU,GAAG,iBAAiB,CAAC,KAAK,CAAC;YACxE,IAAM,kBAAkB,GAAG,iBAAiB,CAAC,IAAI,CAAC;YAElD,IAAI,IAAI,GAAG,iBAAiB,CAAC,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;YACvD,IAAI,KAAG,CAAC;YAER,IACI,mBAAmB,GAAG,kBAAkB,CAAC,MAAM;gBAC/C,mBAAmB,GAAG,kBAAkB,CAAC,MAAM,EACjD;gBACE,+CAA+C;gBAC/C,IAAM,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,MAAM,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;gBAElF,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,iBAAiB,GAAG,IAAI,CAAC;gBAE9D,IAAI,iBAAiB,GAAG,kBAAkB,CAAC,MAAM,EAAE;oBAC/C,KAAG,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;iBAC5B;qBAAM;oBACH,KAAG;wBACC,KAAK,CAAC,UAAU,EAAE;4BAClB,iBAAiB,CAAC,GAAG;4BACrB,CAAC,iBAAiB,CAAC,MAAM,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC;iBAC1D;gBAED,IACI,kBAAkB,GAAG,kBAAkB,CAAC,KAAK;oBAC7C,mBAAmB,GAAG,kBAAkB,CAAC,KAAK,EAChD;oBACE,iDAAiD;oBACjD,IAAM,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,KAAK,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;oBAE/E,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,gBAAgB,GAAG,IAAI,CAAC;oBAE5D,IAAI,gBAAgB,GAAG,kBAAkB,CAAC,KAAK,EAAE;wBAC7C,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;qBAC7B;yBAAM;wBACH,IAAI;4BACA,KAAK,CAAC,UAAU,EAAE;gCAClB,iBAAiB,CAAC,IAAI;gCACtB,CAAC,iBAAiB,CAAC,KAAK,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;qBACxD;iBACJ;qBAAM;oBACH,wDAAwD;oBACxD,IAAI,mBAAmB,IAAI,kBAAkB,CAAC,KAAK,EAAE;wBACjD,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,KAAK,CAAC;wBAEpD,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,GAAG,WACzB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,CAC7B,EACH;qBACL;yBAAM;wBACH,IAAI;4BACA,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,IAAI,GAAG,kBAAkB,CAAC,KAAK,CAAC;wBAE3E,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,GAAG,WACzB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,CAC7B,EACH;qBACL;iBACJ;aACJ;iBAAM;gBACH,2CAA2C;gBAC3C,IAAI,mBAAmB,IAAI,kBAAkB,CAAC,MAAM,EAAE;oBAClD,KAAG,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,MAAM,CAAC;oBAEpD,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,GAAG,WACzB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,CAC7B,EACH;iBACL;qBAAM;oBACH,KAAG,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC;oBAE7E,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,GAAG,WACzB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,CAC7B,EACH;iBACL;gBAED,IAAI,mBAAmB,GAAG,kBAAkB,CAAC,KAAK,EAAE;oBAChD,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,KAAK,GAAG,kBAAkB,CAAC,KAAK,CAAC;iBAClF;aACJ;YAED,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;YAC5C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,KAAG,GAAG,IAAI,CAAC;YAE1C,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YAE3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;IACL,CAAC;IAED,iCAAU,GAAV,UAAW,YAAqB;QAC5B,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAEhD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YAErB,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;aACpC;SACJ;IACL,CAAC;IAED,sBAAI,oCAAU;aAAd;YACI,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,+BAAiB,CAAC;QACnE,CAAC;aAED,UAAe,KAAiB;YAC5B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC7B,CAAC;;;OAJA;IAMD,sBAAI,gCAAM;aAAV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IACL,mBAAC;AAAD,CA9MA,AA8MC,IAAA;AA9MqB,oCAAY;;;;;;;;;;;;;;;;;;;;;ACNlC,4DAA4D;AAC5D,kCAAkC;AAClC,yCAAwC;AACxC,2CAA0C;AAC1C,iDAA+C;AAG/C;IAA+B,6BAAY;IAA3C;QAAA,qEAgGC;QA/FW,YAAM,GAAyB,IAAI,uBAAU,EAAY,CAAC;QAC1D,oBAAc,GAAuB,EAAE,CAAC;QACxC,oBAAc,GAAW,CAAC,CAAC,CAAC;;IA6FxC,CAAC;IA3Fa,iCAAa,GAAvB;QACI,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC;QACzE,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;QAExC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzC,IAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAChE,YAAY,CAAC,QAAQ,GAAG,CAAC,CAAC;YAE1B,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAElC,IAAI,CAAC,KAAK,IAAI,CAAC,aAAa,EAAE;gBAC1B,YAAY,CAAC,KAAK,EAAE,CAAC;aACxB;YAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC1C;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,2BAAO,GAAP,UAAQ,CAAgB;QACpB,iBAAM,OAAO,YAAC,CAAC,CAAC,CAAC;QAEjB,IAAI,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC;QAE5C,QAAQ,CAAC,CAAC,GAAG,EAAE;YACX,KAAK,qBAAS,CAAC,IAAI,CAAC,GAAG;gBACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAEtB,MAAM;YACV;;;;;;;;;cASE;YACF,KAAK,qBAAS,CAAC,IAAI,CAAC,EAAE;gBAClB,IAAI,iBAAiB,IAAI,CAAC,EAAE;oBACxB,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;iBACtD;qBAAM;oBACH,iBAAiB,EAAE,CAAC;oBAEpB,IAAI,iBAAiB,GAAG,CAAC,EAAE;wBACvB,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;qBACtD;iBACJ;gBAED,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC;gBAEvC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;gBAEtB,MAAM;YACV,KAAK,qBAAS,CAAC,IAAI,CAAC,IAAI;gBACpB,IAAI,iBAAiB,GAAG,CAAC,EAAE;oBACvB,iBAAiB,GAAG,CAAC,CAAC;iBACzB;qBAAM;oBACH,iBAAiB,EAAE,CAAC;oBAEpB,IAAI,iBAAiB,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;wBACjD,iBAAiB,GAAG,CAAC,CAAC;qBACzB;iBACJ;gBAED,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC;gBAEvC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;gBAEtB,MAAM;SACb;IACL,CAAC;IAED,sBAAI,4BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAED,sBAAI,oCAAa;aAAjB;YACI,OAAO,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;aAED,UAAkB,KAAa;YAC3B,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;gBAClD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;gBAEnC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;aAC/B;QACL,CAAC;;;OARA;IASL,gBAAC;AAAD,CAhGA,AAgGC,CAhG8B,4BAAY,GAgG1C;AAhGY,8BAAS;;;;;;;;;;;;;;;;;;;ACPtB,4DAA4D;AAC5D,kCAAkC;AAClC,8CAA4B;AAC5B,+CAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACH7B,4DAA4D;AAC5D,kCAAkC;AAClC,+BAAiC;AAEjC,mCAWkB;AAClB,+BAAiC;AACjC,6CASuB;AACvB,kDAAoD;AACpD,6CAA8D;AAC9D,iDAmByB;AACzB,uCAAgE;AAChE,qCAAoC;AACpC,uCAAiD;AAGjD,SAAS,YAAY,CAAC,OAAoB;;IACtC,IAAM,WAAW,GAAG,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAA,MAAA,MAAM,CAAC,YAAY,0CAAE,SAAS,mCAAI,EAAE,CAAC,CAAC;IAClG,OAAO,CAAC,SAAS,GAAG,WAAqB,CAAC;AAC9C,CAAC;AAED,SAAgB,gBAAgB,CAC5B,UAAsB,EACtB,oBAA2C,EAC3C,WAA8B;IAE9B,IACI,oBAAoB,CAAC,OAAO,GAAG,CAAC;QAChC,CAAC,oBAAoB,CAAC,aAAa,IAAI,oBAAoB,CAAC,aAAa,GAAG,CAAC,CAAC,EAChF;QACE,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,SAAS,CAAC,SAAS,GAAG,UAAU,CAAC,gBAAgB,CAC7C,KAAK;YACD,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,UAAU,CAAC;YAC1E,YAAY,CACnB,CAAC;QACF,SAAS,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAE9C,IAAM,KAAK,GAAG,oBAAoB,CAAC,SAAS;YACxC,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,SAAS,CAAC;YACxD,CAAC,CAAC,EAAE,CAAC;QAET,IAAI,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE;YAC9C,IAAI,oBAAoB,CAAC,aAAa,EAAE;gBACpC,SAAS,CAAC,KAAK,CAAC,UAAU,GAAG,oBAAoB,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC;gBACrE,SAAS,CAAC,KAAK,CAAC,YAAY,GAAG,oBAAoB,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC;gBACvE,SAAS,CAAC,KAAK,CAAC,YAAY;oBACxB,oBAAoB,CAAC,aAAa,GAAG,WAAW,GAAG,KAAK,CAAC;aAChE;iBAAM;gBACH,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,oBAAoB,CAAC,OAAO,GAAG,IAAI,CAAC;aAChE;SACJ;aAAM;YACH,IAAI,oBAAoB,CAAC,aAAa,EAAE;gBACpC,SAAS,CAAC,KAAK,CAAC,WAAW,GAAG,oBAAoB,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC;gBACtE,SAAS,CAAC,KAAK,CAAC,WAAW,GAAG,oBAAoB,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC;gBACtE,SAAS,CAAC,KAAK,CAAC,WAAW;oBACvB,oBAAoB,CAAC,aAAa,GAAG,WAAW,GAAG,KAAK,CAAC;aAChE;iBAAM;gBACH,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,oBAAoB,CAAC,OAAO,GAAG,IAAI,CAAC;aAC/D;SACJ;QAED,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACpC,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;QAElC,OAAO,SAAS,CAAC;KACpB;SAAM;QACH,OAAO,SAAS,CAAC;KACpB;AACL,CAAC;AAhDD,4CAgDC;AAID;IAA0C,+BAAU;IAApD;QACI,gBAAgB;QADpB,qEA+rBC;QAnmBW,6BAAuB,GAAY,KAAK,CAAC;;IAmmBrD,CAAC;IArpBG,sBAAI,6BAAI;aAAR;YACI,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAErD,IAAI,IAAI,EAAE;gBACN,OAAO,IAAI,CAAC;aACf;iBAAM;gBACH,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;iBAC3B;qBAAM;oBACH,OAAO,SAAS,CAAC;iBACpB;aACJ;QACL,CAAC;aAED,UAAS,KAAyB;YAC9B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QACnD,CAAC;;;OAJA;IAOD,sBAAI,kCAAS;aAAb;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;QACxD,CAAC;aAED,UAAc,KAAc;YACxB,wEAAwE;YACxE,oEAAoE;YACpE,sCAAsC;YACtC,IAAI,uBAAc,CAAC,+BAA+B,IAAI,CAAC,KAAK,EAAE;gBAC1D,IAAI,CAAC,sBAAsB,EAAE,CAAC;aACjC;YAED,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,EAAE;gBAC1B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;gBAEpD,IAAI,CAAC,+BAA+B,EAAE,CAAC;gBAEvC,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBACvB,kCAAkC,CAAC,IAAI,CAAC,CAAC;iBAC5C;aACJ;YAED,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACvB,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;aACzE;QACL,CAAC;;;OAvBA;IAiCO,6CAAuB,GAA/B;QACI,IAAM,iBAAiB,GAAG,gBAAgB,CACtC,IAAI,CAAC,UAAU,EACf;YACI,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC;YAC1D,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS;YACnF,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS;SAC9E,EACD,IAAI,CAAC,oBAAoB,CAC5B,CAAC;QAEF,IACI,uBAAc,CAAC,qBAAqB;YACpC,iBAAiB;YACjB,IAAI,CAAC,oBAAoB,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,EAC5D;YACE,mFAAmF;YACnF,IAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAElD,IAAI,eAAe,IAAI,eAAe,CAAC,mBAAmB,EAAE,EAAE;gBAC1D,IAAM,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,oCAAoC,CAC9E,eAAe,CAAC,mBAAmB,EAAE,CACxC,CAAC;gBAEF,iBAAiB,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,GAAG,qBAAqB,CAAC,IAAI,GAAG,IAAI,CAAC;gBAC7E,iBAAiB,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,GAAG,qBAAqB,CAAC,KAAK,GAAG,IAAI,CAAC;aAClF;SACJ;QAED,OAAO,iBAAiB,CAAC;IAC7B,CAAC;IAEO,qDAA+B,GAAvC;QACI,IAAM,WAAW,GACb,IAAI,CAAC,YAAY,EAAE,IAAI,IAAI,CAAC,SAAS;YACjC,CAAC,CAAC,IAAI,CAAC,kCAAkC;YACzC,CAAC,CAAC,MAAM,CAAC;QAEjB,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,WAAW,EAAE;gBACb,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,OAAO,GAAG,WAAW,CAAC;aACrD;iBAAM;gBACH,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;aACzD;SACJ;QAED,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;gBACjD,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aACjD;iBAAM;gBACH,IAAI,WAAW,EAAE;oBACb,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,OAAO,GAAG,WAAW,CAAC;iBACtD;qBAAM;oBACH,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;iBAC1D;aACJ;SACJ;IACL,CAAC;IAEO,8CAAwB,GAAhC;QACI,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,SAAS,EAAE;YACzC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;YAElD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,kCAAkC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACnD;IACL,CAAC;IAEO,oDAA8B,GAAtC;QACI,IAAI,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YAC1C,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;YAEzD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,kCAAkC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACnD;IACL,CAAC;IAED,4CAA4C;IACpC,oCAAc,GAAtB,UAAuB,SAAiB;QACpC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,qBAAqB,EAAE,EAAE;YAChD,IAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YAEjD,mEAAmE;YACnE,gDAAgD;YAChD,IAAI,CAAC,uBAAuB,GAAG,OAAO,IAAI,IAAI,CAAC,uBAAuB,CAAC;YAEvE,IAAI,CAAC,OAAO,EAAE;gBACV,IAAI,CAAC,wBAAwB,EAAE,CAAC;aACnC;iBAAM,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACnC,IAAI,CAAC,8BAA8B,EAAE,CAAC;aACzC;SACJ;IACL,CAAC;IAED,4CAA4C;IACpC,mCAAa,GAArB;QACI,IAAI,WAAW,GAAG,KAAK,CAAC;QAExB,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAC9B,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACrC,WAAW,GAAG,IAAI,CAAC;SACtB;QAED,IAAI,IAAI,CAAC,qBAAqB,EAAE,EAAE;YAC9B,IAAI,CAAC,8BAA8B,EAAE,CAAC;SACzC;QAED,OAAO,WAAW,CAAC;IACvB,CAAC;IAES,oDAA8B,GAAxC;QACI,OAAO,IAAI,oBAAoB,EAAE,CAAC;IACtC,CAAC;IAES,8CAAwB,GAAlC;QACI,IAAM,eAAe,GAAG,IAAI,CAAC,2BAA2B,EAAE,CAAC;QAC3D,IAAM,kBAAkB,GAAG,KAAK,CAAC,gBAAgB,CAC7C,eAAe,CAAC,gBAAgB,CAAC,OAAO,CAAC,MAAM,CAClD,CAAC;QAEF,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,aAAa,GAAG,kBAAkB,CAAC;QAC1D,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAC9B,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;QACjC,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;QAEhC,IAAI,kBAAkB,EAAE;YACpB,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,kBAAkB,CAAC;SAC5C;QAED,OAAO,CAAC,SAAS,GAAG,iBAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;QAE9E,OAAO,OAAO,CAAC;IACnB,CAAC;IAES,+CAAyB,GAAnC,UAAoC,eAA4B;QAC5D,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE;YACxB,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;SAC3C;aAAM;YACH,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;SAC3C;IACL,CAAC;IAED;;;;;OAKG;IACO,6CAAuB,GAAjC,UAAkC,KAAc;QAC5C,IAAM,SAAS,GAAY,IAAI,CAAC,YAAY,EAAE,CAAC;QAC/C,IAAM,cAAc,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC,cAAc,CAAC,gBAAgB,CAAC;QACnG,SAAS,CAAC,OAAO,CAAC,UAAC,KAAK,IAAK,OAAA,KAAK,CAAC,iBAAiB,CAAC,cAAc,CAAC,EAAvC,CAAuC,CAAC,CAAC;IAC1E,CAAC;IAES,iCAAW,GAArB;QACI,OAAO,CACH,IAAI,CAAC,gBAAgB,KAAK,SAAS;YACnC,IAAI,CAAC,SAAS;YACd,IAAI,CAAC,gBAAgB,CAAC,YAAY,GAAG,CAAC,CACzC,CAAC;IACN,CAAC;IAIS,4CAAsB,GAAhC;QACI,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;IACjC,CAAC;IAES,kCAAY,GAAtB;QACI,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,oBAAoB,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE;YACrF,IAAI,uBAAc,CAAC,qBAAqB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE;gBAC5D,IAAM,OAAO,GAAG,IAAI,0BAAiB,EAAE,CAAC;gBAExC,IAAI,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;gBAE7C,IAAM,eAAe,GACjB,IAAI,CAAC,UAAU,CAAC,oCAAoC,CAAC,OAAO,CAAC,CAAC;gBAElE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,GAAG,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC;gBAC3E,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,GAAG,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC;aAChF;iBAAM;gBACH,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,CAAC;gBAC9C,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC;aAChD;SACJ;IACL,CAAC;IAED;;;;OAIG;IACO,sCAAgB,GAA1B,UAA2B,UAAkB;QACzC,kEAAkE;QAClE,sEAAsE;QACtE,wDAAwD;QACxD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED;;OAEG;IACO,4CAAsB,GAAhC;QACI,OAAO;IACX,CAAC;IAES,uCAAiB,GAA3B;QACI,OAAO,IAAI,0BAAiB,EAAE,CAAC;IACnC,CAAC;IAES,sCAAgB,GAA1B,UAA2B,sBAAuC;QAAvC,uCAAA,EAAA,8BAAuC;QAC9D,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,kCAAY,GAAtB;QACI,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,gCAAU,GAApB;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAES,gCAAU,GAApB,UAAqB,KAAoC;QACrD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IAC1B,CAAC;IAES,qCAAe,GAAzB,UAA0B,OAA6B;QACnD,OAAO,OAAO,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,KAAK,SAAS,CAAC;IACpF,CAAC;IAED,sBAAc,yCAAgB;aAA9B;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAc,6CAAoB;aAAlC;YACI,OAAO,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;QACxC,CAAC;;;OAAA;IAED,sBAAc,qCAAY;aAA1B;YACI,OAAO,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC;QACxC,CAAC;;;OAAA;IAID,2BAAK,GAAL,UAAM,MAAW,EAAE,OAA8B;QAC7C,iBAAM,KAAK,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,oBAAoB,EAAE,CAAC,CAAC;IACxE,CAAC;IAED,8BAAQ,GAAR;QACI,OAAO,EAAE,CAAC;IACd,CAAC;IAED,gCAAU,GAAV;QACI,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,uCAAiB,GAAjB;QACI,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;SAC1C;QAED,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,iDAA2B,GAA3B;QACI,OAAO,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;IACpF,CAAC;IAED,qDAA+B,GAA/B;QACI,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,+BAA+B,EAAE,CAAC;SACxD;QAED,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC;IAC9C,CAAC;IAED,6CAAuB,GAAvB;QACI,OAAO,EAAE,CAAC;IACd,CAAC;IAED,oDAA8B,GAA9B,UACI,MAAyB,EACzB,UAA0B,EAC1B,YAA4B,EAC5B,aAA6B,EAC7B,WAA2B;QAH3B,2BAAA,EAAA,iBAA0B;QAC1B,6BAAA,EAAA,mBAA4B;QAC5B,8BAAA,EAAA,oBAA6B;QAC7B,4BAAA,EAAA,kBAA2B;QAE3B,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,YAAY,GAAG,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAChE,IAAI,cAAc,GAAG,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;YAC1E,IAAI,eAAe,GAAG,aAAa,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACzE,IAAI,aAAa,GAAG,WAAW,IAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YAEvE,IAAM,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;YAE3D,IAAI,gBAAgB,EAAE;gBAClB,IAAI,YAAY,IAAI,gBAAgB,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE;oBAC7D,MAAM,CAAC,GAAG,GAAG,gBAAgB,CAAC,GAAG,CAAC;oBAElC,YAAY,GAAG,KAAK,CAAC;iBACxB;gBAED,IAAI,cAAc,IAAI,gBAAgB,CAAC,KAAK,KAAK,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE;oBACjE,MAAM,CAAC,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;oBAEtC,cAAc,GAAG,KAAK,CAAC;iBAC1B;gBAED,IAAI,eAAe,IAAI,gBAAgB,CAAC,MAAM,KAAK,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE;oBACnE,MAAM,CAAC,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC;oBAExC,eAAe,GAAG,KAAK,CAAC;iBAC3B;gBAED,IAAI,aAAa,IAAI,gBAAgB,CAAC,IAAI,KAAK,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE;oBAC/D,MAAM,CAAC,IAAI,GAAG,gBAAgB,CAAC,IAAI,CAAC;oBAEpC,aAAa,GAAG,KAAK,CAAC;iBACzB;aACJ;YAED,IAAI,YAAY,IAAI,cAAc,IAAI,eAAe,IAAI,aAAa,EAAE;gBACpE,IAAI,CAAC,MAAM,CAAC,8BAA8B,CACtC,MAAM,EACN,YAAY,EACZ,cAAc,EACd,eAAe,EACf,aAAa,CAChB,CAAC;aACL;SACJ;IACL,CAAC;IAED,oCAAc,GAAd;QACI,OAAO,CAAC,CAAC;IACb,CAAC;IAED,iCAAW,GAAX,UAAY,KAAa;QACrB,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED,mCAAa,GAAb,UAAc,MAAc;QACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE;gBAChC,OAAO,CAAC,CAAC;aACZ;SACJ;QAED,OAAO,CAAC,CAAC,CAAC;IACd,CAAC;IAED,4BAAM,GAAN;QACI,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,YAAY,oBAAoB,EAAE;YAC5D,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SACvC;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,4BAAM,GAAN;QACI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;QACtD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAExD,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,IAAI,CAAC,EAAE,EAAE;gBACT,IAAI,CAAC,gBAAgB,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;aACtC;YAED,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACxB,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;aAC/D;YAED,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,SAAS,GAAG,YAAY,CAAC;YACrD,IAAI,CAAC,kCAAkC,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,OAAO;gBACzE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,OAAO;gBACrC,CAAC,CAAC,SAAS,CAAC;YAEhB,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACtD,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SAC5B;aAAM,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;YAC5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,wBAAwB,EAAE,CAAC;SAC3D;QAED,OAAO,IAAI,CAAC,gBAAgB,CAAC;IACjC,CAAC;IAED,kCAAY,GAAZ,UAAa,gBAAgC;QAAhC,iCAAA,EAAA,uBAAgC;QACzC,IAAI,CAAC,+BAA+B,EAAE,CAAC;QACvC,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,+CAAyB,GAAzB;QACI,IAAM,UAAU,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,aAAa,EAAE,CAAC;QAEzD,KAAmB,UAAU,EAAV,yBAAU,EAAV,wBAAU,EAAV,IAAU,EAAE;YAA1B,IAAI,MAAM,mBAAA;YACX,MAAM,CAAC,kBAAkB,EAAE,CAAC;SAC/B;IACL,CAAC;IAED,6BAAO,GAAP,UAAQ,YAAyB;QAC7B,OAAO,CAAC,CAAC,CAAC;IACd,CAAC;IAED,kCAAY,GAAZ;QACI,IAAM,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QAE1C,OAAO,WAAW,YAAY,YAAY,IAAI,WAAW,CAAC,UAAU,CAAC;IACzE,CAAC;IAED,oCAAc,GAAd,UAAe,QAAqB;QAChC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,mCAAa,GAAb,UAAc,QAAqB;QAC/B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,qCAAe,GAAf;QACI,OAAO,IAAI,CAAC,MAAM;YACd,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;YACtE,CAAC,CAAC,IAAI,CAAC;IACf,CAAC;IAED,sCAAgB,GAAhB;QACI,OAAO,IAAI,CAAC,MAAM;YACd,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE;YACxE,CAAC,CAAC,IAAI,CAAC;IACf,CAAC;IAED,oCAAc,GAAd;QACI,OAAO,IAAI,CAAC,MAAM;YACd,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;YAClE,CAAC,CAAC,IAAI,CAAC;IACf,CAAC;IAED,uCAAiB,GAAjB;QACI,OAAO,IAAI,CAAC,MAAM;YACd,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE;YACpE,CAAC,CAAC,IAAI,CAAC;IACf,CAAC;IAED,qCAAe,GAAf;QACI,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,wCAAkB,GAAlB;QACI,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,uCAAiB,GAAjB,UAAkB,QAAqB;QACnC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,wCAAkB,GAAlB,UAAmB,QAAqB;QACpC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,kCAAY,GAAZ,UAAa,OAAoB;QAC7B,OAAO,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC;IAED,qCAAe,GAAf,UAAgB,OAAoB;QAChC,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IAED,2CAAqB,GAArB;QACI,OAAO,CACH,IAAI,CAAC,gBAAgB,KAAK,SAAS;YACnC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,KAAK,QAAQ,CACtD,CAAC;IACN,CAAC;IAED,oCAAc,GAAd;QACI,OAAO,IAAI,CAAC,aAAa,EAAiB,CAAC;IAC/C,CAAC;IAED,wCAAkB,GAAlB;QACI,IAAI,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC;QAEjC,OAAO,cAAc,EAAE;YACnB,IAAI,cAAc,YAAY,SAAS,EAAE;gBACrC,OAAO,cAAc,CAAC;aACzB;YAED,cAAc,GAAG,cAAc,CAAC,MAAM,CAAC;SAC1C;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,kCAAY,GAAZ,UAAa,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QACvC,OAAO,EAAE,CAAC;IACd,CAAC;IAED,mCAAa,GAAb;QACI,IAAM,MAAM,GAAa,EAAE,CAAC;QAE5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAEjC,IAAI,MAAM,EAAE;gBACR,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACvB;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,4CAAsB,GAAtB;QACI,OAAO,EAAE,CAAC;IACd,CAAC;IAED,oCAAc,GAAd,UAAe,EAAU;QACrB,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;IAC7C,CAAC;IAED,mCAAa,GAAb,UAAc,GAAW;QACrB,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,8CAAwB,GAAxB,UAAyB,EAAU;QAC/B,IAAI,MAAM,GAAG,SAAS,CAAC;QACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAEnC,IAAI,MAAM,YAAY,cAAc,EAAE;gBAClC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;gBAExC,IAAI,MAAM,EAAE;oBACR,MAAM;iBACT;aACJ;SACJ;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,yCAAmB,GAAnB;QACI,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAElC,OAAO,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;IACxD,CAAC;IAED,qDAA+B,GAA/B;QACI,IAAI,IAAI,CAAC,mBAAmB,KAAK,SAAS,EAAE;YACxC,OAAO,IAAI,CAAC,mBAAmB,CAAC;SACnC;QAED,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,+BAA+B,EAAE,CAAC;SACxD;QAED,OAAO,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC;IAC1C,CAAC;IAED,sBAAI,mCAAU;aAAd;YACI,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,OAAO,IAAI,CAAC,WAAW,CAAC;aAC3B;iBAAM;gBACH,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;iBACjC;qBAAM;oBACH,OAAO,+BAAiB,CAAC;iBAC5B;aACJ;QACL,CAAC;aAED,UAAe,KAAiB;YAC5B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC7B,CAAC;;;OAJA;IAMD,sBAAI,8BAAK;aAAT;YACI,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aACpC;iBAAM;gBACH,OAAO,CAAC,CAAC;aACZ;QACL,CAAC;;;OAAA;IAED,sBAAI,sCAAa;aAAjB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAED,sBAAI,qCAAY;aAAhB;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAI,iCAAQ;aAAZ;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAED,sBAAI,4CAAmB;aAAvB;YACI,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACtC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;aACvF;iBAAM;gBACH,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;;;OAAA;IAED,sBAAI,yCAAgB;aAApB;YACI,OAAO,IAAI,CAAC,iBAAiB,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAI,+BAAM;aAAV;YACI,OAAoB,IAAI,CAAC,OAAO,CAAC;QACrC,CAAC;;;OAAA;IA3rBe,wBAAY,GAAG,IAAI,8BAAc,CAC7C,wBAAQ,CAAC,IAAI,EACb,MAAM,EACN,IAAI,EACJ,gBAAgB,CACnB,CAAC;IACc,6BAAiB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;IACvE,6BAAiB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;IACxE,0BAAc,GAAG,IAAI,gCAAgB,CACjD,wBAAQ,CAAC,IAAI,EACb,QAAQ,EACR,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC,EACzC,MAAM,CACT,CAAC;IACc,uCAA2B,GAAG,IAAI,4BAAY,CAC1D,wBAAQ,CAAC,IAAI,EACb,qBAAqB,EACrB,KAAK,CAAC,mBAAmB,CAC5B,CAAC;IACc,2BAAe,GAAG,IAAI,4BAAY,CAC9C,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,KAAK,CAAC,OAAO,EACb,KAAK,CAAC,OAAO,CAAC,OAAO,CACxB,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,2BAA2B,CAAC;4DACF;IAGhD;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,eAAe,CAAC;gDACf;IAGvB;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,iBAAiB,CAAC;kDACrB;IAGnB;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,cAAc,CAAC;+CACX;IAG1B;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,YAAY,CAAC;2CAalC;IAOD;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,iBAAiB,CAAC;gDAGvC;IAgoBL,kBAAC;CA/rBD,AA+rBC,CA/rByC,wBAAU,GA+rBnD;AA/rBqB,kCAAW;AAisBjC;IAAoC,kCAAkB;IA+BlD,wBACa,aAAsB,EACtB,IAAY,EACZ,oBAAmC;QAAnC,qCAAA,EAAA,yBAAmC;QAHhD,YAKI,kBAAM,aAAa,EAAE,IAAI,EAAE,SAAS,CAAC,SACxC;QALY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,0BAAoB,GAApB,oBAAoB,CAAe;;IAGhD,CAAC;IApCD,8BAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAA6B;QAE7B,IAAM,MAAM,GAAgB,MAAM,CAAC;QAEnC,OAAO,OAAO,CAAC,WAAW,CACtB,MAAM,EACN,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EACjB,IAAI,CAAC,oBAAoB,EACzB,MAAM,CAAC,YAAY,EAAE,CACxB,CAAC;IACN,CAAC;IAED,+BAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAyB,EACzB,OAA6B;QAE7B,OAAO,CAAC,cAAc,CAClB,MAAM,EACN,IAAI,CAAC,IAAI,EACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,EACzC,SAAS,EACT,IAAI,CACP,CAAC;IACN,CAAC;IASL,qBAAC;AAAD,CAtCA,AAsCC,CAtCmC,kCAAkB,GAsCrD;AAtCY,wCAAc;AAwC3B;IAA4C,iCAAW;IA6FnD,uBAAY,IAAa;QAAzB,YACI,iBAAO,SAKV;QARD,gBAAU,GAAY,KAAK,CAAC;QAKxB,IAAI,IAAI,EAAE;YACN,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SACpB;;IACL,CAAC;IAtFS,sCAAc,GAAxB,UAAyB,MAAgC;QACrD,iBAAM,cAAc,YAAC,MAAM,CAAC,CAAC;QAE7B,4EAA4E;QAC5E,4DAA4D;QAC5D,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;IACtD,CAAC;IAkBD,sBAAI,+BAAI;aAAR;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;QACrD,CAAC;aAED,UAAS,KAAyB;YAC9B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACxB,CAAC;;;OAJA;IASD,YAAY;IAEF,mCAAW,GAArB,UAAsB,QAA4B;QAC9C,QAAQ,IAAI,CAAC,aAAa,EAAE;YACxB,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK;gBACrB,OAAO,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;YACpC,KAAK,KAAK,CAAC,QAAQ,CAAC,MAAM;gBACtB,OAAO,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC;YACrC,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK;gBACrB,OAAO,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;YACpC,KAAK,KAAK,CAAC,QAAQ,CAAC,UAAU;gBAC1B,OAAO,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC;YACzC;gBACI,OAAO,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;SACzC;IACL,CAAC;IAES,0CAAkB,GAA5B,UACI,QAA4B,EAC5B,KAAsB;QAEtB,QAAQ,KAAK,EAAE;YACX,KAAK,KAAK,CAAC,SAAS,CAAC,MAAM;gBACvB,OAAO,QAAQ,CAAC,MAAM,CAAC;YAC3B,KAAK,KAAK,CAAC,SAAS,CAAC,IAAI;gBACrB,OAAO,QAAQ,CAAC,IAAI,CAAC;YACzB,KAAK,KAAK,CAAC,SAAS,CAAC,KAAK;gBACtB,OAAO,QAAQ,CAAC,KAAK,CAAC;YAC1B,KAAK,KAAK,CAAC,SAAS,CAAC,IAAI;gBACrB,OAAO,QAAQ,CAAC,IAAI,CAAC;YACzB,KAAK,KAAK,CAAC,SAAS,CAAC,OAAO;gBACxB,OAAO,QAAQ,CAAC,OAAO,CAAC;YAC5B,KAAK,KAAK,CAAC,SAAS,CAAC,SAAS;gBAC1B,OAAO,QAAQ,CAAC,SAAS,CAAC;YAC9B;gBACI,OAAO,QAAQ,CAAC,OAAO,CAAC;SAC/B;IACL,CAAC;IAES,+BAAO,GAAjB,UAAkB,KAAyB;QACvC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;IACrD,CAAC;IAYD,4BAAI,GAAJ,UAAK,cAAkC;QACnC,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC;QAChC,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC,MAAM,CAAC;QACpC,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC;IAC5C,CAAC;IAED,gCAAQ,GAAR;QACI,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAED,qCAAa,GAAb,UAAc,aAA0B;QACpC,IAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAE/E,IAAI,QAAQ,CAAC,UAAU,EAAE;YACrB,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;SACxD;QAED,IAAI,QAAgB,CAAC;QAErB,QAAQ,IAAI,CAAC,aAAa,EAAE;YACxB,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK;gBACrB,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;gBACpC,MAAM;YACV,KAAK,KAAK,CAAC,QAAQ,CAAC,MAAM;gBACtB,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC;gBACrC,MAAM;YACV,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK;gBACrB,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;gBACpC,MAAM;YACV,KAAK,KAAK,CAAC,QAAQ,CAAC,UAAU;gBAC1B,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC;gBACzC,MAAM;YACV;gBACI,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;gBACtC,MAAM;SACb;QAED,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC;QAE/C,IAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAC3C,IAAI,CAAC,2BAA2B,EAAE,CAAC,gBAAgB,EACnD,IAAI,CAAC,cAAc,CACtB,CAAC;QAEF,IAAM,WAAW,GAAG,KAAK,CAAC,gBAAgB,CACtC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,CAC5E,CAAC;QACF,IAAI,WAAW,EAAE;YACb,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC;SAC3C;QAED,IAAI,UAAkB,CAAC;QAEvB,QAAQ,IAAI,CAAC,eAAe,EAAE;YAC1B,KAAK,KAAK,CAAC,UAAU,CAAC,OAAO;gBACzB,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;gBAC1C,MAAM;YACV,KAAK,KAAK,CAAC,UAAU,CAAC,MAAM;gBACxB,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC;gBACzC,MAAM;YACV;gBACI,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;gBAC1C,MAAM;SACb;QAED,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC,QAAQ,EAAE,CAAC;QAEvD,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,aAAa,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;SACrD;IACL,CAAC;IAED,qCAAa,GAAb;QACI,IAAM,MAAM,GAAG,iBAAM,aAAa,WAAE,CAAC;QAErC,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAClC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,yCAAc;aAAlB;YACI,OAAO,IAAI,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,+BAA+B,EAAE,CAAC,KAAK,CAAC;QAChG,CAAC;;;OAAA;IAED,sBAAI,4CAAiB;aAArB;YACI,OAAO,IAAI,CAAC,QAAQ,KAAK,SAAS;gBAC9B,CAAC,CAAC,IAAI,CAAC,QAAQ;gBACf,CAAC,CAAC,IAAI,CAAC,+BAA+B,EAAE,CAAC,QAAQ,CAAC;QAC1D,CAAC;;;OAAA;IAED,sBAAI,4CAAiB;aAArB;YACI,OAAO,IAAI,CAAC,QAAQ,KAAK,SAAS;gBAC9B,CAAC,CAAC,IAAI,CAAC,QAAQ;gBACf,CAAC,CAAC,IAAI,CAAC,+BAA+B,EAAE,CAAC,QAAQ,CAAC;QAC1D,CAAC;;;OAAA;IAED,sBAAI,wCAAa;aAAjB;YACI,OAAO,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,+BAA+B,EAAE,CAAC,IAAI,CAAC;QAC7F,CAAC;;;OAAA;IAED,sBAAI,0CAAe;aAAnB;YACI,OAAO,IAAI,CAAC,MAAM,KAAK,SAAS;gBAC5B,CAAC,CAAC,IAAI,CAAC,MAAM;gBACb,CAAC,CAAC,IAAI,CAAC,+BAA+B,EAAE,CAAC,MAAM,CAAC;QACxD,CAAC;;;OAAA;IA/MD,gBAAgB;IAEA,0BAAY,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;IAC/D,0BAAY,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;IACvE,4BAAc,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;IAC7E,2BAAa,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;IAC1E,8BAAgB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;IAC/D,8BAAgB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC/E,kCAAoB,GAAG,IAAI,cAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,cAAc,EAAE;QACrF,iBAAiB;KACpB,CAAC,CAAC;IAWH;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,YAAY,CAAC;+CACf;IAGtB;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,cAAc,CAAC;iDACb;IAG1B;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,aAAa,CAAC;gDACd;IAGxB;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,gBAAgB,CAAC;mDACf;IAG1B;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,gBAAgB,CAAC;mDACtB;IAGnB;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,YAAY,CAAC;6CAGpC;IAOD;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,oBAAoB,CAAC;uDACvB;IAmK1B,oBAAC;CAjND,AAiNC,CAjN2C,WAAW,GAiNtD;AAjNqB,sCAAa;AAqNnC;IAA+B,6BAAa;IAA5C;QACI,gBAAgB;QADpB,qEA+WC;QAnWG,UAAI,GAAY,KAAK,CAAC;QAad,uBAAiB,GAAY,IAAI,CAAC;QA+Q1C,iBAAW,GAAY,IAAI,CAAC;;IAuEhC,CAAC;IApVW,0CAAsB,GAA9B;;QACI,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS,EAAE;YACpC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;gBACpC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,SAAS;oBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;aACvD;YAED,IAAM,YAAY,GAAG,MAAA,MAAA,SAAS,CAAC,kBAAkB,0CAAE,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,mCAAI,IAAI,CAAC,kBAAkB,CAAC;YAClH,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,YAAsB,CAAC;SAC3D;IACL,CAAC;IAEO,uCAAmB,GAA3B,UAA4B,SAAiB;QACzC,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS,EAAE;YACpC,+DAA+D;YAC/D,gEAAgE;YAChE,yBAAyB;YACzB,IAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;YAC/C,IAAM,UAAU,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;YACpC,IAAM,mBAAmB,GACrB,UAAU;gBACV,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,IAAkB,QAAQ,CAAC,CAAC,CAAE,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,GAAG,IAAI,CAAe,QAAQ,CAAC,CAAC,CAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAEvI,IAAI,mBAAmB,EAAE;gBACrB,IAAM,OAAO,GAAG,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAc,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAE7E,KAAK,CAAC,YAAY,CAAC,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBAEjE,OAAO,IAAI,CAAC;aACf;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAkBS,2BAAO,GAAjB,UAAkB,KAAa;QAC3B,iBAAM,OAAO,YAAC,KAAK,CAAC,CAAC;QAErB,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;IACpC,CAAC;IAES,kCAAc,GAAxB;QAAA,iBAgMC;;QA/LG,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAEhC,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAM,gBAAgB,GAAG,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;YAClF,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAEnC,IAAI,OAAO,SAAa,CAAC;YAEzB,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBACrD,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;gBAEzC,OAAO,GAAG,YAAY,CAAC;aAC1B;iBAAM;gBACH,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;aAC3C;YAED,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC,CAAC;YACnE,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAElC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAE5B,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;gBAC1B,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;gBAExC,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC;gBAE5D,IAAI,YAAY,KAAK,SAAS,IAAI,YAAY,GAAG,CAAC,EAAE;oBAChD,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;iBAC/D;aACJ;YAED,IAAI,IAAI,CAAC,YAAY,IAAI,UAAU,CAAC,qBAAqB,EAAE;gBACvD,OAAO,CAAC,OAAO,GAAG,UAAC,CAAC;oBAChB,IAAI,KAAI,CAAC,YAAY,IAAI,KAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE;wBAC/D,CAAC,CAAC,cAAc,EAAE,CAAC;wBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEtB,KAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;qBAC/B;gBACL,CAAC,CAAC;gBAEF,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,OAAO,CAAC,CAAC;gBAExD,IAAI,IAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE;oBAC1C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC;iBACvE;aACJ;YAED,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACtB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAE9B,IAAI,aAAa,GAAG,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC;gBAE3E,IAAI,IAAI,CAAC,WAAW,IAAI,aAAa,EAAE;oBACnC,IAAI,uBAAc,CAAC,4BAA4B,EAAE;wBAC7C,aAAa,GAAG,aAAa;6BACxB,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC;6BACzB,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;qBACrC;oBAED,IAAM,wBAAwB,GAAG,YAAY,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;oBAE3E,IACI,wBAAwB,CAAC,UAAU;wBACnC,wBAAwB,CAAC,UAAU,EACrC;wBACE,IAAI,CAAC,cAAc,GAAG,wBAAwB,CAAC,UAAU,CAAC;wBAC1D,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;wBAE/B,qEAAqE;wBACrE,0EAA0E;wBAC1E,IAAI,uBAAc,CAAC,4BAA4B,IAAI,IAAI,CAAC,cAAc,EAAE;4BACpE,IAAI,SAAS,GAAW,EAAE,CAAC;4BAC3B,IAAM,cAAc,GAAG,IAAI,CAAC,2BAA2B,EAAE,CAAC;4BAE1D,IAAI,cAAc,CAAC,wBAAwB,EAAE;gCACzC,SAAS;oCACL,oBAAoB;wCACpB,cAAc,CAAC,wBAAwB;wCACvC,GAAG,CAAC;6BACX;4BAED,IAAI,cAAc,CAAC,wBAAwB,EAAE;gCACzC,SAAS;oCACL,SAAS,GAAG,cAAc,CAAC,wBAAwB,GAAG,GAAG,CAAC;6BACjE;4BAED,IAAI,SAAS,EAAE;gCACX,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,GAAG,CAAC;6BAC3C;4BAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc;iCACpC,OAAO,CAAC,MAAM,EAAE,QAAQ,GAAG,SAAS,GAAG,GAAG,CAAC;iCAC3C,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;yBACtC;qBACJ;yBAAM;wBACH,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;wBACpC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;qBACjC;iBACJ;qBAAM;oBACH,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;oBACpC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;iBACjC;aACJ;YAED,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACtB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;aAC5B;YAED,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACxB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;aAC3C;iBAAM;gBACH,IAAM,aAAa,GACf,MAAA,MAAA,SAAS,CAAC,iBAAiB,0CAAE,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,mCAC5D,IAAI,CAAC,cAAc,CAAC;gBACxB,OAAO,CAAC,SAAS,GAAG,aAAuB,CAAC;aAC/C;YAED,IAAI,OAAO,CAAC,iBAAiB,YAAY,WAAW,EAAE;gBAClD,IAAM,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;gBACpD,iBAAiB,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;gBAC1C,iBAAiB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBAEvC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;oBACZ,iBAAiB,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBAC5C,iBAAiB,CAAC,KAAK,CAAC,YAAY,GAAG,UAAU,CAAC;iBACrD;aACJ;YAED,IAAI,OAAO,CAAC,gBAAgB,YAAY,WAAW,EAAE;gBACjD,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;aACvD;YAED,IAAM,OAAO,GAAG,OAAO,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;oCAEvC,MAAM;gBACb,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC;gBACzB,MAAM,CAAC,OAAO,GAAG,UAAC,CAAa;oBAC3B,IAAI,uBAAuB,CAAC,KAAI,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE;wBAC1C,CAAC,CAAC,cAAc,EAAE,CAAC;wBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;qBACzB;gBACL,CAAC,CAAC;gBACF,MAAM,CAAC,aAAa,GAAG,UAAC,CAAa;oBACjC,IAAI,uBAAuB,CAAC,KAAI,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE;wBAC1C,CAAC,CAAC,cAAc,EAAE,CAAC;wBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEtB,OAAO,KAAK,CAAC;qBAChB;oBAED,OAAO,IAAI,CAAC;gBAChB,CAAC,CAAC;;YAlBN,KAAqB,UAAmB,EAAnB,KAAA,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAnB,cAAmB,EAAnB,IAAmB;gBAAnC,IAAM,MAAM,SAAA;wBAAN,MAAM;aAmBhB;YAED,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,YAAY,CAAC;gBAEtC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;oBACpC,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBAElC,IAAI,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,uBAAc,CAAC,kBAAkB,EAAE;wBAClE,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;qBAC7E;yBAAM;wBACH,6EAA6E;wBAC7E,wEAAwE;wBACxE,kFAAkF;wBAClF,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;wBAC5C,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,aAAa,CAAC;wBACtC,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,UAAU,CAAC;wBAC3C,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;qBAC5D;iBACJ;aACJ;iBAAM;gBACH,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;gBACpC,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,UAAU,CAAC;aAC3C;YAED,IACI,uBAAc,CAAC,8BAA8B;gBAC7C,uBAAc,CAAC,+BAA+B,EAChD;gBACE,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,SAAS,CAAC;aAC/C;YAED,OAAO,OAAO,CAAC;SAClB;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAES,oCAAgB,GAA1B,UAA2B,SAAiB;QACxC,IAAI,SAAS,IAAI,IAAI,CAAC,mBAAmB,EAAE;YACvC,OAAO,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;SAC9C;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,0CAAsB,GAAhC;QACI,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAE9B,IAAI,uBAAc,CAAC,8BAA8B,IAAI,IAAI,CAAC,QAAQ,EAAE;YAChE,IAAM,SAAS,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC;YAE3D,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;SACvC;IACL,CAAC;IAKD,iCAAa,GAAb,UAAc,aAA0B;QACpC,iBAAM,aAAa,YAAC,aAAa,CAAC,CAAC;QAEnC,QAAQ,IAAI,CAAC,+BAA+B,EAAE,EAAE;YAC5C,KAAK,KAAK,CAAC,mBAAmB,CAAC,MAAM;gBACjC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;gBACzC,MAAM;YACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,KAAK;gBAChC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;gBACtC,MAAM;YACV;gBACI,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;gBACxC,MAAM;SACb;QAED,IAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;QAEhD,IAAI,WAAW,EAAE;YACb,QAAQ,IAAI,CAAC,aAAa,EAAE;gBACxB,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK;oBACrB,IAAI,CAAC,mBAAmB,GAAG,WAAW,CAAC,KAAK,CAAC;oBAC7C,MAAM;gBACV,KAAK,KAAK,CAAC,QAAQ,CAAC,MAAM;oBACtB,IAAI,CAAC,mBAAmB,GAAG,WAAW,CAAC,MAAM,CAAC;oBAC9C,MAAM;gBACV,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK;oBACrB,IAAI,CAAC,mBAAmB,GAAG,WAAW,CAAC,KAAK,CAAC;oBAC7C,MAAM;gBACV,KAAK,KAAK,CAAC,QAAQ,CAAC,UAAU;oBAC1B,IAAI,CAAC,mBAAmB,GAAG,WAAW,CAAC,UAAU,CAAC;oBAClD,MAAM;gBACV;oBACI,IAAI,CAAC,mBAAmB,GAAG,WAAW,CAAC,OAAO,CAAC;oBAC/C,MAAM;aACb;SACJ;aAAM;YACH,6DAA6D;YAC7D,kBAAkB;YAClB,IAAI,CAAC,mBAAmB;gBACpB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBAC/E,IAAI,CAAC;SACZ;QAED,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;IACrE,CAAC;IAED,mCAAe,GAAf;QACI,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,mDAA+B,GAA/B;QACI,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAChE;QAED,OAAO,iBAAM,+BAA+B,WAAE,CAAC;IACnD,CAAC;IAED,gCAAY,GAAZ,UAAa,eAAgC;QAAhC,gCAAA,EAAA,uBAAgC;QACzC,iBAAM,YAAY,YAAC,eAAe,CAAC,CAAC;QAEpC,IAAI,uBAAc,CAAC,8BAA8B,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;YACtF,+DAA+D;YAC/D,wBAAwB;YACxB,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;SACtE;IACL,CAAC;;IA3We,sBAAY,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IAC9D,0BAAgB,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;IAC9D,uBAAa,GAAG,IAAI,gCAAgB,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,EAAE;QACzE,EAAE,KAAK,EAAE,SAAS,EAAE;QACpB,EAAE,KAAK,EAAE,cAAc,EAAE;QACzB,EAAE,KAAK,EAAE,SAAS,EAAE;KACvB,CAAC,CAAC;IAqDH,kHAAkH;IAClH,aAAa;IACW,2BAAiB,GAAG,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAA,MAAM,CAAC,YAAY,0CAAE,YAAY,CACvH,yCAAyC,EACzC,EAAE,UAAU,EAAE,UAAC,KAAK,IAAK,OAAA,KAAK,EAAL,CAAK,EAAE,CACnC,CAAC;IAEF,gGAAgG;IAChG,kGAAkG;IAClG,gHAAgH;IAChH,sCAAsC;IACd,4BAAkB,GAAG,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAA,MAAM,CAAC,YAAY,0CAAE,YAAY,CACxH,qCAAqC,EACrC,EAAE,UAAU,EAAE,UAAC,KAAK,IAAK,OAAA,KAAK,EAAL,CAAK,EAAE,CACnC,CAAC;IAhEF;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,YAAY,CAAC;2CACX;IAGtB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,gBAAgB,CAAC;+CACnB;IAGlB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,aAAa,CAAC;4CACX;IA6V3B,gBAAC;CA/WD,AA+WC,CA/W8B,aAAa,GA+W3C;AA/WY,8BAAS;AAiXtB;IAA6B,2BAAa;IAA1C;QACI,gBAAgB;QADpB,qEAuHC;QAxGG,YAAM,GAAY,KAAK,CAAC;QAGxB,mBAAa,GAAY,KAAK,CAAC;QAG/B,eAAS,GAAY,KAAK,CAAC;QAG3B,eAAS,GAAY,KAAK,CAAC;;IA+F/B,CAAC;IA/Ga,gCAAc,GAAxB,UAAyB,MAAgC;QACrD,iBAAM,cAAc,YAAC,MAAM,CAAC,CAAC;QAE7B,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;IACnD,CAAC;IAcD,YAAY;IAEF,gCAAc,GAAxB;QAAA,iBA8CC;QA7CG,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAM,gBAAgB,GAAG,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;YAClF,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAEnC,IAAI,aAAa,GAAG,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC;YAE3E,IAAI,CAAC,aAAa,EAAE;gBAChB,aAAa,GAAG,EAAE,CAAC;aACtB;YAED,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC/C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC;YAEjE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAE5B,IAAI,IAAI,CAAC,YAAY,IAAI,UAAU,CAAC,qBAAqB,EAAE;gBACvD,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBAC3C,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC,CAAC;gBAE/D,IAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;gBAEzC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC/B,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC;gBACzB,MAAM,CAAC,OAAO,GAAG,UAAC,CAAC;oBACf,IAAI,KAAI,CAAC,YAAY,IAAI,KAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE;wBAC/D,CAAC,CAAC,cAAc,EAAE,CAAC;wBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEtB,KAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;qBAC/B;gBACL,CAAC,CAAC;gBAEF,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,MAAM,CAAC,CAAC;gBAEvD,MAAM,CAAC,SAAS,GAAG,aAAa,CAAC;gBAEjC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;aAC/B;iBAAM;gBACH,OAAO,CAAC,SAAS,GAAG,aAAa,CAAC;aACrC;YAED,OAAO,OAAO,CAAC;SAClB;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAED,+BAAa,GAAb,UAAc,aAA0B;QACpC,iBAAM,aAAa,YAAC,aAAa,CAAC,CAAC;QAEnC,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;SAC5C;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,aAAa,CAAC,KAAK,CAAC,cAAc,GAAG,cAAc,CAAC;SACvD;QAED,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAC3C,IAAI,CAAC,2BAA2B,EAAE,CAAC,gBAAgB,EACnD,IAAI,CAAC,cAAc,CACtB,CAAC;YAEF,IAAM,eAAe,GAAG,KAAK,CAAC,gBAAgB,CAC1C,IAAI,CAAC,iBAAiB;gBAClB,CAAC,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM;gBACxC,CAAC,CAAC,eAAe,CAAC,eAAe,CAAC,OAAO,CAChD,CAAC;YACF,IAAI,eAAe,EAAE;gBACjB,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;aACzD;SACJ;QAED,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,aAAa,CAAC,KAAK,CAAC,cAAc,GAAG,WAAW,CAAC;SACpD;IACL,CAAC;IAED,iCAAe,GAAf;QACI,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,sBAAI,iCAAY;aAAhB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAED,sBAAI,6BAAQ;aAAZ;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAnHe,sBAAc,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IAClE,6BAAqB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;IAChF,yBAAiB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;IACxE,yBAAiB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;IASxF;QADC,IAAA,wBAAQ,EAAC,OAAO,CAAC,cAAc,CAAC;2CACT;IAGxB;QADC,IAAA,wBAAQ,EAAC,OAAO,CAAC,qBAAqB,CAAC;kDACT;IAG/B;QADC,IAAA,wBAAQ,EAAC,OAAO,CAAC,iBAAiB,CAAC;8CACT;IAG3B;QADC,IAAA,wBAAQ,EAAC,OAAO,CAAC,iBAAiB,CAAC;8CACT;IA+F/B,cAAC;CAvHD,AAuHC,CAvH4B,aAAa,GAuHzC;AAvHY,0BAAO;AAyHpB;IAAmC,iCAAW;IAA9C;QAAA,qEA0JC;QAzJW,cAAQ,GAAkB,EAAE,CAAC;;IAyJzC,CAAC;IAvJW,yCAAiB,GAAzB,UAA0B,MAAmB,EAAE,QAAyB;QAAzB,yBAAA,EAAA,gBAAyB;QACpE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;YAClB,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,2BAA2B,EAAE,CAAC,CAAC;SACjE;QAED,IAAM,KAAK,GAAY,MAAM,CAAC,MAAM,KAAK,SAAS,IAAI,QAAQ,CAAC;QAE/D,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,KAAK,IAAI,EAAE;YAClC,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,CAAC;SAC3D;aAAM;YACH,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAEvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC9B;IACL,CAAC;IAES,qCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAEnB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE;YAClC,KAAyB,UAAiB,EAAjB,KAAA,MAAM,CAAC,SAAS,CAAC,EAAjB,cAAiB,EAAjB,IAAiB,EAAE;gBAAvC,IAAM,UAAU,SAAA;gBACjB,IAAI,MAAM,SAAyB,CAAC;gBAEpC,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;oBAChC,IAAM,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;oBAC9B,OAAO,CAAC,IAAI,GAAG,UAAU,CAAC;oBAE1B,MAAM,GAAG,OAAO,CAAC;iBACpB;qBAAM;oBACH,iCAAiC;oBACjC,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;iBAC9D;gBAED,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;iBACxC;aACJ;SACJ;IACL,CAAC;IAES,sCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,IAAM,WAAW,GAAU,EAAE,CAAC;YAE9B,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;gBAA/B,IAAM,MAAM,SAAA;gBACb,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;aAC5C;YAED,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;SAC1D;IACL,CAAC;IAES,sCAAc,GAAxB;QACI,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,IAAI,OAAO,SAAa,CAAC;YAEzB,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBACrD,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;gBAEzC,OAAO,GAAG,YAAY,CAAC;aAC1B;iBAAM;gBACH,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;aAC3C;YAED,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC;YAEzE,QAAQ,IAAI,CAAC,+BAA+B,EAAE,EAAE;gBAC5C,KAAK,KAAK,CAAC,mBAAmB,CAAC,MAAM;oBACjC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;oBACnC,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,KAAK;oBAChC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;oBAChC,MAAM;gBACV;oBACI,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;oBAClC,MAAM;aACb;YAED,IAAI,eAAe,GAAW,CAAC,CAAC;YAEhC,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;gBAA/B,IAAM,MAAM,SAAA;gBACb,IAAM,cAAc,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;gBAEvC,IAAI,cAAc,EAAE;oBAChB,OAAO,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;oBAEpC,eAAe,EAAE,CAAC;iBACrB;aACJ;YAED,IAAI,eAAe,GAAG,CAAC,EAAE;gBACrB,OAAO,OAAO,CAAC;aAClB;SACJ;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAID,gCAAQ,GAAR;QACI,IAAI,MAAM,GAAG,EAAE,CAAC;QAEhB,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;YAA/B,IAAM,MAAM,SAAA;YACb,MAAM,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC;SAC/B;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,uCAAe,GAAf;QACI,OAAO,eAAe,CAAC;IAC3B,CAAC;IAED,sCAAc,GAAd;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;IAChC,CAAC;IAED,mCAAW,GAAX,UAAY,KAAa;QACrB,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC5C,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SAC/B;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;SAC1D;IACL,CAAC;IAED,iCAAS,GAAT,UAAU,MAA4B;QAClC,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;YAC5B,IAAI,CAAC,iBAAiB,CAAC,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;SAC/C;aAAM;YACH,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;SAClC;IACL,CAAC;IAED,oCAAY,GAAZ,UAAa,MAAmB;QAC5B,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAE5C,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAE/B,OAAO,IAAI,CAAC;SACf;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IACL,oBAAC;AAAD,CA1JA,AA0JC,CA1JkC,WAAW,GA0J7C;AA1JY,sCAAa;AA4J1B;IAA0B,wBAAkB;IAmBxC,cAAY,IAAa,EAAE,KAAc;QAAzC,YACI,iBAAO,SAIV;QAFG,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;IACvB,CAAC;IAXD,YAAY;IAEF,2BAAY,GAAtB;QACI,OAAO,MAAM,CAAC;IAClB,CAAC;IAhBD,gBAAgB;IAEA,kBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,kBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAI3E;QADC,IAAA,wBAAQ,EAAC,IAAI,CAAC,aAAa,CAAC;sCACf;IAGd;QADC,IAAA,wBAAQ,EAAC,IAAI,CAAC,aAAa,CAAC;uCACd;IAcnB,WAAC;CAzBD,AAyBC,CAzByB,kCAAkB,GAyB3C;AAzBY,oBAAI;AA2BjB;IAA6B,2BAAW;IAAxC;;IAmGA,CAAC;IArFG,sBAAc,qCAAgB;QAF9B,YAAY;aAEZ;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAES,gCAAc,GAAxB;QACI,IAAI,OAAO,GAA4B,SAAS,CAAC;QACjD,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAEnC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAC1C,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;YAClC,OAAO,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;YACpC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;YACnC,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;YAC1C,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YAChC,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAClC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC;YACjE,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;YAE7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACxC,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAE/C,IAAI,CAAC,GAAG,CAAC,EAAE;oBACP,SAAS,CAAC,KAAK,CAAC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;iBACjE;gBAED,eAAe;gBACf,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAC7C,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;gBAC9B,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC;gBAEtE,IAAI,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE;oBACnC,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACvE;gBAED,SAAS,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;gBAEtC,IAAI,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;gBAChC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAC1B,SAAS,CAAC,IAAI;oBACV,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC9E,SAAS,CAAC,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,SAAS,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;gBACjD,SAAS,CAAC,QAAQ,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC;gBACvD,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;gBACnD,SAAS,CAAC,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;gBAEvC,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC;gBACjD,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;gBAExC,gBAAgB;gBAChB,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACzC,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBAE/B,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;gBAExC,eAAe;gBACf,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACzC,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;gBAC9B,SAAS,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;gBACtC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC;gBAEtE,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;gBAC5B,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAC1B,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBACrC,SAAS,CAAC,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,SAAS,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;gBACjD,SAAS,CAAC,QAAQ,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC;gBACvD,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;gBACnD,SAAS,CAAC,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/C,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;gBAEvC,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC;gBACjD,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;gBACxC,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;aACzC;SACJ;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,iCAAe,GAAf;QACI,OAAO,SAAS,CAAC;IACrB,CAAC;IAjGD,gBAAgB;IAEA,qBAAa,GAAG,IAAI,oDAAoC,CACpE,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP,IAAI,CACP,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,OAAO,CAAC,aAAa,CAAC;0CAClB;IAyFlB,cAAC;CAnGD,AAmGC,CAnG4B,WAAW,GAmGvC;AAnGY,0BAAO;AAqGpB;IAAqC,0CAAkB;IA+DnD,gCACa,aAAsB,EACtB,IAAY,EACZ,YAAoB,EACpB,gBAAmC;QAJhD,YAMI,kBAAM,aAAa,EAAE,IAAI,CAAC,SAC7B;QANY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,kBAAY,GAAZ,YAAY,CAAQ;QACpB,sBAAgB,GAAhB,gBAAgB,CAAmB;;IAGhD,CAAC;IArED,gDAAe,GAAf;QACI,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,sCAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAI,MAAM,GAAuB,SAAS,CAAC;QAC3C,IAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEtC,IAAI,WAAW,KAAK,SAAS,EAAE;YAC3B,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QAED,IAAI,OAAO,GAAG,KAAK,CAAC;QAEpB,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;YACjC,IAAI;gBACA,IAAM,IAAI,GAAG,oBAAW,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;gBAElD,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE;oBACpC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;oBAE3B,OAAO,GAAG,IAAI,CAAC;iBAClB;aACJ;YAAC,WAAM;gBACJ,wBAAwB;aAC3B;YAED,gEAAgE;YAChE,6DAA6D;YAC7D,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACnC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;aACtE;SACJ;QAED,IAAI,CAAC,OAAO,EAAE;YACV,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAC9D,CAAC;SACL;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,uCAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAyB,EACzB,OAAiC;QAEjC,OAAO,CAAC,cAAc,CAClB,MAAM,EACN,IAAI,CAAC,IAAI,EACT,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,SAAS,CACxE,CAAC;IACN,CAAC;IAUL,6BAAC;AAAD,CAvEA,AAuEC,CAvEoC,kCAAkB,GAuEtD;AAED;IAA2B,yBAAW;IAAtC;QACI,gBAAgB;QADpB,qEAqRC;QAjOG,UAAI,GAAe,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;QAGnC,WAAK,GAAqB,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;;IA8NvD,CAAC;IAnPa,8BAAc,GAAxB,UAAyB,MAAgC;QACrD,iBAAM,cAAc,YAAC,MAAM,CAAC,CAAC;QAE7B,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;IAC9C,CAAC;IA+BD,YAAY;IAEJ,yBAAS,GAAjB,UAAkB,OAAoB;QAClC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE;YACrC,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aAChD;YAED,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aAClD;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,wEAAwE;gBACxE,0EAA0E;gBAC1E,2EAA2E;gBAC3E,8BAA8B;gBAC9B,QAAQ,IAAI,CAAC,IAAI,EAAE;oBACf,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK;wBACjB,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;wBAC/D,MAAM;oBACV,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK;wBACjB,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;wBAC/D,MAAM;oBACV;wBACI,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;wBAChE,MAAM;iBACb;gBAED,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACnD;iBAAM;gBACH,QAAQ,IAAI,CAAC,IAAI,EAAE;oBACf,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO;wBACnB,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;wBAC7B,MAAM;oBACV,KAAK,KAAK,CAAC,IAAI,CAAC,IAAI;wBAChB,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;wBAChC,MAAM;oBACV,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK;wBACjB,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;wBAC9D,MAAM;oBACV,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK;wBACjB,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;wBAC9D,MAAM;oBACV,KAAK,KAAK,CAAC,IAAI,CAAC,MAAM;wBAClB,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;wBAC/D,MAAM;iBACb;gBAED,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;aACpC;SACJ;IACL,CAAC;IAED,sBAAc,mCAAgB;aAA9B;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAES,8BAAc,GAAxB;QAAA,iBAgHC;QA/GG,IAAI,OAAO,GAA4B,SAAS,CAAC;QAEjD,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACxC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAC/B,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,YAAY,CAAC;YAExC,wEAAwE;YACxE,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAEnC,QAAQ,IAAI,CAAC,+BAA+B,EAAE,EAAE;gBAC5C,KAAK,KAAK,CAAC,mBAAmB,CAAC,MAAM;oBACjC,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;oBACxC,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,KAAK;oBAChC,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;oBAC1C,MAAM;gBACV;oBACI,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,YAAY,CAAC;oBAC5C,MAAM;aACb;YAED,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAEnD,IAAI,CAAC,oBAAoB,GAAG,YAAY,CAAC;YAEzC,YAAY,CAAC,MAAM,GAAG,UAAC,EAAS;gBAC5B,qBAAqB,CAAC,KAAI,CAAC,CAAC;YAChC,CAAC,CAAC;YACF,YAAY,CAAC,OAAO,GAAG,UAAC,EAAS;gBAC7B,IAAI,KAAI,CAAC,eAAe,EAAE;oBACtB,IAAM,IAAI,GAAG,KAAI,CAAC,cAAc,EAAkB,CAAC;oBAEnD,YAAY,CAAC,KAAI,CAAC,eAAe,CAAC,CAAC;oBAEnC,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;wBACzB,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wBACnD,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;wBACpC,YAAY,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;wBACzC,YAAY,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;wBAC7C,YAAY,CAAC,KAAK,CAAC,eAAe,GAAG,SAAS,CAAC;wBAC/C,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;wBACnC,YAAY,CAAC,SAAS,GAAG,KAAK,CAAC;wBAC/B,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;wBAEpC,KAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;wBAE7B,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;qBAClD;iBACJ;gBAED,qBAAqB,CAAC,KAAI,CAAC,CAAC;YAChC,CAAC,CAAC;YACF,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC;YAClC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC;YAEpE,IAAI,IAAI,CAAC,YAAY,IAAI,UAAU,CAAC,qBAAqB,EAAE;gBACvD,YAAY,CAAC,UAAU,GAAG,UAAC,CAAC;oBACxB,IACI,KAAI,CAAC,YAAY;wBACjB,KAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE;wBACxC,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC,EAC5C;wBACE,yBAAyB;wBACzB,CAAC,CAAC,cAAc,EAAE,CAAC;wBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEtB,KAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;qBAC/B;gBACL,CAAC,CAAC;gBAEF,YAAY,CAAC,OAAO,GAAG,UAAC,CAAC;oBACrB,IAAI,KAAI,CAAC,YAAY,IAAI,KAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE;wBAC/D,CAAC,CAAC,cAAc,EAAE,CAAC;wBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEtB,KAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;qBAC/B;gBACL,CAAC,CAAC;gBAEF,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,YAAY,CAAC,CAAC;gBAE7D,IAAI,IAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE;oBAC1C,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC;iBAC5E;aACJ;YAED,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;YAE7B,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE;gBACxC,YAAY,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;gBACxC,YAAY,CAAC,KAAK,CAAC,kBAAkB,GAAG,SAAS,CAAC;gBAClD,YAAY,CAAC,KAAK,CAAC,gBAAgB,GAAG,WAAW,CAAC;aACrD;YAED,IAAM,eAAe,GAAG,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACrE,IAAI,eAAe,EAAE;gBACjB,YAAY,CAAC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;aACxD;YAED,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;YAElC,IAAM,eAAe,GAAG,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YAC5E,IAAI,eAAe,EAAE;gBACjB,YAAY,CAAC,GAAG,GAAW,eAAe,CAAC;aAC9C;YAED,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;SACrC;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAID,+BAAe,GAAf;QACI,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,6BAAa,GAAb;QACI,IAAM,MAAM,GAAG,iBAAM,aAAa,WAAE,CAAC;QAErC,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAClC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,6BAAa,GAAb,UAAc,EAAU;QACpB,IAAI,MAAM,GAAG,iBAAM,aAAa,YAAC,EAAE,CAAC,CAAC;QAErC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,YAAY,EAAE;YAC9B,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;SAChD;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sCAAsB,GAAtB;QACI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAClE,CAAC;IAEO,8BAAc,GAAtB,UAAuB,YAA8B;QACjD,IAAM,gBAAgB,GAAqB,IAAI,gBAAgB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1F,gBAAgB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACtC,YAAY,CAAC,GAAG,GAAW,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAC3E,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAjRe,iBAAW,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACvD,qBAAe,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC/D,6BAAuB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;IAC/E,mBAAa,GAAG,IAAI,4BAAY,CAC5C,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP,KAAK,CAAC,UAAU,EAChB,KAAK,CAAC,UAAU,CAAC,OAAO,CAC3B,CAAC;IACc,kBAAY,GAAG,IAAI,4BAAY,CAC3C,wBAAQ,CAAC,IAAI,EACb,MAAM,EACN,KAAK,CAAC,IAAI,EACV,KAAK,CAAC,IAAI,CAAC,IAAI,CAClB,CAAC;IACc,wBAAkB,GAAG,IAAI,sBAAsB,CAC3D,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP,YAAY,CACf,CAAC;IACc,yBAAmB,GAAG,IAAI,sBAAsB,CAC5D,wBAAQ,CAAC,IAAI,EACb,QAAQ,EACR,aAAa,EACb,WAAW,CAAC,cAAc,CAC7B,CAAC;IACc,0BAAoB,GAAG,IAAI,cAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,cAAc,EAAE;QACrF,iBAAiB;KACpB,CAAC,CAAC;IACa,6BAAuB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;IAW9F;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,WAAW,CAAC;sCACf;IAGb;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,eAAe,CAAC;0CACf;IAGjB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,uBAAuB,CAAC;kDACf;IAGzB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,YAAY,CAAC;uCACM;IAGnC;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,aAAa,CAAC;wCACqB;IAGnD;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,kBAAkB,CAAC;6CACf;IAGpB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,mBAAmB,CAAC;8CACf;IAGrB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,oBAAoB,CAAC;+CACf;IAGtB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,uBAAuB,CAAC;4CACrB;IAkNvB,YAAC;CArRD,AAqRC,CArR0B,WAAW,GAqRrC;AArRY,sBAAK;AAuRlB,iGAAiG;AACjG,kDAAkD;AAClD,qEAAqE;AACrE;IAGI,0BACa,WAAoB,EACpB,GAAwB;QADxB,gBAAW,GAAX,WAAW,CAAS;QACpB,QAAG,GAAH,GAAG,CAAqB;QAGjC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,IAAI,WAAW,EAAE;YAClC,yEAAyE;YACzE,kEAAkE;YAClE,0EAA0E;YAC1E,yEAAyE;YACzE,IAAI,CAAC,UAAU,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACnC,IAAI,CAAC,sBAAsB,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;SACvD;IACL,CAAC;IAEM,yCAAc,GAArB,UAAsB,KAAY;QAC9B,IAAI,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE;YACnE,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,sBAAsB,CAAC;SAC3C;IACL,CAAC;IAEM,qCAAU,GAAjB,UAAkB,KAAY;QAC1B,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;IACzB,CAAC;IACL,uBAAC;AAAD,CA3BA,AA2BC,IAAA;AAED;IAAmD,wCAAW;IAA9D;QACI,gBAAgB;QADpB,qEAgPC;QAlLG,2BAAqB,GAAY,KAAK,CAAC;;IAkL3C,CAAC;IAzOa,6CAAc,GAAxB,UAAyB,MAAgC;QACrD,iBAAM,cAAc,YAAC,MAAM,CAAC,CAAC;QAE7B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACpB,MAAM,CAAC,MAAM,CAAC,oBAAoB,CAAC,oBAAoB,CAAC,CAAC;SAC5D;IACL,CAAC;IAKD,YAAY;IAEF,+CAAgB,GAA1B,UAA2B,OAAoB;QAC3C,OAAO,IAAI,CAAC,UAAU,CAAC,qBAAqB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;IAC3E,CAAC;IAES,2CAAY,GAAtB;QACI,iBAAM,YAAY,WAAE,CAAC;QAErB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACvB,OAAO;SACV;QAED,IAAI,eAAe,GAAG,IAAI,0BAAiB,EAAE,CAAC;QAE9C,IAAI,IAAI,CAAC,mBAAmB,EAAE,EAAE;YAC5B,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,oCAAoC,CAClE,IAAI,CAAC,mBAAmB,EAAE,CAC7B,CAAC;SACL;QAED,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,GAAG,GAAG,IAAI,CAAC;QACnE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,GAAG,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC;QACvE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,GAAG,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC;QACzE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,GAAG,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC;QAErE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,CAAC;QAC7C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC;IAChD,CAAC;IAED,sBAAc,8CAAY;aAA1B;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAES,qDAAsB,GAAhC;QACI,OAAO,EAAE,CAAC;IACd,CAAC;IAUD,kDAAmB,GAAnB;QACI,iBAAM,mBAAmB,WAAE,CAAC;QAE5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1C,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,mBAAmB,EAAE,CAAC;SAC3C;IACL,CAAC;IAED,yDAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1C,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAE/B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,qBAAqB,IAAI,IAAI,CAAC,aAAa,EAAE;gBAC9D,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,uBAAuB,EAC7C,iBAAO,CAAC,MAAM,CAAC,uBAAuB,EAAE,CAC3C,CAAC;aACL;YAED,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE;gBAC9B,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,uBAAuB,EAC7C,iBAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAC/D,CAAC;aACL;YAED,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC;SAC5C;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC;SAC1D;IACL,CAAC;IAED,qCAAM,GAAN;QAAA,iBAiDC;QAhDG,IAAM,OAAO,GAAG,iBAAM,MAAM,WAAE,CAAC;QAE/B,IAAI,OAAO,EAAE;YACT,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAEnC,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC5B,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;gBACnC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;aACpC;YAED,IACI,OAAO;gBACP,IAAI,CAAC,YAAY;gBACjB,IAAI,CAAC,aAAa;gBAClB,UAAU,CAAC,qBAAqB,EAClC;gBACE,OAAO,CAAC,OAAO,GAAG,UAAC,CAAC;oBAChB,IAAI,KAAI,CAAC,aAAa,IAAI,KAAI,CAAC,aAAa,CAAC,oBAAoB,EAAE,EAAE;wBACjE,CAAC,CAAC,cAAc,EAAE,CAAC;wBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEtB,KAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;qBAChC;gBACL,CAAC,CAAC;gBAEF,OAAO,CAAC,UAAU,GAAG,UAAC,CAAC;oBACnB,IACI,KAAI,CAAC,aAAa;wBAClB,KAAI,CAAC,aAAa,CAAC,oBAAoB,EAAE;wBACzC,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC,EAC5C;wBACE,yBAAyB;wBACzB,CAAC,CAAC,cAAc,EAAE,CAAC;wBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEtB,KAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;qBAChC;gBACL,CAAC,CAAC;gBAEF,IAAI,CAAC,aAAa,CAAC,4BAA4B,CAAC,OAAO,CAAC,CAAC;gBAEzD,IAAI,IAAI,CAAC,aAAa,CAAC,oBAAoB,EAAE,EAAE;oBAC3C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC;iBACvE;aACJ;SACJ;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,2CAAY,GAAZ,UAAa,eAA+B;QAA/B,gCAAA,EAAA,sBAA+B;QACxC,iBAAM,YAAY,YAAC,eAAe,CAAC,CAAC;QAEpC,IAAI,eAAe,EAAE;YACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC;aACpC;SACJ;IACL,CAAC;IAED,2CAAY,GAAZ,UAAa,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QACvC,IAAI,MAAM,GAAY,EAAE,CAAC;QAEzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1C,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE;SAClE;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,4CAAa,GAAb;QACI,IAAM,MAAM,GAAG,iBAAM,aAAa,WAAE,CAAC;QAErC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1C,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,aAAa,EAAE,EAAE;SACrD;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SACnC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,qDAAsB,GAAtB;QACI,IAAI,MAAM,GAA2B,EAAE,CAAC;QAExC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1C,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,sBAAsB,EAAE,EAAE;SAC9D;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,6CAAc,GAAd,UAAe,EAAU;QACrB,IAAI,MAAM,GAAG,iBAAM,cAAc,YAAC,EAAE,CAAC,CAAC;QAEtC,IAAI,CAAC,MAAM,EAAE;YACT,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;gBAC1C,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;gBAE9C,IAAI,MAAM,EAAE;oBACR,MAAM;iBACT;aACJ;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED;;OAEG;IACH,+CAAgB,GAAhB,UAAiB,IAAU;;QACvB,IAAI,MAAM,GAA2B,SAAS,CAAC;QAE/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1C,+BAA+B;YAC/B,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAElD,IAAI,MAAM,EAAE;gBACR,OAAO,MAAM,CAAC;aACjB;SACJ;QAED,8CAA8C;QAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5C,MAAM,GAAG,MAAA,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,0CAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAErD,IAAI,MAAM,EAAE;gBACR,OAAO,MAAM,CAAC;aACjB;SACJ;QAED,sEAAsE;QACtE,OAAO,iBAAM,gBAAgB,YAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IA5Oe,yCAAoB,GAAG,IAAI,cAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,cAAc,EAAE;QACrF,iBAAiB;KACpB,CAAC,CAAC;IAWH;QADC,IAAA,wBAAQ,EAAC,oBAAoB,CAAC,oBAAoB,CAAC;+DACnB;IAgOrC,2BAAC;CAhPD,AAgPC,CAhPkD,WAAW,GAgP7D;AAhPqB,oDAAoB;AAkP1C;IAA8B,4BAAoB;IAAlD;QACI,gBAAgB;QADpB,qEAwKC;QAtIW,aAAO,GAAY,EAAE,CAAC;QAG9B,eAAS,GAAoB,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;QAGpD,uBAAiB,GAAoC,KAAK,CAAC,yBAAyB,CAAC,OAAO,CAAC;QAG7F,iBAAW,GAAW,CAAC,CAAC;;IA6H5B,CAAC;IA3HG,YAAY;IAEF,iCAAc,GAAxB;QACI,IAAI,OAAO,GAA4B,SAAS,CAAC;QAEjD,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACxC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAC/B,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;YAEhC,KAAoB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;gBAA7B,IAAM,KAAK,SAAA;gBACZ,QAAQ,IAAI,CAAC,SAAS,EAAE;oBACpB,KAAK,KAAK,CAAC,SAAS,CAAC,KAAK;wBACtB,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;wBAC9B,MAAM;oBACV,KAAK,KAAK,CAAC,SAAS,CAAC,KAAK;wBACtB,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;wBAC9B,MAAM;oBACV;wBACI,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;wBAC/B,MAAM;iBACb;gBAED,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,cAAc,CAAC;gBAE1D,IAAM,aAAa,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;gBAErC,IAAI,aAAa,EAAE;oBACf,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,aAAa,CAAC;oBAC5C,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;oBACnC,IAAI,IAAI,CAAC,iBAAiB,IAAI,KAAK,CAAC,yBAAyB,CAAC,OAAO,EAAE;wBACnE,aAAa,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;qBAC5C;oBAED,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;iBAC7C;aACJ;YACD,IAAI,IAAI,CAAC,iBAAiB,IAAI,KAAK,CAAC,yBAAyB,CAAC,OAAO,EAAE;gBACnE,IAAI,CAAC,6BAA6B,EAAE,CAAC;aACxC;SACJ;QAGD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,gDAA6B,GAA7B;QACI,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,oBAAoB,EAAE;YACtC,IAAI,SAAS,GAAG,wBAAwB,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACvH,IAAI,OAAO,GAAG,IAAI,CAAC,2BAA2B,EAAE,CAAC;YACjD,IAAI,SAAS,EAAE;gBACX,IAAI,wBAAwB,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,WAAW,EACxE,SAAS,EAAE,OAAO,CAAC,CAAC;gBACxB,wBAAwB,CAAC,mCAAmC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC9E;SACJ;IACL,CAAC;IAED,8CAA2B,GAA3B;QACI,IAAI,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAChD,IAAI,KAAK,GAAG,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,iBAAiB,EAAE,CAAC;QAEjD,IAAM,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAClE,KAAK,EACL,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CACpE,CAAC;QAEF,OAAO,KAAK,CAAC,gBAAgB,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;IACnE,CAAC;IAED,+BAAY,GAAZ;QACI,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;IAC/B,CAAC;IAED,4BAAS,GAAT,UAAU,KAAa;QACnB,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,8CAA2B,GAA3B;QACI,OAAO,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IACjF,CAAC;IAED,6CAA0B,GAA1B;QACI,OAAO,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC;YAC1C,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;YACvC,CAAC,CAAC,SAAS,CAAC;IACpB,CAAC;IAED,6BAAU,GAAV,UAAW,IAAiB;QACxB,IAAI,IAAI,YAAY,KAAK,EAAE;YACvB,IAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAE7C,IAAI,SAAS,IAAI,CAAC,EAAE;gBAChB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBAElC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAE1B,IAAI,CAAC,YAAY,EAAE,CAAC;gBAEpB,OAAO,IAAI,CAAC;aACf;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,kCAAe,GAAf;QACI,OAAO,UAAU,CAAC;IACtB,CAAC;IAED,2BAAQ,GAAR,UAAS,KAAY;QACjB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAEzB,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SACzB;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;SACrE;IACL,CAAC;IAED,0BAAO,GAAP,UAAQ,WAAwB;QAC5B,OAAO,WAAW,YAAY,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjF,CAAC;IApKe,uBAAc,GAAG,IAAI,oDAAoC,CACrE,wBAAQ,CAAC,IAAI,EACb,QAAQ,EACR,KAAK,EACL,UAAC,MAA0B,EAAE,IAAW;QACpC,IAAI,CAAC,SAAS,CAAc,MAAM,CAAC,CAAC;IACxC,CAAC,CACJ,CAAC;IAEc,0BAAiB,GAAG,IAAI,4BAAY,CAChD,wBAAQ,CAAC,IAAI,EACb,WAAW,EACX,KAAK,CAAC,SAAS,EACf,KAAK,CAAC,SAAS,CAAC,MAAM,CACzB,CAAC;IAEc,+BAAsB,GAAG,IAAI,4BAAY,CACrD,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP,KAAK,CAAC,yBAAyB,EAC/B,KAAK,CAAC,yBAAyB,CAAC,OAAO,CAC1C,CAAC;IAEc,oBAAW,GAAG,IAAI,2BAAW,CACzC,wBAAQ,CAAC,IAAI,EACb,QAAQ,EACR,CAAC,EACD,SAAS,CACZ,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,cAAc,CAAC;6CACJ;IAG9B;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,iBAAiB,CAAC;+CACe;IAGpD;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,sBAAsB,CAAC;uDACmD;IAG7F;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,WAAW,CAAC;iDACP;IA6H5B,eAAC;CAxKD,AAwKC,CAxK6B,oBAAoB,GAwKjD;AAxKY,4BAAQ;AA0KrB;IASI,kCAAY,MAAc,EAAE,SAAiB,EAAE,KAAyB;QARhE,WAAM,GAAG,MAAM,CAAC;QAChB,mBAAc,GAAW,CAAC,CAAC;QAC3B,WAAM,GAAW,CAAC,CAAC;QACnB,0BAAqB,GAAW,CAAC,CAAC;QAClC,WAAM,GAAW,CAAC,CAAC;QACnB,cAAS,GAAW,CAAC,CAAC;QAI1B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,qBAAqB,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;QAC7E,8DAA8D;QAC9D,mDAAmD;QACnD,qFAAqF;QACrF,mEAAmE;QACnE,oGAAoG;QACpG,sFAAsF;QACtF,oDAAoD;QACpD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACxF,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;IACpC,CAAC;IAEO,iDAAc,GAAtB,UAAuB,OAAoB;QACvC,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IAClD,CAAC;IAEO,8CAAW,GAAnB,UAAoB,OAAoB;QACpC,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,GAAE,IAAI,CAAC;IACpE,CAAC;IAEO,gDAAa,GAArB,UAAsB,OAAoB;QACtC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAClE,CAAC;IAEO,iDAAc,GAAtB,UAAuB,OAAoB;QACvC,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;QACnC,OAAO,CAAC,KAAK,CAAC,kBAAkB,GAAG,SAAS,CAAC;QAC7C,OAAO,CAAC,KAAK,CAAC,gBAAgB,GAAG,WAAW,CAAC;IACjD,CAAC;IAEO,8CAAW,GAAnB,UAAoB,OAAoB;QACpC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;QACjE,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;IACvE,CAAC;IAEO,8DAA2B,GAAnC,UAAoC,OAAoB;QACpD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC5B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC7B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC1B,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;IAC/B,CAAC;IAEO,4DAAyB,GAAjC,UAAkC,OAAoB;QAClD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC1B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC7B,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;IAC/B,CAAC;IAED,mEAAmE;IACnE,8DAA8D;IAC9D,6EAA6E;IAC7E,2EAA2E;IACpE,sEAAmC,GAA1C,UAA2C,QAAsB;QAC7D,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;YACtB,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,oBAAoB,EAAE;gBAClC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC;aACzD;SACJ;aACI,IAAI,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,EAAE;YAC7C,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,oBAAoB,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,oBAAoB,EAAE;gBACtE,IAAI,CAAC,2BAA2B,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC;gBACnE,IAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC;aACpE;SACJ;IACL,CAAC;IAEa,mDAA0B,GAAxC,UAAyC,SAAiB;QACtD,IAAI,CAAA,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,KAAI,IAAI,EAAE;YACpD,OAAO,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;SACjE;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IACL,+BAAC;AAAD,CApFA,AAoFC,IAAA;AAED;IAA4C,iCAAkB;IAY1D,YAAY;IAEZ,uBAAY,GAAY,EAAE,QAAiB;QAA3C,YACI,iBAAO,SAIV;QAFG,KAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;;IAC7B,CAAC;IAED,+BAAO,GAAP;QACI,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACpD,CAAC;IAtBD,gBAAgB;IAEA,8BAAgB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;IACjE,yBAAW,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAGvE;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,gBAAgB,CAAC;mDACvB;IAGlB;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,WAAW,CAAC;8CACvB;IAcjB,oBAAC;CAxBD,AAwBC,CAxB2C,kCAAkB,GAwB7D;AAxBqB,sCAAa;AA0BnC;IAAmC,iCAAa;IAQ5C,YAAY;IAEZ,uBAAY,GAAY,EAAE,QAAiB,EAAE,KAAc;QAA3D,YACI,kBAAM,GAAG,EAAE,QAAQ,CAAC,SAGvB;QADG,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;IACvB,CAAC;IAES,oCAAY,GAAtB;QACI,OAAO,eAAe,CAAC;IAC3B,CAAC;IAED,8BAAM,GAAN;QACI,IAAI,MAAM,GAAiC,SAAS,CAAC;QAErD,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;YAChB,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACzC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,GAAI,CAAC;YACvB,MAAM,CAAC,IAAI,GAAG,UAAU,CAAC;YACzB,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAM,CAAC;SAC9B;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IA9BD,gBAAgB;IAEA,2BAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAG3E;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,aAAa,CAAC;gDACvB;IA0BnB,oBAAC;CAhCD,AAgCC,CAhCkC,aAAa,GAgC/C;AAhCY,sCAAa;AAkC1B;IAAiC,+BAAa;IAA9C;;IAgBA,CAAC;IAfa,kCAAY,GAAtB;QACI,OAAO,aAAa,CAAC;IACzB,CAAC;IAED,4BAAM,GAAN;QACI,IAAI,MAAM,GAAkC,SAAS,CAAC;QAEtD,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;YAChB,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC1C,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,GAAI,CAAC;YACvB,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,QAAS,CAAC;SAChC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IACL,kBAAC;AAAD,CAhBA,AAgBC,CAhBgC,aAAa,GAgB7C;AAhBY,kCAAW;AAkBxB;IAAA;IAsBA,CAAC;IAfG,0BAAI,GAAJ;QACI,oCAAoC;IACxC,CAAC;IAED,sBAAI,kCAAS;aAAb;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aAED,UAAwB,KAAyB;YAC7C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAC5B,CAAC;;;OAJA;IAMD,sBAAI,0CAAiB;aAArB;YACI,OAAO,SAAS,CAAC;QACrB,CAAC;;;OAAA;IACL,kBAAC;AAAD,CAtBA,AAsBC,IAAA;AAtBqB,kCAAW;AAwBjC;IAAsC,oCAAW;IAiC7C,0BAAqB,KAAY;QAAjC,YACI,iBAAO,SAGV;QAJoB,WAAK,GAAL,KAAK,CAAO;QA/BzB,sBAAgB,GAAkB,EAAE,CAAC;QACrC,qBAAe,GAAoB,EAAE,CAAC;QAiC1C,KAAI,CAAC,cAAc,EAAE,CAAC;;IAC1B,CAAC;IA/BO,yCAAc,GAAtB;;QACI,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC;QAEpC,KAAqB,UAAkB,EAAlB,KAAA,IAAI,CAAC,KAAK,CAAC,OAAO,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAApC,IAAM,MAAM,SAAA;YACb,IAAM,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAEzE,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC7B,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;oBAC1B,IAAM,KAAK,GAAG,gBAAgB,CAAC,mBAAmB,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE9E,IAAI,KAAK,IAAI,CAAC,EAAE;wBACZ,IAAI,CAAC,kBAAkB,GAAG,gBAAgB,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;qBACzE;iBACJ;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,kBAAkB,EAAE;oBAC/C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACtC;aACJ;SACJ;QAED,CAAA,KAAA,IAAI,CAAC,eAAe,CAAA,CAAC,IAAI,WAAI,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;IAC5D,CAAC;IAUD,kCAAO,GAAP;QACI,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;IAC5C,CAAC;IAEK,4CAAiB,GAAvB;;;;;;KAEC;IAED,iCAAM,GAAN;QACI,IAAI,IAAI,CAAC,kBAAkB,KAAK,OAAO,EAAE;YACrC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SACxD;aAAM;YACH,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SACxD;QAED,IAAI,CAAC,aAAa,CAAC,YAAY,CAC3B,YAAY,EACZ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,iBAAO,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CACpF,CAAC;QACF,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC;QAC1D,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;QACnD,qFAAqF;QACrF,sFAAsF;QACtF,uEAAuE;QACvE,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC;QAEnC,IAAI,KAAK,CAAC,UAAU,EAAE,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;SACnC;QAED,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,MAAM,CAAC;QACpC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAExC,KAAqB,UAAkB,EAAlB,KAAA,IAAI,CAAC,KAAK,CAAC,OAAO,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAApC,IAAM,MAAM,SAAA;YACb,IAAM,cAAc,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;YAEvC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,cAAc,CAAC,CAAC;SACzD;QAED,KAA4B,UAAyB,EAAzB,KAAA,IAAI,CAAC,KAAK,CAAC,cAAc,EAAzB,cAAyB,EAAzB,IAAyB,EAAE;YAAlD,IAAM,aAAa,SAAA;YACpB,IAAI,aAAa,CAAC,QAAQ,IAAI,KAAK,EAAE;gBACjC,IAAM,qBAAqB,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC;gBAErD,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,qBAAqB,CAAC,CAAC;aAChE;SACJ;QAED,OAAO,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IAED,+BAAI,GAAJ;QACI,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;SAC7B;IACL,CAAC;IAED,sBAAI,+CAAiB;aAArB;YACI,OAAO,IAAI,CAAC,kBAAkB,CAAC;QACnC,CAAC;;;OAAA;IApEe,oCAAmB,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAqE7D,uBAAC;CApGD,AAoGC,CApGqC,WAAW,GAoGhD;AApGY,4CAAgB;AAsG7B;IAAgD,qCAAW;IACvD,2BAAY,OAAwB;eAChC,iBAAO;IACX,CAAC;IACL,wBAAC;AAAD,CAJA,AAIC,CAJ+C,WAAW,GAI1D;AAJqB,8CAAiB;AAMvC;IAAqD,0CAAiB;IAGlE,gCAAY,OAAwB,EAAW,WAAoB;QAAnE,YACI,kBAAM,OAAO,CAAC,SAKjB;QAN8C,iBAAW,GAAX,WAAW,CAAS;QAG/D,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE;YACrB,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;SAC9B;;IACL,CAAC;IAID,wCAAO,GAAP;QACI,OAAO,IAAI,CAAC,QAAQ,KAAK,SAAS,CAAC;IACvC,CAAC;IAED,uCAAM,GAAN;QACI,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtC,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC/B,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;QAC7B,SAAS,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;QAEzC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC9C,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACnC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC;QACxB,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC5B,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QAC7B,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACrC,MAAM,CAAC,WAAW,GAAG,GAAG,CAAC;QAEzB,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;SACnC;QAED,MAAM,CAAC,KAAK;YACR,0FAA0F,CAAC;QAC/F,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC;QAE9B,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAE9B,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,sBAAI,2CAAO;aAAX;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;;;OAAA;IACL,6BAAC;AAAD,CAjDA,AAiDC,CAjDoD,iBAAiB,GAiDrE;AAjDqB,wDAAsB;AAmD5C;IAAiC,+BAAsB;IAAvD;;IAgBA,CAAC;IAfS,uCAAiB,GAAvB;;;;;;wBACU,SAAS,GAAG,gDAAyC,IAAI,CAAC,gBAAgB,EAAE,CAAE,CAAC;wBAEtE,qBAAM,KAAK,CAAC,SAAS,CAAC,EAAA;;wBAAjC,QAAQ,GAAG,SAAsB;6BAEjC,QAAQ,CAAC,EAAE,EAAX,wBAAW;wBACA,qBAAM,QAAQ,CAAC,IAAI,EAAE,EAAA;;wBAA5B,IAAI,GAAG,SAAqB;wBAEhC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC;;;;;;KAE9C;IAED,sCAAgB,GAAhB;QACI,OAAO,yCAAkC,IAAI,CAAC,OAAO,gBAAa,CAAC;IACvE,CAAC;IACL,kBAAC;AAAD,CAhBA,AAgBC,CAhBgC,sBAAsB,GAgBtD;AAhBY,kCAAW;AAkBxB;IAAuC,qCAAsB;IAA7D;;IAgBA,CAAC;IAfS,6CAAiB,GAAvB;;;;;;wBACU,MAAM,GAAG,4CAAqC,IAAI,CAAC,OAAO,8BAA2B,CAAC;wBAE7E,qBAAM,KAAK,CAAC,MAAM,CAAC,EAAA;;wBAA9B,QAAQ,GAAG,SAAmB;6BAE9B,QAAQ,CAAC,EAAE,EAAX,wBAAW;wBACA,qBAAM,QAAQ,CAAC,IAAI,EAAE,EAAA;;wBAA5B,IAAI,GAAG,SAAqB;wBAEhC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC;;;;;;KAElD;IAED,4CAAgB,GAAhB;QACI,OAAO,kDAA2C,IAAI,CAAC,OAAO,gBAAa,CAAC;IAChF,CAAC;IACL,wBAAC;AAAD,CAhBA,AAgBC,CAhBsC,sBAAsB,GAgB5D;AAhBY,8CAAiB;AAkB9B;IAAmC,iCAAsB;IAGrD,uBAAY,OAAwB,EAAW,WAAoB;QAAnE,YACI,kBAAM,OAAO,EAAE,WAAW,CAAC,SAK9B;QAN8C,iBAAW,GAAX,WAAW,CAAS;QAG/D,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE;YACjD,KAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/C;;IACL,CAAC;IAEK,yCAAiB,GAAvB;;;gBACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO;oBACzB,CAAC,CAAC,qCAA8B,IAAI,CAAC,OAAO,uBAAoB;oBAChE,CAAC,CAAC,SAAS,CAAC;;;;KACnB;IAED,wCAAgB,GAAhB;QACI,IAAI,GAAG,GAAG,wCAAiC,IAAI,CAAC,OAAO,gBAAa,CAAC;QAErE,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS,EAAE;YACpC,GAAG,IAAI,iBAAU,IAAI,CAAC,eAAe,CAAE,CAAC;SAC3C;QAED,OAAO,GAAG,CAAC;IACf,CAAC;IACL,oBAAC;AAAD,CA1BA,AA0BC,CA1BkC,sBAAsB,GA0BxD;AA1BY,sCAAa;AAiC1B;IAA2B,yBAAW;IAAtC;QAAA,qEA+QC;QAzOG,aAAO,GAAkB,EAAE,CAAC;QAG5B,oBAAc,GAAoB,EAAE,CAAC;;IAsOzC,CAAC;IA1NW,iCAAiB,GAAzB;QACI,KAAqB,UAAwB,EAAxB,KAAA,KAAK,CAAC,kBAAkB,EAAxB,cAAwB,EAAxB,IAAwB,EAAE;YAA1C,IAAI,QAAQ,SAAA;YACb,KAAmB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;gBAA5B,IAAI,MAAM,SAAA;gBACX,IAAI,MAAM,CAAC,GAAG,EAAE;oBACZ,KAAoB,UAAoB,EAApB,KAAA,QAAQ,CAAC,WAAW,EAApB,cAAoB,EAApB,IAAoB,EAAE;wBAArC,IAAI,OAAO,SAAA;wBACZ,IAAI,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;wBAEvC,IAAI,OAAO,KAAK,IAAI,EAAE;4BAClB,OAAO,QAAQ,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;yBAC9C;qBACJ;iBACJ;aACJ;SACJ;QAED,OAAO,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAEO,sCAAsB,GAA9B,UAA+B,KAAc;QACzC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,mBAAmB,EAAE;YAC3C,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC;YAE1B,IAAI,IAAI,CAAC,eAAe,EAAE;gBACtB,IAAM,kBAAkB,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBACtD,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBACnC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;gBAErD,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;gBAEzB,kBAAkB,CAAC,KAAK,EAAE,CAAC;aAC9B;SACJ;aAAM;YACH,IAAI,KAAK,CAAC,MAAM,EAAE;gBACd,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC;gBAE1B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACtB;SACJ;IACL,CAAC;IAEa,6BAAa,GAA3B;;;;;gBACI,IAAI,IAAI,CAAC,eAAe,EAAE;oBAChB,oBAAoB,GAAG,EAAE,CAAC;oBAC1B,qBAAqB,GAAG,EAAE,CAAC;oBAE3B,sBAAoB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACxD,mBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;oBAClF,mBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;oBACtD,mBAAiB,CAAC,YAAY,CAC1B,YAAY,EACZ,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,iBAAO,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CACxE,CAAC;oBACF,mBAAiB,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;oBAC9C,mBAAiB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;oBAErC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;oBAExE,IAAI,CAAC,SAAS,EAAE;wBACZ,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC;qBACnD;oBAED,IAAI,SAAS,EAAE;wBACL,uBAAqB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wBACzD,oBAAkB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;wBACxC,oBAAkB,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;wBACzC,oBAAkB,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;wBAExD,oBAAkB,CAAC,OAAO,GAAG,UAAC,EAAS;4BACnC,IAAI,oBAAkB,CAAC,UAAU,EAAE;gCAC/B,oBAAkB,CAAC,UAAU,CAAC,WAAW,CAAC,oBAAkB,CAAC,CAAC;6BACjE;4BAED,mBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;4BACzC,mBAAiB,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;wBAChD,CAAC,CAAC;wBAEF,oBAAkB,CAAC,GAAG,GAAG,SAAS,CAAC;wBAEnC,mBAAiB,CAAC,WAAW,CAAC,oBAAkB,CAAC,CAAC;qBACrD;yBAAM;wBACH,mBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBACzC,mBAAiB,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;qBAC/C;oBAED,IAAI,IAAI,CAAC,UAAU,CAAC,qBAAqB,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE;wBAChE,sBAAsB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wBAC7D,sBAAsB,CAAC,QAAQ,GAAG,CAAC,CAAC;wBACpC,sBAAsB,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;wBACtD,sBAAsB,CAAC,YAAY,CAC/B,YAAY,EACZ,iBAAO,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CAC1C,CAAC;wBACF,sBAAsB,CAAC,SAAS;4BAC5B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAC;wBAC5D,sBAAsB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;wBAC9C,sBAAsB,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;wBACnD,sBAAsB,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;wBACvD,sBAAsB,CAAC,OAAO,GAAG,UAAC,CAAC;4BAC/B,KAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;wBACnC,CAAC,CAAC;wBAEF,sBAAsB,CAAC,UAAU,GAAG,UAAC,CAAgB;4BACjD,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;gCAC1C,iBAAiB;gCACjB,KAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;6BAClC;wBACL,CAAC,CAAC;wBAEI,sBAAsB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wBAC7D,sBAAsB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC/D,2BAA2B,CAC9B,CAAC;wBACF,sBAAsB,CAAC,KAAK,CAAC,KAAK,GAAG,oBAAoB,GAAG,IAAI,CAAC;wBACjE,sBAAsB,CAAC,KAAK,CAAC,MAAM,GAAG,qBAAqB,GAAG,IAAI,CAAC;wBACnE,sBAAsB,CAAC,KAAK,CAAC,cAAc,GAAG,qBAAqB,GAAG,CAAC,GAAG,IAAI,CAAC;wBAC/E,sBAAsB,CAAC,KAAK,CAAC,iBAAiB,GAAG,qBAAqB,GAAG,CAAC,GAAG,IAAI,CAAC;wBAClF,sBAAsB,CAAC,KAAK,CAAC,eAAe,GAAG,oBAAoB,GAAG,IAAI,CAAC;wBAC3E,sBAAsB,CAAC,KAAK,CAAC,gBAAgB,GAAG,GAAG,CAAC;wBACpD,sBAAsB,CAAC,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC;wBACnD,sBAAsB,CAAC,KAAK,CAAC,cAAc,GAAG,aAAa,CAAC;wBAC5D,sBAAsB,CAAC,KAAK,CAAC,gBAAgB,GAAG,aAAa,CAAC;wBAC9D,sBAAsB,CAAC,KAAK,CAAC,iBAAiB,GAAG,aAAa,CAAC;wBAC/D,sBAAsB,CAAC,KAAK,CAAC,SAAS;4BAClC,YAAY,GAAG,oBAAoB,GAAG,EAAE,GAAG,SAAS,CAAC;wBAEzD,sBAAsB,CAAC,WAAW,CAAC,sBAAsB,CAAC,CAAC;wBAErD,mBAAmB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wBAC1D,mBAAmB,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;wBAChD,mBAAmB,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC;wBACrC,mBAAmB,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;wBACpC,mBAAmB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;wBACzC,mBAAmB,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;wBAC1C,mBAAmB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;wBAC3C,mBAAmB,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;wBACpD,mBAAmB,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;wBAEhD,mBAAmB,CAAC,WAAW,CAAC,sBAAsB,CAAC,CAAC;wBACxD,mBAAiB,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;qBACtD;oBAED,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBACnC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,mBAAiB,CAAC,CAAC;iBACvD;;;;KACJ;IAES,8BAAc,GAAxB;QACI,IAAM,OAAO,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3D,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;QAEjE,OAAO,OAAO,CAAC;IACnB,CAAC;IAID,sBAAM,GAAN;QAAA,iBAUC;QATG,IAAI,MAAM,GAAG,iBAAM,MAAM,WAAE,CAAC;QAE5B,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAE7C,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,cAAM,OAAA,KAAI,CAAC,aAAa,EAAE,EAApB,CAAoB,CAAC,CAAC;SAC1E;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,mCAAmB,GAAnB;QACI,iBAAM,mBAAmB,WAAE,CAAC;QAE5B,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,+BAAe,GAAf;QACI,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,sCAAsB,GAAtB;QACI,IAAM,MAAM,GAA2B,EAAE,CAAC;QAE1C,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC;YAElF,IAAI,SAAS,EAAE;gBACX,MAAM,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC;aACtD;SACJ;QAED,KAA0B,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;YAAnC,IAAM,WAAW,SAAA;YAClB,IAAI,WAAW,CAAC,OAAO,EAAE,EAAE;gBACvB,MAAM,CAAC,IAAI,CAAC;oBACR,gKAAgK;oBAChK,GAAG,EAAE,WAAW,CAAC,GAAI;oBACrB,QAAQ,EAAE,WAAW,CAAC,QAAS;oBAC/B,oEAAoE;iBACvE,CAAC,CAAC;aACN;SACJ;QAED,KAA4B,UAAmB,EAAnB,KAAA,IAAI,CAAC,cAAc,EAAnB,cAAmB,EAAnB,IAAmB,EAAE;YAA5C,IAAM,aAAa,SAAA;YACpB,IAAI,aAAa,CAAC,OAAO,EAAE,EAAE;gBACzB,MAAM,CAAC,IAAI,CAAC;oBACR,kKAAkK;oBAClK,GAAG,EAAE,aAAa,CAAC,GAAI;oBACvB,QAAQ,EAAE,aAAa,CAAC,QAAS;oBACjC,oEAAoE;iBACvE,CAAC,CAAC;aACN;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,oCAAiB;aAArB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;QAC/C,CAAC;;;OAAA;IA7QM,wBAAkB,GAAyB;QAC9C;YACI,WAAW,EAAE;gBACT,yFAAyF;gBACzF,wDAAwD;aAC3D;YACD,iBAAiB,EAAE,UAAC,OAAO;gBACvB,OAAA,IAAI,aAAa,CAAC,OAAO,EAAE,iBAAO,CAAC,QAAQ,CAAC,kBAAkB,EAAE,CAAC;YAAjE,CAAiE;SACxE;QACD;YACI,WAAW,EAAE,CAAC,6CAA6C,CAAC;YAC5D,iBAAiB,EAAE,UAAC,OAAO;gBACvB,OAAA,IAAI,WAAW,CAAC,OAAO,EAAE,iBAAO,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;YAA7D,CAA6D;SACpE;QACD;YACI,WAAW,EAAE,CAAC,mEAAmE,CAAC;YAClF,iBAAiB,EAAE,UAAC,OAAO;gBACvB,OAAA,IAAI,iBAAiB,CAAC,OAAO,EAAE,iBAAO,CAAC,QAAQ,CAAC,sBAAsB,EAAE,CAAC;YAAzE,CAAyE;SAChF;KACJ,CAAC;IAEF,gBAAgB;IAEA,qBAAe,GAAG,IAAI,oDAAoC,CACtE,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,WAAW,CACd,CAAC;IACc,4BAAsB,GAAG,IAAI,oDAAoC,CAC7E,wBAAQ,CAAC,IAAI,EACb,gBAAgB,EAChB,aAAa,CAChB,CAAC;IACc,oBAAc,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,qBAAe,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAG/E;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,eAAe,CAAC;0CACJ;IAG5B;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,sBAAsB,CAAC;iDACF;IAGrC;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,cAAc,CAAC;yCACf;IAGhB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,eAAe,CAAC;0CACf;IAgOrB,YAAC;CA/QD,AA+QC,CA/Q0B,WAAW,GA+QrC;AA/QY,sBAAK;AAiRlB,IAAK,cAKJ;AALD,WAAK,cAAc;IACf,qEAAa,CAAA;IACb,2EAAgB,CAAA;IAChB,2EAAgB,CAAA;IAChB,+DAAU,CAAA;AACd,CAAC,EALI,cAAc,KAAd,cAAc,QAKlB;AAED;IAAoC,yBAAW;IAA/C;QAAA,qEAwcC;QAzWG,gBAAU,GAAqB,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;;IAyW5D,CAAC;IAxVa,8BAAc,GAAxB;QACI,IAAM,QAAQ,GAAa,EAAE,CAAC;QAE9B,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAClC;QAED,IAAI,IAAI,CAAC,qBAAqB,EAAE;YAC5B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC;SAChD;QAED,IAAI,IAAI,CAAC,4BAA4B,EAAE;YACnC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,4BAA4B,CAAC,EAAE,CAAC,CAAC;SACvD;QAED,OAAO,QAAQ,CAAC;IACpB,CAAC;IAES,gDAAgC,GAA1C;QACI,IAAI,IAAI,CAAC,4BAA4B,EAAE;YACnC,IAAM,QAAQ,GAAa,IAAI,CAAC,cAAc,EAAE,CAAC;YAEjD,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,4BAA4B,CAAC,YAAY,CAC1C,iBAAiB,EACjB,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CACrB,CAAC;aACL;iBAAM;gBACH,IAAI,CAAC,4BAA4B,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACxE;SACJ;IACL,CAAC;IAED,sBAAc,6BAAU;aAAxB;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAc,8CAA2B;aAAzC;YACI,OAAO,IAAI,CAAC,4BAA4B,CAAC;QAC7C,CAAC;;;OAAA;IAED,sBAAc,+CAA4B;aAA1C;YACI,OAAO,IAAI,CAAC,6BAA6B,CAAC;QAC9C,CAAC;;;OAAA;IAES,sCAAsB,GAAhC;QAAA,iBA2GC;QA1GG,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAEnC,IAAI,CAAC,sBAAsB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5D,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACnD,IAAI,IAAI,CAAC,aAAa,KAAK,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE;YACxD,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;SAC3D;aAAM;YACH,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;SAC9D;QAED,IAAM,sBAAsB,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;QAExD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAM,kBAAkB,GAAG,IAAI,aAAa,EAAE,CAAC;YAC/C,kBAAkB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACnC,kBAAkB,CAAC,YAAY,GAAG,sBAAsB,CAAC;YAEzD,IAAM,WAAW,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5C,kBAAkB,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YAE1C,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;gBAEzD,IAAM,mBAAmB,GAAG,IAAI,OAAO,CACnC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAChD,CAAC;gBACF,mBAAmB,CAAC,KAAK,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,CAAC;gBAC/E,mBAAmB,CAAC,UAAU,GAAG,IAAI,CAAC;gBAEtC,kBAAkB,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;aACrD;iBAAM;gBACH,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;aAC5D;YAED,IAAI,CAAC,qBAAqB,GAAG,kBAAkB,CAAC,MAAM,EAAE,CAAC;YAEzD,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC5B,IAAI,CAAC,qBAAqB,CAAC,EAAE,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBACzD,IAAI,IAAI,CAAC,aAAa,KAAK,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE;oBACxD,8FAA8F;oBAC9F,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;iBACzD;qBAAM;oBACH,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,YAAY;wBACzC,UAAU,CAAC,mBAAmB,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;iBACnF;gBACD,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;aACvE;SACJ;QAED,IAAI,CAAC,6BAA6B,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACnE,IAAI,CAAC,6BAA6B,CAAC,SAAS;YACxC,UAAU,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;QACtD,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAE1D,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;YAChE,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;SAC9D;QAED,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QAE1D,IAAI,IAAI,CAAC,4BAA4B,EAAE;YACnC,IAAI,CAAC,4BAA4B,CAAC,EAAE,GAAG,sBAAsB,CAAC;YAC9D,IAAI,CAAC,4BAA4B,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;YAEzD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,EAAE;gBACpC,IAAI,CAAC,4BAA4B,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;gBACxE,IAAI,CAAC,4BAA4B,CAAC,SAAS,CAAC,GAAG,CAC3C,UAAU,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,CACnD,CAAC;aACL;YAED,IAAI,CAAC,6BAA6B,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;YAClF,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;YAE5E,IAAI,IAAI,CAAC,qBAAqB,IAAI,IAAI,CAAC,aAAa,KAAK,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE;gBACtF,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;oBAClB,IAAM,iBAAiB,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;oBACxD,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,GAAG,iBAAiB,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;oBAC5E,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,GAAG,iBAAiB,CAAC,GAAG,GAAG,CAAC;iBACpF;qBACI,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE;oBACpD,IAAM,mBAAmB,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC;oBACzD,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,GAAG,mBAAmB,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;oBAC9E,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,GAAG,mBAAmB,CAAC,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;iBACjG;qBACI,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE;oBACnD,IAAM,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC;oBACvD,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,GAAG,iBAAiB,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;iBAChF;aACJ;YAED,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;YACrD,IAAI,IAAI,CAAC,4BAA4B,EAAE;gBACnC,IAAI,CAAC,4BAA4B,CAAC,MAAM,GAAG,UAAC,EAAc;oBACtD,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;gBACtD,CAAC,CAAC;aACL;YACD,IAAI,CAAC,gCAAgC,EAAE,CAAC;YAExC,OAAO,IAAI,CAAC,sBAAsB,CAAC;SACtC;QAED,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,OAAO,SAAS,CAAC;IACrB,CAAC;IAES,4BAAY,GAAtB;QACI,IAAI,CAAC,cAAc,EAAE,CAAC,yBAAyB,EAAE,CAAC;QAElD,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;YAChB,IAAI,CAAC,yBAAyB,EAAE,CAAC;SACpC;QAED,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;SAC7B;QAED,2BAA2B,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAES,yCAAyB,GAAnC;QACI,IAAI,IAAI,CAAC,2BAA2B,EAAE;YAClC,IAAI,IAAI,YAAY,cAAc,IAAI,IAAI,CAAC,kBAAkB,EAAE,EAAE;gBAC7D,IAAI,CAAC,0BAA0B,EAAE,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,2BAA2B,CAAC,SAAS,CAAC,MAAM,CAC7C,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CACjE,CAAC;aACL;YAED,IAAI,CAAC,gCAAgC,EAAE,CAAC;YAExC,IAAI,IAAI,CAAC,4BAA4B,EAAE;gBACnC,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;gBAE3E,IAAI,CAAC,4BAA4B,GAAG,SAAS,CAAC;aACjD;SACJ;IACL,CAAC;IAES,0CAA0B,GAApC;QACI,IACI,IAAI,CAAC,eAAe;YACpB,IAAI,CAAC,YAAY;YACjB,uBAAc,CAAC,4BAA4B,EAC7C;YACE,IAAM,qBAAqB,GAAG,IAAI,SAAS,EAAE,CAAC;YAC9C,qBAAqB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACtC,qBAAqB,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC;YAC/C,qBAAqB,CAAC,IAAI,GAAG,IAAI,CAAC;YAClC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YAEhE,IAAI,CAAC,4BAA4B,GAAG,qBAAqB,CAAC,MAAM,EAAE,CAAC;YAEnE,IAAI,IAAI,CAAC,4BAA4B,EAAE;gBACnC,IAAI,CAAC,4BAA4B,CAAC,EAAE,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBAChE,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;gBAE3E,IAAI,CAAC,gCAAgC,EAAE,CAAC;aAC3C;SACJ;IACL,CAAC;IAED,sBAAc,0CAAuB;aAArC;YACI,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,uBAAuB,CAAC;QACpF,CAAC;;;OAAA;IAES,uDAAuC,GAAjD,UAAkD,KAAkB,EAAE,SAAyB;QAC3F,4GAA4G;QAC5G,gDAAgD;QAChD,kDAAkD;QAClD,4FAA4F;QAC5F,2FAA2F;QAE3F,qCAAqC;QACrC,IAAM,cAAc,GAAG,KAAK,KAAK,QAAQ,CAAC,aAAa,CAAC;QAExD,sCAAsC;QACtC,IAAM,mBAAmB,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC;QACpG,IAAM,eAAe,GAAG,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;QAEtE,IAAM,iBAAiB,GAAG,CAAC,SAAS,KAAK,cAAc,CAAC,aAAa,CAAC;YAC5C,CAAC,SAAS,KAAK,cAAc,CAAC,UAAU,IAAI,CAAC,eAAe,CAAC;YAC7D,CAAC,SAAS,KAAK,cAAc,CAAC,gBAAgB,IAAI,CAAC,cAAc,CAAC,CAAC;QAC7F,OAAO,iBAAiB,CAAC;IAC7B,CAAC;IAED,iCAAiB,GAAjB,UAAkB,SAAyB;QACvC,IAAI,CAAC,IAAI,CAAC,uBAAuB;YAC7B,CAAC,IAAI,CAAC,4BAA4B;YAClC,IAAI,CAAC,UAAU,KAAK,KAAK,CAAC,UAAU,CAAC,aAAa,EAAE;YACpD,OAAO;SACV;QACD,IAAI,SAAS,KAAK,cAAc,CAAC,aAAa,EAAE;YAC5C,iEAAiE;YACjE,IAAI,CAAC,4BAA4B,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,sCAAsC,CAAC,CAAC,CAAC;SAC7H;aACI,IAAI,SAAS,KAAK,cAAc,CAAC,gBAAgB,EAAE;YACpD,yEAAyE;YACzE,sGAAsG;YACtG,IAAI,CAAC,4BAA4B,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,CAAC;SAC5H;aAAM,IAAI,SAAS,KAAK,cAAc,CAAC,gBAAgB,EAAE;YACtD,IAAI,CAAC,4BAA4B,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,CAAC;SAC/H;IACL,CAAC;IAQD,qBAAK,GAAL;QACI,IAAI,IAAI,CAAC,4BAA4B,EAAE;YACnC,IAAI,CAAC,4BAA4B,CAAC,KAAK,EAAE,CAAC;SAC7C;IACL,CAAC;IAED,uBAAO,GAAP;QACI,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,uBAAO,GAAP;QACI,OAAO,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,SAAS,CAAC;IACzC,CAAC;IAED,+BAAe,GAAf;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;IAChC,CAAC;IAED,0CAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;YACV,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,CAC1C,CAAC;SACL;QAED,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACb,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,6BAA6B,EACnD,qCAAqC,CACxC,CAAC;aACL;YAED,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBACpB,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,oCAAoC,EAC1D,8CAA8C,CACjD,CAAC;aACL;SACJ;IACL,CAAC;IAED,6BAAa,GAAb;QACI,IAAI,CAAC,yBAAyB,EAAE,CAAC;QAEjC,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QAEjF,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,2BAA2B,EAAE;YAC7C,IAAI,IAAI,YAAY,cAAc,IAAI,IAAI,CAAC,kBAAkB,EAAE,EAAE;gBAC7D,IAAI,CAAC,wBAAwB,EAAE,CAAC;aACnC;iBAAM;gBACH,IAAI,CAAC,2BAA2B,CAAC,SAAS,CAAC,GAAG,CAC1C,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CACjE,CAAC;aACL;YACD,IAAI,CAAC,0BAA0B,EAAE,CAAC;SACrC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,4BAAY,GAAZ,UAAa,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QACvC,OAAO,CAAC,IAAI,CAAC,CAAC;IAClB,CAAC;IAED,sBAAM,GAAN;QACI,IAAI,MAAM,GAAG,iBAAM,MAAM,WAAE,CAAC;QAE5B,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,OAAO,MAAM,CAAC;IAClB,CAAC;IAID,sBAAI,gCAAa;aAAjB;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IArcD,gBAAgB;IACA,mBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IACjE,wBAAkB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;IAC1E,0BAAoB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;IAC/E,wBAAkB,GAAG,IAAI,4BAAY,CACjD,wBAAQ,CAAC,IAAI,EACb,YAAY,EACZ,KAAK,CAAC,UAAU,EAChB,KAAK,CAAC,UAAU,CAAC,OAAO,EACxB;QACI,EAAE,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,aAAa,EAAE;QACzC,EAAE,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,OAAO,EAAE;KACtC,CACJ,CAAC;IACc,wBAAkB,GAAG,IAAI,8BAAc,CACnD,wBAAQ,CAAC,IAAI,EACb,YAAY,EACZ,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,OAAiC;QAEjC,IAAI,MAAM,GAA4B,IAAI,CAAC,YAAY,CAAC;QACxD,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,iBAAiB,GAAG,KAAK,CAAC;QAE9B,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;YAC5C,MAAM,GAAG,IAAI,oBAAW,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACvD,IAAI,MAAM,CAAC,YAAY,GAAG,CAAC,IAAI,MAAM,CAAC,YAAY,GAAG,GAAG,EAAE;gBACtD,iBAAiB,GAAG,IAAI,CAAC;aAC5B;SACJ;aACI,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAChC,IAAI;gBACA,MAAM,GAAG,oBAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aACrC;YAAC,OAAO,CAAC,EAAE;gBACR,iBAAiB,GAAG,IAAI,CAAC;aAC5B;SACJ;aAAM;YACH,iBAAiB,GAAG,IAAI,CAAC;SAC5B;QAED,IAAI,iBAAiB,EAAE;YACnB,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,CAC1C,CAAC;YACF,MAAM,GAAG,SAAS,CAAC;SACtB;QAED,OAAO,MAAM,CAAC;IAClB,CAAC,EACD,UACI,MAA0B,EAC1B,QAA4B,EAC5B,MAAmB,EACnB,KAA8B,EAC9B,OAAiC;QAEjC,IAAI,KAAK,YAAY,oBAAW,EAAE;YAC9B,IAAI,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE;gBACrC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,EAAE,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;aAC3E;iBAAM;gBACH,OAAO,CAAC,eAAe,CAAC,MAAM,EAAE,YAAY,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;aACrE;SACJ;IACL,CAAC,EACD,SAAS,CACZ,CAAC;IAEc,2BAAqB,GAAG,IAAI,4BAAY,CACpD,wBAAQ,CAAC,IAAI,EACb,eAAe,EACf,KAAK,CAAC,kBAAkB,EACxB,KAAK,CAAC,kBAAkB,CAAC,KAAK,EAC9B;QACI,EAAE,KAAK,EAAE,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE;QAC1C,EAAE,KAAK,EAAE,KAAK,CAAC,kBAAkB,CAAC,KAAK,EAAE;KAC5C,CACJ,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,aAAa,CAAC;wCACf;IAGf;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,kBAAkB,CAAC;6CACf;IAGpB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,oBAAoB,CAAC;+CACf;IAGtB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,kBAAkB,CAAC;6CACqB;IAGxD;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,kBAAkB,CAAC;6CACV;IAGzB;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,qBAAqB,CAAC;gDACG;IAmW7C,YAAC;CAxcD,AAwcC,CAxcmC,WAAW,GAwc9C;AAxcqB,sBAAK;AA0c3B;IAA+B,6BAAK;IAApC;QACI,gBAAgB;QADpB,qEA4OC;QA5MG,iBAAW,GAAY,KAAK,CAAC;QAM7B,WAAK,GAAyB,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC;;IAsM5D,CAAC;IA9LG,YAAY;IAEJ,8BAAU,GAAlB,UAAmB,KAA6C;QAAhE,iBAgCC;QA/BG,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;QAE9B,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9C,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACrC,KAAK,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SACtD;QAED,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;SACnC;QAED,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;YACtC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;SACpC;QAED,KAAK,CAAC,OAAO,GAAG;YACZ,KAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC,CAAC;QACF,KAAK,CAAC,UAAU,GAAG,UAAC,CAAgB;YAChC,qBAAqB;YACrB,IACI,CAAC,CAAC,OAAO;gBACT,CAAC,CAAC,IAAI,KAAK,OAAO;gBAClB,KAAI,CAAC,YAAY;gBACjB,KAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAC1C;gBACE,KAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;aAC/B;QACL,CAAC,CAAC;IACN,CAAC;IAES,kCAAc,GAAxB;QACI,IAAI,MAA8C,CAAC;QAEnD,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,cAAc,CAAC,QAAQ,EAAE;YAClE,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;YAC5C,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC/C,UAAU,EACV,cAAc,EACd,cAAc,CACjB,CAAC;YAEF,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;gBAC3B,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;aACnC;SACJ;aAAM;YACH,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACzC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;YAChF,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;SAChE;QAED,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAExB,OAAO,MAAM,CAAC;IAClB,CAAC;IAES,0CAAsB,GAAhC;QAAA,iBAkEC;QAjEG,IAAM,oBAAoB,GAAG,iBAAM,sBAAsB,WAAE,CAAC;QAE5D,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAM,QAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAChD,QAAM,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC/C,IAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE;gBACpC,CAAC,CAAC,uBAAuB;gBACzB,CAAC,CAAC,gCAAgC,CACzC,CAAC;YAEF,QAAM,CAAC,OAAO,GAAG,UAAC,CAAC;gBACf,IAAI,KAAI,CAAC,YAAY,IAAI,KAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE;oBAC/D,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;oBAEtB,KAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;iBAC/B;YACL,CAAC,CAAC;YAEF,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;gBAC3B,QAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBAEjC,IAAM,MAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC3C,MAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;gBAC3B,MAAI,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;gBAE1C,+FAA+F;gBAC/F,8FAA8F;gBAC9F,8FAA8F;gBAC9F,8FAA8F;gBAC9F,MAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;gBAC5B,MAAI,CAAC,MAAM,GAAG;oBACV,MAAI,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;gBACzC,CAAC,CAAC;gBACF,MAAI,CAAC,OAAO,GAAG;oBACX,QAAM,CAAC,WAAW,CAAC,MAAI,CAAC,CAAC;oBACzB,QAAM,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;oBACpC,QAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oBACjC,QAAM,CAAC,WAAW;wBACd,KAAI,CAAC,YAAY,IAAI,KAAI,CAAC,YAAY,CAAC,KAAK;4BACxC,CAAC,CAAC,KAAI,CAAC,YAAY,CAAC,KAAK;4BACzB,CAAC,CAAC,iBAAO,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;gBACnD,CAAC,CAAC;gBAEF,MAAI,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;gBAErC,QAAM,CAAC,WAAW,CAAC,MAAI,CAAC,CAAC;gBACzB,QAAM,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;oBAClC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK;oBACzB,CAAC,CAAC,iBAAO,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;aAC9C;iBAAM;gBACH,QAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBACjC,QAAM,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;oBACxC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK;oBACzB,CAAC,CAAC,iBAAO,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;aAC9C;YAED,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,QAAM,EAAE,IAAI,CAAC,CAAC;YAE7D,QAAM,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;YAEhC,IAAI,CAAC,4BAA4B,CAAC,WAAW,CAAC,QAAM,CAAC,CAAC;SACzD;QAED,OAAO,oBAAoB,CAAC;IAChC,CAAC;IAED,qCAAiB,GAAjB,UAAkB,SAAyB;QACvC,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE;YAC/B,OAAO;SACV;QAED,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE;YAC1C,iBAAM,iBAAiB,YAAC,SAAS,CAAC,CAAC;SACtC;IACL,CAAC;IAED,mCAAe,GAAf;QACI,OAAO,YAAY,CAAC;IACxB,CAAC;IAED,iCAAa,GAAb;QACI,IAAM,MAAM,GAAG,iBAAM,aAAa,WAAE,CAAC;QAErC,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAClC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,iCAAa,GAAb,UAAc,EAAU;QACpB,IAAI,MAAM,GAAG,iBAAM,aAAa,YAAC,EAAE,CAAC,CAAC;QAErC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,YAAY,EAAE;YAC9B,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;SAChD;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,yBAAK,GAAL;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,2BAAO,GAAP;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,OAAO,IAAI,CAAC;SACf;QAED,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACvD;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,sBAAI,4BAAK;aAAT;YACI,IAAI,IAAI,CAAC,2BAA2B,EAAE;gBAClC,IAAI,IAAI,CAAC,WAAW,EAAE;oBAClB,OAA6B,IAAI,CAAC,2BAA4B,CAAC,KAAK,CAAC;iBACxE;qBAAM;oBACH,OAA0B,IAAI,CAAC,2BAA4B,CAAC,KAAK,CAAC;iBACrE;aACJ;iBAAM;gBACH,OAAO,SAAS,CAAC;aACpB;QACL,CAAC;;;OAAA;IAxOe,uBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,2BAAiB,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;IAChE,6BAAmB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;IAC5E,6BAAmB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IACvE,uBAAa,GAAG,IAAI,4BAAY,CAC5C,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP,KAAK,CAAC,cAAc,EACpB,KAAK,CAAC,cAAc,CAAC,IAAI,EACzB;QACI,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,IAAI,EAAE;QACpC,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE;QACnC,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE;QACnC,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,KAAK,EAAE;QACrC,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,QAAQ,EAAE,aAAa,EAAE,wBAAQ,CAAC,IAAI,EAAE;KACzE,CACJ,CAAC;IACc,8BAAoB,GAAG,IAAI,cAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,cAAc,EAAE;QACrF,iBAAiB;KACpB,CAAC,CAAC;IACa,uBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IAGjF;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,aAAa,CAAC;mDACZ;IAGtB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,iBAAiB,CAAC;gDACnB;IAGnB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,mBAAmB,CAAC;kDACX;IAG7B;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,mBAAmB,CAAC;kDACnB;IAGrB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,aAAa,CAAC;4CACsB;IAGxD;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,oBAAoB,CAAC;mDACnB;IAGtB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,aAAa,CAAC;4CACnB;IAgMnB,gBAAC;CA5OD,AA4OC,CA5O8B,KAAK,GA4OnC;AA5OY,8BAAS;AA8OtB;IAAiC,+BAAK;IAAtC;QACI,gBAAgB;QADpB,qEAwKC;QAtIG,aAAO,GAAW,MAAM,CAAC;QAGzB,cAAQ,GAAW,OAAO,CAAC;QAG3B,UAAI,GAAY,KAAK,CAAC;;IAgI1B,CAAC;IAxHa,sDAAgC,GAA1C;QACI,IAAI,IAAI,CAAC,qBAAqB,EAAE;YAC5B,IAAI,cAAc,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAErD,IAAI,IAAI,CAAC,0BAA0B,IAAI,IAAI,CAAC,0BAA0B,CAAC,EAAE,EAAE;gBACvE,cAAc,IAAI,GAAG,GAAG,IAAI,CAAC,0BAA0B,CAAC,EAAE,CAAC;aAC9D;YAED,IAAI,cAAc,EAAE;gBAChB,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,iBAAiB,EAAE,cAAc,CAAC,CAAC;aAC9E;iBAAM;gBACH,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACjE;SACJ;IACL,CAAC;IAES,oCAAc,GAAxB;QAAA,iBAgEC;QA/DG,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,EAAE,gBAAgB,CAAC,CAAC;QACnF,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC7B,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC/B,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;QAEpC,IAAI,CAAC,qBAAqB,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC7D,IAAI,CAAC,qBAAqB,CAAC,EAAE,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;QACzD,IAAI,CAAC,qBAAqB,CAAC,IAAI,GAAG,UAAU,CAAC;QAC7C,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;QAC1D,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;QAC1D,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9C,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;QAEnD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SACrE;QAED,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;SACpE;QAED,IAAI,CAAC,qBAAqB,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEnE,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,OAAO,EAAE;YACpC,IAAI,CAAC,qBAAqB,CAAC,OAAO,GAAG,IAAI,CAAC;SAC7C;QAED,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC;QAE5D,IAAI,CAAC,qBAAqB,CAAC,QAAQ,GAAG;YAClC,KAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC,CAAC;QAEF,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAEvD,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;YACnC,IAAM,KAAK,GAAG,IAAI,SAAS,EAAE,CAAC;YAC9B,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACtB,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC;YACnD,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACnC,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;YAC/D,KAAK,CAAC,WAAW,GAAG,uBAAc,CAAC,mCAAmC,CAAC;YACvE,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAEvB,IAAI,CAAC,0BAA0B,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;YAEjD,IAAI,IAAI,CAAC,0BAA0B,EAAE;gBACjC,IAAI,CAAC,0BAA0B,CAAC,EAAE,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBAC9D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;gBAC/D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;gBACxD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;gBAE/D,IAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACpD,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;gBAElC,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;gBAC1C,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;aAC/D;SACJ;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,sBAAc,mCAAU;aAAxB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAED,uCAAiB,GAAjB,UAAkB,SAAyB;IAC3C,CAAC;IAED,qCAAe,GAAf;QACI,OAAO,cAAc,CAAC;IAC1B,CAAC;IAED,2BAAK,GAAL;QACI,IAAI,IAAI,CAAC,qBAAqB,EAAE;YAC5B,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,CAAC;SACtC;IACL,CAAC;IAED,2BAAK,GAAL;QACI,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,OAAO,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC;SACtC;QAED,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,6BAAO,GAAP;QACI,OAAO,IAAI,CAAC,qBAAqB;YAC7B,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,KAAK,IAAI,CAAC,iBAAiB;YAC/D,CAAC,CAAC,KAAK,CAAC;IAChB,CAAC;IAED,sBAAI,8BAAK;aAAT;YACI,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC5B,OAAO,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;aAC5E;iBAAM;gBACH,OAAO,SAAS,CAAC;aACpB;QACL,CAAC;;;OAAA;IApKe,yBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,yBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,2BAAe,GAAG,IAAI,8BAAc,CAChD,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,IAAI,EACJ,SAAS,EACT,MAAM,EACN,UAAC,MAA0B;QACvB,OAAO,MAAM,CAAC;IAClB,CAAC,CACJ,CAAC;IACc,4BAAgB,GAAG,IAAI,8BAAc,CACjD,wBAAQ,CAAC,IAAI,EACb,UAAU,EACV,IAAI,EACJ,SAAS,EACT,OAAO,EACP,UAAC,MAA0B;QACvB,OAAO,OAAO,CAAC;IACnB,CAAC,CACJ,CAAC;IACc,wBAAY,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IAG9E;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,aAAa,CAAC;qDACd;IAGtB;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,aAAa,CAAC;8CACrB;IAGf;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,eAAe,CAAC;gDACb;IAGzB;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,gBAAgB,CAAC;iDACZ;IAG3B;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,YAAY,CAAC;6CACb;IAgI1B,kBAAC;CAxKD,AAwKC,CAxKgC,KAAK,GAwKrC;AAxKY,kCAAW;AA0KxB;IAA4B,0BAAkB;IAkB1C,gBAAY,KAAc,EAAE,KAAc;QAA1C,YACI,iBAAO,SAIV;QAFG,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;IACvB,CAAC;IAXD,YAAY;IAEF,6BAAY,GAAtB;QACI,OAAO,QAAQ,CAAC;IACpB,CAAC;IAfD,gBAAgB;IAEA,oBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,oBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAG3E;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,aAAa,CAAC;yCAChB;IAGf;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,aAAa,CAAC;yCAChB;IAcnB,aAAC;CAxBD,AAwBC,CAxB2B,kCAAkB,GAwB7C;AAxBY,wBAAM;AA0BnB;;;;GAIG;AACH;IAA6C,2CAAkB;IAA/D;;IA8BA,CAAC;IALG,YAAY;IAEF,8CAAY,GAAtB;QACI,OAAO,cAAc,CAAC;IAC1B,CAAC;IA5BD,gBAAgB;IAEA,oCAAY,GAAG,IAAI,8BAAc,CAC7C,wBAAQ,CAAC,IAAI,EACb,MAAM,EACN,IAAI,EACJ,IAAI,MAAM,CAAC,cAAc,CAAC,CAC7B,CAAC;IACc,uCAAe,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC/D,qCAAa,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACxD,oCAAY,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAGtE;QADC,IAAA,wBAAQ,EAAC,uBAAuB,CAAC,YAAY,CAAC;yDAClC;IAGb;QADC,IAAA,wBAAQ,EAAC,uBAAuB,CAAC,eAAe,CAAC;4DAClC;IAGhB;QADC,IAAA,wBAAQ,EAAC,uBAAuB,CAAC,aAAa,CAAC;0DACjC;IAGf;QADC,IAAA,wBAAQ,EAAC,uBAAuB,CAAC,YAAY,CAAC;yDACjC;IAOlB,8BAAC;CA9BD,AA8BC,CA9B4C,kCAAkB,GA8B9D;AA9BY,0DAAuB;AAqCpC;IAAoC,kCAAK;IAAzC;QACI,gBAAgB;QADpB,qEAwjBC;QA7gBG,mBAAa,GAAY,KAAK,CAAC;QAM/B,UAAI,GAAY,KAAK,CAAC;QAGtB,aAAO,GAAa,EAAE,CAAC;;IAogB3B,CAAC;IAthBG,sBAAI,qCAAS;aAAb;YACI,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,CAAC;QACnD,CAAC;aAED,UAAc,KAAc;YACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC;QAChD,CAAC;;;OAJA;IAyBc,oCAAqB,GAApC;QACI,IAAM,kBAAkB,GAAG,eAAe,GAAG,cAAc,CAAC,sBAAsB,CAAC;QAEnF,cAAc,CAAC,sBAAsB,EAAE,CAAC;QAExC,OAAO,kBAAkB,CAAC;IAC9B,CAAC;IASD,2CAAkB,GAAlB;QACI,OAAO,CACH,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,iCAAiC;YACxD,CAAC,CAAC,IAAI,CAAC,WAAW;YAClB,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO;YAC1B,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,YAAY,CACzC,CAAC;IACN,CAAC;IAED,kDAAyB,GAAzB;;QACI,OAAO,MAAA,IAAI,CAAC,UAAU,0CAAE,KAAK,CAAC;IAClC,CAAC;IAED,2CAAkB,GAAlB;;QACI,OAAO,MAAA,IAAI,CAAC,kBAAkB,0CAAE,QAAQ,CAAC;IAC7C,CAAC;IAED,sCAAa,GAAb,UAAc,MAAc,EAAE,cAA+B;;QACzD,MAAA,IAAI,CAAC,kBAAkB,0CAAE,eAAe,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;IACrE,CAAC;IAED,6CAAoB,GAApB;;QACI,MAAA,IAAI,CAAC,kBAAkB,0CAAE,oBAAoB,EAAE,CAAC;IACpD,CAAC;IAED,+CAAsB,GAAtB;;QACI,MAAA,IAAI,CAAC,kBAAkB,0CAAE,sBAAsB,EAAE,CAAC;IACtD,CAAC;IAED,2CAAkB,GAAlB,UAAmB,MAAc,EAAE,KAAa;;QAC5C,MAAA,IAAI,CAAC,kBAAkB,0CAAE,kBAAkB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAC/D,CAAC;IAED,iDAAwB,GAAxB;;QACI,MAAA,IAAI,CAAC,UAAU,0CAAE,SAAS,CAAC,GAAG,CAC1B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CACjE,CAAC;IACN,CAAC;IAED,mDAA0B,GAA1B;;QACI,MAAA,IAAI,CAAC,UAAU,0CAAE,SAAS,CAAC,MAAM,CAC7B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CACjE,CAAC;IACN,CAAC;IAEO,qEAA4C,GAApD;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,IAAM,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC3D,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC;YAClC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC;YAClC,iBAAiB,CAAC,MAAM,GAAG,IAAI,CAAC;YAChC,iBAAiB,CAAC,KAAK,GAAG,EAAE,CAAC;YAE7B,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,iBAAiB,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;aAC7C;YACD,OAAO,iBAAiB,CAAC;SAC5B;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,qEAAqE;IAC7D,iDAAwB,GAAhC;QACI,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;YAE5C,IAAI,OAAO,EAAE;gBACT,KAAqB,UAAmB,EAAnB,KAAA,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAnB,cAAmB,EAAnB,IAAmB,EAAE;oBAArC,IAAM,MAAM,SAAA;oBACb,IAAI,MAAM,CAAC,QAAQ,EAAE;wBACjB,MAAM,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;qBAC/C;yBAAM;wBACH,MAAM,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;qBAC1C;iBACJ;aACJ;SACJ;IACL,CAAC;IAEO,4CAAmB,GAA3B,UACI,YAAoB,EACpB,IAA0B,EAC1B,aAAmC;QAHvC,iBAsFC;QAjFG,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QAC/E,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAE7B,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEhD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAElB,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;YAA9B,IAAM,MAAM,SAAA;YACb,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAC9C,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;YACpC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;YAClB,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;YACzB,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;YACrC,KAAK,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;YACrC,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;YAC9B,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC;YAE1D,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,KAAK,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;aAC/C;YAED,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAE9C,IAAI,MAAM,CAAC,KAAK,EAAE;gBACd,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;aAC9B;YAED,IAAI,MAAM,CAAC,KAAK,EAAE;gBACd,KAAK,CAAC,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;aAClD;YAED,IAAI,aAAa,IAAI,MAAM,CAAC,KAAK,EAAE;gBAC/B,IAAI,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;oBAC1C,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;iBACxB;aACJ;YAED,KAAK,CAAC,QAAQ,GAAG;gBACb,KAAI,CAAC,YAAY,EAAE,CAAC;YACxB,CAAC,CAAC;YAEF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAE/B,IAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACpD,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACrC,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;YAE1C,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;YAExC,IAAM,KAAK,GAAG,IAAI,SAAS,EAAE,CAAC;YAC9B,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACtB,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,EAAE,CAAC;YAC9B,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACnC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;YACjF,KAAK,CAAC,WAAW,GAAG,uBAAc,CAAC,mCAAmC,CAAC;YACvE,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAEvB,IAAM,YAAY,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;YAEpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAEhC,IAAI,YAAY,EAAE;gBACd,YAAY,CAAC,EAAE,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBAC3C,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;gBAC5C,YAAY,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;gBACrC,YAAY,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACtC,YAAY,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;gBAE5C,IAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACpD,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;gBAElC,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;gBAChD,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;aAClD;YAED,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;SAC7C;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAES,yDAAgC,GAA1C;QACI,IACI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK,KAAK,UAAU,CAAC;YACjD,IAAI,CAAC,aAAa;YAClB,IAAI,CAAC,OAAO,EACd;YACE,IAAM,QAAQ,GAAa,IAAI,CAAC,cAAc,EAAE,CAAC;YAEjD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAChD,IAAI,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACxC,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAE9B,IAAI,KAAK,IAAI,KAAK,CAAC,EAAE,EAAE;oBACnB,cAAc,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,CAAC;iBACpC;gBAED,IAAI,cAAc,EAAE;oBAChB,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,iBAAiB,EAAE,cAAc,CAAC,CAAC;iBACzE;qBAAM;oBACH,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;iBAC5D;aACJ;SACJ;aAAM;YACH,iBAAM,gCAAgC,WAAE,CAAC;SAC5C;IACL,CAAC;IAES,uCAAc,GAAxB;QAAA,iBAoKC;QAnKG,IAAI,CAAC,mBAAmB,GAAG,cAAc,CAAC,qBAAqB,EAAE,CAAC;QAClE,IAAI,IAAI,CAAC,kBAAkB,EAAE,EAAE;YAC3B,IAAM,mBAAiB,GAAG,IAAI,iBAAiB,CAC3C,cAAc,CAAC,sBAAsB,EACrC,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,UAAU,CAClB,CAAC;YACF,mBAAiB,CAAC,MAAM,EAAE,CAAC;YAE3B,IAAI,mBAAiB,CAAC,SAAS,EAAE;gBAC7B,IAAI,CAAC,UAAU,GAAG,mBAAiB,CAAC,SAAS,CAAC;gBAC9C,IAAI,IAAI,CAAC,YAAY,EAAE;oBACnB,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;iBAC7C;gBACD,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;oBAC5C,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;oBAC/C,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;iBAChE;gBACD,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxD,IAAM,yBAAyB,GAAG,KAAK,CAAC,QAAQ,CAAC;oBAC7C,mBAAiB,CAAC,cAAc,EAAE,CAAC;oBACnC,KAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,IAAI,KAAI,CAAC,UAAU,EAAE;wBACjB,0EAA0E;wBAC1E,uBAAuB;wBACvB,IAAI,KAAI,CAAC,KAAK,EAAE;4BACZ,KAAI,CAAC,UAAU,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;4BAC/C,KAAI,CAAC,UAAU,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;yBACjD;6BAAM,IAAI,KAAI,CAAC,WAAW,EAAE;4BACzB,KAAI,CAAC,UAAU,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC;4BAC/C,KAAI,CAAC,UAAU,CAAC,YAAY,CAAC,YAAY,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC;yBAChE;qBACJ;gBACL,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC;gBACtD,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,yBAAyB,CAAC;gBACpD,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,yBAAyB,CAAC;aACvD;YACD,mBAAiB,CAAC,MAAM,GAAG,IAAI,CAAC;YAChC,IAAI,CAAC,kBAAkB,GAAG,mBAAiB,CAAC;YAC5C,OAAO,mBAAiB,CAAC,eAAe,CAAC;SAC5C;aAAM,IAAI,IAAI,CAAC,aAAa,EAAE;YAC3B,oCAAoC;YACpC,OAAO,IAAI,CAAC,mBAAmB,CAC3B,+BAA+B,EAC/B,UAAU,EACV,IAAI,CAAC,YAAY;gBACb,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,4BAA4B,CAAC;gBACvE,CAAC,CAAC,SAAS,CAClB,CAAC;SACL;aAAM;YACH,IAAI,IAAI,CAAC,KAAK,KAAK,UAAU,EAAE;gBAC3B,sCAAsC;gBACtC,OAAO,IAAI,CAAC,mBAAmB,CAC3B,4BAA4B,EAC5B,OAAO,EACP,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CACtD,CAAC;aACL;iBAAM,IAAI,IAAI,CAAC,KAAK,KAAK,UAAU,EAAE;gBAClC,iDAAiD;gBACjD,IAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACrD,cAAc,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBAEpC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAClD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACxD,UAAU,EACV,qBAAqB,EACrB,4BAA4B,CAC/B,CAAC;gBACF,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,MAAM,CAAC;gBAC9B,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBACrC,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG;oBACtB,KAAI,CAAC,YAAY,EAAE,CAAC;oBAEpB,IAAI,KAAI,CAAC,UAAU,EAAE;wBACjB,0EAA0E;wBAC1E,uBAAuB;wBACvB,IAAI,KAAI,CAAC,KAAK,EAAE;4BACZ,KAAI,CAAC,UAAU,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;4BAC/C,KAAI,CAAC,UAAU,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;yBACjD;6BAAM,IAAI,KAAI,CAAC,WAAW,EAAE;4BACzB,KAAI,CAAC,UAAU,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC;4BAC/C,KAAI,CAAC,UAAU,CAAC,YAAY,CAAC,YAAY,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC;yBAChE;qBACJ;gBACL,CAAC,CAAC;gBAEF,IAAI,IAAI,CAAC,YAAY,EAAE;oBACnB,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;iBAC7C;gBAED,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;oBAC5C,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;oBAC/C,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;iBAChE;gBAED,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAExD,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;gBACpD,QAAQ,CAAC,EAAE,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBAEvC,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;oBAA9B,IAAM,MAAM,SAAA;oBACb,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAChD,uGAAuG;oBACvG,0DAA0D;oBAC1D,IAAI,MAAM,CAAC,KAAK,EAAE;wBACd,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;wBAC5B,MAAM,CAAC,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;qBACnD;oBAED,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE/C,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;iBAChC;gBAED,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;gBAElD,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;gBAEjD,OAAO,cAAc,CAAC;aACzB;iBAAM;gBACH,wBAAwB;gBACxB,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBACvD,IAAI,CAAC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC5D,UAAU,EACV,qBAAqB,EACrB,2BAA2B,CAC9B,CAAC;gBACF,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBAEzC,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE5D,IAAM,iBAAiB,GAAG,IAAI,CAAC,4CAA4C,EAAE,CAAC;gBAE9E,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,iBAAiB,CAAC,CAAC;gBAE1D,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;oBAA9B,IAAM,MAAM,SAAA;oBACb,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAChD,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAM,CAAC;oBAE7B,IAAI,MAAM,CAAC,KAAK,EAAE;wBACd,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC;wBAC3B,MAAM,CAAC,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;qBACnD;oBAED,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE/C,IAAI,MAAM,CAAC,KAAK,KAAK,IAAI,CAAC,YAAY,EAAE;wBACpC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;qBAC1B;oBAED,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;iBAClD;gBAED,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG;oBAC3B,KAAI,CAAC,wBAAwB,EAAE,CAAC;oBAChC,KAAI,CAAC,YAAY,EAAE,CAAC;gBACxB,CAAC,CAAC;gBAEF,IAAI,CAAC,wBAAwB,EAAE,CAAC;gBAEhC,OAAO,IAAI,CAAC,cAAc,CAAC;aAC9B;SACJ;IACL,CAAC;IAED,0CAAiB,GAAjB,UAAkB,SAAyB;QACvC,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE;YAC/B,OAAO;SACV;QAED,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,SAAS,EAAE;YACvC,iBAAM,iBAAiB,YAAC,SAAS,CAAC,CAAC;YAEnC,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,CAAC,UAAU,CAAC,aAAa,EAAE;gBAC3E,IAAM,kBAAkB,GAAG,IAAI,CAAC,uCAAuC,CAAC,IAAI,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;gBAExG,IAAI,kBAAkB,EAAE;oBACpB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;oBAC9C,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,CAAC;iBACjH;qBAAM;oBACH,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;oBAC9C,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,CAAC;iBAC9G;aACJ;SACJ;IACL,CAAC;IAED,wCAAe,GAAf;QACI,OAAO,iBAAiB,CAAC;IAC7B,CAAC;IAED,8BAAK,GAAL;QACI,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK,KAAK,UAAU,CAAC,EAAE;YACzE,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC/B,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;aACjC;SACJ;aAAM,IAAI,IAAI,CAAC,UAAU,EAAE;YACxB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SAC3B;aAAM;YACH,iBAAM,KAAK,WAAE,CAAC;SACjB;IACL,CAAC;IAED,mDAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;YAC3B,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,qBAAqB,EAC3C,iBAAO,CAAC,MAAM,CAAC,iCAAiC,EAAE,CACrD,CAAC;SACL;QAED,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;YAA9B,IAAM,MAAM,SAAA;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;gBAChC,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,qCAAqC,EAAE,CACzD,CAAC;aACL;SACJ;IACL,CAAC;IAED,8BAAK,GAAL;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,gCAAO,GAAP;QACI,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,WAAW,EAAE;gBACtD,OAAO,IAAI,CAAC;aACf;YACD,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;gBAA9B,IAAM,MAAM,SAAA;gBACb,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,EAAE;oBAC7B,OAAO,IAAI,CAAC;iBACf;aACJ;YACD,IAAI,IAAI,CAAC,cAAc,EAAE;gBACrB,KAAqB,UAAmB,EAAnB,KAAA,IAAI,CAAC,cAAc,EAAnB,cAAmB,EAAnB,IAAmB,EAAE;oBAArC,IAAM,MAAM,SAAA;oBACb,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,EAAE;wBACvB,OAAO,IAAI,CAAC;qBACf;iBACJ;aACJ;YACD,OAAO,KAAK,CAAC;SAChB;QAED,OAAO,iBAAM,OAAO,WAAE,CAAC;IAC3B,CAAC;IAED,sBAAI,iCAAK;aAAT;YACI,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;gBACrB,IAAI,IAAI,CAAC,cAAc,EAAE;oBACrB,OAAO,IAAI,CAAC,cAAc,CAAC,aAAa,GAAG,CAAC;wBACxC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK;wBAC3B,CAAC,CAAC,SAAS,CAAC;iBACnB;qBAAM,IAAI,IAAI,CAAC,UAAU,EAAE;oBACxB,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;wBAA9B,IAAM,MAAM,SAAA;wBACb,IAAI,MAAM,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,EAAE;4BACxD,OAAO,MAAM,CAAC,KAAK,CAAC;yBACvB;qBACJ;oBACD,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;iBAChC;qBAAM,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC5D,KAA0B,UAAkB,EAAlB,KAAA,IAAI,CAAC,aAAa,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;wBAAzC,IAAM,WAAW,SAAA;wBAClB,IAAI,WAAW,CAAC,OAAO,EAAE;4BACrB,OAAO,WAAW,CAAC,KAAK,CAAC;yBAC5B;qBACJ;iBACJ;gBAED,OAAO,SAAS,CAAC;aACpB;iBAAM;gBACH,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;oBACxD,OAAO,SAAS,CAAC;iBACpB;gBAED,IAAI,MAAM,GAAW,EAAE,CAAC;gBAExB,KAA0B,UAAkB,EAAlB,KAAA,IAAI,CAAC,aAAa,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;oBAAzC,IAAM,WAAW,SAAA;oBAClB,IAAI,WAAW,CAAC,OAAO,EAAE;wBACrB,IAAI,MAAM,KAAK,EAAE,EAAE;4BACf,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,4BAA4B,CAAC;yBAC1D;wBAED,MAAM,IAAI,WAAW,CAAC,KAAK,CAAC;qBAC/B;iBACJ;gBAED,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC;aACtC;QACL,CAAC;;;OAAA;IAED,sBAAI,0CAAc;aAAlB;;YACI,OAAO,MAAA,IAAI,CAAC,kBAAkB,0CAAE,cAAc,CAAC;QACnD,CAAC;;;OAAA;IApjBe,4BAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,8BAAe,GAAG,IAAI,oDAAoC,CACtE,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,MAAM,CACT,CAAC;IACc,kCAAmB,GAAG,IAAI,0CAA0B,CAChE,wBAAQ,CAAC,IAAI,EACb,cAAc,EACd,uBAAuB,CAC1B,CAAC;IACc,4BAAa,GAAG,IAAI,gCAAgB,CAChD,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP;QACI,EAAE,KAAK,EAAE,SAAS,EAAE;QACpB,EAAE,KAAK,EAAE,UAAU,EAAE;QACrB,EAAE,KAAK,EAAE,UAAU,EAAE,aAAa,EAAE,wBAAQ,CAAC,IAAI,EAAE;KACtD,EACD,SAAS,CACZ,CAAC;IACc,oCAAqB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;IAChF,kCAAmB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IACvE,2BAAY,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IA+B9E,YAAY;IAEG,qCAAsB,GAAG,CAAC,CAAC;IA9B1C;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,aAAa,CAAC;wDACjB;IAGtB;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,aAAa,CAAC;iDACK;IAW5C;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,qBAAqB,CAAC;yDAChB;IAG/B;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,mBAAmB,CAAC;uDACxB;IAGrB;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,YAAY,CAAC;gDAChB;IAGtB;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,eAAe,CAAC;mDAClB;IAGvB;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,mBAAmB,CAAC;uDACP;IAigB1C,qBAAC;CAxjBD,AAwjBC,CAxjBmC,KAAK,GAwjBxC;AAxjBY,wCAAc;AA0jB3B;IAcI,2BAAY,WAAmB,EAAE,OAAiB,EAAE,UAAuB;QACvE,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;IAClC,CAAC;IAED,kCAAM,GAAN;QAAA,iBAsCC;QArCG,IAAM,kBAAkB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACzD,kBAAkB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC3D,UAAU,EACV,sCAAsC,CACzC,CAAC;QAEF,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAClD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACxD,UAAU,EACV,oCAAoC,CACvC,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,MAAM,CAAC;QAE9B,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,UAAC,KAAK;YAC9B,IAAI,KAAK,CAAC,GAAG,KAAK,WAAW,EAAE;gBAC3B,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;aACvD;iBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,SAAS,EAAE;gBAChC,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;aACvD;iBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;gBAC9B,IAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAClC,4BAAqB,KAAI,CAAC,YAAY,qBAAW,KAAI,CAAC,oBAAoB,CAAE,CAC/E,CAAC;gBACF,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,KAAK,EAAE,CAAC;aACnB;QACL,CAAC,CAAC;QAEF,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACvD,UAAU,EACV,qCAAqC,CACxC,CAAC;QAEF,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAE3D,IAAI,CAAC,gBAAgB,GAAG,kBAAkB,CAAC;IAC/C,CAAC;IAEO,wCAAY,GAApB,UAAqB,KAAa,EAAE,MAAc,EAAE,EAAU;QAA9D,iBA6BC;QA5BG,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC9C,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,EAAE,0BAA0B,CAAC,CAAC;QAC5F,MAAM,CAAC,EAAE,GAAG,4BAAqB,IAAI,CAAC,YAAY,qBAAW,EAAE,CAAE,CAAC;QAClE,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,aAAM,MAAM,SAAM,CAAC,CAAC;QAC7D,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;QAErB,MAAM,CAAC,OAAO,GAAG;YACb,MAAM,CAAC,SAAS,CAAC,MAAM,CACnB,KAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,sCAAsC,CAAC,CAC3E,CAAC;YACF,KAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;YAC/B,IAAI,KAAI,CAAC,UAAU,EAAE;gBACjB,KAAI,CAAC,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;gBACzC,KAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;aAC3B;YACD,IAAI,KAAI,CAAC,SAAS,EAAE;gBAChB,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAC3B,KAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,0CAA0C,CAAC,CAC/E,CAAC;aACL;QACL,CAAC,CAAC;QACF,MAAM,CAAC,WAAW,GAAG;YACjB,IAAI,KAAI,CAAC,oBAAoB,KAAK,EAAE,EAAE;gBAClC,KAAI,CAAC,eAAe,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;aACnC;QACL,CAAC,CAAC;QAEF,OAAO,MAAM,CAAC;IAClB,CAAC;IAEO,2CAAe,GAAvB,UAAwB,EAAU,EAAE,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QAC9D,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,EAAE;YAC9B,IAAM,wBAAwB,GAAG,QAAQ,CAAC,cAAc,CACpD,4BAAqB,IAAI,CAAC,YAAY,qBAAW,IAAI,CAAC,oBAAoB,CAAE,CAC/E,CAAC;YACF,IAAM,qBAAqB,GAAG,QAAQ,CAAC,cAAc,CACjD,4BAAqB,IAAI,CAAC,YAAY,qBAAW,EAAE,CAAE,CACxD,CAAC;YACF,IAAI,qBAAqB,EAAE;gBACvB,wBAAwB,aAAxB,wBAAwB,uBAAxB,wBAAwB,CAAE,SAAS,CAAC,MAAM,CACtC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,sCAAsC,CAAC,CAC3E,CAAC;gBACF,qBAAqB,CAAC,SAAS,CAAC,GAAG,CAC/B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,sCAAsC,CAAC,CAC3E,CAAC;gBACF,IAAI,cAAc,EAAE;oBAChB,qBAAqB,CAAC,cAAc,EAAE,CAAC;iBAC1C;gBACD,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;aAClC;iBAAM,IAAI,wBAAwB,IAAI,IAAI,CAAC,oBAAoB,KAAK,CAAC,EAAE;gBACpE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;aAC3B;iBAAM;gBACH,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;aACtD;SACJ;IACL,CAAC;IAEO,yCAAa,GAArB;;QACI,IAAM,MAAM,GAAG,CAAA,MAAA,IAAI,CAAC,UAAU,0CAAE,KAAK,CAAC,WAAW,GAAG,IAAI,EAAE,KAAI,EAAE,CAAC;QACjE,IAAM,OAAO,mCAAO,IAAI,CAAC,QAAQ,SAAK,IAAI,CAAC,eAAe,OAAC,CAAC;QAC5D,KAAqB,UAAO,EAAP,mBAAO,EAAP,qBAAO,EAAP,IAAO,EAAE;YAAzB,IAAM,MAAM,gBAAA;YACb,IAAI,MAAM,CAAC,KAAK,EAAE;gBACd,IAAM,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBAC9D,IAAI,UAAU,KAAK,CAAC,CAAC,EAAE;oBACnB,IAAM,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CACtC,UAAU,EACV,UAAU,GAAG,MAAM,CAAC,MAAM,CAC7B,CAAC;oBACF,IAAM,eAAe,GAAG,IAAI,CAAC,YAAY,CACrC,MAAM,CAAC,KAAK,EACZ,WAAW,EACX,IAAI,CAAC,mBAAmB,EAAE,CAC7B,CAAC;oBACF,MAAA,IAAI,CAAC,SAAS,0CAAE,WAAW,CAAC,eAAe,CAAC,CAAC;iBAChD;aACJ;SACJ;IACL,CAAC;IAEO,8CAAkB,GAA1B,UAA2B,KAAc;QACrC,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBACvB,IAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACrD,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACvD,UAAU,EACV,mCAAmC,EACnC,kCAAkC,CACrC,CAAC;gBACF,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;aACzC;YACD,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,KAAK,CAAC;YACvC,OAAO,IAAI,CAAC,eAAe,CAAC;SAC/B;aAAM;YACH,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;gBACzB,IAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACvD,gBAAgB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACzD,UAAU,EACV,mCAAmC,CACtC,CAAC;gBACF,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;aAC7C;YACD,IAAI,CAAC,iBAAiB,CAAC,SAAS;gBAC5B,IAAI,CAAC,mBAAmB,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,iBAAiB,CAAC;YACtE,OAAO,IAAI,CAAC,iBAAiB,CAAC;SACjC;IACL,CAAC;IAEO,yCAAa,GAArB;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,KAAK,CAAC,oBAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC3C,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;YAC7B,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;SAClC;IACL,CAAC;IAEO,wCAAY,GAApB;;QACI,IAAI,MAAA,IAAI,CAAC,SAAS,0CAAE,aAAa,EAAE,EAAE;YACjC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CACxB,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,0CAA0C,CAAC,CAC/E,CAAC;SACL;IACL,CAAC;IAED,0CAAc,GAAd;QACI,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,2CAAe,GAAf,UAAgB,MAAc,EAAE,cAA+B;;QAC3D,IAAI,MAAM,MAAK,MAAA,IAAI,CAAC,UAAU,0CAAE,KAAK,CAAA,EAAE;YACnC,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;YACtC,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE;gBAChC,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;aACvD;SACJ;IACL,CAAC;IAED,gDAAoB,GAApB;;QACI,IAAM,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QACnD,MAAA,IAAI,CAAC,SAAS,0CAAE,WAAW,CAAC,gBAAgB,CAAC,CAAC;QAC9C,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,kDAAsB,GAAtB;;QACI,IAAI,IAAI,CAAC,iBAAiB,KAAI,MAAA,IAAI,CAAC,SAAS,0CAAE,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA,EAAE;YAC5E,MAAA,IAAI,CAAC,SAAS,0CAAE,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACvD;IACL,CAAC;IAED,8CAAkB,GAAlB,UAAmB,MAAc,EAAE,KAAa;;QAC5C,IAAI,MAAM,MAAK,MAAA,IAAI,CAAC,UAAU,0CAAE,KAAK,CAAA,EAAE;YACnC,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAM,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YACtD,MAAA,IAAI,CAAC,SAAS,0CAAE,WAAW,CAAC,cAAc,CAAC,CAAC;YAC5C,cAAc,CAAC,cAAc,EAAE,CAAC;SACnC;IACL,CAAC;IAED,sBAAI,6CAAc;aAAlB;;YACI,OAAO,MAAA,IAAI,CAAC,eAAe,0CAAE,GAAG,CAAC,UAAC,MAAM,IAAK,OAAA,MAAM,CAAC,KAAK,EAAZ,CAAY,CAAC,CAAC;QAC/D,CAAC;;;OAAA;IAED,sBAAI,yCAAU;aAAd;YACI,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,OAAO,IAAI,CAAC,WAAW,CAAC;aAC3B;iBAAM;gBACH,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;iBACjC;qBAAM;oBACH,OAAO,+BAAiB,CAAC;iBAC5B;aACJ;QACL,CAAC;;;OAAA;IAED,sBAAI,qCAAM;aAIV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aAND,UAAW,KAA6B;YACpC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC;;;OAAA;IAMD,sBAAI,8CAAe;aAAnB;YACI,OAAO,IAAI,CAAC,gBAAgB,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAI,wCAAS;aAAb;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;;;OAAA;IAED,sBAAI,uCAAQ;aAAZ;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IACL,wBAAC;AAAD,CApQA,AAoQC,IAAA;AApQY,8CAAiB;AAsQ9B;IAAiC,+BAAK;IAAtC;;IA+FA,CAAC;IAvEa,oCAAc,GAAxB;QAAA,iBAkCC;QAjCG,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC3D,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAExD,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,EAAE;YACxB,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;SACrE;QAED,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,EAAE;YACxB,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;SACrE;QAED,IAAI,CAAC,mBAAmB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACjE,UAAU,EACV,gBAAgB,CACnB,CAAC;QACF,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAE9C,IAAI,CAAC,mBAAmB,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEjE,IAAI,IAAI,CAAC,YAAY,KAAK,SAAS,EAAE;YACjC,IAAI,CAAC,mBAAmB,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC;SAC9D;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,mBAAmB,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACxD,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SACzE;QAED,IAAI,CAAC,mBAAmB,CAAC,OAAO,GAAG;YAC/B,KAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC,CAAC;QAEF,OAAO,IAAI,CAAC,mBAAmB,CAAC;IACpC,CAAC;IAED,qCAAe,GAAf;QACI,OAAO,cAAc,CAAC;IAC1B,CAAC;IAED,2BAAK,GAAL;QACI,OAAO,IAAI,CAAC,KAAK,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC1D,CAAC;IAED,6BAAO,GAAP;QACI,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YAC1B,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;SAC3B;QAED,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,EAAE;YACxB,MAAM,GAAG,MAAM,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC;SAC7C;QAED,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,EAAE;YACxB,MAAM,GAAG,MAAM,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC;SAC7C;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,8BAAK;aAAT;YACI,OAAO,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC;QACzF,CAAC;aAED,UAAU,KAAyB;YAC/B,IAAI,KAAK,IAAI,IAAI,CAAC,mBAAmB,EAAE;gBACnC,IAAI,CAAC,mBAAmB,CAAC,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;aACrD;QACL,CAAC;;;OANA;IAvFD,gBAAgB;IAEA,yBAAa,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACxD,+BAAmB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IACvE,uBAAW,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACpD,uBAAW,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAGpE;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,aAAa,CAAC;qDACd;IAGtB;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,WAAW,CAAC;4CACrB;IAGb;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,WAAW,CAAC;4CACrB;IAGb;QADC,IAAA,wBAAQ,EAAC,WAAW,CAAC,mBAAmB,CAAC;oDACrB;IA6EzB,kBAAC;CA/FD,AA+FC,CA/FgC,KAAK,GA+FrC;AA/FY,kCAAW;AAiGxB;IAA+B,6BAAK;IAApC;;IAmHA,CAAC;IA3Fa,kCAAc,GAAxB;QAAA,iBAkCC;QAjCG,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACzD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEpD,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SACxD;QAED,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SACxD;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACtD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SACvE;QAED,IAAI,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/D,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC/D,UAAU,EACV,cAAc,CACjB,CAAC;QACF,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAE5C,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG;YAC7B,KAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC,CAAC;QAEF,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;SACpD;QAED,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAClC,CAAC;IAED,qCAAiB,GAAjB,UAAkB,SAAyB;QACvC,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE;YAC/B,OAAO;SACV;QAED,iBAAM,iBAAiB,YAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,CAAC,UAAU,CAAC,aAAa,EAAE;YAC9E,IAAM,cAAc,GAAG,IAAI,CAAC,uCAAuC,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;YAEvG,IAAI,cAAc,EAAE;gBAChB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,CAAC;aACpH;iBAAM;gBACH,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,CAAC;aACjH;YAED,6BAA6B,CAAC,IAAI,CAAC,iBAAiB,EAAE,cAAc,CAAE,QAAQ,CAAC,CAAC;SACnF;IACL,CAAC;IAED,mCAAe,GAAf;QACI,OAAO,YAAY,CAAC;IACxB,CAAC;IAED,yBAAK,GAAL;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,2BAAO,GAAP;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;SAC3B;QAED,IAAM,WAAW,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEzC,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAEnC,MAAM,GAAG,MAAM,IAAI,WAAW,IAAI,OAAO,CAAC;SAC7C;QAED,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAEnC,MAAM,GAAG,MAAM,IAAI,WAAW,IAAI,OAAO,CAAC;SAC7C;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,4BAAK;aAAT;YACI,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC;QAC7E,CAAC;;;OAAA;IAjHD,gBAAgB;IAEA,uBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,6BAAmB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IACvE,qBAAW,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACvD,qBAAW,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAGvE;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,aAAa,CAAC;mDACZ;IAGtB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,WAAW,CAAC;0CACnB;IAGb;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,WAAW,CAAC;0CACnB;IAGb;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,mBAAmB,CAAC;kDACnB;IAiGzB,gBAAC;CAnHD,AAmHC,CAnH8B,KAAK,GAmHnC;AAnHY,8BAAS;AAqHtB;IAAkC,gCAAkC;IAChE,sBAAqB,aAAsB,EAAW,IAAY;QAAlE,YACI,kBACI,aAAa,EACb,IAAI,EACJ,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,OAAiC;YAEjC,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAEhC,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,IAAI,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBACzE,OAAO,KAAK,CAAC;aAChB;YAED,OAAO,SAAS,CAAC;QACrB,CAAC,EACD,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,KAAyB,EACzB,OAAiC;YAEjC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACrD,CAAC,CACJ,SACJ;QA5BoB,mBAAa,GAAb,aAAa,CAAS;QAAW,UAAI,GAAJ,IAAI,CAAQ;;IA4BlE,CAAC;IACL,mBAAC;AAAD,CA9BA,AA8BC,CA9BiC,8BAAc,GA8B/C;AA9BY,oCAAY;AAgCzB;IAA+B,6BAAK;IAApC;;IAsHA,CAAC;IArHkB,iCAAuB,GAAtC,UAAuC,UAAkB;QACrD,OAAO,IAAI,IAAI,CAAC,aAAa,GAAG,UAAU,GAAG,MAAM,CAAC,CAAC;IACzD,CAAC;IAyBS,kCAAc,GAAxB;QAAA,iBAiCC;QAhCG,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACzD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEpD,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SACxD;QAED,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SACxD;QAED,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC/D,UAAU,EACV,cAAc,CACjB,CAAC;QACF,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC5C,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG;YAC7B,KAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC,CAAC;QAEF,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACtD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SACvE;QAED,IAAI,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/D,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;SACpD;QAED,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAClC,CAAC;IAED,qCAAiB,GAAjB,UAAkB,SAAyB;QACvC,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE;YAC/B,OAAO;SACV;QAED,iBAAM,iBAAiB,YAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,CAAC,UAAU,CAAC,aAAa,EAAE;YAC9E,IAAM,cAAc,GAAG,IAAI,CAAC,uCAAuC,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;YAEvG,IAAI,cAAc,EAAE;gBAChB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,CAAC;aACpH;iBAAM;gBACH,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,CAAC;aACjH;YAED,6BAA6B,CAAC,IAAI,CAAC,iBAAiB,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC;SAClF;IACL,CAAC;IAED,mCAAe,GAAf;QACI,OAAO,YAAY,CAAC;IACxB,CAAC;IAED,yBAAK,GAAL;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,2BAAO,GAAP;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;SAC3B;QAED,IAAM,WAAW,GAAG,SAAS,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAElE,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAM,OAAO,GAAG,SAAS,CAAC,uBAAuB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAE5D,MAAM,GAAG,MAAM,IAAI,WAAW,IAAI,OAAO,CAAC;SAC7C;QAED,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAM,OAAO,GAAG,SAAS,CAAC,uBAAuB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAE5D,MAAM,GAAG,MAAM,IAAI,WAAW,IAAI,OAAO,CAAC;SAC7C;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,4BAAK;aAAT;YACI,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC;QAC7E,CAAC;;;OAAA;IAhHD,gBAAgB;IAEA,uBAAa,GAAG,IAAI,YAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACzD,6BAAmB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IACvE,qBAAW,GAAG,IAAI,YAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACrD,qBAAW,GAAG,IAAI,YAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAGrE;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,aAAa,CAAC;mDACZ;IAGtB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,WAAW,CAAC;0CACnB;IAGb;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,WAAW,CAAC;0CACnB;IAGb;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,mBAAmB,CAAC;kDACnB;IAgGzB,gBAAC;CAtHD,AAsHC,CAtH8B,KAAK,GAsHnC;AAtHY,8BAAS;AAgItB;IAAqC,0BAAU;IAA/C;QACI,gBAAgB;QADpB,qEAgaC;QAhYG,WAAK,GAAW,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC;QAG1C,UAAI,GAAW,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;QA4EhC,YAAM,kBAA+C;QAErD,kBAAY,GAAY,IAAI,CAAC;;IA+SzC,CAAC;IAlXG,YAAY;IAEJ,oCAAmB,GAA3B;QACI,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,4BAA4B;YAC5B,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAEnC,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACnD,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACvC,YAAY,CAAC,KAAK,CAAC,YAAY,GAAG,UAAU,CAAC;YAE7C,IACI,CAAC,CACG,UAAU,CAAC,OAAO,CAAC,aAAa,KAAK,KAAK,CAAC,mBAAmB,CAAC,UAAU;gBACzE,UAAU,CAAC,OAAO,CAAC,gBAAgB,CACtC,EACH;gBACE,YAAY,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;aAC5C;YAED,IAAI,IAAI,CAAC,KAAK,EAAE;gBACZ,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;aACvC;YAED,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC7C,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;aAClD;iBAAM;gBACH,IAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAClD,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC/B,WAAW,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC7D,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC9D,WAAW,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;gBAEpC,IAAI,UAAU,CAAC,OAAO,CAAC,aAAa,KAAK,KAAK,CAAC,mBAAmB,CAAC,UAAU,EAAE;oBAC3E,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;oBAChD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;oBAEpD,IAAI,IAAI,CAAC,KAAK,EAAE;wBACZ,WAAW,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;qBAC1C;iBACJ;qBAAM;oBACH,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oBAE/C,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oBAErC,IAAI,IAAI,CAAC,KAAK,EAAE;wBACZ,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;qBACzC;iBACJ;gBAED,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;gBAC9C,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;aAClD;SACJ;IACL,CAAC;IAEO,mCAAkB,GAA1B;QACI,IAAI,IAAI,CAAC,MAAM,YAAY,SAAS,EAAE;YAClC,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;IACtE,CAAC;IAMD,6BAAY,GAAZ;QACI,IAAM,WAAW,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAEzC,OAAO,WAAW,YAAY,WAAW,IAAI,WAAW,CAAC,YAAY,EAAE,CAAC;IAC5E,CAAC;IAES,iCAAgB,GAA1B;;QACI,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,eAAe,EAAE;YACrC,IAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;YAE1C,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,UAAU,CAAC,gBAAgB,CACxD,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,wBAAwB,CAC3E,CAAC;YAEF,IAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAElD,IAAI,eAAe,EAAE;gBACjB,IAAM,oBAAoB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAEjE,IAAI,oBAAoB,EAAE;oBACtB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,GAAG,oBAAoB,CAAC,CAAC;iBACvE;aACJ;YAED,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAElF,QAAQ,IAAI,CAAC,MAAM,EAAE;gBACjB;oBACI,+BAA+B;oBAC/B,MAAM;gBAEV;oBACI,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC;oBAC5E,MAAM;gBACV;oBACI,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC;oBAC3E,MAAM;aACb;YAED,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,oBAAoB,EAAE,EAAE;gBAC3C,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,EAAE;oBAC3C,CAAA,KAAA,IAAI,CAAC,eAAe,CAAC,SAAS,CAAA,CAAC,GAAG,WAC3B,UAAU,CAAC,iBAAiB,CAAC,SAAS,EAAE,gBAAgB,CAAC,EAC9D;iBACL;qBAAM;oBACH,CAAA,KAAA,IAAI,CAAC,eAAe,CAAC,SAAS,CAAA,CAAC,GAAG,WAC3B,UAAU,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,EACtE;iBACL;aACJ;SACJ;IACL,CAAC;IAES,+CAA8B,GAAxC;QACI,OAAO,IAAI,oBAAoB,EAAE,CAAC;IACtC,CAAC;IAES,4CAA2B,GAArC;QACI,OAAO,EAAE,CAAC;IACd,CAAC;IAES,4CAA2B,GAArC,UAAsC,OAAsC;QACxE,oCAAoC;IACxC,CAAC;IAES,uCAAsB,GAAhC,UAAiC,gBAA+C;QAC5E,IAAM,MAAM,GAAY,EAAE,CAAC;QAE3B,IAAI,gBAAgB,EAAE;YAClB,KAAkB,UAA6B,EAA7B,KAAA,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAA7B,cAA6B,EAA7B,IAA6B,EAAE;gBAA5C,IAAM,GAAG,SAAA;gBACV,IAAM,KAAK,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBAEpC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE;oBACxB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACtB;aACJ;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAES,gCAAe,GAAzB,UAA0B,OAA6B;QACnD,OAAO,OAAO,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,KAAK,SAAS,CAAC;IACnF,CAAC;IAES,wCAAuB,GAAjC;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SACxB;QAED,uBAAuB,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAES,qCAAoB,GAA9B;QACI,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAEtC,IAAI,UAAU,YAAY,WAAW,EAAE;YACnC,UAAU,CAAC,yBAAyB,EAAE,CAAC;SAC1C;IACL,CAAC;IAID,wBAAO,GAAP;QACI,OAAO,EAAE,CAAC;IACd,CAAC;IAED,4BAAW,GAAX;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC1C,OAAO,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,QAAQ,CAAC;IAChC,CAAC;IAED,oCAAmB,GAAnB;QACI,QAAQ,IAAI,CAAC,IAAI,EAAE;YACf,KAAK,KAAK,CAAC,UAAU,CAAC,MAAM;gBACxB,OAAO,QAAQ,CAAC;YACpB,KAAK,KAAK,CAAC,UAAU,CAAC,IAAI;gBACtB,OAAO,MAAM,CAAC;YAClB,KAAK,KAAK,CAAC,UAAU,CAAC,IAAI;gBACtB,OAAO,MAAM,CAAC;YAClB,KAAK,KAAK,CAAC,UAAU,CAAC,QAAQ;gBAC1B,OAAO,UAAU,CAAC;YACtB,KAAK,KAAK,CAAC,UAAU,CAAC,GAAG;gBACrB,OAAO,KAAK,CAAC;YACjB;gBACI,OAAO,SAAS,CAAC;SACxB;IACL,CAAC;IAED,6CAA4B,GAA5B,UAA6B,OAAoB,EAAE,qBAAsC;QAAtC,sCAAA,EAAA,6BAAsC;QACrF,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEhF,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAEjD,IAAI,OAAO,YAAY,iBAAiB,EAAE;YACtC,OAAO,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC;SACnD;QAED,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE;YAC9B,OAAO,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;SACjD;aAAM;YACH,OAAO,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;YACzC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC;SAC5E;QAED,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/C,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;SAC9B;aAAM;YACH,OAAO,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;YACtC,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;SACpC;QAED,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,qBAAqB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACtC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;aACpD;YACD,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;SAChC;IACL,CAAC;IAED,sBAAK,GAAL,UAAM,MAAW,EAAE,OAA8B;QAC7C,OAAO,iBAAM,KAAK,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,oBAAoB,EAAE,CAAC,CAAC;IAC/E,CAAC;IAED,uBAAM,GAAN;QAAA,iBAoBC;QAnBG,IAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACvD,aAAa,CAAC,IAAI,GAAG,QAAQ,CAAC;QAC9B,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACrC,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;QAC1C,aAAa,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;QAC9C,aAAa,CAAC,OAAO,GAAG,UAAC,CAAC;YACtB,IAAI,KAAI,CAAC,oBAAoB,EAAE,EAAE;gBAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;gBAEtB,KAAI,CAAC,OAAO,EAAE,CAAC;aAClB;QACL,CAAC,CAAC;QAEF,IAAI,CAAC,gBAAgB,GAAG,aAAa,CAAC;QAEtC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,4BAA4B,CAAC,aAAa,CAAC,CAAC;IACrD,CAAC;IAED,wBAAO,GAAP;QACI,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;SAC/C;QAED,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAED,oCAAmB,GAAnB;QACI,IAAM,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACpD,IAAM,aAAa,GAAG,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;QAEpE,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YAEzB,OAAO,KAAK,CAAC;SAChB;QAED,IAAI,CAAC,2BAA2B,CAAC,gBAAgB,CAAC,CAAC;QAEnD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,uBAAM,GAAN;QACI,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,OAAO,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SACpD;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,6BAAY,GAAZ,UAAa,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QACvC,OAAO,EAAE,CAAC;IACd,CAAC;IAED,8BAAa,GAAb;QACI,OAAO,CAAC,IAAI,CAAC,CAAC;IAClB,CAAC;IAED,uCAAsB,GAAtB;QACI,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1E,CAAC;IAED,8BAAa,GAAb,UAAc,EAAU;QACpB,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;IAC7C,CAAC;IAED,oCAAmB,GAAnB;QACI,OAAO,IAAI,CAAC,2BAA2B,EAAE,CAAC;IAC9C,CAAC;IAED;;;;OAIG;IACH,+BAAc,GAAd;QACI,OAAO,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;IACnE,CAAC;IAED,mCAAkB,GAAlB;QACI,oCAAoC;IACxC,CAAC;IAED,qCAAoB,GAApB;QACI,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,sBAAI,6BAAS;aAAb;YACI,OAAO,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;QACrD,CAAC;aAED,UAAc,KAAc;YACxB,IAAI,KAAK,EAAE;gBACP,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;aAC3C;iBAAM;gBACH,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,EAAE;oBAC3C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC;iBAC1C;aACJ;QACL,CAAC;;;OAVA;IAYD,sBAAI,8BAAU;aAAd;YACI,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,+BAAiB,CAAC;QACpE,CAAC;;;OAAA;IAED,sBAAI,0BAAM;aAAV;YACI,OAAoB,IAAI,CAAC,OAAO,CAAC;QACrC,CAAC;;;OAAA;IAED,sBAAI,yBAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAU,KAAwB;YAC9B,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;gBACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBAEpB,IAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B;QACL,CAAC;;;OARA;IAUD,sBAAI,+BAAW;aAAf;YACI,OAAO,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;aAED,UAAgB,KAAc;YAC1B,IAAI,IAAI,CAAC,YAAY,KAAK,KAAK,EAAE;gBAC7B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAE1B,IAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B;QACL,CAAC;;;OARA;IApZe,oBAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,sBAAe,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC/D,oBAAa,GAAG,IAAI,gCAAgB,CAChD,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP;QACI,EAAE,KAAK,EAAE,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE;QACpC,EAAE,KAAK,EAAE,KAAK,CAAC,WAAW,CAAC,QAAQ,EAAE;QACrC,EAAE,KAAK,EAAE,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE;KAC3C,EACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAC5B,CAAC;IACc,mBAAY,GAAG,IAAI,gCAAgB,CAC/C,wBAAQ,CAAC,IAAI,EACb,MAAM,EACN,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,EAC5E,KAAK,CAAC,UAAU,CAAC,OAAO,CAC3B,CAAC;IACc,sBAAe,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC/D,wBAAiB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;IACvE,mBAAY,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;IAGzF;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,aAAa,CAAC;yCAChB;IAGf;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,eAAe,CAAC;2CAChB;IAGjB;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,aAAa,CAAC;yCACW;IAG1C;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,YAAY,CAAC;wCACU;IAGxC;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,eAAe,CAAC;2CAChB;IAGjB;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,iBAAiB,CAAC;6CAChB;IAGnB;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,YAAY,CAAC;wCACN;IAoX5B,aAAC;CAhaD,AAgaC,CAhaoC,wBAAU,GAga9C;AAhaqB,wBAAM;AAka5B;IAA+C,oCAAM;IAArD;QACI,gBAAgB;QADpB,qEA4JC;QAhHG,0CAAoC,GAAY,KAAK,CAAC;QAEtD,YAAY;QAEJ,iBAAW,GAAY,KAAK,CAAC;QAE7B,+BAAyB,GAAY,KAAK,CAAC;;IA0GvD,CAAC;IAxGa,sDAA2B,GAArC;QACI,IAAM,MAAM,GAAsB,EAAE,CAAC;QAErC,IAAI,IAAI,CAAC,gBAAgB,KAAK,MAAM,EAAE;YAClC,IAAI,OAAO,GAA4B,IAAI,CAAC,MAAM,CAAC;YACnD,IAAI,MAAM,GAAY,EAAE,CAAC;YAEzB,OAAO,OAAO,EAAE;gBACZ,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;gBAE5C,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC;aAC5B;YAED,KAAoB,UAAM,EAAN,iBAAM,EAAN,oBAAM,EAAN,IAAM,EAAE;gBAAvB,IAAM,KAAK,eAAA;gBACZ,IAAI,KAAK,CAAC,EAAE,EAAE;oBACV,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;iBAC5B;aACJ;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAES,sDAA2B,GAArC,UAAsC,MAAqC;QACvE,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;SACxE;aAAM;YACH,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;SAC5B;QAED,IAAI,IAAI,CAAC,cAAc,IAAI,MAAM,EAAE;YAC/B,KAAkB,UAAmB,EAAnB,KAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAnB,cAAmB,EAAnB,IAAmB,EAAE;gBAAlC,IAAM,GAAG,SAAA;gBACV,IAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBAE1B,IAAI,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,KAAK,EAAE,EAAE;oBAC3B,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC;wBACzB,OAAO,KAAK,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;iBAC9E;aACJ;SACJ;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC5B,CAAC;IAES,+CAAoB,GAA9B;QACI,IAAI,uBAAc,CAAC,yCAAyC,EAAE;YAC1D,IAAI,CAAC,+BAA+B,EAAE,CAAC;SAC1C;IACL,CAAC;IAED,0DAA+B,GAA/B;QACI,IAAI,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAElD,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC;QAEvC,IAAI,gBAAgB,EAAE;YAClB,KAAkB,UAA6B,EAA7B,KAAA,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAA7B,cAA6B,EAA7B,IAA6B,EAAE;gBAA5C,IAAM,GAAG,SAAA;gBACV,IAAM,KAAK,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBAEpC,KAAK,CAAC,eAAe,EAAE,CAAC;aAC3B;SACJ;IACL,CAAC;IAED,6CAAkB,GAAlB;QACI,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC;QAEvC,IAAI,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAElD,IAAI,gBAAgB,EAAE;YAClB,KAAkB,UAA6B,EAA7B,KAAA,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAA7B,cAA6B,EAA7B,IAA6B,EAAE;gBAA5C,IAAM,GAAG,SAAA;gBACV,IAAM,KAAK,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBAEpC,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE;oBACjB,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;oBAEtC,MAAM;iBACT;aACJ;SACJ;QAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAExB,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SAC5D;IACL,CAAC;IAED,+CAAoB,GAApB;QACI,IAAI,MAAM,GAAG,iBAAM,oBAAoB,WAAE,CAAC;QAE1C,OAAO,IAAI,CAAC,oCAAoC;YAC5C,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,yBAAyB;YAC1C,CAAC,CAAC,MAAM,CAAC;IACjB,CAAC;IAED,sBAAI,kCAAI;aAAR;YACI,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;QACvE,CAAC;aAED,UAAS,KAAyB;YAC9B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC7B,CAAC;;;OALA;IAnJe,6BAAY,GAAG,IAAI,kCAAkB,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAC7D,yCAAwB,GAAG,IAAI,8BAAc,CACzD,wBAAQ,CAAC,IAAI,EACb,kBAAkB,EAClB,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,OAAiC;QAEjC,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEhC,IAAI,KAAK,KAAK,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAClD,OAAO,KAAK,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;SAC3D;QAED,OAAO,SAAS,CAAC;IACrB,CAAC,EACD,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,KAAyB,EACzB,OAAiC;QAEjC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACrD,CAAC,CACJ,CAAC;IACc,6DAA4C,GAAG,IAAI,4BAAY,CAC3E,wBAAQ,CAAC,IAAI,EACb,sCAAsC,EACtC,KAAK,CACR,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,gBAAgB,CAAC,YAAY,CAAC;2DACJ;IAGpC;QADC,IAAA,wBAAQ,EAAC,gBAAgB,CAAC,wBAAwB,CAAC;8DACjB;IAGnC;QADC,IAAA,wBAAQ,EAAC,gBAAgB,CAAC,4CAA4C,CAAC;kFAClB;IAgH1D,uBAAC;CA5JD,AA4JC,CA5J8C,MAAM,GA4JpD;AA5JqB,4CAAgB;AA8JtC;IAAkC,gCAAgB;IAAlD;;IAQA,CAAC;IAHG,sCAAe,GAAf;QACI,OAAO,YAAY,CAAC,YAAY,CAAC;IACrC,CAAC;IAND,2EAA2E;IAC3E,iEAAiE;IACjD,yBAAY,GAAoB,eAAe,CAAC;IAKpE,mBAAC;CARD,AAQC,CARiC,gBAAgB,GAQjD;AARY,oCAAY;AAUzB;IAA8C,mCAAgB;IAA9D;;IAGA,CAAC;IAAD,sBAAC;AAAD,CAHA,AAGC,CAH6C,gBAAgB,GAG7D;AAHqB,0CAAe;AAKrC;IAAmC,iCAAe;IAAlD;;IAiBA,CAAC;IALG,YAAY;IAEZ,uCAAe,GAAf;QACI,OAAO,aAAa,CAAC,YAAY,CAAC;IACtC,CAAC;IAfD,2EAA2E;IAC3E,iEAAiE;IACjD,0BAAY,GAAqB,gBAAgB,CAAC;IAElE,gBAAgB;IAEA,0BAAY,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAGzE;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,YAAY,CAAC;+CACxB;IAOjB,oBAAC;CAjBD,AAiBC,CAjBkC,eAAe,GAiBjD;AAjBY,sCAAa;AAmB1B;IAA+B,6BAAe;IAA9C;;IAiCA,CAAC;IATG,YAAY;IAEZ,mCAAe,GAAf;QACI,OAAO,SAAS,CAAC,YAAY,CAAC;IAClC,CAAC;IAED,sBAAI,mCAAY;aAAhB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IA/BD,2EAA2E;IAC3E,iEAAiE;IACjD,sBAAY,GAAiB,YAAY,CAAC;IAE1D,gBAAgB;IAEA,yBAAe,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC/D,wBAAc,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,uBAAa,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACxD,sBAAY,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAGtE;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,eAAe,CAAC;8CACpB;IAGhB;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,cAAc,CAAC;6CACpB;IAGf;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,aAAa,CAAC;4CACnB;IAGf;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,YAAY,CAAC;2CACnB;IAWlB,gBAAC;CAjCD,AAiCC,CAjC8B,eAAe,GAiC7C;AAjCY,8BAAS;AAmCtB;IAAmC,iCAAM;IAAzC;;IAsCA,CAAC;IAxBG,uCAAe,GAAf;QACI,OAAO,aAAa,CAAC,YAAY,CAAC;IACtC,CAAC;IAED,mCAAW,GAAX;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC1C,OAAO,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,MAAM,CAAC;IAC9B,CAAC;IAED,kDAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;YACX,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAC1C,CAAC;SACL;IACL,CAAC;IAED,+BAAO,GAAP;QACI,OAAO,IAAI,CAAC,GAAG,CAAC;IACpB,CAAC;IApCD,gBAAgB;IAEA,yBAAW,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAKvE,YAAY;IAEZ,2EAA2E;IAC3E,iEAAiE;IACjD,0BAAY,GAAqB,gBAAgB,CAAC;IANlE;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,WAAW,CAAC;8CACvB;IAgCjB,oBAAC;CAtCD,AAsCC,CAtCkC,MAAM,GAsCxC;AAtCY,sCAAa;AAwC1B;IAA4C,0CAAM;IAAlD;QACI,gBAAgB;QADpB,qEAkIC;QAvEG,oBAAc,GAA2B,EAAE,CAAC;;IAuEhD,CAAC;IA/DW,4DAA2B,GAAnC;QACI,4EAA4E;QAC5E,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAEpD,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACvB,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvB,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,eAAe,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC7E;qBAAM;oBACH,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;iBAC1D;aACJ;SACJ;IACL,CAAC;IAED,2DAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,CACrD,CAAC;SACL;IACL,CAAC;IAED,gDAAe,GAAf;QACI,OAAO,sBAAsB,CAAC,YAAY,CAAC;IAC/C,CAAC;IAED,uCAAM,GAAN;QACI,iBAAM,MAAM,WAAE,CAAC;QAEf,IAAI,CAAC,2BAA2B,EAAE,CAAC;IACvC,CAAC;IAED,wCAAO,GAAP;QACI,iBAAM,OAAO,WAAE,CAAC;QAChB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,KAAwB,UAAgC,EAAhC,KAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,EAAhC,cAAgC,EAAhC,IAAgC,EAAE;gBAArD,IAAM,SAAS,SAAA;gBAChB,IAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;gBAE7E,IAAI,aAAa,EAAE;oBACf,IAAI,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,SAAS,EAAE;wBACrD,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;qBAC5D;yBAAM;wBACH,aAAa,CAAC,SAAS,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC;qBACtD;iBACJ;aACJ;SACJ;IACL,CAAC;IAED,iDAAgB,GAAhB,UAAiB,SAAiB,EAAE,SAA0C;QAA1C,0BAAA,EAAA,qBAA0C;QAC1E,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC;QAC3C,IAAI,CAAC,2BAA2B,EAAE,CAAC;IACvC,CAAC;IAED,oDAAmB,GAAnB,UAAoB,SAAiB;QACjC,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,2BAA2B,EAAE,CAAC;IACvC,CAAC;IA9He,6CAAsB,GAAG,IAAI,8BAAc,CACvD,wBAAQ,CAAC,IAAI,EACb,gBAAgB,EAChB,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,OAAiC;QAEjC,IAAM,MAAM,GAAgB,EAAE,CAAC;QAE/B,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;YAClC,KAAmB,UAAiB,EAAjB,KAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAjB,cAAiB,EAAjB,IAAiB,EAAE;gBAAjC,IAAM,IAAI,SAAA;gBACX,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;oBAC1B,MAAM,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;iBAC5B;qBAAM,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;oBACjC,IAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;oBAEpC,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;wBAC/B,MAAM,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;qBAC1D;iBACJ;aACJ;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC,EACD,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,KAAkB,EAClB,OAAiC;QAEjC,IAAM,cAAc,GAAU,EAAE,CAAC;QAEjC,KAAiB,UAAkB,EAAlB,KAAA,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAAhC,IAAM,EAAE,SAAA;YACT,IAAI,OAAO,KAAK,CAAC,EAAE,CAAC,KAAK,SAAS,EAAE;gBAChC,cAAc,CAAC,IAAI,CAAC;oBAChB,SAAS,EAAE,EAAE;oBACb,SAAS,EAAE,KAAK,CAAC,EAAE,CAAC;iBACvB,CAAC,CAAC;aACN;iBAAM;gBACH,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aAC3B;SACJ;QAED,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;IAC9D,CAAC,EACD,EAAE,EACF,UAAC,MAA0B;QACvB,OAAO,EAAE,CAAC;IACd,CAAC,CACJ,CAAC;IAKF,YAAY;IAEZ,2EAA2E;IAC3E,iEAAiE;IACjD,mCAAY,GAA8B,yBAAyB,CAAC;IANpF;QADC,IAAA,wBAAQ,EAAC,sBAAsB,CAAC,sBAAsB,CAAC;kEACZ;IAuEhD,6BAAC;CAlID,AAkIC,CAlI2C,MAAM,GAkIjD;AAlIY,wDAAsB;AAoInC;IAA6C,kDAAkB;IAqB3D,wCAAqB,aAAsB,EAAW,IAAY;QAAlE,YACI,kBAAM,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE;YAClC,OAAO,IAAI,gCAAuB,EAAE,CAAC;QACzC,CAAC,CAAC,SACL;QAJoB,mBAAa,GAAb,aAAa,CAAS;QAAW,UAAI,GAAJ,IAAI,CAAQ;;IAIlE,CAAC;IAxBD,8CAAK,GAAL,UACI,MAA0B,EAC1B,MAAmB,EACnB,OAAiC;QAEjC,IAAM,MAAM,GAAG,IAAI,gCAAuB,EAAE,CAAC;QAC7C,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAEjD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,+CAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAA8B,EAC9B,OAAiC;QAEjC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;IACnE,CAAC;IAOL,qCAAC;AAAD,CA1BA,AA0BC,CA1B4C,kCAAkB,GA0B9D;AAED;IAAgC,8BAAkB;IAgB9C,YAAY;IAEZ,oBAAY,IAAiB,EAAE,KAAkB;QAArC,qBAAA,EAAA,SAAiB;QAAE,sBAAA,EAAA,UAAkB;QAAjD,YACI,iBAAO,SAIV;QAFG,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;IACvB,CAAC;IAjBS,iCAAY,GAAtB;QACI,OAAO,YAAY,CAAC;IACxB,CAAC;IAiBD,wCAAmB,GAAnB,UAAoB,MAAe,EAAE,gBAAmC;QACpE,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;IAC9D,CAAC;IAED,wCAAmB,GAAnB,UAAoB,MAAyB;QACzC,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,MAAM,EAAE,qBAAY,CAAC,6BAA6B,CAAC,CAAC;IAC1F,CAAC;IAED,sBAAI,6BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;QAC7B,CAAC;aAED,UAAU,QAA4B;YAClC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC9B,CAAC;;;OAJA;IAlCD,gBAAgB;IAEA,uBAAY,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACzD,wBAAa,GAAG,IAAI,8BAA8B,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAO3F;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,YAAY,CAAC;4CACrB;IAGb;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,aAAa,CAAC;8CACK;IA0B5C,iBAAC;CAxCD,AAwCC,CAxC+B,kCAAkB,GAwCjD;AAxCY,gCAAU;AA0CvB;IAAgC,8BAAM;IAAtC;QACI,gBAAgB;QADpB,qEA0HC;QA5FW,4BAAsB,GAAY,KAAK,CAAC;;IA4FpD,CAAC;IApFa,gDAA2B,GAArC;QACI,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QACjF,IAAM,MAAM,GAAsB,EAAE,CAAC;QAErC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEjD,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;YAA9B,IAAM,MAAM,SAAA;YACb,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SACjD;QAED,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAElD,OAAO,MAAM,CAAC;IAClB,CAAC;IAES,gDAA2B,GAArC,UAAsC,MAAqC;QACvE,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,qBAAY,CAAC,6BAA6B,CAAC,CAAC;YAEpF,IAAI,WAAW,GAAG,qBAAY,CAAC,eAAe,CAAC;YAE/C,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;gBAA9B,IAAM,MAAM,SAAA;gBACb,MAAM,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;gBAEnC,IAAI,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,cAAc,EAAE;oBAC7D,WAAW,GAAG,MAAM,CAAC,KAAM,CAAC;iBAC/B;aACJ;YAED,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;SACzD;IACL,CAAC;IAED,oCAAe,GAAf;QACI,OAAO,UAAU,CAAC,YAAY,CAAC;IACnC,CAAC;IAED,+CAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;YACX,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAC1C,CAAC;SACL;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,KAAqB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAAE;gBAA9B,IAAM,MAAM,SAAA;gBACb,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;oBACd,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,qCAAqC,EAAE,CACzD,CAAC;iBACL;aACJ;SACJ;IACL,CAAC;IAED,sBAAI,6CAAqB;aAAzB;YACI,OAAO,IAAI,CAAC,sBAAsB,CAAC;QACvC,CAAC;aAED,UAA0B,KAAc;YACpC,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACxC,CAAC;;;OAJA;IAMD,sBAAI,2BAAG;aAAP;YACI,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAC3B,CAAC;aAED,UAAQ,KAAyB;YAC7B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC;;;OAJA;IAMD,sBAAI,4BAAI;aAAR;YACI,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;QAC5B,CAAC;aAED,UAAS,KAAyB;YAC9B,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC1B,CAAC;;;OAJA;IAlHe,sBAAW,GAAG,IAAI,8BAA8B,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACvE,uBAAY,GAAG,IAAI,8BAA8B,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACzE,yBAAc,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,0BAAe,GAAG,IAAI,oDAAoC,CACtE,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,UAAU,CACb,CAAC;IACc,wCAA6B,GAAG,IAAI,4BAAY,CAC5D,wBAAQ,CAAC,IAAI,EACb,uBAAuB,EACvB,KAAK,CACR,CAAC;IAiBF,YAAY;IAEZ,2EAA2E;IAC3E,iEAAiE;IACjD,uBAAY,GAAkB,aAAa,CAAC;IAlB5D;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,WAAW,CAAC;4CACK;IAGtC;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,YAAY,CAAC;6CACK;IAGvC;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,cAAc,CAAC;8CACpB;IAGhB;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,eAAe,CAAC;+CACf;IAGtB;QADC,IAAA,wBAAQ,EAAC,UAAU,CAAC,6BAA6B,CAAC;8DACH;IA4FpD,iBAAC;CA1HD,AA0HC,CA1H+B,MAAM,GA0HrC;AA1HY,gCAAU;AA4HvB;IAAoC,kCAAM;IAA1C;QAAA,qEAuGC;QArDY,UAAI,GAAiB,IAAI,kBAAkB,EAAE,CAAC;;IAqD3D,CAAC;IAlGa,yCAAgB,GAA1B;QACI,iBAAM,gBAAgB,WAAE,CAAC;QAEzB,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAM,mBAAmB,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,+BAAiB,CAAC;YAErF,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,eAAe,CAAC,YAAY,CAC7B,eAAe,EACf,CAAC,IAAI,CAAC,KAAK,qBAA+B,CAAC,CAAC,QAAQ,EAAE,CACzD,CAAC;SACL;IACL,CAAC;IAES,sCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAM,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;QAEhC,IAAI,QAAQ,EAAE;YACV,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;SACtC;aAAM;YACH,OAAO,CAAC,aAAa,CACjB,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,oBAAoB,EAAE,CACxC,CAAC;SACL;IACL,CAAC;IAES,uCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;SACrE;IACL,CAAC;IAES,gDAAuB,GAAjC;QACI,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,KAAK,KAAK,CAAC,kBAAkB,CAAC,KAAK,EAAE;YAChF,sCAAsC;YACtC,iBAAM,uBAAuB,WAAE,CAAC;SACnC;IACL,CAAC;IAID,4CAAmB,GAAnB;QACI,iBAAM,mBAAmB,WAAE,CAAC;QAE5B,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IACpC,CAAC;IAED,wCAAe,GAAf;QACI,OAAO,cAAc,CAAC,YAAY,CAAC;IACvC,CAAC;IAED,mDAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC;IAClD,CAAC;IAED,kCAAS,GAAT,UAAU,KAAkB;QACxB,iBAAM,SAAS,YAAC,KAAK,CAAC,CAAC;QAEvB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,qCAAY,GAAZ,UAAa,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QACvC,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IAED,sCAAa,GAAb;QACI,IAAM,MAAM,GAAG,iBAAM,aAAa,WAAE,CAAC;QAErC,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE;QAE1C,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,+CAAsB,GAAtB;QACI,IAAI,MAAM,GAAG,iBAAM,sBAAsB,WAAE,CAAC;QAE5C,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAE;QAEnD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sCAAa,GAAb,UAAc,EAAU;QACpB,IAAI,MAAM,GAAG,iBAAM,aAAa,YAAC,EAAE,CAAC,CAAC;QAErC,IAAI,CAAC,MAAM,EAAE;YACT,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;SACxC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IArGD,2EAA2E;IAC3E,iEAAiE;IACjD,2BAAY,GAAsB,iBAAiB,CAAC;IAoGxE,qBAAC;CAvGD,AAuGC,CAvGmC,MAAM,GAuGzC;AAvGY,wCAAc;AAyG3B;IAA6B,kCAAM;IAI/B,wBAAY,OAAiB;QAA7B,YACI,iBAAO,SAKV;QAJG,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAExB,KAAI,CAAC,KAAK,GAAG,iBAAO,CAAC,QAAQ,CAAC,kBAAkB,EAAE,CAAC;QACnD,KAAI,CAAC,OAAO,GAAG,iBAAO,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC;;IAC5D,CAAC;IAED,mCAAU,GAAV;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAED,sCAAa,GAAb;QACI,IAAM,MAAM,GAAG,iBAAM,aAAa,WAAE,CAAC;QAErC,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,IAAI,CAAC,QAAQ,EAAE;QAE9B,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,wCAAe,GAAf;QACI,OAAO,cAAc,CAAC,YAAY,CAAC;IACvC,CAAC;IAED,gCAAO,GAAP;QAAA,iBAiCC;;QAhCG,IAAM,sBAAsB,GAAG,CAAC,mCAAmC,CAC/D,IAAI,EACJ,IAAI,CAAC,eAAe,CACvB,CAAC;QAEF,IAAI,sBAAsB,IAAI,IAAI,CAAC,eAAe,EAAE;YAChD,IAAM,aAAW,GAAG,IAAI,oBAAS,EAAE,CAAC;YACpC,aAAW,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;oCAEhC,CAAC;gBACN,IAAM,QAAQ,GAAG,IAAI,mBAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,MAAA,OAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,mCAAI,EAAE,CAAC,CAAC;gBAC1E,QAAQ,CAAC,SAAS,GAAG,OAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gBAChD,QAAQ,CAAC,OAAO,GAAG;oBACf,IAAM,eAAe,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAEzC,aAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;oBAE9B,IAAI,eAAe,CAAC,SAAS,EAAE;wBAC3B,eAAe,CAAC,OAAO,EAAE,CAAC;qBAC7B;gBACL,CAAC,CAAC;gBAEF,aAAW,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;;;YAbpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE;wBAApC,CAAC;aAcT;YAED,aAAW,CAAC,OAAO,GAAG;;gBAClB,MAAA,KAAI,CAAC,eAAe,0CAAE,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;YACjE,CAAC,CAAA;YAED,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;YAC3D,aAAW,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SAC3C;IACL,CAAC;IAED,qDAA4B,GAA5B,UAA6B,OAAoB,EAAE,qBAAsC;QAAtC,sCAAA,EAAA,6BAAsC;QACrF,iBAAM,4BAA4B,YAAC,OAAO,EAAE,qBAAqB,CAAC,CAAC;QAEnE,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,iBAAO,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,CAAC;QAC7E,OAAO,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;IACnD,CAAC;IAnEe,2BAAY,GAAsB,iBAAiB,CAAC;IAoExE,qBAAC;CArED,AAqEC,CArE4B,MAAM,GAqElC;AAED;IAiJI,0BAAY,KAAkB;QAJtB,WAAM,GAAa,EAAE,CAAC;QAEtB,qBAAgB,GAAa,EAAE,CAAC;QAGpC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IA7IO,0CAAe,GAAvB,UAAwB,MAAc;QAClC,IAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,uBAAuB,EAAE,CAAC;QAE7D,IAAI,cAAc,EAAE;YAChB,KAA4B,UAAc,EAAd,iCAAc,EAAd,4BAAc,EAAd,IAAc,EAAE;gBAAvC,IAAM,aAAa,uBAAA;gBACpB,IAAI,MAAM,CAAC,WAAW,KAAK,aAAa,EAAE;oBACtC,OAAO,KAAK,CAAC;iBAChB;aACJ;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,2CAAgB,GAAxB;QACI,YAAY,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAExC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;YAElD,OAAO;SACV;QAED,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,SAAS;YACrC,IAAI,CAAC,mBAAmB,GAAG,CAAC;gBACxB,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI;gBAChE,CAAC,CAAC,KAAK,CAAC;QAEhB,IAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;QAElD,IAAI,CAAC,MAAM,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;QAEpD,IAAM,eAAe,GACjB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,oCAAoC,CAAC,OAAO,CAAC,CAAC;QAEzE,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC;YACjE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,GAAG,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC;YAEnE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,GAAG,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC;YACtE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,GAAG,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC;YAExE,IAAI,eAAe,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE;gBAC7D,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,aAAa,GAAG,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC;gBACrE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,GAAG,GAAG,GAAG,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC;aAC7E;YAED,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SAClE;IACL,CAAC;IAEO,wCAAa,GAArB;QACI,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,YAAY,EAAE,CAAC;IAChD,CAAC;IAEO,yCAAc,GAAtB,UACI,MAAsB,EACtB,aAA8B,EAC9B,UAA0B;QAD1B,8BAAA,EAAA,qBAA8B;QAC9B,2BAAA,EAAA,iBAA0B;QAEL,MAAM,CAAC,IAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QAEhE,8GAA8G;QAC9G,IAAM,YAAY,GACd,MAAM,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE;YACtD,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe;YAC7B,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QAE/B,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC;QAChC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC;QAE9B,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAExB,IAAI,UAAU,EAAE;YACZ,IAAI,CAAC,aAAa,EAAE,CAAC;YAErB,4BAA4B,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;SAC9C;IACL,CAAC;IAEO,iDAAsB,GAA9B;QACI,KAAqB,UAAqB,EAArB,KAAA,IAAI,CAAC,gBAAgB,EAArB,cAAqB,EAArB,IAAqB,EAAE;YAAvC,IAAM,MAAM,SAAA;YACb,MAAM,CAAC,KAAK,iBAA2B,CAAC;SAC3C;QAED,IAAM,wBAAwB,GAAG,IAAI,CAAC,eAAe,CAAC;QAEtD,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;QAE7B,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAExB,IAAI,wBAAwB,EAAE;YAC1B,IAAI,CAAC,aAAa,EAAE,CAAC;YAErB,4BAA4B,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;SACjE;IACL,CAAC;IAEO,+CAAoB,GAA5B,UAA6B,MAAsB,EAAE,UAAmB;QAAxE,iBAkCC;QAjCG,IAAI,mBAAmB,GAAG,KAAK,CAAC;QAEhC,KAA6B,UAAqB,EAArB,KAAA,IAAI,CAAC,gBAAgB,EAArB,cAAqB,EAArB,IAAqB,EAAE;YAA/C,IAAM,cAAc,SAAA;YACrB,uIAAuI;YACvI,IACI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,kBAAkB,IAAI,KAAK,CAAC,WAAW,CAAC,UAAU;gBACjF,mBAAmB,EACrB;gBACE,cAAc,CAAC,WAAW,GAAG,KAAK,CAAC;aACtC;YAED,IAAI,cAAc,KAAK,MAAM,EAAE;gBAC3B,cAAc,CAAC,KAAK,kBAA4B,CAAC;aACpD;iBAAM;gBACH,cAAc,CAAC,KAAK,mBAA6B,CAAC;gBAElD,mBAAmB,GAAG,IAAI,CAAC;gBAE3B,IAAI,cAAc,CAAC,eAAe,EAAE;oBAChC,cAAc,CAAC,eAAe,CAAC,MAAM,GAAG,UAAC,EAAE;wBACvC,KAAiB,UAAqB,EAArB,KAAA,KAAI,CAAC,gBAAgB,EAArB,cAAqB,EAArB,IAAqB,EAAE;4BAAnC,IAAM,EAAE,SAAA;4BACT,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;yBACzB;oBACL,CAAC,CAAC;iBACL;aACJ;SACJ;QAED,IAAI,CAAC,cAAc,CACf,MAAM,EACN,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,EAClE,UAAU,CACb,CAAC;IACN,CAAC;IAUD,8CAAmB,GAAnB;QACI,KAAmB,UAAqB,EAArB,KAAA,IAAI,CAAC,gBAAgB,EAArB,cAAqB,EAArB,IAAqB,EAAE;YAArC,IAAI,MAAM,SAAA;YACX,MAAM,CAAC,mBAAmB,EAAE,CAAC;SAChC;IACL,CAAC;IAED,yCAAc,GAAd,UAAe,MAAc;QACzB,IAAI,CAAC,CAAC,MAAM,YAAY,cAAc,CAAC,EAAE;YACrC,IAAI,CAAC,sBAAsB,EAAE,CAAC;SACjC;aAAM;YACH,IAAI,MAAM,KAAK,IAAI,CAAC,eAAe,EAAE;gBACjC,IAAI,CAAC,sBAAsB,EAAE,CAAC;aACjC;iBAAM,IACH,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU;gBAClD,KAAK,CAAC,kBAAkB,CAAC,MAAM,EACjC;gBACE,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;aAC3C;SACJ;IACL,CAAC;IAED,gCAAK,GAAL,UAAM,MAAW,EAAE,OAA6B;QAC5C,IAAI,CAAC,KAAK,EAAE,CAAC;QAEb,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,KAAyB,UAAM,EAAN,iBAAM,EAAN,oBAAM,EAAN,IAAM,EAAE;gBAA5B,IAAM,UAAU,eAAA;gBACjB,IAAI,gBAAgB,GAAa,EAAE,CAAC;gBAEpC,uFAAuF;gBACvF,IAAI,IAAI,CAAC,MAAM,YAAY,oBAAoB,EAAE;oBAC7C,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,uBAAuB,EAAE,CAAC;iBAC5D;gBAED,IAAM,MAAM,GAAG,OAAO,CAAC,WAAW,CAC9B,IAAI,CAAC,MAAM,EACX,UAAU,EACV,gBAAgB,EAChB,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAC9B,CAAC;gBAEF,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;iBAC1B;aACJ;SACJ;IACL,CAAC;IAED,iCAAM,GAAN,UAAO,MAAmB,EAAE,YAAoB,EAAE,OAA6B;QAC3E,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9D,CAAC;IAED,sCAAW,GAAX,UAAY,EAAU;QAClB,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC3B,CAAC;IAED,yCAAc,GAAd;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC9B,CAAC;IAED,wCAAa,GAAb,UAAc,EAAU;QACpB,IAAI,MAAM,GAAuB,SAAS,CAAC;QAE3C,KAAmB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;YAA3B,IAAM,IAAI,SAAA;YACX,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YAEhC,IAAI,MAAM,EAAE;gBACR,MAAM;aACT;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,6CAAkB,GAAlB,UAAmB,OAA0B;QACzC,IACI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU;YACzC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,EAChE;YACE,OAAO,CAAC,UAAU,CACd,IAAI,CAAC,MAAM,EACX,KAAK,CAAC,eAAe,CAAC,cAAc,EACpC,iBAAO,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,CAC3E,CAAC;SACL;QAED,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAqB,EAAE;YACzE,OAAO,CAAC,UAAU,CACd,IAAI,CAAC,MAAM,EACX,KAAK,CAAC,eAAe,CAAC,uBAAuB,EAC7C,iBAAO,CAAC,MAAM,CAAC,uBAAuB,EAAE,CAC3C,CAAC;SACL;QAED,KAAmB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;YAA3B,IAAM,IAAI,SAAA;YACX,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;gBAC7B,OAAO,CAAC,UAAU,CACd,IAAI,CAAC,MAAM,EACX,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAC9D,CAAC;aACL;YAED,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC;SAC5C;IACL,CAAC;IAED,iCAAM,GAAN,UAAO,WAA8B;QACjC,mCAAmC;QACnC,IAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;QAE1C,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE;YACnC,OAAO,SAAS,CAAC;SACpB;QAED,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAM,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC,UAAU;YAC5C,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;YAC7D,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAEzB,IAAI,CAAC,oBAAoB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IACI,UAAU,CAAC,OAAO,CAAC,6BAA6B;YAChD,UAAU,KAAK,CAAC;YAChB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,YAAY,cAAc;YACxC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EACtC;YACE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9C;aAAM;YACH,IAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAClD,WAAW,CAAC,SAAS,GAAG,UAAU,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;YACpE,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAEnC,IAAI,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE;gBAC9C,WAAW,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;gBAExC,IACI,IAAI,CAAC,MAAM,CAAC,mBAAmB;oBAC/B,UAAU,CAAC,OAAO,CAAC,eAAe,KAAK,KAAK,CAAC,eAAe,CAAC,OAAO,EACtE;oBACE,QAAQ,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE;wBACrC,KAAK,KAAK,CAAC,mBAAmB,CAAC,MAAM;4BACjC,WAAW,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;4BAC5C,MAAM;wBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,KAAK;4BAChC,WAAW,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;4BAC9C,MAAM;wBACV;4BACI,WAAW,CAAC,KAAK,CAAC,cAAc,GAAG,YAAY,CAAC;4BAChD,MAAM;qBACb;iBACJ;qBAAM;oBACH,QAAQ,UAAU,CAAC,OAAO,CAAC,eAAe,EAAE;wBACxC,KAAK,KAAK,CAAC,eAAe,CAAC,MAAM;4BAC7B,WAAW,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;4BAC5C,MAAM;wBACV,KAAK,KAAK,CAAC,eAAe,CAAC,KAAK;4BAC5B,WAAW,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;4BAC9C,MAAM;wBACV;4BACI,WAAW,CAAC,KAAK,CAAC,cAAc,GAAG,YAAY,CAAC;4BAChD,MAAM;qBACb;iBACJ;aACJ;iBAAM;gBACH,WAAW,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;gBAE3C,IACI,IAAI,CAAC,MAAM,CAAC,mBAAmB;oBAC/B,UAAU,CAAC,OAAO,CAAC,eAAe,KAAK,KAAK,CAAC,eAAe,CAAC,OAAO,EACtE;oBACE,QAAQ,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE;wBACrC,KAAK,KAAK,CAAC,mBAAmB,CAAC,MAAM;4BACjC,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;4BACxC,MAAM;wBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,KAAK;4BAChC,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;4BAC1C,MAAM;wBACV;4BACI,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,YAAY,CAAC;4BAC5C,MAAM;qBACb;iBACJ;qBAAM;oBACH,QAAQ,UAAU,CAAC,OAAO,CAAC,eAAe,EAAE;wBACxC,KAAK,KAAK,CAAC,eAAe,CAAC,MAAM;4BAC7B,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;4BACxC,MAAM;wBACV,KAAK,KAAK,CAAC,eAAe,CAAC,KAAK;4BAC5B,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;4BAC1C,MAAM;wBACV,KAAK,KAAK,CAAC,eAAe,CAAC,OAAO;4BAC9B,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;4BACzC,MAAM;wBACV;4BACI,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,YAAY,CAAC;4BAC5C,MAAM;qBACb;iBACJ;aACJ;YAED,IAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAE3E,IAAI,gBAAc,GAAa,EAAE,CAAC;YAClC,IAAM,kBAAgB,GAAa,EAAE,CAAC;YAEtC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE;gBAC7B,cAAc,CAAC,OAAO,CAAC,UAAC,MAAM;oBAC1B,OAAA,MAAM,CAAC,IAAI,KAAK,KAAK,CAAC,UAAU,CAAC,SAAS;wBACtC,CAAC,CAAC,kBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC;wBAC/B,CAAC,CAAC,gBAAc,CAAC,IAAI,CAAC,MAAM,CAAC;gBAFjC,CAEiC,CACpC,CAAC;gBAEF,6EAA6E;gBAC7E,IAAM,sBAAsB,GAAG,gBAAc,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBAEpF,IAAI,uBAAc,CAAC,qCAAqC,EAAE;oBACtD,kBAAgB,CAAC,IAAI,OAArB,kBAAgB,EAAS,sBAAsB,EAAE;iBACpD;gBAED,IAAI,gCAAgC,GAAG,IAAI,CAAC;gBAE5C,IAAI,kBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7B,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;wBACvB,IAAI,CAAC,eAAe,GAAG,IAAI,cAAc,CAAC,kBAAgB,CAAC,CAAC;wBAC5D,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;wBAC5C,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC;qBACpD;oBAED,IAAM,YAAY,GAAG,IAAI,CAAC,MAAM,YAAY,YAAY,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;oBAChF,gCAAgC,GAAG,CAAC,+BAA+B,CAC/D,IAAI,CAAC,eAAe,EACpB,YAAY,CACf,CAAC;iBACL;gBAED,IAAI,IAAI,CAAC,eAAe,IAAI,gCAAgC,EAAE;oBAC1D,gBAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBAC7C;aACJ;iBAAM;gBACH,gBAAc,GAAG,cAAc,CAAC;aACnC;YAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAM,MAAM,GAAG,gBAAc,CAAC,CAAC,CAAC,CAAC;gBACjC,MAAM,CAAC,MAAM,EAAE,CAAC;gBAEhB,IAAI,MAAM,CAAC,eAAe,EAAE;oBACxB,IACI,UAAU,CAAC,OAAO,CAAC,kBAAkB,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU;wBACtE,UAAU,CAAC,OAAO,CAAC,eAAe,KAAK,KAAK,CAAC,eAAe,CAAC,OAAO,EACtE;wBACE,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;qBAClD;yBAAM;wBACH,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;qBAClD;oBAED,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;oBAEhD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAEnC,IAAI,CAAC,GAAG,gBAAc,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,OAAO,CAAC,aAAa,GAAG,CAAC,EAAE;wBACvE,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wBAE7C,IAAI,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE;4BAC9C,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;4BAC/B,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;yBAChE;6BAAM;4BACH,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;yBACjE;wBAED,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;qBAC1C;iBACJ;aACJ;YAED,IAAM,oBAAoB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC3D,oBAAoB,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC/C,oBAAoB,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YAE9C,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;SACpD;QAED,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAEtD,KAA6B,UAAqB,EAArB,KAAA,IAAI,CAAC,gBAAgB,EAArB,cAAqB,EAArB,IAAqB,EAAE;YAA/C,IAAM,cAAc,SAAA;YACrB,IAAI,cAAc,CAAC,KAAK,qBAA+B,EAAE;gBACrD,IAAI,CAAC,oBAAoB,CAAiB,cAAc,EAAE,KAAK,CAAC,CAAC;gBAEjE,MAAM;aACT;SACJ;QAED,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC;IAClE,CAAC;IAED,oCAAS,GAAT,UAAU,MAAc;QACpB,IAAI,CAAC,MAAM,EAAE;YACT,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;SAC3D;QAED,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;YACtF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEzB,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;gBAChB,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACjC;YAED,MAAM,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC;SACtC;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,CAAC;SAC3D;IACL,CAAC;IAED,uCAAY,GAAZ,UAAa,MAAc;QACvB,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,eAAe,KAAK,MAAM,EAAE;YACxD,IAAI,CAAC,sBAAsB,EAAE,CAAC;SACjC;QAED,IAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAEhD,IAAI,WAAW,IAAI,CAAC,EAAE;YAClB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YAEnC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAE5B,MAAM,CAAC,mBAAmB,CAAC,GAAG,SAAS,CAAC;YAExC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnD,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE;oBACrC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAEnC,MAAM;iBACT;aACJ;YAED,OAAO,IAAI,CAAC;SACf;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,gCAAK,GAAL;QACI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;IACrC,CAAC;IAED,uCAAY,GAAZ,UAAa,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QACvC,IAAI,MAAM,GAAY,EAAE,CAAC;QAEzB,IAAI,cAAc,EAAE;YAChB,KAAqB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;gBAA7B,IAAM,MAAM,SAAA;gBACb,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,MAAM,CAAC,YAAY,EAAE,EAAE;aACzC;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,iDAAsB,GAAtB;QACI,IAAI,MAAM,GAA2B,EAAE,CAAC;QAExC,KAAqB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;YAA7B,IAAM,MAAM,SAAA;YACb,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,MAAM,CAAC,sBAAsB,EAAE,EAAE;SACnD;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,iDAAmB;aAAvB;YACI,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;QACxC,CAAC;;;OAAA;IAED,sBAAI,4CAAc;aAAlB;YACI,OAAO,IAAI,CAAC,eAAe,CAAC;QAChC,CAAC;;;OAAA;IACL,uBAAC;AAAD,CA/gBA,AA+gBC,IAAA;AAED;IAA+B,6BAAW;IAoCtC;QAAA,YACI,iBAAO,SAGV;QADG,KAAI,CAAC,iBAAiB,GAAG,IAAI,gBAAgB,CAAC,KAAI,CAAC,CAAC;;IACxD,CAAC;IAxBS,iCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;IAC7D,CAAC;IAES,kCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IAC9D,CAAC;IAES,kCAAc,GAAxB;QACI,OAAO,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAChC,IAAI,CAAC,WAAW,KAAK,SAAS;YAC1B,CAAC,CAAC,IAAI,CAAC,WAAW;YAClB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,kBAAkB,CACnD,CAAC;IACN,CAAC;IAQD,uCAAmB,GAAnB;QACI,iBAAM,mBAAmB,WAAE,CAAC;QAE5B,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,CAAC;IACjD,CAAC;IAED,sCAAkB,GAAlB;QACI,IAAI,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,KAAK,CAAC,EAAE;YAClD,OAAO,iBAAM,kBAAkB,WAAE,CAAC;SACrC;aAAM;YACH,IAAI,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,KAAK,CAAC,EAAE;gBAC/C,OAAO,CACH,IAAI,CAAC,iBAAiB,CAAC,cAAc,KAAK,SAAS;oBACnD,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,6BAA6B,CACzD,CAAC;aACL;iBAAM;gBACH,OAAO,IAAI,CAAC,iBAAiB,CAAC,cAAc,KAAK,SAAS,CAAC;aAC9D;SACJ;IACL,CAAC;IAED,mCAAe,GAAf;QACI,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,kCAAc,GAAd;QACI,OAAO,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAC;IACnD,CAAC;IAED,+BAAW,GAAX,UAAY,KAAa;QACrB,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,cAAc,EAAE,EAAE;YAC7C,OAAO,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SACpD;aAAM;YACH,OAAO,iBAAM,WAAW,YAAC,KAAK,CAAC,CAAC;SACnC;IACL,CAAC;IAED,iCAAa,GAAb,UAAc,EAAU;QACpB,IAAM,MAAM,GAAuB,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QAE5E,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,iBAAM,aAAa,YAAC,EAAE,CAAC,CAAC;IACrD,CAAC;IAED,iCAAa,GAAb;QACI,IAAM,MAAM,GAAG,iBAAM,aAAa,WAAE,CAAC;QAErC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAEjC,IAAI,MAAM,EAAE;gBACR,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACvB;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,8CAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;IACvD,CAAC;IAED,6BAAS,GAAT,UAAU,MAAc;QACpB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAED,gCAAY,GAAZ,UAAa,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QACvC,OAAO,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACvE,CAAC;IAED,0CAAsB,GAAtB;QACI,OAAO,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,CAAC;IAC3D,CAAC;IAED;;OAEG;IACH,oCAAgB,GAAhB,UAAiB,IAAU;QACvB,IAAI,MAAM,GAA2B,SAAS,CAAC;QAE/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAEnC,IAAI,MAAM,EAAE;gBACR,4BAA4B;gBAC5B,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAEvC,IAAI,MAAM,EAAE;oBACR,OAAO,MAAM,CAAC;iBACjB;aACJ;SACJ;QAED,6DAA6D;QAC7D,OAAO,iBAAM,gBAAgB,YAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,kCAAc,GAAd,UAAe,EAAU;QACrB,IAAI,MAAM,GAAG,iBAAM,cAAc,YAAC,EAAE,CAAC,CAAC;QAEtC,IAAI,CAAC,MAAM,EAAE;YACT,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,CAAC;SAC9C;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,oCAAa;aAAjB;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAvJD,gBAAgB;IAEA,6BAAmB,GAAG,IAAI,4BAAY,CAClD,wBAAQ,CAAC,IAAI,EACb,aAAa,EACb,KAAK,CAAC,WAAW,CACpB,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,mBAAmB,CAAC;kDACR;IA+IpC,gBAAC;CAzJD,AAyJC,CAzJ8B,WAAW,GAyJzC;AAzJY,8BAAS;AA2JtB;IAA4C,0CAAgB;IACxD,gCACa,aAAsB,EACtB,IAAY,EACZ,YAAqB,EACrB,iBAA0D;QAJvE,YAMI,kBACI,aAAa,EACb,IAAI,EACJ;YACI,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,OAAO,EAAE;YACvC,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,QAAQ,EAAE;YACxC,EAAE,aAAa,EAAE,wBAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE;YACpE,EAAE,aAAa,EAAE,wBAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,IAAI,EAAE;YAClE,EAAE,aAAa,EAAE,wBAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,SAAS,EAAE;YACvE,EAAE,aAAa,EAAE,wBAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,OAAO,EAAE;SACxE,EACD,YAAY,EACZ,iBAAiB,CACpB,SACJ;QAnBY,mBAAa,GAAb,aAAa,CAAS;QACtB,UAAI,GAAJ,IAAI,CAAQ;QACZ,kBAAY,GAAZ,YAAY,CAAS;QACrB,uBAAiB,GAAjB,iBAAiB,CAAyC;;IAgBvE,CAAC;IACL,6BAAC;AAAD,CAtBA,AAsBC,CAtB2C,gCAAgB,GAsB3D;AAtBY,wDAAsB;AAwBnC;IAA2D,gDAAoB;IAA/E;;IA6LA,CAAC;IAvLG,sBAAI,+CAAK;aAAT;YACI,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACvB,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,aAAa,CAAC,CAAC;gBAExE,IAAI,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;oBAChE,OAAO,KAAK,CAAC;iBAChB;aACJ;YAED,OAAO,SAAS,CAAC;QACrB,CAAC;aAED,UAAU,KAAyB;YAC/B,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;QACrE,CAAC;;;OAJA;IAQD,sBAAc,0DAAgB;QAF9B,YAAY;aAEZ;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAc,0DAAgB;aAA9B;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,aAAa,CAAC,KAAK,SAAS,CAAC;QACnF,CAAC;;;OAAA;IAES,kDAAW,GAArB;QACI,mCAAmC;IACvC,CAAC;IAES,sDAAe,GAAzB;QACI,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAM,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAClE,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CACpE,CAAC;YAEF,IAAI,eAAe,CAAC,eAAe,EAAE;gBACjC,IAAM,OAAO,GAAG,KAAK,CAAC,gBAAgB,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;gBACxE,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC;iBACxD;aACJ;SACJ;IACL,CAAC;IAES,mDAAY,GAAtB;QACI,iBAAM,YAAY,WAAE,CAAC;QAErB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACvB,OAAO;SACV;QAED,IAAI,eAAe,GAAG,IAAI,0BAAiB,EAAE,CAAC;QAE9C,IAAI,IAAI,CAAC,mBAAmB,EAAE,EAAE;YAC5B,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,oCAAoC,CAClE,IAAI,CAAC,mBAAmB,EAAE,CAC7B,CAAC;SACL;QAED,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,GAAG,GAAG,IAAI,CAAC;QACnE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,GAAG,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC;QACvE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,GAAG,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC;QACzE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,GAAG,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC;QAErE,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACnB,qDAAqD;YACrD,IAAM,OAAO,GAAG,IAAI,0BAAiB,EAAE,CAAC;YAExC,IAAI,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;YAE7C,IAAM,kBAAkB,GACpB,IAAI,CAAC,UAAU,CAAC,oCAAoC,CAAC,OAAO,CAAC,CAAC;YAElE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,GAAG,kBAAkB,CAAC,KAAK,GAAG,IAAI,CAAC;YAC/E,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,GAAG,kBAAkB,CAAC,IAAI,GAAG,IAAI,CAAC;YAE7E,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE;gBACtB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,SAAS,GAAG,GAAG,GAAG,kBAAkB,CAAC,GAAG,GAAG,IAAI,CAAC;gBAC3E,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,GAAG,GAAG,GAAG,kBAAkB,CAAC,MAAM,GAAG,IAAI,CAAC;aACpF;YAED,IACI,IAAI,CAAC,gBAAgB;gBACrB,IAAI,CAAC,oBAAoB,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,EAC5D;gBACE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,GAAG,kBAAkB,CAAC,IAAI,GAAG,IAAI,CAAC;gBAC9E,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,GAAG,kBAAkB,CAAC,KAAK,GAAG,IAAI,CAAC;aACnF;SACJ;aAAM;YACH,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,CAAC;YAC7C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC;YAC5C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC;YAC3C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,GAAG,GAAG,CAAC;YAE9C,IACI,IAAI,CAAC,gBAAgB;gBACrB,IAAI,CAAC,oBAAoB,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,EAC5D;gBACE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,CAAC;gBAC9C,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC;aAChD;SACJ;IACL,CAAC;IAES,uDAAgB,GAA1B,UAA2B,sBAAuC;QAAvC,uCAAA,EAAA,8BAAuC;QAC9D,IAAI,cAAc,GAA4B,IAAI,CAAC,MAAM,CAAC;QAE1D,OAAO,cAAc,EAAE;YACnB,IAAI,gCAAgC,GAAY,KAAK,CAAC;YAEtD,IAAI,sBAAsB,EAAE;gBACxB,gCAAgC,GAAG,KAAK,CAAC;aAC5C;iBAAM;gBACH,gCAAgC;oBAC5B,cAAc,YAAY,SAAS;wBAC/B,CAAC,CAAC,cAAc,CAAC,eAAe,CAAC,OAAO,EAAE;wBAC1C,CAAC,CAAC,KAAK,CAAC;aACnB;YAED,IAAI,cAAc,YAAY,4BAA4B,EAAE;gBACxD,IACI,IAAI,CAAC,gBAAgB;oBACrB,CAAC,cAAc,CAAC,iBAAiB,EAAE,KAAK,IAAI,CAAC,iBAAiB,EAAE;wBAC5D,gCAAgC,CAAC,EACvC;oBACE,OAAO,IAAI,CAAC;iBACf;aACJ;YAED,cAAc,GAAG,cAAc,CAAC,MAAM,CAAC;SAC1C;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,wDAAiB,GAA3B;QACI,OAAO,IAAI,CAAC,gBAAgB,EAAE,IAAI,IAAI,CAAC,YAAY,EAAE;YACjD,CAAC,CAAC,IAAI,0BAAiB,CACjB,KAAK,CAAC,OAAO,CAAC,OAAO,EACrB,KAAK,CAAC,OAAO,CAAC,OAAO,EACrB,KAAK,CAAC,OAAO,CAAC,OAAO,EACrB,KAAK,CAAC,OAAO,CAAC,OAAO,CACxB;YACH,CAAC,CAAC,iBAAM,iBAAiB,WAAE,CAAC;IACpC,CAAC;IAED,iEAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,aAAa,CAAC,CAAC;QAEhF,IAAI,aAAa,KAAK,SAAS,EAAE;YAC7B,IAAM,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;YAEtF,IAAI,CAAC,eAAe,EAAE;gBAClB,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,aAAa,EAAE,OAAO,CAAC,CAC9D,CAAC;aACL;SACJ;IACL,CAAC;IAED,6CAAM,GAAN;QACI,IAAM,eAAe,GAAG,iBAAM,MAAM,WAAE,CAAC;QAEvC,IAAI,eAAe,IAAI,IAAI,CAAC,gBAAgB,EAAE,EAAE;YAC5C,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,OAAO,eAAe,CAAC;IAC3B,CAAC;IAED,wDAAiB,GAAjB;QACI,IAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC;QAElC,OAAO,cAAc,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,iBAAM,iBAAiB,WAAE,CAAC;IACvE,CAAC;IA3LD,gBAAgB;IAEA,0CAAa,GAAG,IAAI,sBAAsB,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAGnF;QADC,IAAA,wBAAQ,EAAC,4BAA4B,CAAC,aAAa,CAAC;6DAWpD;IA6KL,mCAAC;CA7LD,AA6LC,CA7L0D,oBAAoB,GA6L9E;AA7LqB,oEAA4B;AA+LlD;IAA4C,iCAA4B;IAAxE;QACI,gBAAgB;QADpB,qEAyCC;QAlCW,YAAM,GAAY,KAAK,CAAC;;IAkCpC,CAAC;IA7BG,YAAY;IAEF,iDAAyB,GAAnC,UAAoC,eAA4B;QAC5D,iBAAM,yBAAyB,YAAC,eAAe,CAAC,CAAC;QAEjD,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,eAAe,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAChE;IACL,CAAC;IAES,4CAAoB,GAA9B;QACI,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,gCAAQ,GAAlB;QACI,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAES,gCAAQ,GAAlB,UAAmB,KAAc;QAC7B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,sBAAc,8CAAmB;aAAjC;YACI,OAAO,CAAC,CAAC;QACb,CAAC;;;OAAA;IAED,kCAAU,GAAV;QACI,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC5F,CAAC;IArCe,2BAAa,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IAChE,+BAAiB,GAAG,IAAI,iCAAiB,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;IAGtF;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,aAAa,CAAC;iDACN;IAGhC;QADC,IAAA,wBAAQ,EAAC,aAAa,CAAC,iBAAiB,CAAC;yDAClB;IA+B5B,oBAAC;CAzCD,AAyCC,CAzC2C,4BAA4B,GAyCvE;AAzCqB,sCAAa;AA2CnC;IAAqC,mCAAkB;IAAvD;;IAqGA,CAAC;IAlEG,YAAY;IAEF,sCAAY,GAAtB;QACI,OAAO,iBAAiB,CAAC;IAC7B,CAAC;IAES,uCAAa,GAAvB,UAAwB,MAAW,EAAE,OAAiC;QAClE,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;YAC5B,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC;SACrB;aAAM;YACH,OAAO,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;SAC/C;IACL,CAAC;IAED,+BAAK,GAAL,UAAM,OAAoB;QACtB,IAAI,IAAI,CAAC,GAAG,IAAI,OAAO,CAAC,eAAe,EAAE;YACrC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,eAAe;gBACzC,OAAO;oBACP,OAAO,CAAC,uBAAuB,CAAC,eAAe,CAAC,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC;oBACtE,IAAI,CAAC;YAET,QAAQ,IAAI,CAAC,QAAQ,EAAE;gBACnB,KAAK,KAAK,CAAC,QAAQ,CAAC,MAAM;oBACtB,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,gBAAgB,GAAG,QAAQ,CAAC;oBAC1D,MAAM;gBACV,KAAK,KAAK,CAAC,QAAQ,CAAC,kBAAkB;oBAClC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,gBAAgB,GAAG,UAAU,CAAC;oBAC5D,MAAM;gBACV,KAAK,KAAK,CAAC,QAAQ,CAAC,gBAAgB;oBAChC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,gBAAgB,GAAG,UAAU,CAAC;oBAC5D,MAAM;gBACV,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC;gBAC1B;oBACI,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,gBAAgB,GAAG,WAAW,CAAC;oBAC7D,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,cAAc,GAAG,OAAO,CAAC;oBACvD,MAAM;aACb;YAED,QAAQ,IAAI,CAAC,mBAAmB,EAAE;gBAC9B,KAAK,KAAK,CAAC,mBAAmB,CAAC,IAAI;oBAC/B,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,MAAM;oBACjC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,mBAAmB,GAAG,QAAQ,CAAC;oBAC7D,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,KAAK;oBAChC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,mBAAmB,GAAG,OAAO,CAAC;oBAC5D,MAAM;aACb;YAED,QAAQ,IAAI,CAAC,iBAAiB,EAAE;gBAC5B,KAAK,KAAK,CAAC,iBAAiB,CAAC,GAAG;oBAC5B,MAAM;gBACV,KAAK,KAAK,CAAC,iBAAiB,CAAC,MAAM;oBAC/B,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,mBAAmB,GAAG,QAAQ,CAAC;oBAC7D,MAAM;gBACV,KAAK,KAAK,CAAC,iBAAiB,CAAC,MAAM;oBAC/B,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,mBAAmB,GAAG,QAAQ,CAAC;oBAC7D,MAAM;aACb;SACJ;IACL,CAAC;IAED,iCAAO,GAAP;QACI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACnC,CAAC;IAnGD,gBAAgB;IAEA,2BAAW,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACvD,gCAAgB,GAAG,IAAI,4BAAY,CAC/C,wBAAQ,CAAC,IAAI,EACb,UAAU,EACV,KAAK,CAAC,QAAQ,EACd,KAAK,CAAC,QAAQ,CAAC,KAAK,CACvB,CAAC;IACc,2CAA2B,GAAG,IAAI,4BAAY,CAC1D,wBAAQ,CAAC,IAAI,EACb,qBAAqB,EACrB,KAAK,CAAC,mBAAmB,EACzB,KAAK,CAAC,mBAAmB,CAAC,IAAI,CACjC,CAAC;IACc,yCAAyB,GAAG,IAAI,4BAAY,CACxD,wBAAQ,CAAC,IAAI,EACb,mBAAmB,EACnB,KAAK,CAAC,iBAAiB,EACvB,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAC9B,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,eAAe,CAAC,WAAW,CAAC;gDACzB;IAGb;QADC,IAAA,wBAAQ,EAAC,eAAe,CAAC,gBAAgB,CAAC;qDAClB;IAGzB;QADC,IAAA,wBAAQ,EAAC,eAAe,CAAC,2BAA2B,CAAC;gEACP;IAG/C;QADC,IAAA,wBAAQ,EAAC,eAAe,CAAC,yBAAyB,CAAC;8DACT;IAoE/C,sBAAC;CArGD,AAqGC,CArGoC,kCAAkB,GAqGtD;AArGY,0CAAe;AAuG5B;IAA+B,6BAAa;IAA5C;QAAA,qEAgbC;QAvZG,YAAY;QAEJ,YAAM,GAAkB,EAAE,CAAC;QAC3B,oBAAc,GAAkB,EAAE,CAAC;;IAoZ/C,CAAC;IAjaG,sBAAI,sCAAe;aAAnB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC;QAC5D,CAAC;;;OAAA;IAaS,gCAAY,GAAtB,UAAuB,IAAiB,EAAE,KAAa,EAAE,WAAoB;QACzE,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,WAAW,EAAE;YAC7B,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;oBAC1C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC1B;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;iBACtC;gBAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;aACxB;iBAAM;gBACH,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,wBAAwB,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;aACpF;SACJ;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,CAAC,CAAC;SAC5D;IACL,CAAC;IAES,kDAA8B,GAAxC;QACI,OAAO,OAAO,CAAC;IACnB,CAAC;IAES,mCAAe,GAAzB;QACI,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,eAAe,EAAE;YACxD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SACpC;QAED,iBAAM,eAAe,WAAE,CAAC;IAC5B,CAAC;IAES,4BAAQ,GAAlB,UAAmB,OAAoB;QACnC,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,EAAE;YACxB,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;SAC1C;IACL,CAAC;IAES,kCAAc,GAAxB;QACI,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QAEzB,uEAAuE;QACvE,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAEnC,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAE9C,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAEvB,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC,CAAC;QACnE,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC/B,OAAO,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;QAEvC,IAAI,uBAAc,CAAC,+BAA+B,EAAE;YAChD,8DAA8D;YAC9D,EAAE;YACF,+DAA+D;YAC/D,gEAAgE;YAChE,iEAAiE;YACjE,mEAAmE;YACnE,mEAAmE;YACnE,+BAA+B;YAC/B,EAAE;YACF,4DAA4D;YAC5D,6FAA6F;YAC7F,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,qBAAqB,CAAC;SACnD;QAED,QAAQ,IAAI,CAAC,oCAAoC,EAAE,EAAE;YACjD,KAAK,KAAK,CAAC,iBAAiB,CAAC,MAAM;gBAC/B,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;gBACxC,MAAM;YACV,KAAK,KAAK,CAAC,iBAAiB,CAAC,MAAM;gBAC/B,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;gBAC1C,MAAM;YACV;gBACI,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,YAAY,CAAC;gBAC5C,MAAM;SACb;QAED,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,KAAmB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;gBAA3B,IAAM,IAAI,SAAA;gBACX,IAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;gBAE7E,IAAI,YAAY,EAAE;oBACd,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE;wBACzD,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;wBAE9C,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;qBACrD;oBAED,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;oBAEzC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAClC;aACJ;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;gBACrB,IAAM,kBAAkB,GAAG,IAAI,CAAC,wBAAwB,EAAE,CAAC;gBAC3D,kBAAkB,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBACxC,kBAAkB,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;gBAEzC,OAAO,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aAC3C;SACJ;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAES,oCAAgB,GAA1B,UAA2B,SAAiB;QACxC,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,6DAA6D;YAC7D,IAAM,UAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,SAAS,GAAG,CAAC,CAAC;YAEhE,IAAM,eAAa,GAAG,UAAC,WAAwB;gBAC3C,IAAM,GAAG,GAAG,WAAW,CAAC,eAAe,CAAC;gBAExC,IAAI,GAAG,EAAE;oBACL,QAAQ,KAAK,CAAC,YAAY,CAAC,GAAG,EAAE,UAAQ,CAAC,EAAE;wBACvC,KAAK,KAAK,CAAC,kBAAkB,CAAC,gBAAgB;4BAC1C,IAAM,WAAW,GAAG,WAAW,CAAC,eAAe,CAAC,EAAE,CAAC;4BACnD,yDAAyD;4BACzD,sDAAsD;4BACtD,IAAI,WAAW,EAAE;gCACb,eAAa,CAAC,WAAW,CAAC,CAAC;6BAC9B;4BACD,MAAM;wBACV,KAAK,KAAK,CAAC,kBAAkB,CAAC,WAAW;4BACrC,IAAM,kBAAkB,GAAG,UAAQ,GAAG,GAAG,CAAC,SAAS,CAAC;4BACpD,WAAW,CAAC,gBAAgB,CAAC,CAAC,kBAAkB,CAAC,CAAC;4BAClD,MAAM;wBACV,KAAK,KAAK,CAAC,kBAAkB,CAAC,mBAAmB;4BAC7C,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC;4BACjC,MAAM;qBACb;iBACJ;YACL,CAAC,CAAC;YAEF,KAAmB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;gBAA3B,IAAM,IAAI,SAAA;gBACX,eAAa,CAAC,IAAI,CAAC,CAAC;aACvB;YAED,OAAO,IAAI,CAAC;SACf;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,0CAAsB,GAAhC;QACI,KAAmB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;YAA3B,IAAM,IAAI,SAAA;YACX,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC;SAC3B;IACL,CAAC;IAES,oCAAgB,GAA1B,UAA2B,sBAAuC;QAAvC,uCAAA,EAAA,8BAAuC;QAC9D,IAAI,MAAM,GAAG,sBAAsB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QAE7E,OAAO,MAAM,IAAI,iBAAM,gBAAgB,YAAC,sBAAsB,CAAC,CAAC;IACpE,CAAC;IAES,iCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAE9B,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,8BAA8B,EAAE,CAAC,CAAC;QAE9D,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAC1B,KAAmB,UAAS,EAAT,uBAAS,EAAT,uBAAS,EAAT,IAAS,EAAE;gBAAzB,IAAM,IAAI,kBAAA;gBACX,IAAM,OAAO,GAAG,OAAO,CAAC,YAAY,CAChC,IAAI,EACJ,IAAI,EACJ,IAAI,CAAC,sBAAsB,EAAE,EAC7B,CAAC,IAAI,CAAC,YAAY,EAAE,CACvB,CAAC;gBAEF,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;iBACxC;aACJ;SACJ;IACL,CAAC;IAES,kCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,IAAM,sBAAsB,GAAG,IAAI,CAAC,8BAA8B,EAAE,CAAC;QAErE,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,sBAAsB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACxE,CAAC;IAED,sBAAc,mCAAY;aAA1B;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,uCAAmB,GAAnB;QACI,IACI,uBAAc,CAAC,8CAA8C;YAC7D,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAC9B;YACE,OAAO,IAAI,0BAAiB,EAAE,CAAC;SAClC;QAED,OAAO,iBAAM,mBAAmB,WAAE,CAAC;IACvC,CAAC;IAED,wDAAoC,GAApC;QACI,IAAI,IAAI,CAAC,wBAAwB,KAAK,SAAS,EAAE;YAC7C,OAAO,IAAI,CAAC,wBAAwB,CAAC;SACxC;QAED,IAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAElD,OAAO,eAAe;YAClB,CAAC,CAAC,eAAe,CAAC,oCAAoC,EAAE;YACxD,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC;IACtC,CAAC;IAED,gCAAY,GAAZ;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC9B,CAAC;IAED,6BAAS,GAAT,UAAU,KAAa;QACnB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,+CAA2B,GAA3B;QACI,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/E,KAAmB,UAAmB,EAAnB,KAAA,IAAI,CAAC,cAAc,EAAnB,cAAmB,EAAnB,IAAmB,EAAE;gBAAnC,IAAM,IAAI,SAAA;gBACX,IAAI,IAAI,CAAC,SAAS,EAAE;oBAChB,OAAO,IAAI,CAAC;iBACf;aACJ;SACJ;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,8CAA0B,GAA1B;QACI,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/E,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBACtD,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;oBAClC,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;iBACjC;aACJ;SACJ;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,mCAAe,GAAf;QACI,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,kCAAc,GAAd,UAAe,OAAoB;QAC/B,IAAM,UAAU,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAEvC,KAAmB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;YAA3B,IAAM,IAAI,SAAA;YACX,IAAI,IAAI,CAAC,SAAS,IAAI,UAAU,EAAE;gBAC9B,OAAO,IAAI,KAAK,OAAO,CAAC;aAC3B;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,iCAAa,GAAb,UAAc,OAAoB;QAC9B,IAAM,UAAU,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAEvC,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9C,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,UAAU,EAAE;gBACxC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC;aACrC;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,yBAAK,GAAL;QACI,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,EAAE;YACxB,OAAO,IAAI,CAAC,GAAG,CAAC;SACnB;aAAM;YACH,IAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAElD,OAAO,eAAe,CAAC,CAAC,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;SAC5D;IACL,CAAC;IAED,mCAAe,GAAf;QACI,IAAM,iBAAiB,GAAG,IAAI,CAAC,2BAA2B,EAAE,CAAC;QAE7D,OAAO,CACH,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,iBAAiB,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CACzF,CAAC;IACN,CAAC;IAED,sCAAkB,GAAlB;QACI,IAAM,gBAAgB,GAAG,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAE3D,OAAO,CACH,IAAI,CAAC,UAAU,EAAE;YACjB,CAAC,gBAAgB;gBACb,CAAC,CAAC,gBAAgB,CAAC,kBAAkB,EAAE;oBACrC,gBAAgB,CAAC,iBAAiB,EAAE,KAAK,IAAI,CAAC,iBAAiB,EAAE;gBACnE,CAAC,CAAC,KAAK,CAAC,CACf,CAAC;IACN,CAAC;IAED,2BAAO,GAAP,UAAQ,WAAwB;QAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IAC5C,CAAC;IAED,2BAAO,GAAP,UAAQ,IAAiB;QACrB,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;IACvC,CAAC;IAED,oCAAgB,GAAhB,UAAiB,IAAiB,EAAE,YAAyB;QACzD,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,KAAK,CAAC,CAAC;IACtE,CAAC;IAED,mCAAe,GAAf,UAAgB,IAAiB,EAAE,WAAwB;QACvD,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC;IACzE,CAAC;IAED,8BAAU,GAAV,UAAW,IAAiB;QACxB,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAE5C,IAAI,SAAS,IAAI,CAAC,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;YAEjC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAE1B,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,OAAO,IAAI,CAAC;SACf;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,yBAAK,GAAL;QACI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC7B,CAAC;IAED,0CAAsB,GAAtB;QACI,IAAM,MAAM,GAAG,iBAAM,sBAAsB,WAAE,CAAC;QAE9C,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,EAAE;YAChC,MAAM,CAAC,IAAI,CAAC;gBACR,wGAAwG;gBACxG,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,GAAI;gBAC9B,QAAQ,EAAE,OAAO;aACpB,CAAC,CAAC;SACN;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,iCAAa,GAAb,UAAc,EAAU;QACpB,IAAI,MAAM,GAAuB,iBAAM,aAAa,YAAC,EAAE,CAAC,CAAC;QAEzD,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;aAChD;YAED,IAAI,CAAC,MAAM,EAAE;gBACT,KAAmB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;oBAA3B,IAAM,IAAI,SAAA;oBACX,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;oBAEhC,IAAI,MAAM,EAAE;wBACR,MAAM;qBACT;iBACJ;aACJ;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,8BAAO;aAAX;YACI,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;QAC7B,CAAC;aAED,UAAY,KAAoC;YAC5C,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;;;OAJA;IAMD,sBAAI,mCAAY;aAAhB;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;aAED,UAAiB,KAAyB;YACtC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC/B,CAAC;;;OAJA;IAMD,sBAAI,4BAAK;aAAT;YACI,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC3B,CAAC;aAED,UAAU,KAAc;YACpB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC;;;OAJA;IA1aD,gBAAgB;IACA,iCAAuB,GAAG,IAAI,0CAA0B,CACpE,wBAAQ,CAAC,IAAI,EACb,iBAAiB,EACjB,eAAe,CAClB,CAAC;IACc,0CAAgC,GAAG,IAAI,4BAAY,CAC/D,wBAAQ,CAAC,IAAI,EACb,0BAA0B,EAC1B,KAAK,CAAC,iBAAiB,CAC1B,CAAC;IACc,qBAAW,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAGrE;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,uBAAuB,CAAC;oDAG3C;IAGD;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,gCAAgC,CAAC;+DACF;IAGnD;QADC,IAAA,wBAAQ,EAAC,SAAS,CAAC,WAAW,CAAC;0CAClB;IAyZlB,gBAAC;CAhbD,AAgbC,CAhb8B,aAAa,GAgb3C;AAhbY,8BAAS;AAobtB;IAA4B,0BAAS;IAsHjC,gBAAY,KAA8B;QAA9B,sBAAA,EAAA,iBAA8B;QAA1C,YACI,iBAAO,SAGV;QApDD,WAAK,GAAgB,SAAS,CAAC;QAE/B,YAAY;QAEJ,qBAAe,GAAW,CAAC,CAAC;QA+ChC,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;IACvB,CAAC;IA9CS,0CAAyB,GAAnC,UAAoC,eAA4B;QAC5D,IAAM,yBAAyB,GAAG,EAAE,CAAC;QAErC,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;YACrB,eAAe,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;YACxC,eAAe,CAAC,KAAK,CAAC,SAAS;gBAC3B,CAAC,CAAC,IAAI,CAAC,cAAc;oBACjB,CAAC,CAAC,yBAAyB;oBAC3B,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,EAAE,yBAAyB,CAAC,CAAC,GAAG,IAAI,CAAC;SAC9E;aAAM;YACH,eAAe,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC;YAErC,IAAI,IAAI,CAAC,cAAc,EAAE;gBACrB,eAAe,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;aAChE;SACJ;QAED,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,EAAE;YACvB,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;SAC3C;aAAM,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YACjC,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;SAC3C;aAAM,IAAI,IAAI,CAAC,KAAK,YAAY,oBAAW,EAAE;YAC1C,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE;gBAC1C,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;gBACxC,eAAe,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC;aAChE;iBAAM;gBACH,eAAe,CAAC,KAAK,CAAC,IAAI;oBACtB,MAAM;wBACN,CAAC,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;wBAC3E,GAAG,CAAC;aACX;SACJ;IACL,CAAC;IAES,gCAAe,GAAzB,UAA0B,QAA8B;QACpD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,sBAAc,wCAAoB;aAAlC;YACI,OAAO,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;QACtC,CAAC;;;OAAA;IAQD,gCAAe,GAAf;QACI,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,sBAAI,uCAAmB;aAAvB;YACI,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,YAAY,SAAS,EAAE;gBACjD,OAAO,IAAI,CAAC,gBAAgB,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;aACtF;iBAAM;gBACH,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;;;OAAA;IAED,sBAAI,gCAAY;aAAhB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAzID,gBAAgB;IAEA,oBAAa,GAAG,IAAI,8BAAc,CAC9C,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,OAAiC;QAEjC,IAAI,MAAM,GAAgB,IAAI,CAAC,YAAY,CAAC;QAC5C,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,YAAY,GAAG,KAAK,CAAC;QAEzB,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;YAC5C,MAAM,GAAG,IAAI,oBAAW,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SAC1D;aAAM,IAAI,KAAK,KAAK,MAAM,IAAI,KAAK,KAAK,SAAS,EAAE;YAChD,MAAM,GAAG,KAAK,CAAC;SAClB;aAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAClC,IAAI;gBACA,MAAM,GAAG,oBAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAElC,IACI,MAAM,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK;oBACpC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,EACzD;oBACE,YAAY,GAAG,IAAI,CAAC;iBACvB;aACJ;YAAC,OAAO,CAAC,EAAE;gBACR,YAAY,GAAG,IAAI,CAAC;aACvB;SACJ;aAAM;YACH,YAAY,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,YAAY,EAAE;YACd,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAC3C,CAAC;YAEF,MAAM,GAAG,MAAM,CAAC;SACnB;QAED,OAAO,MAAM,CAAC;IAClB,CAAC,EACD,UACI,MAA0B,EAC1B,QAA4B,EAC5B,MAAmB,EACnB,KAAkB,EAClB,OAAiC;QAEjC,IAAI,KAAK,YAAY,oBAAW,EAAE;YAC9B,IAAI,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE;gBACrC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;aACtE;iBAAM;gBACH,OAAO,CAAC,eAAe,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;aAChE;SACJ;aAAM;YACH,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;SAClD;IACL,CAAC,EACD,SAAS,CACZ,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,MAAM,CAAC,aAAa,CAAC;yCACA;IAqEnC,aAAC;CA3ID,AA2IC,CA3I2B,SAAS,GA2IpC;AA3IY,wBAAM;AA6InB;IAA+B,6BAAa;IAA5C;QAAA,qEAgUC;QA/TW,cAAQ,GAAa,EAAE,CAAC;;IA+TpC,CAAC;IA5TW,wCAAoB,GAA5B,UAA6B,MAAW,EAAE,OAA6B;QACnE,OAAO,OAAO,CAAC,eAAe,CAC1B,IAAI,EACJ,MAAM,EACN,EAAE,EACF,CAAC,IAAI,CAAC,YAAY,EAAE,EACpB,UAAC,QAAgB;YACb,OAAO,CAAC,QAAQ,IAAI,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QACzE,CAAC,EACD,UAAC,QAAgB,EAAE,UAA+B;YAC9C,OAAO,CAAC,aAAa,CACjB,SAAS,EACT,KAAK,CAAC,eAAe,CAAC,qBAAqB,EAC3C,iBAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CACjD,CAAC;QACN,CAAC,CACJ,CAAC;IACN,CAAC;IAES,kCAAc,GAAxB;QACI,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,uEAAuE;YACvE,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAEnC,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,OAAO,CAAC,SAAS,GAAG,UAAU,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;YAChE,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAE/B,IAAI,uBAAc,CAAC,+BAA+B,EAAE;gBAChD,4CAA4C;gBAC5C,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,qBAAqB,CAAC;aACnD;YAED,QAAQ,IAAI,CAAC,+BAA+B,EAAE,EAAE;gBAC5C,KAAK,KAAK,CAAC,mBAAmB,CAAC,MAAM;oBACjC,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;oBACxC,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,KAAK;oBAChC,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;oBAC1C,MAAM;gBACV;oBACI,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,YAAY,CAAC;oBAC5C,MAAM;aACb;YAED,IAAI,WAAW,GAAW,CAAC,CAAC;YAE5B,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;gBAA/B,IAAM,MAAM,SAAA;gBACb,IACI,MAAM,CAAC,KAAK,YAAY,oBAAW;oBACnC,MAAM,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,MAAM,EAC7C;oBACE,WAAW,IAAI,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;iBAC5C;aACJ;YAED,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;gBAA/B,IAAM,MAAM,SAAA;gBACb,IACI,MAAM,CAAC,KAAK,YAAY,oBAAW;oBACnC,MAAM,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,MAAM;oBAC3C,WAAW,GAAG,CAAC,EACjB;oBACE,IAAM,cAAc,GAAG,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;oBAEvE,kDAAkD;oBAClD,MAAM,CAAC,iBAAiB,CAAC,GAAG,cAAc,CAAC;iBAC9C;gBAED,IAAM,cAAc,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;gBAEvC,IAAI,cAAc,EAAE;oBAChB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,IAAI,MAAM,CAAC,gBAAgB,EAAE;wBAC7D,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;wBAEhD,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC;qBACvD;oBAED,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;oBAE3C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACtC;aACJ;YAED,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC;SACjE;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAES,oCAAgB,GAA1B,UAA2B,SAAiB;QACxC,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;YAA/B,IAAM,MAAM,SAAA;YACb,MAAM,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,CAAC;SACvC;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAES,0CAAsB,GAAhC;QACI,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;YAA/B,IAAM,MAAM,SAAA;YACb,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC;SAC7B;IACL,CAAC;IAED,sBAAc,mCAAY;aAA1B;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAES,iCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAM,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;QAEtC,IAAI,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;YAC5B,KAAmB,UAAW,EAAX,2BAAW,EAAX,yBAAW,EAAX,IAAW,EAAE;gBAA3B,IAAM,IAAI,oBAAA;gBACX,IAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;gBAExD,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC9B;aACJ;SACJ;IACL,CAAC;IAES,kCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAED,kCAAc,GAAd,UAAe,OAAoB;QAC/B,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;YAA/B,IAAM,MAAM,SAAA;YACb,IAAI,MAAM,CAAC,SAAS,EAAE;gBAClB,OAAO,MAAM,KAAK,OAAO,CAAC;aAC7B;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,mCAAe,GAAf;QACI,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACnB,OAAO,IAAI,CAAC;SACf;QAED,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3D,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;gBAA/B,IAAM,MAAM,SAAA;gBACb,IAAI,MAAM,CAAC,eAAe,EAAE,EAAE;oBAC1B,OAAO,IAAI,CAAC;iBACf;aACJ;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,sCAAkB,GAAlB;QACI,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACnB,OAAO,IAAI,CAAC;SACf;QAED,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3D,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;gBAA/B,IAAM,MAAM,SAAA;gBACb,IAAI,MAAM,CAAC,kBAAkB,EAAE,EAAE;oBAC7B,OAAO,IAAI,CAAC;iBACf;aACJ;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,gCAAY,GAAZ;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;IAChC,CAAC;IAED,+CAA2B,GAA3B;QACI,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACnF,OAAO,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;SACnC;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAED,8CAA0B,GAA1B;QACI,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACnF,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SAClE;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAED,+BAAW,GAAX,UAAY,KAAa;QACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,6BAAS,GAAT,UAAU,KAAa;QACnB,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,mCAAe,GAAf;QACI,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,8CAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,eAAe,GAAW,CAAC,CAAC;QAChC,IAAI,gBAAgB,GAAW,CAAC,CAAC;QAEjC,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;YAA/B,IAAM,MAAM,SAAA;YACb,IAAI,OAAO,MAAM,CAAC,KAAK,KAAK,QAAQ,EAAE;gBAClC,eAAe,EAAE,CAAC;aACrB;iBAAM,IAAI,MAAM,CAAC,KAAK,KAAK,SAAS,EAAE;gBACnC,gBAAgB,EAAE,CAAC;aACtB;SACJ;QAED,IAAI,eAAe,GAAG,CAAC,IAAI,gBAAgB,GAAG,CAAC,EAAE;YAC7C,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,IAAI,EAC1B,iBAAO,CAAC,KAAK,CAAC,2CAA2C,EAAE,CAC9D,CAAC;SACL;IACL,CAAC;IAED,6BAAS,GAAT,UAAU,MAAc;QACpB,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAE3B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SAC1B;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,gCAAgC,EAAE,CAAC,CAAC;SACtE;IACL,CAAC;IAED,8BAAU,GAAV,UAAW,IAAiB;QACxB,IAAI,IAAI,YAAY,MAAM,EAAE;YACxB,IAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAE9C,IAAI,SAAS,IAAI,CAAC,EAAE;gBAChB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBAEnC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAE1B,IAAI,CAAC,YAAY,EAAE,CAAC;gBAEpB,OAAO,IAAI,CAAC;aACf;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,2BAAO,GAAP,UAAQ,WAAwB;QAC5B,OAAO,WAAW,YAAY,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnF,CAAC;IAED,qCAAiB,GAAjB,UAAkB,OAAoB;QAClC,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAS,OAAO,CAAC,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,sCAAkB,GAAlB,UAAmB,OAAoB;QACnC,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAS,OAAO,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;IAC/E,CAAC;IAED,gCAAY,GAAZ,UAAa,OAAoB;QAC7B,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAS,OAAO,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,mCAAe,GAAf,UAAgB,OAAoB;QAChC,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAS,OAAO,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,iCAAa,GAAb,UAAc,EAAU;QACpB,IAAI,MAAM,GAAuB,SAAS,CAAC;QAE3C,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;YAA/B,IAAM,MAAM,SAAA;YACb,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YAElC,IAAI,MAAM,EAAE;gBACR,MAAM;aACT;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,4BAAK;aAAT;YACI,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC3B,CAAC;aAED,UAAU,KAAc;YACpB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC;;;OAJA;IAMD,sBAAI,8BAAO;aAAX;YACI,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;QAC7B,CAAC;aAED,UAAY,KAAoC;YAC5C,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;;;OAJA;IAMD,sBAAI,mCAAY;aAAhB;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;aAED,UAAiB,KAAyB;YACtC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC/B,CAAC;;;OAJA;IAKL,gBAAC;AAAD,CAhUA,AAgUC,CAhU8B,aAAa,GAgU3C;AAhUY,8BAAS;AAkUtB,SAAS,qBAAqB,CAAC,KAAY;IACvC,IAAM,IAAI,GAAG,KAAK,CAAC,cAAc,EAAkB,CAAC;IACpD,IAAM,oBAAoB,GACtB,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,YAAY,CAAC,aAAa,CAAC;IAEjF,IAAI,oBAAoB,EAAE;QACtB,oBAAoB,CAAC,KAAK,CAAC,CAAC;KAC/B;AACL,CAAC;AAED,SAAS,uBAAuB,CAC5B,OAAoB,EACpB,MAAyB,EACzB,EAAe;IAEf,IAAM,IAAI,GAAG,OAAO,CAAC,cAAc,EAAkB,CAAC;IACtD,IAAM,sBAAsB,GACxB,IAAI,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC;IAEvF,OAAO,sBAAsB,KAAK,SAAS;QACvC,CAAC,CAAC,sBAAsB,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC;QAC7C,CAAC,CAAC,KAAK,CAAC;AAChB,CAAC;AAED,SAAS,uBAAuB,CAAC,MAAc;IAC3C,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAE,MAAM,CAAC,MAAM,CAAC,cAAc,EAAmB,CAAC,CAAC,CAAC,SAAS,CAAC;IAC1F,IAAM,sBAAsB,GACxB,IAAI,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC;IAEvF,IAAI,MAAM,CAAC,mBAAmB,EAAE,IAAI,sBAAsB,EAAE;QACxD,sBAAsB,CAAC,MAAM,CAAC,CAAC;KAClC;AACL,CAAC;AAED,SAAS,4BAA4B,CAAC,MAAsB,EAAE,UAAmB;IAC7E,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAE,MAAM,CAAC,MAAM,CAAC,cAAc,EAAmB,CAAC,CAAC,CAAC,SAAS,CAAC;IAC1F,IAAM,2BAA2B,GAC7B,IAAI,IAAI,IAAI,CAAC,oBAAoB;QAC7B,CAAC,CAAC,IAAI,CAAC,oBAAoB;QAC3B,CAAC,CAAC,YAAY,CAAC,oBAAoB,CAAC;IAE5C,IAAI,2BAA2B,EAAE;QAC7B,2BAA2B,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;KACnD;AACL,CAAC;AAED,SAAS,2BAA2B,CAAC,KAAY;IAC7C,IAAM,IAAI,GAAG,KAAK,CAAC,cAAc,EAAkB,CAAC;IACpD,IAAM,0BAA0B,GAC5B,IAAI,IAAI,IAAI,CAAC,mBAAmB;QAC5B,CAAC,CAAC,IAAI,CAAC,mBAAmB;QAC1B,CAAC,CAAC,YAAY,CAAC,mBAAmB,CAAC;IAE3C,IAAI,0BAA0B,EAAE;QAC5B,0BAA0B,CAAC,KAAK,CAAC,CAAC;KACrC;AACL,CAAC;AAED,SAAS,kCAAkC,CACvC,OAAoB,EACpB,kBAAkC;IAAlC,mCAAA,EAAA,yBAAkC;IAElC,IAAM,WAAW,GAAG,OAAO,CAAC,cAAc,EAAE,CAAC;IAE7C,IAAI,kBAAkB,EAAE;QACpB,WAAW,CAAC,YAAY,EAAE,CAAC;KAC9B;IAED,IAAM,IAAI,GAAG,WAA2B,CAAC;IACzC,IAAM,iCAAiC,GACnC,IAAI,IAAI,IAAI,CAAC,0BAA0B;QACnC,CAAC,CAAC,IAAI,CAAC,0BAA0B;QACjC,CAAC,CAAC,YAAY,CAAC,0BAA0B,CAAC;IAElD,IAAI,iCAAiC,KAAK,SAAS,EAAE;QACjD,iCAAiC,CAAC,OAAO,CAAC,CAAC;KAC9C;AACL,CAAC;AAED,SAAS,6BAA6B,CAAC,KAAuB,EAAE,IAAa;IACzE,IAAI,CAAC,CAAC,IAAI,EAAE;QACR,kCAAkC;QAClC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtB,8BAA8B;QAC9B,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;KACzB;SAAM;QACF,kCAAkC;QAClC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;QACvB,8BAA8B;QAC9B,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;KAC3B;AAEL,CAAC;AAED;;GAEG;AACH,SAAS,mCAAmC,CACxC,MAAsB,EACtB,MAAoB;IAEpB,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAE,MAAM,CAAC,MAAM,CAAC,cAAc,EAAmB,CAAC,CAAC,CAAC,SAAS,CAAC;IAC1F,IAAM,kCAAkC,GACpC,IAAI,IAAI,IAAI,CAAC,2BAA2B;QACpC,CAAC,CAAC,IAAI,CAAC,2BAA2B;QAClC,CAAC,CAAC,YAAY,CAAC,2BAA2B,CAAC;IAEnD,OAAO,kCAAkC,KAAK,SAAS;QACnD,CAAC,CAAC,kCAAkC,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC;QACjE,CAAC,CAAC,KAAK,CAAC;AAChB,CAAC;AAED;;GAEG;AACH,SAAS,+BAA+B,CACpC,MAAsB,EACtB,oBAA6B;IAE7B,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAE,MAAM,CAAC,MAAM,CAAC,cAAc,EAAmB,CAAC,CAAC,CAAC,SAAS,CAAC;IAC1F,IAAM,8BAA8B,GAChC,IAAI,IAAI,IAAI,CAAC,uBAAuB;QAChC,CAAC,CAAC,IAAI,CAAC,uBAAuB;QAC9B,CAAC,CAAC,YAAY,CAAC,uBAAuB,CAAC;IAE/C,OAAO,8BAA8B,KAAK,SAAS;QAC/C,CAAC,CAAC,8BAA8B,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,oBAAoB,CAAC;QAC3E,CAAC,CAAC,KAAK,CAAC;AAChB,CAAC;AAED;IAAmD,wCAAS;IA0ExD;QAAA,YACI,iBAAO,SAGV;QADG,KAAI,CAAC,iBAAiB,GAAG,IAAI,gBAAgB,CAAC,KAAI,CAAC,CAAC;;IACxD,CAAC;IA3ES,4CAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACvC,CAAC;IAES,2CAAY,GAAtB,UAAuB,MAAW,EAAE,OAA6B;QAC7D,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;IAC7D,CAAC;IAES,6CAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IAC9D,CAAC;IAES,6CAAc,GAAxB;QACI,IAAM,OAAO,GAAG,iBAAM,cAAc,WAAE,CAAC;QAEvC,IAAI,OAAO,EAAE;YACT,IAAM,eAAe,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CACjD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,kBAAkB,CAC7C,CAAC;YAEF,IAAI,eAAe,EAAE;gBACjB,KAAK,CAAC,WAAW,CACb,OAAO,EACP,gBAAgB,CACZ,IAAI,CAAC,UAAU,EACf;oBACI,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,mBAAmB,CACxC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAClC;iBACJ,EACD,KAAK,CAAC,WAAW,CAAC,UAAU,CAC/B,CACJ,CAAC;gBACF,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;aAC/C;YAED,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,OAAO,OAAO,CAAC;aAClB;iBAAM;gBACH,OAAO,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC;aAC5D;SACJ;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAES,mDAAoB,GAA9B;QACI,IAAI,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE;YAChC,OAAO,KAAK,CAAC;SAChB;aAAM,IAAI,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE;YACvC,OAAO,CACH,IAAI,CAAC,iBAAiB,CAAC,cAAc,KAAK,SAAS;gBACnD,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,6BAA6B,CACzD,CAAC;SACL;aAAM;YACH,OAAO,IAAI,CAAC,iBAAiB,CAAC,cAAc,KAAK,SAAS,CAAC;SAC9D;IACL,CAAC;IAED,sBAAc,qDAAmB;aAAjC;YACI,OAAO,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,CAAC;QACtD,CAAC;;;OAAA;IAED,sBAAc,+CAAa;aAA3B;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAQD,kDAAmB,GAAnB;QACI,iBAAM,mBAAmB,WAAE,CAAC;QAE5B,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,CAAC;IACjD,CAAC;IAED,6CAAc,GAAd;QACI,OAAO,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAC;IACnD,CAAC;IAED,0CAAW,GAAX,UAAY,KAAa;QACrB,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,cAAc,EAAE,EAAE;YAC7C,OAAO,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SACpD;aAAM;YACH,OAAO,iBAAM,WAAW,YAAC,KAAK,CAAC,CAAC;SACnC;IACL,CAAC;IAED,4CAAa,GAAb,UAAc,EAAU;QACpB,IAAM,MAAM,GAAuB,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QAE5E,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,iBAAM,aAAa,YAAC,EAAE,CAAC,CAAC;IACrD,CAAC;IAED,yDAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;SACtD;IACL,CAAC;IAED,4CAAa,GAAb,UAAc,OAAoB;QAC9B,OAAO,iBAAM,aAAa,YAAC,OAAO,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;IACzF,CAAC;IAED,wCAAS,GAAT,UAAU,MAAc;QACpB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAED,oCAAK,GAAL;QACI,iBAAM,KAAK,WAAE,CAAC;QAEd,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,CAAC;IACnC,CAAC;IAED,2CAAY,GAAZ,UAAa,cAA8B;QAA9B,+BAAA,EAAA,qBAA8B;QACvC,IAAI,MAAM,GAAG,iBAAM,YAAY,YAAC,cAAc,CAAC,CAAC;QAEhD,IAAI,cAAc,EAAE;YAChB,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE;SACvE;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,qDAAsB,GAAtB;QACI,IAAI,MAAM,GAAG,iBAAM,sBAAsB,WAAE,CAAC;QAE5C,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,EAAE;QAEhE,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,iDAAkB,GAAlB;QACI,IAAI,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,KAAK,CAAC,EAAE;YAClD,OAAO,iBAAM,kBAAkB,WAAE,CAAC;SACrC;aAAM;YACH,IAAI,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,KAAK,CAAC,EAAE;gBAC/C,OAAO,CACH,IAAI,CAAC,iBAAiB,CAAC,cAAc,KAAK,SAAS;oBACnD,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,6BAA6B,CACzD,CAAC;aACL;iBAAM;gBACH,OAAO,IAAI,CAAC,iBAAiB,CAAC,cAAc,KAAK,SAAS,CAAC;aAC9D;SACJ;IACL,CAAC;IAED,sDAAuB,GAAvB;QACI,OAAO,EAAE,CAAC;IACd,CAAC;IAED,6CAAc,GAAd,UAAe,EAAU;QACrB,IAAI,MAAM,GAAG,iBAAM,cAAc,YAAC,EAAE,CAAC,CAAC;QAEtC,IAAI,CAAC,MAAM,EAAE;YACT,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,CAAC;SAC9C;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,sBAAI,8CAAY;aAAhB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IACL,2BAAC;AAAD,CAhLA,AAgLC,CAhLkD,SAAS,GAgL3D;AAhLqB,oDAAoB;AAuL1C;IAA2C,yCAAkB;IA4CzD,+BAAqB,aAAsB,EAAW,IAAY;QAAlE,YACI,kBAAM,aAAa,EAAE,IAAI,EAAE,SAAS,CAAC,SACxC;QAFoB,mBAAa,GAAb,aAAa,CAAS;QAAW,UAAI,GAAJ,IAAI,CAAQ;;IAElE,CAAC;IA7CD,qCAAK,GAAL,UACI,MAAyB,EACzB,MAAmB,EACnB,OAA6B;QAE7B,IAAM,MAAM,GAAG,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;QAEhF,IAAI,MAAM,KAAK,SAAS,EAAE;YACtB,IAAI,MAAM,YAAY,aAAa,EAAE;gBACjC,OAAO,MAAM,CAAC;aACjB;YAED,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,CAChE,CAAC;SACL;QAED,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAC7C,CAAC;QAEF,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,sCAAM,GAAN,UACI,MAA0B,EAC1B,MAAmB,EACnB,KAAgC,EAChC,OAA6B;QAE7B,OAAO,CAAC,cAAc,CAClB,MAAM,EACN,IAAI,CAAC,IAAI,EACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,EACzC,SAAS,EACT,IAAI,CACP,CAAC;IACN,CAAC;IAKL,4BAAC;AAAD,CA/CA,AA+CC,CA/C0C,kCAAkB,GA+C5D;AA/CY,sDAAqB;AAiDlC;IAAuC,qCAAkB;IAAzD;;IA6BA,CAAC;IAtBG,sBAAI,qCAAM;aAAV;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;QAC3D,CAAC;aAED,UAAW,KAAoB;YAC3B,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;YAEvD,IAAI,KAAK,EAAE;gBACP,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAChC;QACL,CAAC;;;OARA;IAaS,wCAAY,GAAtB;QACI,OAAO,mBAAmB,CAAC;IAC/B,CAAC;IAvBD,gBAAgB;IAEA,gCAAc,GAAG,IAAI,qBAAqB,CAAC,wBAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACpE,iCAAe,GAAG,IAAI,mCAAmB,CAAC,wBAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAGpF;QADC,IAAA,wBAAQ,EAAC,iBAAiB,CAAC,cAAc,CAAC;mDAG1C;IAWD;QADC,IAAA,wBAAQ,EAAC,iBAAiB,CAAC,eAAe,CAAC;sDACzB;IASvB,wBAAC;CA7BD,AA6BC,CA7BsC,kCAAkB,GA6BxD;AA7BY,8CAAiB;AA+B9B;IAAoC,kCAAkB;IAAtD;;IAyBA,CAAC;IAjBa,qCAAY,GAAtB;QACI,OAAO,gBAAgB,CAAC;IAC5B,CAAC;IATD,gBAAgB;IAEA,2BAAY,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACzD,4BAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,4BAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,4BAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAS3E;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,YAAY,CAAC;gDACzB;IAGb;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,aAAa,CAAC;iDACxB;IAGf;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,aAAa,CAAC;iDACxB;IAGf;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,aAAa,CAAC;iDACzB;IAClB,qBAAC;CAzBD,AAyBC,CAzBmC,kCAAkB,GAyBrD;AAzBY,wCAAc;AA2B3B;IAA2C,yCAAkB;IAA7D;;IAqBA,CAAC;IAda,4CAAY,GAAtB;QACI,OAAO,uBAAuB,CAAC;IACnC,CAAC;IARD,gBAAgB;IAEA,gCAAU,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACrD,iCAAW,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACvD,wCAAkB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IASrF;QADC,IAAA,wBAAQ,EAAC,qBAAqB,CAAC,UAAU,CAAC;qDAC/B;IAGZ;QADC,IAAA,wBAAQ,EAAC,qBAAqB,CAAC,WAAW,CAAC;sDAC/B;IAGb;QADC,IAAA,wBAAQ,EAAC,qBAAqB,CAAC,kBAAkB,CAAC;6DAC/B;IACxB,4BAAC;CArBD,AAqBC,CArB0C,kCAAkB,GAqB5D;AArBY,sDAAqB;AAuBlC;IAAoC,kCAAkB;IAAtD;;IAkCA,CAAC;IAjBa,qCAAY,GAAtB;QACI,OAAO,gBAAgB,CAAC;IAC5B,CAAC;IAlBD,gBAAgB;IAEA,2BAAY,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACzD,qCAAsB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC;IAC7E,8BAAe,GAAG,IAAI,oDAAoC,CACtE,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,cAAc,CACjB,CAAC;IACc,4CAA6B,GAAG,IAAI,0CAA0B,CAC1E,wBAAQ,CAAC,IAAI,EACb,uBAAuB,EACvB,qBAAqB,EACrB,IAAI,CACP,CAAC;IASF;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,YAAY,CAAC;gDACxB;IAGd;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,sBAAsB,CAAC;0DACxB;IAGxB;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,eAAe,CAAC;mDACf;IAG1B;QADC,IAAA,wBAAQ,EAAC,cAAc,CAAC,6BAA6B,CAAC;iEACT;IAClD,qBAAC;CAlCD,AAkCC,CAlCmC,kCAAkB,GAkCrD;AAlCY,wCAAc;AAoC3B,WAAW;AACX;IAAkC,gCAAoB;IAAtD;QAAA,qEA+XC;QAtHG,gBAAU,GAAY,KAAK,CAAC;;IAsHhC,CAAC;IArSG,sBAAI,iCAAO;aAAX;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACvD,CAAC;aAED,UAAY,KAAoC;YAC5C,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;YAEnD,IAAI,KAAK,EAAE;gBACP,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;aACvB;QACL,CAAC;;;OARA;IAsCD,sBAAW,+BAAe;aAA1B;YACI,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,2BAA2B,EAAE,CAAC,CAAC;QAClE,CAAC;QAED,gEAAgE;aAChE,UAA2B,MAAgC;YACvD,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,2BAA2B,EAAE,CAAC,CAAC;QAClE,CAAC;;;OALA;IAOM,0BAAa,GAApB,UAAqB,IAAY;QAC7B,IAAM,MAAM,GAA8B;YACtC,UAAU,EAAE,KAAK;SACpB,CAAC;QAEF,IAAI,YAAY,CAAC,iBAAiB,EAAE;YAChC,YAAY,CAAC,iBAAiB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAChD;aAAM,IAAU,MAAO,CAAC,UAAU,EAAE;YACjC,uBAAuB;YACvB,IAAM,UAAU,GAAc,MAAO,CAAC,UAAU,CAAC;YACjD,MAAM,CAAC,UAAU,GAAG,UAAU,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC9C,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;SAC5B;aAAM,IAAI,CAAC,YAAY,CAAC,oCAAoC,EAAE;YAC3D,sCAAsC;YACtC,OAAO,CAAC,IAAI,CAAC,iBAAO,CAAC,MAAM,CAAC,4BAA4B,CAAC,CAAC;YAC1D,YAAY,CAAC,oCAAoC,GAAG,IAAI,CAAC;SAC5D;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAIO,yCAAkB,GAA1B;QACI,IAAI,IAAI,CAAC,kBAAkB,EAAE;YACzB,OAAO,IAAI,CAAC;SACf;aAAM;YACH,IAAM,kBAAkB,GACpB,CAAC,IAAI,CAAC,OAAO;gBACb,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO;gBACrB,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK;gBAC1C,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK;oBACzC,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAEpD,OAAO,CAAC,kBAAkB,CAAC;SAC9B;IACL,CAAC;IAES,qDAA8B,GAAxC;QACI,OAAO,IAAI,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAClD,CAAC;IAES,qDAA8B,GAAxC;QACI,OAAO,MAAM,CAAC;IAClB,CAAC;IAES,oCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;QAE/B,IAAM,eAAe,GAAG,OAAO,CAAC,YAAY,CACxC,SAAS,EACT,MAAM,CAAC,UAAU,CAAC,EAClB,IAAI,CAAC,sBAAsB,EAAE,EAC7B,CAAC,IAAI,CAAC,YAAY,EAAE,CACvB,CAAC;QAEF,IAAI,eAAe,EAAE;YACjB,IAAI,CAAC,aAAa,GAAG,IAAI,YAAY,EAAE,CAAC;YACxC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SAC/C;QAED,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACzC,CAAC;IAES,qCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC;QAEnE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAC1C,CAAC;IAES,qCAAc,GAAxB;QACI,IAAM,eAAe,GAAG,iBAAM,cAAc,WAAE,CAAC;QAE/C,IAAI,uBAAc,CAAC,+BAA+B,IAAI,eAAe,EAAE;YACnE,gEAAgE;YAChE,iEAAiE;YACjE,mCAAmC;YACnC,eAAe,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;SACrD;QAED,OAAO,eAAe,CAAC;IAC3B,CAAC;IAES,uCAAgB,GAA1B,UAA2B,sBAAuC;QAAvC,uCAAA,EAAA,8BAAuC;QAC9D,OAAO,IAAI,CAAC;IAChB,CAAC;IAES,wCAAiB,GAA3B;QACI,OAAO,IAAI,0BAAiB,CACxB,KAAK,CAAC,OAAO,CAAC,OAAO,EACrB,KAAK,CAAC,OAAO,CAAC,OAAO,EACrB,KAAK,CAAC,OAAO,CAAC,OAAO,EACrB,KAAK,CAAC,OAAO,CAAC,OAAO,CACxB,CAAC;IACN,CAAC;IAES,sCAAe,GAAzB,UAA0B,QAA8B;QACpD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,sBAAc,uCAAa;aAA3B;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAc,4CAAkB;aAAhC;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAED,sBAAc,0CAAgB;aAA9B;YACI,OAAO,IAAI,CAAC,UAAU,CAAC,YAAY,IAAI,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,gBAAgB,CAAC;QACzF,CAAC;;;OAAA;IAED,sBAAc,uCAAa;aAA3B;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAcD,sCAAe,GAAf;QACI,OAAO,cAAc,CAAC;IAC1B,CAAC;IAED,iDAA0B,GAA1B,UAA2B,OAA0B;QACjD,iBAAM,0BAA0B,YAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAK,cAAc,EAAE;YAChE,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,eAAe,EACrC,iBAAO,CAAC,MAAM,CAAC,eAAe,EAAE,CACnC,CAAC;SACL;QAED,IAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAC3C,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAC9C,CAAC;SACL;aAAM,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE;YACnC,OAAO,CAAC,UAAU,CACd,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,sBAAsB,EAC5C,iBAAO,CAAC,MAAM,CAAC,sBAAsB,CACjC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EACvB,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAC7B,CACJ,CAAC;SACL;IACL,CAAC;IAED,6BAAM,GAAN,UAAO,MAAoB;QAA3B,iBA+DC;QA9DG,IAAI,YAAqC,CAAC;QAE1C,IAAI,IAAI,CAAC,cAAc,EAAE,IAAI,IAAI,CAAC,aAAa,EAAE;YAC7C,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAEhD,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;SAC9C;aAAM;YACH,YAAY,GAAG,iBAAM,MAAM,WAAE,CAAC;YAE9B,IAAI,YAAY,EAAE;gBACd,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAEhF,kGAAkG;gBAClG,qGAAqG;gBACrG,sGAAsG;gBACtG,wGAAwG;gBACxG,cAAc;gBACd,IAAI,uBAAc,CAAC,qBAAqB,EAAE;oBACtC,YAAY,CAAC,QAAQ,GAAG,CAAC,CAAC;iBAC7B;gBAED,IAAI,IAAI,CAAC,KAAK,EAAE;oBACZ,YAAY,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;iBACvD;gBAED,YAAY,CAAC,YAAY,GAAG,UAAC,EAAc;oBACvC,KAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACnD,CAAC,CAAC;gBAEF,YAAY,CAAC,YAAY,GAAG,UAAC,EAAc;oBACvC,KAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBACpD,CAAC,CAAC;gBAEF,IAAI,CAAC,cAAc,EAAE,CAAC,yBAAyB,EAAE,CAAC;aACrD;SACJ;QAED,IAAI,MAAM,EAAE;YACR,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;YAExC,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;QAED,IAAM,aAAa,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,QAAQ,CAAC,OAAO,GAAG,UAAC,KAAK;YACrB,aAAa,CAAC,OAAO,CAAC,UAAC,KAAK;;gBACxB,IACI,KAAK,YAAY,cAAc;oBAC/B,CAAC,CAAA,MAAA,KAAK,CAAC,eAAe,0CAAE,QAAQ,CAAC,KAAK,CAAC,MAAc,CAAC,CAAA,EACxD;oBACE,MAAA,KAAK;yBACA,kBAAkB,EAAE,0CACnB,SAAS,CAAC,MAAM,CACd,KAAI,CAAC,UAAU,CAAC,gBAAgB,CAC5B,0CAA0C,CAC7C,CACJ,CAAC;iBACT;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC;QAEF,OAAO,YAAY,CAAC;IACxB,CAAC;IAED,mCAAY,GAAZ,UAAa,eAA+B;QAA/B,gCAAA,EAAA,sBAA+B;QACxC,iBAAM,YAAY,YAAC,eAAe,CAAC,CAAC;QAEpC,IAAI,uBAAc,CAAC,+BAA+B,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;YACtE,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAE3E,4EAA4E;YAC5E,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,eAAgB,CAAC,YAAY,GAAG,OAAO,CAAC,CAAC;SACxE;IACL,CAAC;IAED,qCAAc,GAAd;QACI,OAAO,iBAAM,cAAc,WAAE,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAChE,CAAC;IAED,sBAAI,6CAAmB;aAAvB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IA7Xe,sBAAS,GAAG,oDAAoD,CAAC;IAEjF,gBAAgB;IAEhB,gEAAgE;IACtC,4BAAe,GAAG,IAAI,8BAAc,CAC1D,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,UACI,MAA0B,EAC1B,QAA4B,EAC5B,MAAmB,EACnB,OAAiC;QAEjC,OAAO,YAAY,CAAC,SAAS,CAAC;IAClC,CAAC,EACD,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,KAA2B,EAC3B,OAAiC;QAEjC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;IACtE,CAAC,CACJ,CAAC;IAEc,4BAAe,GAAG,IAAI,8BAAc,CAChD,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,OAAiC;QAEjC,IAAI,OAAO,GAAG,uBAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;QAExD,IAAI,OAAO,KAAK,SAAS,EAAE;YACvB,OAAO,GAAG,wBAAQ,CAAC,MAAM,CAAC;YAE1B,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CACxD,CAAC;SACL;QAED,OAAO,OAAO,CAAC;IACnB,CAAC,EACD,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,KAA0B,EAC1B,OAAiC;QAEjC,IAAI,KAAK,KAAK,SAAS,EAAE;YACrB,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;SAC/D;IACL,CAAC,EACD,wBAAQ,CAAC,IAAI,CAChB,CAAC;IAEc,iCAAoB,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;IACzE,0BAAa,GAAG,IAAI,8BAAc,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,4BAAe,GAAG,IAAI,0CAA0B,CAC5D,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,iBAAiB,EACjB,IAAI,CACP,CAAC;IACc,mCAAsB,GAAG,IAAI,0CAA0B,CACnE,wBAAQ,CAAC,IAAI,EACb,gBAAgB,EAChB,cAAc,EACd,IAAI,CACP,CAAC;IA2BF,YAAY;IAEG,iDAAoC,GAAG,KAAK,CAAC;IA1B5D;QADC,IAAA,wBAAQ,EAAC,YAAY,CAAC,eAAe,CAAC;iDACtB;IAGjB;QADC,IAAA,wBAAQ,EAAC,YAAY,CAAC,oBAAoB,CAAC;sDACtB;IAGtB;QADC,IAAA,wBAAQ,EAAC,YAAY,CAAC,aAAa,CAAC;+CACtB;IAGf;QADC,IAAA,wBAAQ,EAAC,YAAY,CAAC,eAAe,CAAC;+CAGtC;IAWD;QADC,IAAA,wBAAQ,EAAC,YAAY,CAAC,sBAAsB,CAAC;wDACd;IAwRpC,mBAAC;CA/XD,AA+XC,CA/XiC,oBAAoB,GA+XrD;AA/XY,oCAAY;AAiYzB;IAAiC,sCAAY;IAA7C;QACI,gBAAgB;QADpB,qEAkDC;QAZG,mBAAa,GAAY,KAAK,CAAC;;IAYnC,CAAC;IA/Ca,yCAAY,GAAtB;QACI,OAAO,oBAAoB,CAAC;IAChC,CAAC;IAES,2CAAc,GAAxB,UAAyB,MAAgC;QACrD,iBAAM,cAAc,YAAC,MAAM,CAAC,CAAC;QAE7B,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,eAAe,EAAE,YAAY,CAAC,eAAe,CAAC,CAAC;IAC9E,CAAC;IAED,YAAY;IAEF,8CAAiB,GAA3B;QACI,OAAO,IAAI,0BAAiB,CACxB,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAC/D,KAAK,CAAC,OAAO,CAAC,OAAO,EACrB,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAC/D,KAAK,CAAC,OAAO,CAAC,OAAO,CACxB,CAAC;IACN,CAAC;IAED,sBAAc,kDAAkB;aAAhC;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAc,4CAAY;aAA1B;YACI,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,OAAO,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC;aACvC;iBAAM;gBACH,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK;oBACzC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK;oBACxC,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC;aACvC;QACL,CAAC;;;OAAA;IAID,mCAAM,GAAN,UAAO,MAAoB;QACvB,IAAM,YAAY,GAAG,iBAAM,MAAM,YAAC,MAAM,CAAC,CAAC;QAE1C,IAAI,YAAY,EAAE;YACd,YAAY,CAAC,YAAY,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;YACjD,YAAY,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;SAC5C;QAED,OAAO,YAAY,CAAC;IACxB,CAAC;IACL,yBAAC;AAAD,CAlDA,AAkDC,CAlDgC,YAAY,GAkD5C;AAED;IAA0C,wCAAwB;IAAlE;QAAA,qEAyMC;QArMW,qBAAe,GAAgB,IAAI,GAAG,EAAU,CAAC;;IAqM7D,CAAC;IApMW,sDAAuB,GAA/B,UACI,MAA+B,EAC/B,MAAW,EACX,cAA2B,EAC3B,aAAsB,EACtB,sBAAuE,EACvE,aAAqF;QANzF,iBAiEC;QAzDG,IAAI,MAAM,GAAkB,SAAS,CAAC;QAEtC,IAAI,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;YACtC,IAAM,mBAAiB,GAAG,IAAI,GAAG,EAAU,CAAC;YAC5C,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,UAAC,IAAI;gBAC9B,mBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC;YACH,cAAc,CAAC,OAAO,CAAC,UAAC,IAAI;gBACxB,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;YAEH,IAAM,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAEnD,IAAI,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;gBAChD,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;aAC9D;iBAAM;gBACH,IAAI,aAAa,GAAG,KAAK,CAAC;gBAE1B,MAAM,GAAG,sBAAsB,CAAC,QAAQ,CAAC,CAAC;gBAE1C,IAAI,CAAC,MAAM,EAAE;oBACT,aAAa,GAAG,uBAAc,CAAC,cAAc,IAAI,aAAa,CAAC;oBAE/D,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;iBAC5D;qBAAM;oBACH,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;oBACzB,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBAE3B,aAAa;wBACT,uBAAc,CAAC,cAAc,IAAI,aAAa,IAAI,MAAM,CAAC,cAAc,EAAE,CAAC;iBACjF;gBAED,IAAI,aAAa,EAAE;oBACf,IAAM,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;oBAEpC,IAAI,CAAC,QAAQ,IAAI,MAAM,EAAE;wBACrB,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;qBAClC;oBACD,IAAI,OAAO,QAAQ,KAAK,QAAQ,IAAI,QAAQ,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;wBACnE,MAAM,GAAG,SAAS,CAAC;qBACtB;yBAAM,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;wBACrC,MAAM,GAAG,IAAI,CAAC,uBAAuB,CACjC,MAAM,EACN,QAAQ,EACR,cAAc,EACd,IAAI,EACJ,sBAAsB,EACtB,aAAa,CAChB,CAAC;qBACL;iBACJ;aACJ;YAED,IAAI,CAAC,eAAe,GAAG,mBAAiB,CAAC;SAC5C;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAES,+CAAgB,GAA1B,UAA2B,CAAqB,EAAE,MAAW;QACzD,IAAI,CAAC,YAAY,MAAM,IAAI,IAAI,CAAC,aAAa,EAAE;YAC3C,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;SACvC;aAAM,IAAI,CAAC,YAAY,WAAW,IAAI,IAAI,CAAC,cAAc,EAAE;YACxD,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;SACxC;IACL,CAAC;IAKD,8CAAe,GAAf,UAAgB,CAAqB;QACjC,IAAI,CAAC,YAAY,MAAM,EAAE;YACrB,OAAO,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,KAAK,SAAS,CAAC;SAC5E;aAAM,IAAI,CAAC,YAAY,WAAW,EAAE;YACjC,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,KAAK,SAAS,CAAC;SAC7E;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,8CAAe,GAAf,UACI,MAA+B,EAC/B,MAAW,EACX,kBAA4B,EAC5B,aAAsB,EACtB,sBAA2D,EAC3D,aAAyE;QAEzE,IAAM,cAAc,GAAG,IAAI,GAAG,CAAS,kBAAkB,CAAC,CAAC;QAC3D,IAAM,MAAM,GAAG,IAAI,CAAC,uBAAuB,CACvC,MAAM,EACN,MAAM,EACN,cAAc,EACd,aAAa,EACb,sBAAsB,EACtB,aAAa,CAChB,CAAC;QAEF,IAAI,MAAM,KAAK,SAAS,EAAE;YACtB,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;SACzC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,2CAAY,GAAZ,UACI,MAA+B,EAC/B,MAAW,EACX,cAAwB,EACxB,aAAsB;QAJ1B,iBA8BC;QAxBG,OAAO,IAAI,CAAC,eAAe,CACvB,MAAM,EACN,MAAM,EACN,cAAc,EACd,aAAa,EACb,UAAC,QAAgB;YACb,OAAO,KAAI,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;QAC7E,CAAC,EACD,UAAC,QAAgB,EAAE,SAA8B;YAC7C,IAAI,SAAS,KAAK,KAAK,CAAC,aAAa,CAAC,WAAW,EAAE;gBAC/C,KAAI,CAAC,aAAa,CACd,SAAS,EACT,KAAK,CAAC,eAAe,CAAC,kBAAkB,EACxC,iBAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAC9C,CAAC;aACL;iBAAM;gBACH,KAAI,CAAC,aAAa,CACd,SAAS,EACT,KAAK,CAAC,eAAe,CAAC,qBAAqB,EAC3C,iBAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CACjD,CAAC;aACL;QACL,CAAC,CACJ,CAAC;IACN,CAAC;IAED,0CAAW,GAAX,UACI,MAAmB,EACnB,MAAW,EACX,oBAA8B,EAC9B,aAAsB;QAJ1B,iBA8BC;QAxBG,OAAO,IAAI,CAAC,eAAe,CACvB,MAAM,EACN,MAAM,EACN,oBAAoB,EACpB,aAAa,EACb,UAAC,QAAgB;YACb,OAAO,KAAI,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;QAC5E,CAAC,EACD,UAAC,QAAgB,EAAE,SAA8B;YAC7C,IAAI,SAAS,KAAK,KAAK,CAAC,aAAa,CAAC,WAAW,EAAE;gBAC/C,KAAI,CAAC,aAAa,CACd,SAAS,EACT,KAAK,CAAC,eAAe,CAAC,iBAAiB,EACvC,iBAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAC7C,CAAC;aACL;iBAAM;gBACH,KAAI,CAAC,aAAa,CACd,SAAS,EACT,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAChD,CAAC;aACL;QACL,CAAC,CACJ,CAAC;IACN,CAAC;IAED,sBAAI,iDAAe;aAAnB;;YACI,OAAO,MAAA,IAAI,CAAC,gBAAgB,mCAAI,yBAAc,CAAC,QAAQ,CAAC;QAC5D,CAAC;;;OAAA;IAED,gFAAgF;IAChF,oDAAoD;IACpD,iDAAkB,GAAlB,UAAmB,KAAkD;QACjE,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAClC,CAAC;IAED,sBAAI,gDAAc;aAAlB;;YACI,OAAO,MAAA,IAAI,CAAC,eAAe,mCAAI,yBAAc,CAAC,OAAO,CAAC;QAC1D,CAAC;;;OAAA;IAED,gFAAgF;IAChF,oDAAoD;IACpD,gDAAiB,GAAjB,UAAkB,KAA6C;QAC3D,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IACjC,CAAC;IACL,2BAAC;AAAD,CAzMA,AAyMC,CAzMyC,wCAAwB,GAyMjE;AAzMY,oDAAoB;AA2MjC,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;AAChE,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;AAChE,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,eAAe,EAAE,aAAa,EAAE,wBAAQ,CAAC,IAAI,CAAC,CAAC;AACvF,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE,wBAAQ,CAAC,IAAI,CAAC,CAAC;AAC3E,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;AACxD,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;AAC9D,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,EAAE,KAAK,EAAE,wBAAQ,CAAC,IAAI,CAAC,CAAC;AACvE,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AAC5D,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;AAChE,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,EAAE,SAAS,EAAE,wBAAQ,CAAC,IAAI,CAAC,CAAC;AAC/E,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;AACjE,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;AACjE,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;AACjE,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;AACrE,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,iBAAiB,EAAE,cAAc,CAAC,CAAC;AAC3E,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;AAErE,yBAAc,CAAC,cAAc,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;AAClF,yBAAc,CAAC,cAAc,CAAC,QAAQ,CAAC,YAAY,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;AAChF,yBAAc,CAAC,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;AACpF,yBAAc,CAAC,cAAc,CAAC,QAAQ,CAClC,sBAAsB,CAAC,YAAY,EACnC,sBAAsB,EACtB,wBAAQ,CAAC,IAAI,CAChB,CAAC;AACF,yBAAc,CAAC,cAAc,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,EAAE,aAAa,EAAE,wBAAQ,CAAC,IAAI,CAAC,CAAC;;;;;;;;;;;;ACvhTjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAQA,CAACC,GAAG,EAAE;EACnB,OAAQA,GAAG,KAAK,IAAI,IAChB,OAAOA,GAAG,KAAK,QAAQ,IACvB,aAAa,IAAIA,GAAG,IACpBA,GAAG,CAACC,WAAW,KAAKC,MAAM;AAClC;AACA,SAASC,MAAMA,CAACC,MAAM,GAAG,CAAC,CAAC,EAAEC,GAAG,GAAG,CAAC,CAAC,EAAE;EACnCH,MAAM,CAACI,IAAI,CAACD,GAAG,CAAC,CAACE,OAAO,CAAEC,GAAG,IAAK;IAC9B,IAAI,OAAOJ,MAAM,CAACI,GAAG,CAAC,KAAK,WAAW,EAClCJ,MAAM,CAACI,GAAG,CAAC,GAAGH,GAAG,CAACG,GAAG,CAAC,CAAC,KACtB,IAAIT,QAAQ,CAACM,GAAG,CAACG,GAAG,CAAC,CAAC,IACvBT,QAAQ,CAACK,MAAM,CAACI,GAAG,CAAC,CAAC,IACrBN,MAAM,CAACI,IAAI,CAACD,GAAG,CAACG,GAAG,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,EAAE;MAClCN,MAAM,CAACC,MAAM,CAACI,GAAG,CAAC,EAAEH,GAAG,CAACG,GAAG,CAAC,CAAC;IACjC;EACJ,CAAC,CAAC;AACN;AAEA,MAAME,WAAW,GAAG;EAChBC,IAAI,EAAE,CAAC,CAAC;EACRC,gBAAgBA,CAAA,EAAG,CAAE,CAAC;EACtBC,mBAAmBA,CAAA,EAAG,CAAE,CAAC;EACzBC,aAAa,EAAE;IACXC,IAAIA,CAAA,EAAG,CAAE,CAAC;IACVC,QAAQ,EAAE;EACd,CAAC;EACDC,aAAaA,CAAA,EAAG;IACZ,OAAO,IAAI;EACf,CAAC;EACDC,gBAAgBA,CAAA,EAAG;IACf,OAAO,EAAE;EACb,CAAC;EACDC,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI;EACf,CAAC;EACDC,WAAWA,CAAA,EAAG;IACV,OAAO;MACHC,SAASA,CAAA,EAAG,CAAE;IAClB,CAAC;EACL,CAAC;EACDC,aAAaA,CAAA,EAAG;IACZ,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,EAAE;MACdC,KAAK,EAAE,CAAC,CAAC;MACTC,YAAYA,CAAA,EAAG,CAAE,CAAC;MAClBC,oBAAoBA,CAAA,EAAG;QACnB,OAAO,EAAE;MACb;IACJ,CAAC;EACL,CAAC;EACDC,eAAeA,CAAA,EAAG;IACd,OAAO,CAAC,CAAC;EACb,CAAC;EACDC,UAAUA,CAAA,EAAG;IACT,OAAO,IAAI;EACf,CAAC;EACDC,QAAQ,EAAE;IACNC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE,EAAE;IACRC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE;EACZ;AACJ,CAAC;AAACC,OAAA,CAAA7B,WAAA,GAAAA,WAAA;AACF,SAAS8B,WAAWA,CAAA,EAAG;EACnB,MAAMC,GAAG,GAAG,OAAOC,QAAQ,KAAK,WAAW,GAAGA,QAAQ,GAAG,CAAC,CAAC;EAC3DvC,MAAM,CAACsC,GAAG,EAAE/B,WAAW,CAAC;EACxB,OAAO+B,GAAG;AACd;AAEA,MAAME,SAAS,GAAG;EACdD,QAAQ,EAAEhC,WAAW;EACrBkC,SAAS,EAAE;IACPC,SAAS,EAAE;EACf,CAAC;EACDf,QAAQ,EAAE;IACNC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE,EAAE;IACRC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE;EACZ,CAAC;EACDQ,OAAO,EAAE;IACLC,YAAYA,CAAA,EAAG,CAAE,CAAC;IAClBC,SAASA,CAAA,EAAG,CAAE,CAAC;IACfC,EAAEA,CAAA,EAAG,CAAE,CAAC;IACRC,IAAIA,CAAA,EAAG,CAAE;EACb,CAAC;EACDC,WAAW,EAAE,SAASA,WAAWA,CAAA,EAAG;IAChC,OAAO,IAAI;EACf,CAAC;EACDvC,gBAAgBA,CAAA,EAAG,CAAE,CAAC;EACtBC,mBAAmBA,CAAA,EAAG,CAAE,CAAC;EACzBuC,gBAAgBA,CAAA,EAAG;IACf,OAAO;MACHC,gBAAgBA,CAAA,EAAG;QACf,OAAO,EAAE;MACb;IACJ,CAAC;EACL,CAAC;EACDC,KAAKA,CAAA,EAAG,CAAE,CAAC;EACXC,IAAIA,CAAA,EAAG,CAAE,CAAC;EACVC,MAAM,EAAE,CAAC,CAAC;EACVC,UAAUA,CAAA,EAAG,CAAE,CAAC;EAChBC,YAAYA,CAAA,EAAG,CAAE,CAAC;EAClBC,UAAUA,CAAA,EAAG;IACT,OAAO,CAAC,CAAC;EACb,CAAC;EACDC,qBAAqBA,CAACC,QAAQ,EAAE;IAC5B,IAAI,OAAOJ,UAAU,KAAK,WAAW,EAAE;MACnCI,QAAQ,CAAC,CAAC;MACV,OAAO,IAAI;IACf;IACA,OAAOJ,UAAU,CAACI,QAAQ,EAAE,CAAC,CAAC;EAClC,CAAC;EACDC,oBAAoBA,CAACC,EAAE,EAAE;IACrB,IAAI,OAAON,UAAU,KAAK,WAAW,EAAE;MACnC;IACJ;IACAC,YAAY,CAACK,EAAE,CAAC;EACpB;AACJ,CAAC;AAACxB,OAAA,CAAAI,SAAA,GAAAA,SAAA;AACF,SAASqB,SAASA,CAAA,EAAG;EACjB,MAAMC,GAAG,GAAG,OAAOC,MAAM,KAAK,WAAW,GAAGA,MAAM,GAAG,CAAC,CAAC;EACvD/D,MAAM,CAAC8D,GAAG,EAAEtB,SAAS,CAAC;EACtB,OAAOsB,GAAG;AACd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtIA,IAAAE,UAAA,GAAAC,OAAA;AAXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA,SAASC,YAAYA,CAACrE,GAAG,EAAE;EACzB,MAAMsE,KAAK,GAAGtE,GAAG,CAACuE,SAAS;EAC3BrE,MAAM,CAACsE,cAAc,CAACxE,GAAG,EAAE,WAAW,EAAE;IACtCyE,GAAGA,CAAA,EAAG;MACJ,OAAOH,KAAK;IACd,CAAC;IAEDI,GAAGA,CAACC,KAAK,EAAE;MACTL,KAAK,CAACC,SAAS,GAAGI,KAAK;IACzB;EAEF,CAAC,CAAC;AACJ;AAEA,MAAMC,IAAI,SAASC,KAAK,CAAC;EACvB5E,WAAWA,CAAC6E,KAAK,EAAE;IACjB,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC7B,KAAK,CAACA,KAAK,CAAC;IACd,CAAC,MAAM;MACL,KAAK,CAAC,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC;MACvBT,YAAY,CAAC,IAAI,CAAC;IACpB;EACF;AAEF;AAEA,SAASU,SAASA,CAACC,GAAG,GAAG,EAAE,EAAE;EAC3B,MAAMC,GAAG,GAAG,EAAE;EACdD,GAAG,CAACzE,OAAO,CAAC2E,EAAE,IAAI;IAChB,IAAIL,KAAK,CAACM,OAAO,CAACD,EAAE,CAAC,EAAE;MACrBD,GAAG,CAACG,IAAI,CAAC,GAAGL,SAAS,CAACG,EAAE,CAAC,CAAC;IAC5B,CAAC,MAAM;MACLD,GAAG,CAACG,IAAI,CAACF,EAAE,CAAC;IACd;EACF,CAAC,CAAC;EACF,OAAOD,GAAG;AACZ;AACA,SAASI,WAAWA,CAACL,GAAG,EAAEnB,QAAQ,EAAE;EAClC,OAAOgB,KAAK,CAACS,SAAS,CAACC,MAAM,CAACC,IAAI,CAACR,GAAG,EAAEnB,QAAQ,CAAC;AACnD;AACA,SAAS4B,WAAWA,CAACT,GAAG,EAAE;EACxB,MAAMU,WAAW,GAAG,EAAE;EAEtB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,GAAG,CAACvE,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACtC,IAAID,WAAW,CAACE,OAAO,CAACZ,GAAG,CAACW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAED,WAAW,CAACN,IAAI,CAACJ,GAAG,CAACW,CAAC,CAAC,CAAC;EAClE;EAEA,OAAOD,WAAW;AACpB;AACA,SAASG,WAAWA,CAACC,MAAM,EAAE;EAC3B,OAAOA,MAAM,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,OAAO,EAAE,CAACC,KAAK,EAAEC,KAAK,KAAKA,KAAK,CAACC,WAAW,CAAC,CAAC,CAAC;AACrF;;AAEA;;AAEA,SAASC,GAAGA,CAACC,QAAQ,EAAEC,OAAO,EAAE;EAC9B,IAAI,OAAOD,QAAQ,KAAK,QAAQ,EAAE;IAChC,OAAO,CAACA,QAAQ,CAAC;EACnB;EAEA,MAAME,CAAC,GAAG,EAAE;EACZ,MAAMtB,GAAG,GAAGqB,OAAO,CAACpF,gBAAgB,CAACmF,QAAQ,CAAC;EAE9C,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,GAAG,CAACxE,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACtCY,CAAC,CAACnB,IAAI,CAACH,GAAG,CAACU,CAAC,CAAC,CAAC;EAChB;EAEA,OAAOY,CAAC;AACV;AAEA,SAASC,CAACA,CAACH,QAAQ,EAAEC,OAAO,EAAE;EAC5B,MAAMpC,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAMtB,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,IAAIwC,GAAG,GAAG,EAAE;EAEZ,IAAI,CAACsB,OAAO,IAAID,QAAQ,YAAYzB,IAAI,EAAE;IACxC,OAAOyB,QAAQ;EACjB;EAEA,IAAI,CAACA,QAAQ,EAAE;IACb,OAAO,IAAIzB,IAAI,CAACI,GAAG,CAAC;EACtB;EAEA,IAAI,OAAOqB,QAAQ,KAAK,QAAQ,EAAE;IAChC,MAAMI,IAAI,GAAGJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAE5B,IAAID,IAAI,CAACb,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAIa,IAAI,CAACb,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACpD,IAAIe,QAAQ,GAAG,KAAK;MACpB,IAAIF,IAAI,CAACb,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAEe,QAAQ,GAAG,IAAI;MAC9C,IAAIF,IAAI,CAACb,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAEe,QAAQ,GAAG,OAAO;MACjD,IAAIF,IAAI,CAACb,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,IAAIa,IAAI,CAACb,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAEe,QAAQ,GAAG,IAAI;MAC3E,IAAIF,IAAI,CAACb,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAEe,QAAQ,GAAG,OAAO;MACpD,IAAIF,IAAI,CAACb,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAEe,QAAQ,GAAG,QAAQ;MACtD,MAAMC,UAAU,GAAGlE,QAAQ,CAACpB,aAAa,CAACqF,QAAQ,CAAC;MACnDC,UAAU,CAACC,SAAS,GAAGJ,IAAI;MAE3B,KAAK,IAAId,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiB,UAAU,CAACpF,UAAU,CAACf,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACxDX,GAAG,CAACI,IAAI,CAACwB,UAAU,CAACpF,UAAU,CAACmE,CAAC,CAAC,CAAC;MACpC;IACF,CAAC,MAAM;MACLX,GAAG,GAAGoB,GAAG,CAACC,QAAQ,CAACK,IAAI,CAAC,CAAC,EAAEJ,OAAO,IAAI5D,QAAQ,CAAC;IACjD,CAAC,CAAC;EAEJ,CAAC,MAAM,IAAI2D,QAAQ,CAACS,QAAQ,IAAIT,QAAQ,KAAKnC,MAAM,IAAImC,QAAQ,KAAK3D,QAAQ,EAAE;IAC5EsC,GAAG,CAACI,IAAI,CAACiB,QAAQ,CAAC;EACpB,CAAC,MAAM,IAAIxB,KAAK,CAACM,OAAO,CAACkB,QAAQ,CAAC,EAAE;IAClC,IAAIA,QAAQ,YAAYzB,IAAI,EAAE,OAAOyB,QAAQ;IAC7CrB,GAAG,GAAGqB,QAAQ;EAChB;EAEA,OAAO,IAAIzB,IAAI,CAACa,WAAW,CAACT,GAAG,CAAC,CAAC;AACnC;AAEAwB,CAAC,CAACO,EAAE,GAAGnC,IAAI,CAACU,SAAS;;AAErB;;AAEA,SAAS0B,QAAQA,CAAC,GAAGC,OAAO,EAAE;EAC5B,MAAMC,UAAU,GAAGnC,SAAS,CAACkC,OAAO,CAACE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5D,IAAI,CAAC9G,OAAO,CAAC2E,EAAE,IAAI;IACjBA,EAAE,CAACoC,SAAS,CAACC,GAAG,CAAC,GAAGL,UAAU,CAAC;EACjC,CAAC,CAAC;EACF,OAAO,IAAI;AACb;AAEA,SAASM,WAAWA,CAAC,GAAGP,OAAO,EAAE;EAC/B,MAAMC,UAAU,GAAGnC,SAAS,CAACkC,OAAO,CAACE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5D,IAAI,CAAC9G,OAAO,CAAC2E,EAAE,IAAI;IACjBA,EAAE,CAACoC,SAAS,CAACG,MAAM,CAAC,GAAGP,UAAU,CAAC;EACpC,CAAC,CAAC;EACF,OAAO,IAAI;AACb;AAEA,SAASQ,WAAWA,CAAC,GAAGT,OAAO,EAAE;EAC/B,MAAMC,UAAU,GAAGnC,SAAS,CAACkC,OAAO,CAACE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5D,IAAI,CAAC9G,OAAO,CAAC2E,EAAE,IAAI;IACjBgC,UAAU,CAAC3G,OAAO,CAACoH,SAAS,IAAI;MAC9BzC,EAAE,CAACoC,SAAS,CAACM,MAAM,CAACD,SAAS,CAAC;IAChC,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEA,SAASE,QAAQA,CAAC,GAAGZ,OAAO,EAAE;EAC5B,MAAMC,UAAU,GAAGnC,SAAS,CAACkC,OAAO,CAACE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5D,OAAOhC,WAAW,CAAC,IAAI,EAAEH,EAAE,IAAI;IAC7B,OAAOgC,UAAU,CAAC3B,MAAM,CAACoC,SAAS,IAAIzC,EAAE,CAACoC,SAAS,CAACQ,QAAQ,CAACH,SAAS,CAAC,CAAC,CAAClH,MAAM,GAAG,CAAC;EACpF,CAAC,CAAC,CAACA,MAAM,GAAG,CAAC;AACf;AAEA,SAASsH,IAAIA,CAACC,KAAK,EAAErD,KAAK,EAAE;EAC1B,IAAIsD,SAAS,CAACxH,MAAM,KAAK,CAAC,IAAI,OAAOuH,KAAK,KAAK,QAAQ,EAAE;IACvD;IACA,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,CAACE,YAAY,CAACF,KAAK,CAAC;IAC/C,OAAOG,SAAS;EAClB,CAAC,CAAC;;EAGF,KAAK,IAAIxC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAIsC,SAAS,CAACxH,MAAM,KAAK,CAAC,EAAE;MAC1B;MACA,IAAI,CAACkF,CAAC,CAAC,CAACjE,YAAY,CAACsG,KAAK,EAAErD,KAAK,CAAC;IACpC,CAAC,MAAM;MACL;MACA,KAAK,MAAMyD,QAAQ,IAAIJ,KAAK,EAAE;QAC5B,IAAI,CAACrC,CAAC,CAAC,CAACyC,QAAQ,CAAC,GAAGJ,KAAK,CAACI,QAAQ,CAAC;QACnC,IAAI,CAACzC,CAAC,CAAC,CAACjE,YAAY,CAAC0G,QAAQ,EAAEJ,KAAK,CAACI,QAAQ,CAAC,CAAC;MACjD;IACF;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,UAAUA,CAACN,IAAI,EAAE;EACxB,KAAK,IAAIpC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI,CAACA,CAAC,CAAC,CAAC2C,eAAe,CAACP,IAAI,CAAC;EAC/B;EAEA,OAAO,IAAI;AACb;AAEA,SAASQ,IAAIA,CAACC,KAAK,EAAE7D,KAAK,EAAE;EAC1B,IAAIsD,SAAS,CAACxH,MAAM,KAAK,CAAC,IAAI,OAAO+H,KAAK,KAAK,QAAQ,EAAE;IACvD;IACA,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC;EACpC,CAAC,MAAM;IACL;IACA,KAAK,IAAI7C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACvC,IAAIsC,SAAS,CAACxH,MAAM,KAAK,CAAC,EAAE;QAC1B;QACA,IAAI,CAACkF,CAAC,CAAC,CAAC6C,KAAK,CAAC,GAAG7D,KAAK;MACxB,CAAC,MAAM;QACL;QACA,KAAK,MAAM8D,QAAQ,IAAID,KAAK,EAAE;UAC5B,IAAI,CAAC7C,CAAC,CAAC,CAAC8C,QAAQ,CAAC,GAAGD,KAAK,CAACC,QAAQ,CAAC;QACrC;MACF;IACF;IAEA,OAAO,IAAI;EACb;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,IAAIA,CAAClI,GAAG,EAAEmE,KAAK,EAAE;EACxB,IAAIO,EAAE;EAEN,IAAI,OAAOP,KAAK,KAAK,WAAW,EAAE;IAChCO,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IACZ,IAAI,CAACA,EAAE,EAAE,OAAOiD,SAAS,CAAC,CAAC;;IAE3B,IAAIjD,EAAE,CAACyD,sBAAsB,IAAInI,GAAG,IAAI0E,EAAE,CAACyD,sBAAsB,EAAE;MACjE,OAAOzD,EAAE,CAACyD,sBAAsB,CAACnI,GAAG,CAAC;IACvC;IAEA,MAAMoI,OAAO,GAAG1D,EAAE,CAACgD,YAAY,CAAE,QAAO1H,GAAI,EAAC,CAAC;IAE9C,IAAIoI,OAAO,EAAE;MACX,OAAOA,OAAO;IAChB;IAEA,OAAOT,SAAS;EAClB,CAAC,CAAC;;EAGF,KAAK,IAAIxC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvCT,EAAE,GAAG,IAAI,CAACS,CAAC,CAAC;IACZ,IAAI,CAACT,EAAE,CAACyD,sBAAsB,EAAEzD,EAAE,CAACyD,sBAAsB,GAAG,CAAC,CAAC;IAC9DzD,EAAE,CAACyD,sBAAsB,CAACnI,GAAG,CAAC,GAAGmE,KAAK;EACxC;EAEA,OAAO,IAAI;AACb;AAEA,SAASkE,UAAUA,CAACrI,GAAG,EAAE;EACvB,KAAK,IAAImF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,MAAMT,EAAE,GAAG,IAAI,CAACS,CAAC,CAAC;IAElB,IAAIT,EAAE,CAACyD,sBAAsB,IAAIzD,EAAE,CAACyD,sBAAsB,CAACnI,GAAG,CAAC,EAAE;MAC/D0E,EAAE,CAACyD,sBAAsB,CAACnI,GAAG,CAAC,GAAG,IAAI;MACrC,OAAO0E,EAAE,CAACyD,sBAAsB,CAACnI,GAAG,CAAC;IACvC;EACF;AACF;AAEA,SAASsI,OAAOA,CAAA,EAAG;EACjB,MAAM5D,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;EAClB,IAAI,CAACA,EAAE,EAAE,OAAOiD,SAAS;EACzB,MAAMW,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;;EAEpB,IAAI5D,EAAE,CAAC4D,OAAO,EAAE;IACd,KAAK,MAAMF,OAAO,IAAI1D,EAAE,CAAC4D,OAAO,EAAE;MAChCA,OAAO,CAACF,OAAO,CAAC,GAAG1D,EAAE,CAAC4D,OAAO,CAACF,OAAO,CAAC;IACxC;EACF,CAAC,MAAM;IACL,KAAK,IAAIjD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,EAAE,CAAC6D,UAAU,CAACtI,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAChD,MAAMoC,IAAI,GAAG7C,EAAE,CAAC6D,UAAU,CAACpD,CAAC,CAAC;MAE7B,IAAIoC,IAAI,CAACiB,IAAI,CAACpD,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACnCkD,OAAO,CAACjD,WAAW,CAACkC,IAAI,CAACiB,IAAI,CAAC3B,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGU,IAAI,CAACpD,KAAK;MAChE;IACF;EACF;EAEA,KAAK,MAAMnE,GAAG,IAAIsI,OAAO,EAAE;IACzB,IAAIA,OAAO,CAACtI,GAAG,CAAC,KAAK,OAAO,EAAEsI,OAAO,CAACtI,GAAG,CAAC,GAAG,KAAK,CAAC,KAAK,IAAIsI,OAAO,CAACtI,GAAG,CAAC,KAAK,MAAM,EAAEsI,OAAO,CAACtI,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,IAAIyI,UAAU,CAACH,OAAO,CAACtI,GAAG,CAAC,CAAC,KAAKsI,OAAO,CAACtI,GAAG,CAAC,GAAG,CAAC,EAAEsI,OAAO,CAACtI,GAAG,CAAC,IAAI,CAAC;EACpL;EAEA,OAAOsI,OAAO;AAChB;AAEA,SAASI,GAAGA,CAACvE,KAAK,EAAE;EAClB,IAAI,OAAOA,KAAK,KAAK,WAAW,EAAE;IAChC;IACA,MAAMO,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAClB,IAAI,CAACA,EAAE,EAAE,OAAOiD,SAAS;IAEzB,IAAIjD,EAAE,CAACiE,QAAQ,IAAIjE,EAAE,CAAClE,QAAQ,CAAC+E,WAAW,CAAC,CAAC,KAAK,QAAQ,EAAE;MACzD,MAAMqD,MAAM,GAAG,EAAE;MAEjB,KAAK,IAAIzD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,EAAE,CAACmE,eAAe,CAAC5I,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACrDyD,MAAM,CAAChE,IAAI,CAACF,EAAE,CAACmE,eAAe,CAAC1D,CAAC,CAAC,CAAChB,KAAK,CAAC;MAC1C;MAEA,OAAOyE,MAAM;IACf;IAEA,OAAOlE,EAAE,CAACP,KAAK;EACjB,CAAC,CAAC;;EAGF,KAAK,IAAIgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,MAAMT,EAAE,GAAG,IAAI,CAACS,CAAC,CAAC;IAElB,IAAId,KAAK,CAACM,OAAO,CAACR,KAAK,CAAC,IAAIO,EAAE,CAACiE,QAAQ,IAAIjE,EAAE,CAAClE,QAAQ,CAAC+E,WAAW,CAAC,CAAC,KAAK,QAAQ,EAAE;MACjF,KAAK,IAAIuD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpE,EAAE,CAACqE,OAAO,CAAC9I,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;QAC7CpE,EAAE,CAACqE,OAAO,CAACD,CAAC,CAAC,CAACE,QAAQ,GAAG7E,KAAK,CAACiB,OAAO,CAACV,EAAE,CAACqE,OAAO,CAACD,CAAC,CAAC,CAAC3E,KAAK,CAAC,IAAI,CAAC;MAClE;IACF,CAAC,MAAM;MACLO,EAAE,CAACP,KAAK,GAAGA,KAAK;IAClB;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAASA,KAAKA,CAACA,KAAK,EAAE;EACpB,OAAO,IAAI,CAACuE,GAAG,CAACvE,KAAK,CAAC;AACxB;AAEA,SAAS8E,SAASA,CAACA,SAAS,EAAE;EAC5B,KAAK,IAAI9D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI,CAACA,CAAC,CAAC,CAAClE,KAAK,CAACgI,SAAS,GAAGA,SAAS;EACrC;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,UAAUA,CAACC,QAAQ,EAAE;EAC5B,KAAK,IAAIhE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI,CAACA,CAAC,CAAC,CAAClE,KAAK,CAACmI,kBAAkB,GAAG,OAAOD,QAAQ,KAAK,QAAQ,GAAI,GAAEA,QAAS,IAAG,GAAGA,QAAQ;EAC9F;EAEA,OAAO,IAAI;AACb;AAEA,SAASE,EAAEA,CAAC,GAAGC,IAAI,EAAE;EACnB,IAAI,CAACC,SAAS,EAAEC,cAAc,EAAEC,QAAQ,EAAEC,OAAO,CAAC,GAAGJ,IAAI;EAEzD,IAAI,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,UAAU,EAAE;IACjC,CAACC,SAAS,EAAEE,QAAQ,EAAEC,OAAO,CAAC,GAAGJ,IAAI;IACrCE,cAAc,GAAG7B,SAAS;EAC5B;EAEA,IAAI,CAAC+B,OAAO,EAAEA,OAAO,GAAG,KAAK;EAE7B,SAASC,eAAeA,CAACC,CAAC,EAAE;IAC1B,MAAMhK,MAAM,GAAGgK,CAAC,CAAChK,MAAM;IACvB,IAAI,CAACA,MAAM,EAAE;IACb,MAAMiK,SAAS,GAAGD,CAAC,CAAChK,MAAM,CAACkK,aAAa,IAAI,EAAE;IAE9C,IAAID,SAAS,CAACzE,OAAO,CAACwE,CAAC,CAAC,GAAG,CAAC,EAAE;MAC5BC,SAAS,CAACE,OAAO,CAACH,CAAC,CAAC;IACtB;IAEA,IAAI5D,CAAC,CAACpG,MAAM,CAAC,CAACoK,EAAE,CAACR,cAAc,CAAC,EAAEC,QAAQ,CAACQ,KAAK,CAACrK,MAAM,EAAEiK,SAAS,CAAC,CAAC,KAAK;MACvE,MAAMK,OAAO,GAAGlE,CAAC,CAACpG,MAAM,CAAC,CAACsK,OAAO,CAAC,CAAC,CAAC,CAAC;;MAErC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,OAAO,CAACjK,MAAM,EAAEkK,CAAC,IAAI,CAAC,EAAE;QAC1C,IAAInE,CAAC,CAACkE,OAAO,CAACC,CAAC,CAAC,CAAC,CAACH,EAAE,CAACR,cAAc,CAAC,EAAEC,QAAQ,CAACQ,KAAK,CAACC,OAAO,CAACC,CAAC,CAAC,EAAEN,SAAS,CAAC;MAC7E;IACF;EACF;EAEA,SAASO,WAAWA,CAACR,CAAC,EAAE;IACtB,MAAMC,SAAS,GAAGD,CAAC,IAAIA,CAAC,CAAChK,MAAM,GAAGgK,CAAC,CAAChK,MAAM,CAACkK,aAAa,IAAI,EAAE,GAAG,EAAE;IAEnE,IAAID,SAAS,CAACzE,OAAO,CAACwE,CAAC,CAAC,GAAG,CAAC,EAAE;MAC5BC,SAAS,CAACE,OAAO,CAACH,CAAC,CAAC;IACtB;IAEAH,QAAQ,CAACQ,KAAK,CAAC,IAAI,EAAEJ,SAAS,CAAC;EACjC;EAEA,MAAMQ,MAAM,GAAGd,SAAS,CAAC1C,KAAK,CAAC,GAAG,CAAC;EACnC,IAAIiC,CAAC;EAEL,KAAK,IAAI3D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,MAAMT,EAAE,GAAG,IAAI,CAACS,CAAC,CAAC;IAElB,IAAI,CAACqE,cAAc,EAAE;MACnB,KAAKV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuB,MAAM,CAACpK,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;QACrC,MAAMwB,KAAK,GAAGD,MAAM,CAACvB,CAAC,CAAC;QACvB,IAAI,CAACpE,EAAE,CAAC6F,aAAa,EAAE7F,EAAE,CAAC6F,aAAa,GAAG,CAAC,CAAC;QAC5C,IAAI,CAAC7F,EAAE,CAAC6F,aAAa,CAACD,KAAK,CAAC,EAAE5F,EAAE,CAAC6F,aAAa,CAACD,KAAK,CAAC,GAAG,EAAE;QAC1D5F,EAAE,CAAC6F,aAAa,CAACD,KAAK,CAAC,CAAC1F,IAAI,CAAC;UAC3B6E,QAAQ;UACRe,aAAa,EAAEJ;QACjB,CAAC,CAAC;QACF1F,EAAE,CAACtE,gBAAgB,CAACkK,KAAK,EAAEF,WAAW,EAAEV,OAAO,CAAC;MAClD;IACF,CAAC,MAAM;MACL;MACA,KAAKZ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuB,MAAM,CAACpK,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;QACrC,MAAMwB,KAAK,GAAGD,MAAM,CAACvB,CAAC,CAAC;QACvB,IAAI,CAACpE,EAAE,CAAC+F,iBAAiB,EAAE/F,EAAE,CAAC+F,iBAAiB,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC/F,EAAE,CAAC+F,iBAAiB,CAACH,KAAK,CAAC,EAAE5F,EAAE,CAAC+F,iBAAiB,CAACH,KAAK,CAAC,GAAG,EAAE;QAClE5F,EAAE,CAAC+F,iBAAiB,CAACH,KAAK,CAAC,CAAC1F,IAAI,CAAC;UAC/B6E,QAAQ;UACRe,aAAa,EAAEb;QACjB,CAAC,CAAC;QACFjF,EAAE,CAACtE,gBAAgB,CAACkK,KAAK,EAAEX,eAAe,EAAED,OAAO,CAAC;MACtD;IACF;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAASgB,GAAGA,CAAC,GAAGpB,IAAI,EAAE;EACpB,IAAI,CAACC,SAAS,EAAEC,cAAc,EAAEC,QAAQ,EAAEC,OAAO,CAAC,GAAGJ,IAAI;EAEzD,IAAI,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,UAAU,EAAE;IACjC,CAACC,SAAS,EAAEE,QAAQ,EAAEC,OAAO,CAAC,GAAGJ,IAAI;IACrCE,cAAc,GAAG7B,SAAS;EAC5B;EAEA,IAAI,CAAC+B,OAAO,EAAEA,OAAO,GAAG,KAAK;EAC7B,MAAMW,MAAM,GAAGd,SAAS,CAAC1C,KAAK,CAAC,GAAG,CAAC;EAEnC,KAAK,IAAI1B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkF,MAAM,CAACpK,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACzC,MAAMmF,KAAK,GAAGD,MAAM,CAAClF,CAAC,CAAC;IAEvB,KAAK,IAAI2D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC7I,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;MACvC,MAAMpE,EAAE,GAAG,IAAI,CAACoE,CAAC,CAAC;MAClB,IAAI6B,QAAQ;MAEZ,IAAI,CAACnB,cAAc,IAAI9E,EAAE,CAAC6F,aAAa,EAAE;QACvCI,QAAQ,GAAGjG,EAAE,CAAC6F,aAAa,CAACD,KAAK,CAAC;MACpC,CAAC,MAAM,IAAId,cAAc,IAAI9E,EAAE,CAAC+F,iBAAiB,EAAE;QACjDE,QAAQ,GAAGjG,EAAE,CAAC+F,iBAAiB,CAACH,KAAK,CAAC;MACxC;MAEA,IAAIK,QAAQ,IAAIA,QAAQ,CAAC1K,MAAM,EAAE;QAC/B,KAAK,IAAIkK,CAAC,GAAGQ,QAAQ,CAAC1K,MAAM,GAAG,CAAC,EAAEkK,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;UAChD,MAAMS,OAAO,GAAGD,QAAQ,CAACR,CAAC,CAAC;UAE3B,IAAIV,QAAQ,IAAImB,OAAO,CAACnB,QAAQ,KAAKA,QAAQ,EAAE;YAC7C/E,EAAE,CAACrE,mBAAmB,CAACiK,KAAK,EAAEM,OAAO,CAACJ,aAAa,EAAEd,OAAO,CAAC;YAC7DiB,QAAQ,CAACE,MAAM,CAACV,CAAC,EAAE,CAAC,CAAC;UACvB,CAAC,MAAM,IAAIV,QAAQ,IAAImB,OAAO,CAACnB,QAAQ,IAAImB,OAAO,CAACnB,QAAQ,CAACqB,SAAS,IAAIF,OAAO,CAACnB,QAAQ,CAACqB,SAAS,KAAKrB,QAAQ,EAAE;YAChH/E,EAAE,CAACrE,mBAAmB,CAACiK,KAAK,EAAEM,OAAO,CAACJ,aAAa,EAAEd,OAAO,CAAC;YAC7DiB,QAAQ,CAACE,MAAM,CAACV,CAAC,EAAE,CAAC,CAAC;UACvB,CAAC,MAAM,IAAI,CAACV,QAAQ,EAAE;YACpB/E,EAAE,CAACrE,mBAAmB,CAACiK,KAAK,EAAEM,OAAO,CAACJ,aAAa,EAAEd,OAAO,CAAC;YAC7DiB,QAAQ,CAACE,MAAM,CAACV,CAAC,EAAE,CAAC,CAAC;UACvB;QACF;MACF;IACF;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAASY,IAAIA,CAAC,GAAGzB,IAAI,EAAE;EACrB,MAAM0B,GAAG,GAAG,IAAI;EAChB,IAAI,CAACC,SAAS,EAAEzB,cAAc,EAAEC,QAAQ,EAAEC,OAAO,CAAC,GAAGJ,IAAI;EAEzD,IAAI,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,UAAU,EAAE;IACjC,CAAC2B,SAAS,EAAExB,QAAQ,EAAEC,OAAO,CAAC,GAAGJ,IAAI;IACrCE,cAAc,GAAG7B,SAAS;EAC5B;EAEA,SAASuD,WAAWA,CAAC,GAAGC,SAAS,EAAE;IACjC1B,QAAQ,CAACQ,KAAK,CAAC,IAAI,EAAEkB,SAAS,CAAC;IAC/BH,GAAG,CAACN,GAAG,CAACO,SAAS,EAAEzB,cAAc,EAAE0B,WAAW,EAAExB,OAAO,CAAC;IAExD,IAAIwB,WAAW,CAACJ,SAAS,EAAE;MACzB,OAAOI,WAAW,CAACJ,SAAS;IAC9B;EACF;EAEAI,WAAW,CAACJ,SAAS,GAAGrB,QAAQ;EAChC,OAAOuB,GAAG,CAAC3B,EAAE,CAAC4B,SAAS,EAAEzB,cAAc,EAAE0B,WAAW,EAAExB,OAAO,CAAC;AAChE;AAEA,SAAS0B,OAAOA,CAAC,GAAG9B,IAAI,EAAE;EACxB,MAAM5F,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAM6G,MAAM,GAAGf,IAAI,CAAC,CAAC,CAAC,CAACzC,KAAK,CAAC,GAAG,CAAC;EACjC,MAAMgD,SAAS,GAAGP,IAAI,CAAC,CAAC,CAAC;EAEzB,KAAK,IAAInE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkF,MAAM,CAACpK,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACzC,MAAMmF,KAAK,GAAGD,MAAM,CAAClF,CAAC,CAAC;IAEvB,KAAK,IAAI2D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC7I,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;MACvC,MAAMpE,EAAE,GAAG,IAAI,CAACoE,CAAC,CAAC;MAElB,IAAIpF,MAAM,CAACf,WAAW,EAAE;QACtB,MAAM0I,GAAG,GAAG,IAAI3H,MAAM,CAACf,WAAW,CAAC2H,KAAK,EAAE;UACxCgB,MAAM,EAAEzB,SAAS;UACjB0B,OAAO,EAAE,IAAI;UACbC,UAAU,EAAE;QACd,CAAC,CAAC;QACF9G,EAAE,CAACoF,aAAa,GAAGR,IAAI,CAACvE,MAAM,CAAC,CAACmD,IAAI,EAAEuD,SAAS,KAAKA,SAAS,GAAG,CAAC,CAAC;QAClE/G,EAAE,CAACgH,aAAa,CAACL,GAAG,CAAC;QACrB3G,EAAE,CAACoF,aAAa,GAAG,EAAE;QACrB,OAAOpF,EAAE,CAACoF,aAAa;MACzB;IACF;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAAS6B,eAAeA,CAACtI,QAAQ,EAAE;EACjC,MAAM2H,GAAG,GAAG,IAAI;EAEhB,SAASY,YAAYA,CAAChC,CAAC,EAAE;IACvB,IAAIA,CAAC,CAAChK,MAAM,KAAK,IAAI,EAAE;IACvByD,QAAQ,CAAC2B,IAAI,CAAC,IAAI,EAAE4E,CAAC,CAAC;IACtBoB,GAAG,CAACN,GAAG,CAAC,iBAAiB,EAAEkB,YAAY,CAAC;EAC1C;EAEA,IAAIvI,QAAQ,EAAE;IACZ2H,GAAG,CAAC3B,EAAE,CAAC,iBAAiB,EAAEuC,YAAY,CAAC;EACzC;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,aAAaA,CAACxI,QAAQ,EAAE;EAC/B,MAAM2H,GAAG,GAAG,IAAI;EAEhB,SAASY,YAAYA,CAAChC,CAAC,EAAE;IACvB,IAAIA,CAAC,CAAChK,MAAM,KAAK,IAAI,EAAE;IACvByD,QAAQ,CAAC2B,IAAI,CAAC,IAAI,EAAE4E,CAAC,CAAC;IACtBoB,GAAG,CAACN,GAAG,CAAC,eAAe,EAAEkB,YAAY,CAAC;EACxC;EAEA,IAAIvI,QAAQ,EAAE;IACZ2H,GAAG,CAAC3B,EAAE,CAAC,eAAe,EAAEuC,YAAY,CAAC;EACvC;EAEA,OAAO,IAAI;AACb;AAEA,SAASE,YAAYA,CAACzI,QAAQ,EAAE;EAC9B,MAAM2H,GAAG,GAAG,IAAI;EAEhB,SAASY,YAAYA,CAAChC,CAAC,EAAE;IACvB,IAAIA,CAAC,CAAChK,MAAM,KAAK,IAAI,EAAE;IACvByD,QAAQ,CAAC2B,IAAI,CAAC,IAAI,EAAE4E,CAAC,CAAC;IACtBoB,GAAG,CAACN,GAAG,CAAC,cAAc,EAAEkB,YAAY,CAAC;EACvC;EAEA,IAAIvI,QAAQ,EAAE;IACZ2H,GAAG,CAAC3B,EAAE,CAAC,cAAc,EAAEuC,YAAY,CAAC;EACtC;EAEA,OAAO,IAAI;AACb;AAEA,SAASG,KAAKA,CAAA,EAAG;EACf,MAAMrI,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAE1B,IAAI,IAAI,CAAC,CAAC,CAAC,KAAKE,MAAM,EAAE;IACtB,OAAOA,MAAM,CAACsI,UAAU;EAC1B;EAEA,IAAI,IAAI,CAAC/L,MAAM,GAAG,CAAC,EAAE;IACnB,OAAOwI,UAAU,CAAC,IAAI,CAACwD,GAAG,CAAC,OAAO,CAAC,CAAC;EACtC;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,UAAUA,CAACC,cAAc,EAAE;EAClC,IAAI,IAAI,CAAClM,MAAM,GAAG,CAAC,EAAE;IACnB,IAAIkM,cAAc,EAAE;MAClB,MAAMC,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC,CAAC;MAC5B,OAAO,IAAI,CAAC,CAAC,CAAC,CAACC,WAAW,GAAG5D,UAAU,CAAC2D,MAAM,CAACvJ,gBAAgB,CAAC,cAAc,CAAC,CAAC,GAAG4F,UAAU,CAAC2D,MAAM,CAACvJ,gBAAgB,CAAC,aAAa,CAAC,CAAC;IACvI;IAEA,OAAO,IAAI,CAAC,CAAC,CAAC,CAACwJ,WAAW;EAC5B;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,MAAMA,CAAA,EAAG;EAChB,MAAM5I,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAE1B,IAAI,IAAI,CAAC,CAAC,CAAC,KAAKE,MAAM,EAAE;IACtB,OAAOA,MAAM,CAAC6I,WAAW;EAC3B;EAEA,IAAI,IAAI,CAACtM,MAAM,GAAG,CAAC,EAAE;IACnB,OAAOwI,UAAU,CAAC,IAAI,CAACwD,GAAG,CAAC,QAAQ,CAAC,CAAC;EACvC;EAEA,OAAO,IAAI;AACb;AAEA,SAASO,WAAWA,CAACL,cAAc,EAAE;EACnC,IAAI,IAAI,CAAClM,MAAM,GAAG,CAAC,EAAE;IACnB,IAAIkM,cAAc,EAAE;MAClB,MAAMC,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC,CAAC;MAC5B,OAAO,IAAI,CAAC,CAAC,CAAC,CAACK,YAAY,GAAGhE,UAAU,CAAC2D,MAAM,CAACvJ,gBAAgB,CAAC,YAAY,CAAC,CAAC,GAAG4F,UAAU,CAAC2D,MAAM,CAACvJ,gBAAgB,CAAC,eAAe,CAAC,CAAC;IACxI;IAEA,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC4J,YAAY;EAC7B;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,MAAMA,CAAA,EAAG;EAChB,IAAI,IAAI,CAACzM,MAAM,GAAG,CAAC,EAAE;IACnB,MAAMyD,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;IAC1B,MAAMtB,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;IAC9B,MAAM0C,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAClB,MAAMiI,GAAG,GAAGjI,EAAE,CAACkI,qBAAqB,CAAC,CAAC;IACtC,MAAMzM,IAAI,GAAG+B,QAAQ,CAAC/B,IAAI;IAC1B,MAAM0M,SAAS,GAAGnI,EAAE,CAACmI,SAAS,IAAI1M,IAAI,CAAC0M,SAAS,IAAI,CAAC;IACrD,MAAMC,UAAU,GAAGpI,EAAE,CAACoI,UAAU,IAAI3M,IAAI,CAAC2M,UAAU,IAAI,CAAC;IACxD,MAAMC,SAAS,GAAGrI,EAAE,KAAKhB,MAAM,GAAGA,MAAM,CAACsJ,OAAO,GAAGtI,EAAE,CAACqI,SAAS;IAC/D,MAAME,UAAU,GAAGvI,EAAE,KAAKhB,MAAM,GAAGA,MAAM,CAACwJ,OAAO,GAAGxI,EAAE,CAACuI,UAAU;IACjE,OAAO;MACLE,GAAG,EAAER,GAAG,CAACQ,GAAG,GAAGJ,SAAS,GAAGF,SAAS;MACpCO,IAAI,EAAET,GAAG,CAACS,IAAI,GAAGH,UAAU,GAAGH;IAChC,CAAC;EACH;EAEA,OAAO,IAAI;AACb;AAEA,SAASO,IAAIA,CAAA,EAAG;EACd,KAAK,IAAIlI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI,CAACA,CAAC,CAAC,CAAClE,KAAK,CAACqM,OAAO,GAAG,MAAM;EAChC;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,IAAIA,CAAA,EAAG;EACd,MAAM7J,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAE1B,KAAK,IAAI2B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,MAAMT,EAAE,GAAG,IAAI,CAACS,CAAC,CAAC;IAElB,IAAIT,EAAE,CAACzD,KAAK,CAACqM,OAAO,KAAK,MAAM,EAAE;MAC/B5I,EAAE,CAACzD,KAAK,CAACqM,OAAO,GAAG,EAAE;IACvB;IAEA,IAAI5J,MAAM,CAACd,gBAAgB,CAAC8B,EAAE,EAAE,IAAI,CAAC,CAAC7B,gBAAgB,CAAC,SAAS,CAAC,KAAK,MAAM,EAAE;MAC5E;MACA6B,EAAE,CAACzD,KAAK,CAACqM,OAAO,GAAG,OAAO;IAC5B;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAASlB,MAAMA,CAAA,EAAG;EAChB,MAAM1I,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,OAAOE,MAAM,CAACd,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;EAC1D,OAAO,CAAC,CAAC;AACX;AAEA,SAASqJ,GAAGA,CAACjE,KAAK,EAAE7D,KAAK,EAAE;EACzB,MAAMT,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,IAAI2B,CAAC;EAEL,IAAIsC,SAAS,CAACxH,MAAM,KAAK,CAAC,EAAE;IAC1B,IAAI,OAAO+H,KAAK,KAAK,QAAQ,EAAE;MAC7B;MACA,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,OAAOtE,MAAM,CAACd,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAACC,gBAAgB,CAACmF,KAAK,CAAC;IACpF,CAAC,MAAM;MACL;MACA,KAAK7C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACnC,KAAK,MAAM4C,IAAI,IAAIC,KAAK,EAAE;UACxB,IAAI,CAAC7C,CAAC,CAAC,CAAClE,KAAK,CAAC8G,IAAI,CAAC,GAAGC,KAAK,CAACD,IAAI,CAAC;QACnC;MACF;MAEA,OAAO,IAAI;IACb;EACF;EAEA,IAAIN,SAAS,CAACxH,MAAM,KAAK,CAAC,IAAI,OAAO+H,KAAK,KAAK,QAAQ,EAAE;IACvD;IACA,KAAK7C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACnC,IAAI,CAACA,CAAC,CAAC,CAAClE,KAAK,CAAC+G,KAAK,CAAC,GAAG7D,KAAK;IAC9B;IAEA,OAAO,IAAI;EACb;EAEA,OAAO,IAAI;AACb;AAEA,SAASqJ,IAAIA,CAACnK,QAAQ,EAAE;EACtB,IAAI,CAACA,QAAQ,EAAE,OAAO,IAAI;EAC1B,IAAI,CAACtD,OAAO,CAAC,CAAC2E,EAAE,EAAE+I,KAAK,KAAK;IAC1BpK,QAAQ,CAAC4G,KAAK,CAACvF,EAAE,EAAE,CAACA,EAAE,EAAE+I,KAAK,CAAC,CAAC;EACjC,CAAC,CAAC;EACF,OAAO,IAAI;AACb;AAEA,SAAS1I,MAAMA,CAAC1B,QAAQ,EAAE;EACxB,MAAMqK,MAAM,GAAG7I,WAAW,CAAC,IAAI,EAAExB,QAAQ,CAAC;EAC1C,OAAO2C,CAAC,CAAC0H,MAAM,CAAC;AAClB;AAEA,SAASzH,IAAIA,CAACA,IAAI,EAAE;EAClB,IAAI,OAAOA,IAAI,KAAK,WAAW,EAAE;IAC/B,OAAO,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAACI,SAAS,GAAG,IAAI;EAC3C;EAEA,KAAK,IAAIlB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI,CAACA,CAAC,CAAC,CAACkB,SAAS,GAAGJ,IAAI;EAC1B;EAEA,OAAO,IAAI;AACb;AAEA,SAAS0H,IAAIA,CAACA,IAAI,EAAE;EAClB,IAAI,OAAOA,IAAI,KAAK,WAAW,EAAE;IAC/B,OAAO,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC1H,IAAI,CAAC,CAAC,GAAG,IAAI;EACpD;EAEA,KAAK,IAAIf,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI,CAACA,CAAC,CAAC,CAACyI,WAAW,GAAGD,IAAI;EAC5B;EAEA,OAAO,IAAI;AACb;AAEA,SAAS3D,EAAEA,CAACnE,QAAQ,EAAE;EACpB,MAAMnC,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAMtB,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,MAAM0C,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;EAClB,IAAImJ,WAAW;EACf,IAAI1I,CAAC;EACL,IAAI,CAACT,EAAE,IAAI,OAAOmB,QAAQ,KAAK,WAAW,EAAE,OAAO,KAAK;EAExD,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;IAChC,IAAInB,EAAE,CAACoJ,OAAO,EAAE,OAAOpJ,EAAE,CAACoJ,OAAO,CAACjI,QAAQ,CAAC;IAC3C,IAAInB,EAAE,CAACqJ,qBAAqB,EAAE,OAAOrJ,EAAE,CAACqJ,qBAAqB,CAAClI,QAAQ,CAAC;IACvE,IAAInB,EAAE,CAACsJ,iBAAiB,EAAE,OAAOtJ,EAAE,CAACsJ,iBAAiB,CAACnI,QAAQ,CAAC;IAC/DgI,WAAW,GAAG7H,CAAC,CAACH,QAAQ,CAAC;IAEzB,KAAKV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0I,WAAW,CAAC5N,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAC1C,IAAI0I,WAAW,CAAC1I,CAAC,CAAC,KAAKT,EAAE,EAAE,OAAO,IAAI;IACxC;IAEA,OAAO,KAAK;EACd;EAEA,IAAImB,QAAQ,KAAK3D,QAAQ,EAAE;IACzB,OAAOwC,EAAE,KAAKxC,QAAQ;EACxB;EAEA,IAAI2D,QAAQ,KAAKnC,MAAM,EAAE;IACvB,OAAOgB,EAAE,KAAKhB,MAAM;EACtB;EAEA,IAAImC,QAAQ,CAACS,QAAQ,IAAIT,QAAQ,YAAYzB,IAAI,EAAE;IACjDyJ,WAAW,GAAGhI,QAAQ,CAACS,QAAQ,GAAG,CAACT,QAAQ,CAAC,GAAGA,QAAQ;IAEvD,KAAKV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0I,WAAW,CAAC5N,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAC1C,IAAI0I,WAAW,CAAC1I,CAAC,CAAC,KAAKT,EAAE,EAAE,OAAO,IAAI;IACxC;IAEA,OAAO,KAAK;EACd;EAEA,OAAO,KAAK;AACd;AAEA,SAAS+I,KAAKA,CAAA,EAAG;EACf,IAAIQ,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC;EACnB,IAAI9I,CAAC;EAEL,IAAI8I,KAAK,EAAE;IACT9I,CAAC,GAAG,CAAC,CAAC,CAAC;;IAEP,OAAO,CAAC8I,KAAK,GAAGA,KAAK,CAACC,eAAe,MAAM,IAAI,EAAE;MAC/C,IAAID,KAAK,CAAC3H,QAAQ,KAAK,CAAC,EAAEnB,CAAC,IAAI,CAAC;IAClC;IAEA,OAAOA,CAAC;EACV;EAEA,OAAOwC,SAAS;AAClB;AAEA,SAASwG,EAAEA,CAACV,KAAK,EAAE;EACjB,IAAI,OAAOA,KAAK,KAAK,WAAW,EAAE,OAAO,IAAI;EAC7C,MAAMxN,MAAM,GAAG,IAAI,CAACA,MAAM;EAE1B,IAAIwN,KAAK,GAAGxN,MAAM,GAAG,CAAC,EAAE;IACtB,OAAO+F,CAAC,CAAC,EAAE,CAAC;EACd;EAEA,IAAIyH,KAAK,GAAG,CAAC,EAAE;IACb,MAAMW,WAAW,GAAGnO,MAAM,GAAGwN,KAAK;IAClC,IAAIW,WAAW,GAAG,CAAC,EAAE,OAAOpI,CAAC,CAAC,EAAE,CAAC;IACjC,OAAOA,CAAC,CAAC,CAAC,IAAI,CAACoI,WAAW,CAAC,CAAC,CAAC;EAC/B;EAEA,OAAOpI,CAAC,CAAC,CAAC,IAAI,CAACyH,KAAK,CAAC,CAAC,CAAC;AACzB;AAEA,SAASY,MAAMA,CAAC,GAAGC,GAAG,EAAE;EACtB,IAAIC,QAAQ;EACZ,MAAMrM,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAE9B,KAAK,IAAImI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmE,GAAG,CAACrO,MAAM,EAAEkK,CAAC,IAAI,CAAC,EAAE;IACtCoE,QAAQ,GAAGD,GAAG,CAACnE,CAAC,CAAC;IAEjB,KAAK,IAAIhF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACvC,IAAI,OAAOoJ,QAAQ,KAAK,QAAQ,EAAE;QAChC,MAAMC,OAAO,GAAGtM,QAAQ,CAACpB,aAAa,CAAC,KAAK,CAAC;QAC7C0N,OAAO,CAACnI,SAAS,GAAGkI,QAAQ;QAE5B,OAAOC,OAAO,CAACC,UAAU,EAAE;UACzB,IAAI,CAACtJ,CAAC,CAAC,CAACuJ,WAAW,CAACF,OAAO,CAACC,UAAU,CAAC;QACzC;MACF,CAAC,MAAM,IAAIF,QAAQ,YAAYnK,IAAI,EAAE;QACnC,KAAK,IAAI0E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyF,QAAQ,CAACtO,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;UAC3C,IAAI,CAAC3D,CAAC,CAAC,CAACuJ,WAAW,CAACH,QAAQ,CAACzF,CAAC,CAAC,CAAC;QAClC;MACF,CAAC,MAAM;QACL,IAAI,CAAC3D,CAAC,CAAC,CAACuJ,WAAW,CAACH,QAAQ,CAAC;MAC/B;IACF;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAASI,QAAQA,CAACC,MAAM,EAAE;EACxB5I,CAAC,CAAC4I,MAAM,CAAC,CAACP,MAAM,CAAC,IAAI,CAAC;EACtB,OAAO,IAAI;AACb;AAEA,SAASQ,OAAOA,CAACN,QAAQ,EAAE;EACzB,MAAMrM,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,IAAImD,CAAC;EACL,IAAI2D,CAAC;EAEL,KAAK3D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACnC,IAAI,OAAOoJ,QAAQ,KAAK,QAAQ,EAAE;MAChC,MAAMC,OAAO,GAAGtM,QAAQ,CAACpB,aAAa,CAAC,KAAK,CAAC;MAC7C0N,OAAO,CAACnI,SAAS,GAAGkI,QAAQ;MAE5B,KAAKzF,CAAC,GAAG0F,OAAO,CAACxN,UAAU,CAACf,MAAM,GAAG,CAAC,EAAE6I,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;QACtD,IAAI,CAAC3D,CAAC,CAAC,CAAC2J,YAAY,CAACN,OAAO,CAACxN,UAAU,CAAC8H,CAAC,CAAC,EAAE,IAAI,CAAC3D,CAAC,CAAC,CAACnE,UAAU,CAAC,CAAC,CAAC,CAAC;MACpE;IACF,CAAC,MAAM,IAAIuN,QAAQ,YAAYnK,IAAI,EAAE;MACnC,KAAK0E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyF,QAAQ,CAACtO,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;QACvC,IAAI,CAAC3D,CAAC,CAAC,CAAC2J,YAAY,CAACP,QAAQ,CAACzF,CAAC,CAAC,EAAE,IAAI,CAAC3D,CAAC,CAAC,CAACnE,UAAU,CAAC,CAAC,CAAC,CAAC;MAC1D;IACF,CAAC,MAAM;MACL,IAAI,CAACmE,CAAC,CAAC,CAAC2J,YAAY,CAACP,QAAQ,EAAE,IAAI,CAACpJ,CAAC,CAAC,CAACnE,UAAU,CAAC,CAAC,CAAC,CAAC;IACvD;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAAS+N,SAASA,CAACH,MAAM,EAAE;EACzB5I,CAAC,CAAC4I,MAAM,CAAC,CAACC,OAAO,CAAC,IAAI,CAAC;EACvB,OAAO,IAAI;AACb;AAEA,SAASC,YAAYA,CAACjJ,QAAQ,EAAE;EAC9B,MAAMmJ,MAAM,GAAGhJ,CAAC,CAACH,QAAQ,CAAC;EAE1B,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI6J,MAAM,CAAC/O,MAAM,KAAK,CAAC,EAAE;MACvB+O,MAAM,CAAC,CAAC,CAAC,CAACC,UAAU,CAACH,YAAY,CAAC,IAAI,CAAC3J,CAAC,CAAC,EAAE6J,MAAM,CAAC,CAAC,CAAC,CAAC;IACvD,CAAC,MAAM,IAAIA,MAAM,CAAC/O,MAAM,GAAG,CAAC,EAAE;MAC5B,KAAK,IAAI6I,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkG,MAAM,CAAC/O,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;QACzCkG,MAAM,CAAClG,CAAC,CAAC,CAACmG,UAAU,CAACH,YAAY,CAAC,IAAI,CAAC3J,CAAC,CAAC,CAAC+J,SAAS,CAAC,IAAI,CAAC,EAAEF,MAAM,CAAClG,CAAC,CAAC,CAAC;MACvE;IACF;EACF;AACF;AAEA,SAASqG,WAAWA,CAACtJ,QAAQ,EAAE;EAC7B,MAAMuJ,KAAK,GAAGpJ,CAAC,CAACH,QAAQ,CAAC;EAEzB,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAIiK,KAAK,CAACnP,MAAM,KAAK,CAAC,EAAE;MACtBmP,KAAK,CAAC,CAAC,CAAC,CAACH,UAAU,CAACH,YAAY,CAAC,IAAI,CAAC3J,CAAC,CAAC,EAAEiK,KAAK,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC;IACjE,CAAC,MAAM,IAAID,KAAK,CAACnP,MAAM,GAAG,CAAC,EAAE;MAC3B,KAAK,IAAI6I,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsG,KAAK,CAACnP,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;QACxCsG,KAAK,CAACtG,CAAC,CAAC,CAACmG,UAAU,CAACH,YAAY,CAAC,IAAI,CAAC3J,CAAC,CAAC,CAAC+J,SAAS,CAAC,IAAI,CAAC,EAAEE,KAAK,CAACtG,CAAC,CAAC,CAACuG,WAAW,CAAC;MACjF;IACF;EACF;AACF;AAEA,SAASC,IAAIA,CAACzJ,QAAQ,EAAE;EACtB,IAAI,IAAI,CAAC5F,MAAM,GAAG,CAAC,EAAE;IACnB,IAAI4F,QAAQ,EAAE;MACZ,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC0J,kBAAkB,IAAIvJ,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAACuJ,kBAAkB,CAAC,CAACvF,EAAE,CAACnE,QAAQ,CAAC,EAAE;QAC5E,OAAOG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAACuJ,kBAAkB,CAAC,CAAC;MACxC;MAEA,OAAOvJ,CAAC,CAAC,EAAE,CAAC;IACd;IAEA,IAAI,IAAI,CAAC,CAAC,CAAC,CAACuJ,kBAAkB,EAAE,OAAOvJ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAACuJ,kBAAkB,CAAC,CAAC;IACtE,OAAOvJ,CAAC,CAAC,EAAE,CAAC;EACd;EAEA,OAAOA,CAAC,CAAC,EAAE,CAAC;AACd;AAEA,SAASwJ,OAAOA,CAAC3J,QAAQ,EAAE;EACzB,MAAM4J,OAAO,GAAG,EAAE;EAClB,IAAI/K,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;EAChB,IAAI,CAACA,EAAE,EAAE,OAAOsB,CAAC,CAAC,EAAE,CAAC;EAErB,OAAOtB,EAAE,CAAC6K,kBAAkB,EAAE;IAC5B,MAAMD,IAAI,GAAG5K,EAAE,CAAC6K,kBAAkB,CAAC,CAAC;;IAEpC,IAAI1J,QAAQ,EAAE;MACZ,IAAIG,CAAC,CAACsJ,IAAI,CAAC,CAACtF,EAAE,CAACnE,QAAQ,CAAC,EAAE4J,OAAO,CAAC7K,IAAI,CAAC0K,IAAI,CAAC;IAC9C,CAAC,MAAMG,OAAO,CAAC7K,IAAI,CAAC0K,IAAI,CAAC;IAEzB5K,EAAE,GAAG4K,IAAI;EACX;EAEA,OAAOtJ,CAAC,CAACyJ,OAAO,CAAC;AACnB;AAEA,SAASC,IAAIA,CAAC7J,QAAQ,EAAE;EACtB,IAAI,IAAI,CAAC5F,MAAM,GAAG,CAAC,EAAE;IACnB,MAAMyE,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAElB,IAAImB,QAAQ,EAAE;MACZ,IAAInB,EAAE,CAACiL,sBAAsB,IAAI3J,CAAC,CAACtB,EAAE,CAACiL,sBAAsB,CAAC,CAAC3F,EAAE,CAACnE,QAAQ,CAAC,EAAE;QAC1E,OAAOG,CAAC,CAAC,CAACtB,EAAE,CAACiL,sBAAsB,CAAC,CAAC;MACvC;MAEA,OAAO3J,CAAC,CAAC,EAAE,CAAC;IACd;IAEA,IAAItB,EAAE,CAACiL,sBAAsB,EAAE,OAAO3J,CAAC,CAAC,CAACtB,EAAE,CAACiL,sBAAsB,CAAC,CAAC;IACpE,OAAO3J,CAAC,CAAC,EAAE,CAAC;EACd;EAEA,OAAOA,CAAC,CAAC,EAAE,CAAC;AACd;AAEA,SAAS4J,OAAOA,CAAC/J,QAAQ,EAAE;EACzB,MAAMgK,OAAO,GAAG,EAAE;EAClB,IAAInL,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;EAChB,IAAI,CAACA,EAAE,EAAE,OAAOsB,CAAC,CAAC,EAAE,CAAC;EAErB,OAAOtB,EAAE,CAACiL,sBAAsB,EAAE;IAChC,MAAMD,IAAI,GAAGhL,EAAE,CAACiL,sBAAsB,CAAC,CAAC;;IAExC,IAAI9J,QAAQ,EAAE;MACZ,IAAIG,CAAC,CAAC0J,IAAI,CAAC,CAAC1F,EAAE,CAACnE,QAAQ,CAAC,EAAEgK,OAAO,CAACjL,IAAI,CAAC8K,IAAI,CAAC;IAC9C,CAAC,MAAMG,OAAO,CAACjL,IAAI,CAAC8K,IAAI,CAAC;IAEzBhL,EAAE,GAAGgL,IAAI;EACX;EAEA,OAAO1J,CAAC,CAAC6J,OAAO,CAAC;AACnB;AAEA,SAASC,QAAQA,CAACjK,QAAQ,EAAE;EAC1B,OAAO,IAAI,CAAC2J,OAAO,CAAC3J,QAAQ,CAAC,CAACkB,GAAG,CAAC,IAAI,CAAC6I,OAAO,CAAC/J,QAAQ,CAAC,CAAC;AAC3D;AAEA,SAAS+I,MAAMA,CAAC/I,QAAQ,EAAE;EACxB,MAAMqE,OAAO,GAAG,EAAE,CAAC,CAAC;;EAEpB,KAAK,IAAI/E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI,IAAI,CAACA,CAAC,CAAC,CAAC8J,UAAU,KAAK,IAAI,EAAE;MAC/B,IAAIpJ,QAAQ,EAAE;QACZ,IAAIG,CAAC,CAAC,IAAI,CAACb,CAAC,CAAC,CAAC8J,UAAU,CAAC,CAACjF,EAAE,CAACnE,QAAQ,CAAC,EAAEqE,OAAO,CAACtF,IAAI,CAAC,IAAI,CAACO,CAAC,CAAC,CAAC8J,UAAU,CAAC;MAC1E,CAAC,MAAM;QACL/E,OAAO,CAACtF,IAAI,CAAC,IAAI,CAACO,CAAC,CAAC,CAAC8J,UAAU,CAAC;MAClC;IACF;EACF;EAEA,OAAOjJ,CAAC,CAACkE,OAAO,CAAC;AACnB;AAEA,SAASA,OAAOA,CAACrE,QAAQ,EAAE;EACzB,MAAMqE,OAAO,GAAG,EAAE,CAAC,CAAC;;EAEpB,KAAK,IAAI/E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAIyJ,MAAM,GAAG,IAAI,CAACzJ,CAAC,CAAC,CAAC8J,UAAU,CAAC,CAAC;;IAEjC,OAAOL,MAAM,EAAE;MACb,IAAI/I,QAAQ,EAAE;QACZ,IAAIG,CAAC,CAAC4I,MAAM,CAAC,CAAC5E,EAAE,CAACnE,QAAQ,CAAC,EAAEqE,OAAO,CAACtF,IAAI,CAACgK,MAAM,CAAC;MAClD,CAAC,MAAM;QACL1E,OAAO,CAACtF,IAAI,CAACgK,MAAM,CAAC;MACtB;MAEAA,MAAM,GAAGA,MAAM,CAACK,UAAU;IAC5B;EACF;EAEA,OAAOjJ,CAAC,CAACkE,OAAO,CAAC;AACnB;AAEA,SAAS6F,OAAOA,CAAClK,QAAQ,EAAE;EACzB,IAAIkK,OAAO,GAAG,IAAI,CAAC,CAAC;;EAEpB,IAAI,OAAOlK,QAAQ,KAAK,WAAW,EAAE;IACnC,OAAOG,CAAC,CAAC,EAAE,CAAC;EACd;EAEA,IAAI,CAAC+J,OAAO,CAAC/F,EAAE,CAACnE,QAAQ,CAAC,EAAE;IACzBkK,OAAO,GAAGA,OAAO,CAAC7F,OAAO,CAACrE,QAAQ,CAAC,CAACsI,EAAE,CAAC,CAAC,CAAC;EAC3C;EAEA,OAAO4B,OAAO;AAChB;AAEA,SAASC,IAAIA,CAACnK,QAAQ,EAAE;EACtB,MAAMoK,aAAa,GAAG,EAAE;EAExB,KAAK,IAAI9K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,MAAM+K,KAAK,GAAG,IAAI,CAAC/K,CAAC,CAAC,CAACzE,gBAAgB,CAACmF,QAAQ,CAAC;IAEhD,KAAK,IAAIiD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoH,KAAK,CAACjQ,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;MACxCmH,aAAa,CAACrL,IAAI,CAACsL,KAAK,CAACpH,CAAC,CAAC,CAAC;IAC9B;EACF;EAEA,OAAO9C,CAAC,CAACiK,aAAa,CAAC;AACzB;AAEA,SAASlP,QAAQA,CAAC8E,QAAQ,EAAE;EAC1B,MAAM9E,QAAQ,GAAG,EAAE,CAAC,CAAC;;EAErB,KAAK,IAAIoE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,MAAMnE,UAAU,GAAG,IAAI,CAACmE,CAAC,CAAC,CAACpE,QAAQ;IAEnC,KAAK,IAAI+H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9H,UAAU,CAACf,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;MAC7C,IAAI,CAACjD,QAAQ,IAAIG,CAAC,CAAChF,UAAU,CAAC8H,CAAC,CAAC,CAAC,CAACkB,EAAE,CAACnE,QAAQ,CAAC,EAAE;QAC9C9E,QAAQ,CAAC6D,IAAI,CAAC5D,UAAU,CAAC8H,CAAC,CAAC,CAAC;MAC9B;IACF;EACF;EAEA,OAAO9C,CAAC,CAACjF,QAAQ,CAAC;AACpB;AAEA,SAASkG,MAAMA,CAAA,EAAG;EAChB,KAAK,IAAI9B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,IAAI,IAAI,CAACA,CAAC,CAAC,CAAC8J,UAAU,EAAE,IAAI,CAAC9J,CAAC,CAAC,CAAC8J,UAAU,CAACkB,WAAW,CAAC,IAAI,CAAChL,CAAC,CAAC,CAAC;EACjE;EAEA,OAAO,IAAI;AACb;AAEA,SAASiL,MAAMA,CAAA,EAAG;EAChB,OAAO,IAAI,CAACnJ,MAAM,CAAC,CAAC;AACtB;AAEA,SAASF,GAAGA,CAAC,GAAGuH,GAAG,EAAE;EACnB,MAAMtD,GAAG,GAAG,IAAI;EAChB,IAAI7F,CAAC;EACL,IAAI2D,CAAC;EAEL,KAAK3D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmJ,GAAG,CAACrO,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IAClC,MAAMkL,KAAK,GAAGrK,CAAC,CAACsI,GAAG,CAACnJ,CAAC,CAAC,CAAC;IAEvB,KAAK2D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuH,KAAK,CAACpQ,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;MACpCkC,GAAG,CAACpG,IAAI,CAACyL,KAAK,CAACvH,CAAC,CAAC,CAAC;IACpB;EACF;EAEA,OAAOkC,GAAG;AACZ;AAEA,SAASsF,KAAKA,CAAA,EAAG;EACf,KAAK,IAAInL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,MAAMT,EAAE,GAAG,IAAI,CAACS,CAAC,CAAC;IAElB,IAAIT,EAAE,CAAC4B,QAAQ,KAAK,CAAC,EAAE;MACrB,KAAK,IAAIwC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpE,EAAE,CAAC1D,UAAU,CAACf,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;QAChD,IAAIpE,EAAE,CAAC1D,UAAU,CAAC8H,CAAC,CAAC,CAACmG,UAAU,EAAE;UAC/BvK,EAAE,CAAC1D,UAAU,CAAC8H,CAAC,CAAC,CAACmG,UAAU,CAACkB,WAAW,CAACzL,EAAE,CAAC1D,UAAU,CAAC8H,CAAC,CAAC,CAAC;QAC3D;MACF;MAEApE,EAAE,CAACkJ,WAAW,GAAG,EAAE;IACrB;EACF;EAEA,OAAO,IAAI;AACb;;AAEA;;AAEA,SAAS2C,QAAQA,CAAC,GAAGjH,IAAI,EAAE;EACzB,MAAM5F,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,IAAI,CAAC4J,IAAI,EAAED,GAAG,EAAEhE,QAAQ,EAAEqH,MAAM,EAAEnN,QAAQ,CAAC,GAAGiG,IAAI;EAElD,IAAIA,IAAI,CAACrJ,MAAM,KAAK,CAAC,IAAI,OAAOuQ,MAAM,KAAK,UAAU,EAAE;IACrDnN,QAAQ,GAAGmN,MAAM;IACjB,CAACpD,IAAI,EAAED,GAAG,EAAEhE,QAAQ,EAAE9F,QAAQ,EAAEmN,MAAM,CAAC,GAAGlH,IAAI;EAChD;EAEA,IAAI,OAAOkH,MAAM,KAAK,WAAW,EAAEA,MAAM,GAAG,OAAO;EACnD,OAAO,IAAI,CAAChD,IAAI,CAAC,SAASiD,OAAOA,CAAA,EAAG;IAClC,MAAM/L,EAAE,GAAG,IAAI;IACf,IAAIgM,UAAU;IACd,IAAIC,WAAW;IACf,IAAIC,MAAM;IACV,IAAIC,OAAO;IACX,IAAIC,MAAM;IACV,IAAIC,OAAO;IACX,IAAIhE,SAAS,CAAC,CAAC;;IAEf,IAAIE,UAAU,CAAC,CAAC;;IAEhB,IAAI+D,UAAU,GAAG7D,GAAG,GAAG,CAAC,IAAIA,GAAG,KAAK,CAAC;IACrC,IAAI8D,WAAW,GAAG7D,IAAI,GAAG,CAAC,IAAIA,IAAI,KAAK,CAAC;IAExC,IAAI,OAAOoD,MAAM,KAAK,WAAW,EAAE;MACjCA,MAAM,GAAG,OAAO;IAClB;IAEA,IAAIQ,UAAU,EAAE;MACdN,UAAU,GAAGhM,EAAE,CAACqI,SAAS;MAEzB,IAAI,CAAC5D,QAAQ,EAAE;QACbzE,EAAE,CAACqI,SAAS,GAAGI,GAAG;MACpB;IACF;IAEA,IAAI8D,WAAW,EAAE;MACfN,WAAW,GAAGjM,EAAE,CAACuI,UAAU;MAE3B,IAAI,CAAC9D,QAAQ,EAAE;QACbzE,EAAE,CAACuI,UAAU,GAAGG,IAAI;MACtB;IACF;IAEA,IAAI,CAACjE,QAAQ,EAAE;IAEf,IAAI6H,UAAU,EAAE;MACdJ,MAAM,GAAGlM,EAAE,CAACwM,YAAY,GAAGxM,EAAE,CAAC+H,YAAY;MAC1CqE,MAAM,GAAGK,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAClE,GAAG,EAAEyD,MAAM,CAAC,EAAE,CAAC,CAAC;IAC7C;IAEA,IAAIK,WAAW,EAAE;MACfJ,OAAO,GAAGnM,EAAE,CAAC4M,WAAW,GAAG5M,EAAE,CAAC2H,WAAW;MACzC0E,OAAO,GAAGI,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACjE,IAAI,EAAEyD,OAAO,CAAC,EAAE,CAAC,CAAC;IAChD;IAEA,IAAIU,SAAS,GAAG,IAAI;IACpB,IAAIP,UAAU,IAAIF,MAAM,KAAKJ,UAAU,EAAEM,UAAU,GAAG,KAAK;IAC3D,IAAIC,WAAW,IAAIF,OAAO,KAAKJ,WAAW,EAAEM,WAAW,GAAG,KAAK;IAE/D,SAASO,MAAMA,CAACC,IAAI,GAAG,IAAI1O,IAAI,CAAC,CAAC,CAAC2O,OAAO,CAAC,CAAC,EAAE;MAC3C,IAAIH,SAAS,KAAK,IAAI,EAAE;QACtBA,SAAS,GAAGE,IAAI;MAClB;MAEA,MAAME,QAAQ,GAAGR,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC,CAACI,IAAI,GAAGF,SAAS,IAAIpI,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACxE,MAAMyI,YAAY,GAAGpB,MAAM,KAAK,QAAQ,GAAGmB,QAAQ,GAAG,GAAG,GAAGR,IAAI,CAACU,GAAG,CAACF,QAAQ,GAAGR,IAAI,CAACW,EAAE,CAAC,GAAG,CAAC;MAC5F,IAAIC,IAAI;MACR,IAAIf,UAAU,EAAEjE,SAAS,GAAG2D,UAAU,GAAGkB,YAAY,IAAId,MAAM,GAAGJ,UAAU,CAAC;MAC7E,IAAIO,WAAW,EAAEhE,UAAU,GAAG0D,WAAW,GAAGiB,YAAY,IAAIb,OAAO,GAAGJ,WAAW,CAAC;MAElF,IAAIK,UAAU,IAAIF,MAAM,GAAGJ,UAAU,IAAI3D,SAAS,IAAI+D,MAAM,EAAE;QAC5DpM,EAAE,CAACqI,SAAS,GAAG+D,MAAM;QACrBiB,IAAI,GAAG,IAAI;MACb;MAEA,IAAIf,UAAU,IAAIF,MAAM,GAAGJ,UAAU,IAAI3D,SAAS,IAAI+D,MAAM,EAAE;QAC5DpM,EAAE,CAACqI,SAAS,GAAG+D,MAAM;QACrBiB,IAAI,GAAG,IAAI;MACb;MAEA,IAAId,WAAW,IAAIF,OAAO,GAAGJ,WAAW,IAAI1D,UAAU,IAAI8D,OAAO,EAAE;QACjErM,EAAE,CAACuI,UAAU,GAAG8D,OAAO;QACvBgB,IAAI,GAAG,IAAI;MACb;MAEA,IAAId,WAAW,IAAIF,OAAO,GAAGJ,WAAW,IAAI1D,UAAU,IAAI8D,OAAO,EAAE;QACjErM,EAAE,CAACuI,UAAU,GAAG8D,OAAO;QACvBgB,IAAI,GAAG,IAAI;MACb;MAEA,IAAIA,IAAI,EAAE;QACR,IAAI1O,QAAQ,EAAEA,QAAQ,CAAC,CAAC;QACxB;MACF;MAEA,IAAI2N,UAAU,EAAEtM,EAAE,CAACqI,SAAS,GAAGA,SAAS;MACxC,IAAIkE,WAAW,EAAEvM,EAAE,CAACuI,UAAU,GAAGA,UAAU;MAC3CvJ,MAAM,CAACN,qBAAqB,CAACoO,MAAM,CAAC;IACtC;IAEA9N,MAAM,CAACN,qBAAqB,CAACoO,MAAM,CAAC;EACtC,CAAC,CAAC;AACJ,CAAC,CAAC;;AAGF,SAASzE,SAASA,CAAC,GAAGzD,IAAI,EAAE;EAC1B,IAAI,CAAC6D,GAAG,EAAEhE,QAAQ,EAAEqH,MAAM,EAAEnN,QAAQ,CAAC,GAAGiG,IAAI;EAE5C,IAAIA,IAAI,CAACrJ,MAAM,KAAK,CAAC,IAAI,OAAOuQ,MAAM,KAAK,UAAU,EAAE;IACrD,CAACrD,GAAG,EAAEhE,QAAQ,EAAE9F,QAAQ,EAAEmN,MAAM,CAAC,GAAGlH,IAAI;EAC1C;EAEA,MAAM0B,GAAG,GAAG,IAAI;EAEhB,IAAI,OAAOmC,GAAG,KAAK,WAAW,EAAE;IAC9B,IAAInC,GAAG,CAAC/K,MAAM,GAAG,CAAC,EAAE,OAAO+K,GAAG,CAAC,CAAC,CAAC,CAAC+B,SAAS;IAC3C,OAAO,IAAI;EACb;EAEA,OAAO/B,GAAG,CAACuF,QAAQ,CAAC5I,SAAS,EAAEwF,GAAG,EAAEhE,QAAQ,EAAEqH,MAAM,EAAEnN,QAAQ,CAAC;AACjE;AAEA,SAAS4J,UAAUA,CAAC,GAAG3D,IAAI,EAAE;EAC3B,IAAI,CAAC8D,IAAI,EAAEjE,QAAQ,EAAEqH,MAAM,EAAEnN,QAAQ,CAAC,GAAGiG,IAAI;EAE7C,IAAIA,IAAI,CAACrJ,MAAM,KAAK,CAAC,IAAI,OAAOuQ,MAAM,KAAK,UAAU,EAAE;IACrD,CAACpD,IAAI,EAAEjE,QAAQ,EAAE9F,QAAQ,EAAEmN,MAAM,CAAC,GAAGlH,IAAI;EAC3C;EAEA,MAAM0B,GAAG,GAAG,IAAI;EAEhB,IAAI,OAAOoC,IAAI,KAAK,WAAW,EAAE;IAC/B,IAAIpC,GAAG,CAAC/K,MAAM,GAAG,CAAC,EAAE,OAAO+K,GAAG,CAAC,CAAC,CAAC,CAACiC,UAAU;IAC5C,OAAO,IAAI;EACb;EAEA,OAAOjC,GAAG,CAACuF,QAAQ,CAACnD,IAAI,EAAEzF,SAAS,EAAEwB,QAAQ,EAAEqH,MAAM,EAAEnN,QAAQ,CAAC;AAClE;;AAEA;;AAEA,SAASoN,OAAOA,CAACuB,YAAY,EAAEC,aAAa,EAAE;EAC5C,MAAMvO,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAM8K,GAAG,GAAG,IAAI;EAChB,MAAMvI,CAAC,GAAG;IACRiC,KAAK,EAAEtI,MAAM,CAACwS,MAAM,CAAC,CAAC,CAAC,EAAEF,YAAY,CAAC;IACtCG,MAAM,EAAEzS,MAAM,CAACwS,MAAM,CAAC;MACpB/I,QAAQ,EAAE,GAAG;MACbqH,MAAM,EAAE,OAAO,CAAC;;MAEhB;AACN;AACA;AACA;AACA;IAEI,CAAC,EAAEyB,aAAa,CAAC;IACjBG,QAAQ,EAAE9D,GAAG;IACb+D,SAAS,EAAE,KAAK;IAChBC,GAAG,EAAE,EAAE;IAEPC,cAAcA,CAAC/B,MAAM,EAAEmB,QAAQ,EAAE;MAC/B,IAAInB,MAAM,KAAK,OAAO,EAAE;QACtB,OAAO,GAAG,GAAGW,IAAI,CAACU,GAAG,CAACF,QAAQ,GAAGR,IAAI,CAACW,EAAE,CAAC,GAAG,CAAC;MAC/C;MAEA,IAAI,OAAOtB,MAAM,KAAK,UAAU,EAAE;QAChC,OAAOA,MAAM,CAACmB,QAAQ,CAAC;MACzB;MAEA,OAAOA,QAAQ;IACjB,CAAC;IAEDa,IAAIA,CAAA,EAAG;MACL,IAAIzM,CAAC,CAAC0M,OAAO,EAAE;QACb/O,MAAM,CAACJ,oBAAoB,CAACyC,CAAC,CAAC0M,OAAO,CAAC;MACxC;MAEA1M,CAAC,CAACsM,SAAS,GAAG,KAAK;MACnBtM,CAAC,CAACqM,QAAQ,CAAC5E,IAAI,CAAC9I,EAAE,IAAI;QACpB,MAAMgO,OAAO,GAAGhO,EAAE;QAClB,OAAOgO,OAAO,CAACC,mBAAmB;MACpC,CAAC,CAAC;MACF5M,CAAC,CAACuM,GAAG,GAAG,EAAE;IACZ,CAAC;IAEDP,IAAIA,CAACa,QAAQ,EAAE;MACb7M,CAAC,CAACsM,SAAS,GAAG,KAAK;MACnBtM,CAAC,CAACqM,QAAQ,CAAC5E,IAAI,CAAC9I,EAAE,IAAI;QACpB,MAAMgO,OAAO,GAAGhO,EAAE;QAClB,OAAOgO,OAAO,CAACC,mBAAmB;MACpC,CAAC,CAAC;MACF,IAAIC,QAAQ,EAAEA,QAAQ,CAACtE,GAAG,CAAC;MAE3B,IAAIvI,CAAC,CAACuM,GAAG,CAACrS,MAAM,GAAG,CAAC,EAAE;QACpB,MAAMqS,GAAG,GAAGvM,CAAC,CAACuM,GAAG,CAACO,KAAK,CAAC,CAAC;QACzB9M,CAAC,CAAC0K,OAAO,CAAC6B,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,CAAC;MAC3B;IACF,CAAC;IAED7B,OAAOA,CAACzI,KAAK,EAAEmK,MAAM,EAAE;MACrB,IAAIpM,CAAC,CAACsM,SAAS,EAAE;QACftM,CAAC,CAACuM,GAAG,CAAC1N,IAAI,CAAC,CAACoD,KAAK,EAAEmK,MAAM,CAAC,CAAC;QAC3B,OAAOpM,CAAC;MACV;MAEA,MAAMqM,QAAQ,GAAG,EAAE,CAAC,CAAC;;MAErBrM,CAAC,CAACqM,QAAQ,CAAC5E,IAAI,CAAC,CAAC9I,EAAE,EAAE+I,KAAK,KAAK;QAC7B,IAAIqF,gBAAgB;QACpB,IAAIC,YAAY;QAChB,IAAIC,IAAI;QACR,IAAIC,UAAU;QACd,IAAIC,cAAc;QAClB,IAAI,CAACxO,EAAE,CAACiO,mBAAmB,EAAE5M,CAAC,CAACqM,QAAQ,CAAC3E,KAAK,CAAC,CAACkF,mBAAmB,GAAG5M,CAAC;QACtEqM,QAAQ,CAAC3E,KAAK,CAAC,GAAG;UAChB0F,SAAS,EAAEzO;QACb,CAAC;QACDhF,MAAM,CAACI,IAAI,CAACkI,KAAK,CAAC,CAACjI,OAAO,CAACgI,IAAI,IAAI;UACjC+K,gBAAgB,GAAGpP,MAAM,CAACd,gBAAgB,CAAC8B,EAAE,EAAE,IAAI,CAAC,CAAC7B,gBAAgB,CAACkF,IAAI,CAAC,CAACvC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;UAC7FuN,YAAY,GAAGtK,UAAU,CAACqK,gBAAgB,CAAC;UAC3CE,IAAI,GAAGF,gBAAgB,CAACtN,OAAO,CAACuN,YAAY,EAAE,EAAE,CAAC;UACjDE,UAAU,GAAGxK,UAAU,CAACT,KAAK,CAACD,IAAI,CAAC,CAAC;UACpCmL,cAAc,GAAGlL,KAAK,CAACD,IAAI,CAAC,GAAGiL,IAAI;UACnCZ,QAAQ,CAAC3E,KAAK,CAAC,CAAC1F,IAAI,CAAC,GAAG;YACtB+K,gBAAgB;YAChBC,YAAY;YACZC,IAAI;YACJC,UAAU;YACVC,cAAc;YACdE,YAAY,EAAEL;UAChB,CAAC;QACH,CAAC,CAAC;MACJ,CAAC,CAAC;MACF,IAAIxB,SAAS,GAAG,IAAI;MACpB,IAAIE,IAAI;MACR,IAAI4B,YAAY,GAAG,CAAC;MACpB,IAAIC,SAAS,GAAG,CAAC;MACjB,IAAIvB,IAAI;MACR,IAAIwB,KAAK,GAAG,KAAK;MACjBxN,CAAC,CAACsM,SAAS,GAAG,IAAI;MAElB,SAASb,MAAMA,CAAA,EAAG;QAChBC,IAAI,GAAG,IAAI1O,IAAI,CAAC,CAAC,CAAC2O,OAAO,CAAC,CAAC;QAC3B,IAAIC,QAAQ;QACZ,IAAIC,YAAY,CAAC,CAAC;;QAElB,IAAI,CAAC2B,KAAK,EAAE;UACVA,KAAK,GAAG,IAAI;UACZ,IAAIpB,MAAM,CAACqB,KAAK,EAAErB,MAAM,CAACqB,KAAK,CAAClF,GAAG,CAAC;QACrC;QAEA,IAAIiD,SAAS,KAAK,IAAI,EAAE;UACtBA,SAAS,GAAGE,IAAI;QAClB;QAEA,IAAIU,MAAM,CAACR,QAAQ,EAAE;UACnB;UACAQ,MAAM,CAACR,QAAQ,CAACrD,GAAG,EAAE6C,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC,CAACI,IAAI,GAAGF,SAAS,IAAIY,MAAM,CAAChJ,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEoI,SAAS,GAAGY,MAAM,CAAChJ,QAAQ,GAAGsI,IAAI,GAAG,CAAC,GAAG,CAAC,GAAGF,SAAS,GAAGY,MAAM,CAAChJ,QAAQ,GAAGsI,IAAI,EAAEF,SAAS,CAAC;QAClL;QAEAa,QAAQ,CAACrS,OAAO,CAAC2S,OAAO,IAAI;UAC1B,MAAMhO,EAAE,GAAGgO,OAAO;UAClB,IAAIX,IAAI,IAAIrN,EAAE,CAACqN,IAAI,EAAE;UACrBrS,MAAM,CAACI,IAAI,CAACkI,KAAK,CAAC,CAACjI,OAAO,CAACgI,IAAI,IAAI;YACjC,IAAIgK,IAAI,IAAIrN,EAAE,CAACqN,IAAI,EAAE;YACrBJ,QAAQ,GAAGR,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC,CAACI,IAAI,GAAGF,SAAS,IAAIY,MAAM,CAAChJ,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACzEyI,YAAY,GAAG7L,CAAC,CAACwM,cAAc,CAACJ,MAAM,CAAC3B,MAAM,EAAEmB,QAAQ,CAAC;YACxD,MAAM;cACJoB,YAAY;cACZE,UAAU;cACVD;YACF,CAAC,GAAGtO,EAAE,CAACqD,IAAI,CAAC;YACZrD,EAAE,CAACqD,IAAI,CAAC,CAACqL,YAAY,GAAGL,YAAY,GAAGnB,YAAY,IAAIqB,UAAU,GAAGF,YAAY,CAAC;YACjF,MAAMK,YAAY,GAAG1O,EAAE,CAACqD,IAAI,CAAC,CAACqL,YAAY;YAE1C,IAAIH,UAAU,GAAGF,YAAY,IAAIK,YAAY,IAAIH,UAAU,IAAIA,UAAU,GAAGF,YAAY,IAAIK,YAAY,IAAIH,UAAU,EAAE;cACtHvO,EAAE,CAACyO,SAAS,CAAClS,KAAK,CAAC8G,IAAI,CAAC,GAAGkL,UAAU,GAAGD,IAAI;cAC5CM,SAAS,IAAI,CAAC;cAEd,IAAIA,SAAS,KAAK5T,MAAM,CAACI,IAAI,CAACkI,KAAK,CAAC,CAAC/H,MAAM,EAAE;gBAC3CyE,EAAE,CAACqN,IAAI,GAAG,IAAI;gBACdsB,YAAY,IAAI,CAAC;cACnB;cAEA,IAAIA,YAAY,KAAKjB,QAAQ,CAACnS,MAAM,EAAE;gBACpC8R,IAAI,GAAG,IAAI;cACb;YACF;YAEA,IAAIA,IAAI,EAAE;cACRhM,CAAC,CAACgM,IAAI,CAACI,MAAM,CAACS,QAAQ,CAAC;cACvB;YACF;YAEAlO,EAAE,CAACyO,SAAS,CAAClS,KAAK,CAAC8G,IAAI,CAAC,GAAGqL,YAAY,GAAGJ,IAAI;UAChD,CAAC,CAAC;QACJ,CAAC,CAAC;QACF,IAAIjB,IAAI,EAAE,OAAO,CAAC;;QAElBhM,CAAC,CAAC0M,OAAO,GAAG/O,MAAM,CAACN,qBAAqB,CAACoO,MAAM,CAAC;MAClD;MAEAzL,CAAC,CAAC0M,OAAO,GAAG/O,MAAM,CAACN,qBAAqB,CAACoO,MAAM,CAAC;MAChD,OAAOzL,CAAC;IACV;EAEF,CAAC;EAED,IAAIA,CAAC,CAACqM,QAAQ,CAACnS,MAAM,KAAK,CAAC,EAAE;IAC3B,OAAOqO,GAAG;EACZ;EAEA,IAAImF,eAAe;EAEnB,KAAK,IAAItO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGY,CAAC,CAACqM,QAAQ,CAACnS,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IAC7C,IAAIY,CAAC,CAACqM,QAAQ,CAACjN,CAAC,CAAC,CAACwN,mBAAmB,EAAE;MACrCc,eAAe,GAAG1N,CAAC,CAACqM,QAAQ,CAACjN,CAAC,CAAC,CAACwN,mBAAmB;IACrD,CAAC,MAAM5M,CAAC,CAACqM,QAAQ,CAACjN,CAAC,CAAC,CAACwN,mBAAmB,GAAG5M,CAAC;EAC9C;EAEA,IAAI,CAAC0N,eAAe,EAAE;IACpBA,eAAe,GAAG1N,CAAC;EACrB;EAEA,IAAIiM,YAAY,KAAK,MAAM,EAAE;IAC3ByB,eAAe,CAACjB,IAAI,CAAC,CAAC;EACxB,CAAC,MAAM;IACLiB,eAAe,CAAChD,OAAO,CAAC1K,CAAC,CAACiC,KAAK,EAAEjC,CAAC,CAACoM,MAAM,CAAC;EAC5C;EAEA,OAAO7D,GAAG;AACZ;AAEA,SAASkE,IAAIA,CAAA,EAAG;EACd,MAAMlE,GAAG,GAAG,IAAI;EAEhB,KAAK,IAAInJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmJ,GAAG,CAACrO,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACtC,IAAImJ,GAAG,CAACnJ,CAAC,CAAC,CAACwN,mBAAmB,EAAE;MAC9BrE,GAAG,CAACnJ,CAAC,CAAC,CAACwN,mBAAmB,CAACH,IAAI,CAAC,CAAC;IACnC;EACF;AACF;AAEA,MAAMkB,SAAS,GAAG,eAAe,CAAC7M,KAAK,CAAC,GAAG,CAAC;AAE5C,SAAS8M,QAAQA,CAACnL,IAAI,EAAE;EACtB,SAASoL,YAAYA,CAAC,GAAGtK,IAAI,EAAE;IAC7B,IAAI,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;MAClC,KAAK,IAAInE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACvC,IAAIuO,SAAS,CAACtO,OAAO,CAACoD,IAAI,CAAC,GAAG,CAAC,EAAE;UAC/B,IAAIA,IAAI,IAAI,IAAI,CAACrD,CAAC,CAAC,EAAE,IAAI,CAACA,CAAC,CAAC,CAACqD,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK;YACxCxC,CAAC,CAAC,IAAI,CAACb,CAAC,CAAC,CAAC,CAACiG,OAAO,CAAC5C,IAAI,CAAC;UAC1B;QACF;MACF;MAEA,OAAO,IAAI;IACb;IAEA,OAAO,IAAI,CAACa,EAAE,CAACb,IAAI,EAAE,GAAGc,IAAI,CAAC;EAC/B;EAEA,OAAOsK,YAAY;AACrB;AAEA,MAAMC,KAAK,GAAGF,QAAQ,CAAC,OAAO,CAAC;AAAC5R,OAAA,CAAA8R,KAAA,GAAAA,KAAA;AAChC,MAAMtT,IAAI,GAAGoT,QAAQ,CAAC,MAAM,CAAC;AAAC5R,OAAA,CAAAxB,IAAA,GAAAA,IAAA;AAC9B,MAAMuT,KAAK,GAAGH,QAAQ,CAAC,OAAO,CAAC;AAAC5R,OAAA,CAAA+R,KAAA,GAAAA,KAAA;AAChC,MAAMC,OAAO,GAAGJ,QAAQ,CAAC,SAAS,CAAC;AAAC5R,OAAA,CAAAgS,OAAA,GAAAA,OAAA;AACpC,MAAMC,QAAQ,GAAGL,QAAQ,CAAC,UAAU,CAAC;AAAC5R,OAAA,CAAAiS,QAAA,GAAAA,QAAA;AACtC,MAAMC,KAAK,GAAGN,QAAQ,CAAC,OAAO,CAAC;AAAC5R,OAAA,CAAAkS,KAAA,GAAAA,KAAA;AAChC,MAAMC,OAAO,GAAGP,QAAQ,CAAC,SAAS,CAAC;AAAC5R,OAAA,CAAAmS,OAAA,GAAAA,OAAA;AACpC,MAAMC,QAAQ,GAAGR,QAAQ,CAAC,UAAU,CAAC;AAAC5R,OAAA,CAAAoS,QAAA,GAAAA,QAAA;AACtC,MAAMC,MAAM,GAAGT,QAAQ,CAAC,QAAQ,CAAC;AAAC5R,OAAA,CAAAqS,MAAA,GAAAA,MAAA;AAClC,MAAMC,MAAM,GAAGV,QAAQ,CAAC,QAAQ,CAAC;AAAC5R,OAAA,CAAAsS,MAAA,GAAAA,MAAA;AAClC,MAAMC,SAAS,GAAGX,QAAQ,CAAC,WAAW,CAAC;AAAC5R,OAAA,CAAAuS,SAAA,GAAAA,SAAA;AACxC,MAAMC,SAAS,GAAGZ,QAAQ,CAAC,WAAW,CAAC;AAAC5R,OAAA,CAAAwS,SAAA,GAAAA,SAAA;AACxC,MAAMC,OAAO,GAAGb,QAAQ,CAAC,SAAS,CAAC;AAAC5R,OAAA,CAAAyS,OAAA,GAAAA,OAAA;AACpC,MAAMC,UAAU,GAAGd,QAAQ,CAAC,YAAY,CAAC;AAAC5R,OAAA,CAAA0S,UAAA,GAAAA,UAAA;AAC1C,MAAMC,UAAU,GAAGf,QAAQ,CAAC,YAAY,CAAC;AAAC5R,OAAA,CAAA2S,UAAA,GAAAA,UAAA;AAC1C,MAAMC,QAAQ,GAAGhB,QAAQ,CAAC,UAAU,CAAC;AAAC5R,OAAA,CAAA4S,QAAA,GAAAA,QAAA;AACtC,MAAMC,SAAS,GAAGjB,QAAQ,CAAC,WAAW,CAAC;AAAC5R,OAAA,CAAA6S,SAAA,GAAAA,SAAA;AACxC,MAAMC,UAAU,GAAGlB,QAAQ,CAAC,YAAY,CAAC;AAAC5R,OAAA,CAAA8S,UAAA,GAAAA,UAAA;AAC1C,MAAMC,QAAQ,GAAGnB,QAAQ,CAAC,UAAU,CAAC;AAAC5R,OAAA,CAAA+S,QAAA,GAAAA,QAAA;AACtC,MAAMC,SAAS,GAAGpB,QAAQ,CAAC,WAAW,CAAC;AAAC5R,OAAA,CAAAgT,SAAA,GAAAA,SAAA;AACxC,MAAMC,MAAM,GAAGrB,QAAQ,CAAC,QAAQ,CAAC;AAAC5R,OAAA,CAAAiT,MAAA,GAAAA,MAAA;AAClC,MAAMC,MAAM,GAAGtB,QAAQ,CAAC,QAAQ,CAAC;AAAC5R,OAAA,CAAAkT,MAAA,GAAAA,MAAA;AAAA,IAAAC,QAAA,GAEnBlP,CAAC;AAAAjE,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACx9ChB,IAAAE,IAAA,GAAAxR,OAAA;AACA,MAAMyR,OAAO,GAAG;EACd7O,QAAQ,EAARA,aAAQ;EACRQ,WAAW,EAAXA,gBAAW;EACXK,QAAQ,EAARA,aAAQ;EACRH,WAAW,EAAXA,gBAAW;EACXK,IAAI,EAAJA,SAAI;EACJM,UAAU,EAAVA,eAAU;EACVoB,SAAS,EAATA,cAAS;EACTC,UAAU,EAAVA,eAAU;EACVG,EAAE,EAAFA,OAAE;EACFqB,GAAG,EAAHA,QAAG;EACHU,OAAO,EAAPA,YAAO;EACPS,aAAa,EAAbA,kBAAa;EACbK,UAAU,EAAVA,eAAU;EACVM,WAAW,EAAXA,gBAAW;EACXJ,MAAM,EAANA,WAAM;EACNM,MAAM,EAANA,WAAM;EACNT,GAAG,EAAHA,QAAG;EACHuB,IAAI,EAAJA,SAAI;EACJvH,IAAI,EAAJA,SAAI;EACJ0H,IAAI,EAAJA,SAAI;EACJ3D,EAAE,EAAFA,OAAE;EACFyD,KAAK,EAALA,UAAK;EACLU,EAAE,EAAFA,OAAE;EACFE,MAAM,EAANA,WAAM;EACNQ,OAAO,EAAPA,YAAO;EACPS,IAAI,EAAJA,SAAI;EACJE,OAAO,EAAPA,YAAO;EACPE,IAAI,EAAJA,SAAI;EACJE,OAAO,EAAPA,YAAO;EACPhB,MAAM,EAANA,WAAM;EACN1E,OAAO,EAAPA,YAAO;EACP6F,OAAO,EAAPA,YAAO;EACPC,IAAI,EAAJA,SAAI;EACJjP,QAAQ,EAARA,aAAQ;EACRgE,MAAM,EAANA,WAAM;EACNkC,MAAM,EAANA;AACF,CAAC;AACDvH,MAAM,CAACI,IAAI,CAACuV,OAAO,CAAC,CAACtV,OAAO,CAACuV,UAAU,IAAI;EACzC5V,MAAM,CAACsE,cAAc,CAACgC,MAAC,CAACO,EAAE,EAAE+O,UAAU,EAAE;IACtCnR,KAAK,EAAEkR,OAAO,CAACC,UAAU,CAAC;IAC1BC,QAAQ,EAAE;EACZ,CAAC,CAAC;AACJ,CAAC,CAAC;AAAC,IAAAL,QAAA,GACYlP,MAAC;AAAAjE,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;;;;;;;;;AC7ChB,IAAAvR,UAAA,GAAAC,OAAA;AAAuC,SAAA4R,gBAAAhW,GAAA,EAAAQ,GAAA,EAAAmE,KAAA,IAAAnE,GAAA,GAAAyV,cAAA,CAAAzV,GAAA,OAAAA,GAAA,IAAAR,GAAA,IAAAE,MAAA,CAAAsE,cAAA,CAAAxE,GAAA,EAAAQ,GAAA,IAAAmE,KAAA,EAAAA,KAAA,EAAAuR,UAAA,QAAAC,YAAA,QAAAJ,QAAA,oBAAA/V,GAAA,CAAAQ,GAAA,IAAAmE,KAAA,WAAA3E,GAAA;AAAA,SAAAiW,eAAAG,GAAA,QAAA5V,GAAA,GAAA6V,YAAA,CAAAD,GAAA,oBAAAE,OAAA,CAAA9V,GAAA,iBAAAA,GAAA,GAAA+V,MAAA,CAAA/V,GAAA;AAAA,SAAA6V,aAAAG,KAAA,EAAAC,IAAA,QAAAH,OAAA,CAAAE,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAvO,SAAA,QAAAlD,GAAA,GAAAyR,IAAA,CAAAlR,IAAA,CAAAgR,KAAA,EAAAC,IAAA,oBAAAH,OAAA,CAAArR,GAAA,uBAAAA,GAAA,YAAA4R,SAAA,4DAAAJ,IAAA,gBAAAF,MAAA,GAAAO,MAAA,EAAAN,KAAA;AAAA,SAAAF,QAAAtW,GAAA,sCAAAsW,OAAA,wBAAAK,MAAA,uBAAAA,MAAA,CAAAI,QAAA,aAAA/W,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAA2W,MAAA,IAAA3W,GAAA,CAAAC,WAAA,KAAA0W,MAAA,IAAA3W,GAAA,KAAA2W,MAAA,CAAArR,SAAA,qBAAAtF,GAAA,KAAAsW,OAAA,CAAAtW,GAAA;AAEvC,SAASgX,WAAWA,CAAChX,GAAG,EAAE;EACxB,MAAMiX,MAAM,GAAGjX,GAAG;EAClBE,MAAM,CAACI,IAAI,CAAC2W,MAAM,CAAC,CAAC1W,OAAO,CAACC,GAAG,IAAI;IACjC,IAAI;MACFyW,MAAM,CAACzW,GAAG,CAAC,GAAG,IAAI;IACpB,CAAC,CAAC,OAAO4J,CAAC,EAAE,CAAC;IAAA;IAGb,IAAI;MACF,OAAO6M,MAAM,CAACzW,GAAG,CAAC;IACpB,CAAC,CAAC,OAAO4J,CAAC,EAAE,CAAC;IAAA;EAEf,CAAC,CAAC;AACJ;AAEA,SAAS8M,QAAQA,CAACrT,QAAQ,EAAEsT,KAAK,GAAG,CAAC,EAAE;EACrC,OAAO1T,UAAU,CAACI,QAAQ,EAAEsT,KAAK,CAAC;AACpC;AAEA,SAASC,GAAGA,CAAA,EAAG;EACb,OAAO7T,IAAI,CAAC6T,GAAG,CAAC,CAAC;AACnB;AAEA,SAAShU,gBAAgBA,CAAC8B,EAAE,EAAE;EAC5B,MAAMhB,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,IAAIvC,KAAK;EAET,IAAIyC,MAAM,CAACd,gBAAgB,EAAE;IAC3B3B,KAAK,GAAGyC,MAAM,CAACd,gBAAgB,CAAC8B,EAAE,EAAE,IAAI,CAAC;EAC3C;EAEA,IAAI,CAACzD,KAAK,IAAIyD,EAAE,CAACmS,YAAY,EAAE;IAC7B5V,KAAK,GAAGyD,EAAE,CAACmS,YAAY;EACzB;EAEA,IAAI,CAAC5V,KAAK,EAAE;IACVA,KAAK,GAAGyD,EAAE,CAACzD,KAAK;EAClB;EAEA,OAAOA,KAAK;AACd;AAEA,SAAS6V,YAAYA,CAACpS,EAAE,EAAEqS,IAAI,GAAG,GAAG,EAAE;EACpC,MAAMrT,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,IAAIwT,MAAM;EACV,IAAIC,YAAY;EAChB,IAAIC,eAAe;EACnB,MAAMC,QAAQ,GAAGvU,gBAAgB,CAAC8B,EAAE,EAAE,IAAI,CAAC;EAE3C,IAAIhB,MAAM,CAAC0T,eAAe,EAAE;IAC1BH,YAAY,GAAGE,QAAQ,CAAClO,SAAS,IAAIkO,QAAQ,CAACE,eAAe;IAE7D,IAAIJ,YAAY,CAACpQ,KAAK,CAAC,GAAG,CAAC,CAAC5G,MAAM,GAAG,CAAC,EAAE;MACtCgX,YAAY,GAAGA,YAAY,CAACpQ,KAAK,CAAC,IAAI,CAAC,CAACF,GAAG,CAACZ,CAAC,IAAIA,CAAC,CAACP,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC8R,IAAI,CAAC,IAAI,CAAC;IAClF,CAAC,CAAC;IACF;;IAGAJ,eAAe,GAAG,IAAIxT,MAAM,CAAC0T,eAAe,CAACH,YAAY,KAAK,MAAM,GAAG,EAAE,GAAGA,YAAY,CAAC;EAC3F,CAAC,MAAM;IACLC,eAAe,GAAGC,QAAQ,CAACI,YAAY,IAAIJ,QAAQ,CAACK,UAAU,IAAIL,QAAQ,CAACM,WAAW,IAAIN,QAAQ,CAACO,WAAW,IAAIP,QAAQ,CAAClO,SAAS,IAAIkO,QAAQ,CAACtU,gBAAgB,CAAC,WAAW,CAAC,CAAC2C,OAAO,CAAC,YAAY,EAAE,oBAAoB,CAAC;IAC1NwR,MAAM,GAAGE,eAAe,CAACS,QAAQ,CAAC,CAAC,CAAC9Q,KAAK,CAAC,GAAG,CAAC;EAChD;EAEA,IAAIkQ,IAAI,KAAK,GAAG,EAAE;IAChB;IACA,IAAIrT,MAAM,CAAC0T,eAAe,EAAEH,YAAY,GAAGC,eAAe,CAACU,GAAG,CAAC,CAAC;IAAA,KAC3D,IAAIZ,MAAM,CAAC/W,MAAM,KAAK,EAAE,EAAEgX,YAAY,GAAGxO,UAAU,CAACuO,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAAA,KACjEC,YAAY,GAAGxO,UAAU,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAC;EAC3C;EAEA,IAAID,IAAI,KAAK,GAAG,EAAE;IAChB;IACA,IAAIrT,MAAM,CAAC0T,eAAe,EAAEH,YAAY,GAAGC,eAAe,CAACW,GAAG,CAAC,CAAC;IAAA,KAC3D,IAAIb,MAAM,CAAC/W,MAAM,KAAK,EAAE,EAAEgX,YAAY,GAAGxO,UAAU,CAACuO,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAAA,KACjEC,YAAY,GAAGxO,UAAU,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAC;EAC3C;EAEA,OAAOC,YAAY,IAAI,CAAC;AAC1B;AAEA,SAAS1X,QAAQA,CAACuY,CAAC,EAAE;EACnB,OAAOhC,OAAA,CAAOgC,CAAC,MAAK,QAAQ,IAAIA,CAAC,KAAK,IAAI,IAAIA,CAAC,CAACrY,WAAW,IAAIC,MAAM,CAACoF,SAAS,CAAC6S,QAAQ,CAAC3S,IAAI,CAAC8S,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,QAAQ;AAC5H;AAEA,SAASC,MAAMA,CAACC,IAAI,EAAE;EACpB;EACA,IAAI,OAAOvU,MAAM,KAAK,WAAW,IAAI,OAAOA,MAAM,CAACwU,WAAW,KAAK,WAAW,EAAE;IAC9E,OAAOD,IAAI,YAAYC,WAAW;EACpC;EAEA,OAAOD,IAAI,KAAKA,IAAI,CAAC3R,QAAQ,KAAK,CAAC,IAAI2R,IAAI,CAAC3R,QAAQ,KAAK,EAAE,CAAC;AAC9D;AAEA,SAAS3G,MAAMA,CAAC,GAAG2J,IAAI,EAAE;EACvB,MAAM6O,EAAE,GAAGzY,MAAM,CAAC4J,IAAI,CAAC,CAAC,CAAC,CAAC;EAC1B,MAAM8O,QAAQ,GAAG,CAAC,WAAW,EAAE,aAAa,EAAE,WAAW,CAAC;EAE1D,KAAK,IAAIjT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmE,IAAI,CAACrJ,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACvC,MAAMkT,UAAU,GAAG/O,IAAI,CAACnE,CAAC,CAAC;IAE1B,IAAIkT,UAAU,KAAK1Q,SAAS,IAAI0Q,UAAU,KAAK,IAAI,IAAI,CAACL,MAAM,CAACK,UAAU,CAAC,EAAE;MAC1E,MAAMC,SAAS,GAAG5Y,MAAM,CAACI,IAAI,CAACJ,MAAM,CAAC2Y,UAAU,CAAC,CAAC,CAACtT,MAAM,CAAC/E,GAAG,IAAIoY,QAAQ,CAAChT,OAAO,CAACpF,GAAG,CAAC,GAAG,CAAC,CAAC;MAE1F,KAAK,IAAIuY,SAAS,GAAG,CAAC,EAAEC,GAAG,GAAGF,SAAS,CAACrY,MAAM,EAAEsY,SAAS,GAAGC,GAAG,EAAED,SAAS,IAAI,CAAC,EAAE;QAC/E,MAAME,OAAO,GAAGH,SAAS,CAACC,SAAS,CAAC;QACpC,MAAMG,IAAI,GAAGhZ,MAAM,CAACiZ,wBAAwB,CAACN,UAAU,EAAEI,OAAO,CAAC;QAEjE,IAAIC,IAAI,KAAK/Q,SAAS,IAAI+Q,IAAI,CAAChD,UAAU,EAAE;UACzC,IAAInW,QAAQ,CAAC4Y,EAAE,CAACM,OAAO,CAAC,CAAC,IAAIlZ,QAAQ,CAAC8Y,UAAU,CAACI,OAAO,CAAC,CAAC,EAAE;YAC1D,IAAIJ,UAAU,CAACI,OAAO,CAAC,CAACG,UAAU,EAAE;cAClCT,EAAE,CAACM,OAAO,CAAC,GAAGJ,UAAU,CAACI,OAAO,CAAC;YACnC,CAAC,MAAM;cACL9Y,MAAM,CAACwY,EAAE,CAACM,OAAO,CAAC,EAAEJ,UAAU,CAACI,OAAO,CAAC,CAAC;YAC1C;UACF,CAAC,MAAM,IAAI,CAAClZ,QAAQ,CAAC4Y,EAAE,CAACM,OAAO,CAAC,CAAC,IAAIlZ,QAAQ,CAAC8Y,UAAU,CAACI,OAAO,CAAC,CAAC,EAAE;YAClEN,EAAE,CAACM,OAAO,CAAC,GAAG,CAAC,CAAC;YAEhB,IAAIJ,UAAU,CAACI,OAAO,CAAC,CAACG,UAAU,EAAE;cAClCT,EAAE,CAACM,OAAO,CAAC,GAAGJ,UAAU,CAACI,OAAO,CAAC;YACnC,CAAC,MAAM;cACL9Y,MAAM,CAACwY,EAAE,CAACM,OAAO,CAAC,EAAEJ,UAAU,CAACI,OAAO,CAAC,CAAC;YAC1C;UACF,CAAC,MAAM;YACLN,EAAE,CAACM,OAAO,CAAC,GAAGJ,UAAU,CAACI,OAAO,CAAC;UACnC;QACF;MACF;IACF;EACF;EAEA,OAAON,EAAE;AACX;AAEA,SAASU,cAAcA,CAACnU,EAAE,EAAEoU,OAAO,EAAEC,QAAQ,EAAE;EAC7CrU,EAAE,CAACzD,KAAK,CAAC+X,WAAW,CAACF,OAAO,EAAEC,QAAQ,CAAC;AACzC;AAEA,SAASE,oBAAoBA,CAAC;EAC5BC,MAAM,EAANA,MAAM;EACNC,cAAc,EAAdA,cAAc;EACdC,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAM1V,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAM6V,aAAa,GAAG,CAACH,MAAM,CAACI,SAAS;EACvC,IAAI/H,SAAS,GAAG,IAAI;EACpB,IAAIE,IAAI;EACR,MAAMtI,QAAQ,GAAG+P,MAAM,CAAC/G,MAAM,CAACoH,KAAK;EACpCL,MAAM,CAACM,SAAS,CAACvY,KAAK,CAACwY,cAAc,GAAG,MAAM;EAC9C/V,MAAM,CAACJ,oBAAoB,CAAC4V,MAAM,CAACQ,cAAc,CAAC;EAClD,MAAMC,GAAG,GAAGR,cAAc,GAAGE,aAAa,GAAG,MAAM,GAAG,MAAM;EAE5D,MAAMO,YAAY,GAAGA,CAACC,OAAO,EAAEja,MAAM,KAAK;IACxC,OAAO+Z,GAAG,KAAK,MAAM,IAAIE,OAAO,IAAIja,MAAM,IAAI+Z,GAAG,KAAK,MAAM,IAAIE,OAAO,IAAIja,MAAM;EACnF,CAAC;EAED,MAAM6Q,OAAO,GAAGA,CAAA,KAAM;IACpBgB,IAAI,GAAG,IAAI1O,IAAI,CAAC,CAAC,CAAC2O,OAAO,CAAC,CAAC;IAE3B,IAAIH,SAAS,KAAK,IAAI,EAAE;MACtBA,SAAS,GAAGE,IAAI;IAClB;IAEA,MAAME,QAAQ,GAAGR,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC,CAACI,IAAI,GAAGF,SAAS,IAAIpI,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACxE,MAAMyI,YAAY,GAAG,GAAG,GAAGT,IAAI,CAACU,GAAG,CAACF,QAAQ,GAAGR,IAAI,CAACW,EAAE,CAAC,GAAG,CAAC;IAC3D,IAAIgI,eAAe,GAAGT,aAAa,GAAGzH,YAAY,IAAIuH,cAAc,GAAGE,aAAa,CAAC;IAErF,IAAIO,YAAY,CAACE,eAAe,EAAEX,cAAc,CAAC,EAAE;MACjDW,eAAe,GAAGX,cAAc;IAClC;IAEAD,MAAM,CAACM,SAAS,CAACjJ,QAAQ,CAAAiF,eAAA,KACtB4D,IAAI,EAAGU,eAAe,CACxB,CAAC;IAEF,IAAIF,YAAY,CAACE,eAAe,EAAEX,cAAc,CAAC,EAAE;MACjDD,MAAM,CAACM,SAAS,CAACvY,KAAK,CAAC8Y,QAAQ,GAAG,QAAQ;MAC1Cb,MAAM,CAACM,SAAS,CAACvY,KAAK,CAACwY,cAAc,GAAG,EAAE;MAC1CxW,UAAU,CAAC,MAAM;QACfiW,MAAM,CAACM,SAAS,CAACvY,KAAK,CAAC8Y,QAAQ,GAAG,EAAE;QACpCb,MAAM,CAACM,SAAS,CAACjJ,QAAQ,CAAAiF,eAAA,KACtB4D,IAAI,EAAGU,eAAe,CACxB,CAAC;MACJ,CAAC,CAAC;MACFpW,MAAM,CAACJ,oBAAoB,CAAC4V,MAAM,CAACQ,cAAc,CAAC;MAClD;IACF;IAEAR,MAAM,CAACQ,cAAc,GAAGhW,MAAM,CAACN,qBAAqB,CAACqN,OAAO,CAAC;EAC/D,CAAC;EAEDA,OAAO,CAAC,CAAC;AACX;;;;;;;;AClMA,IAAA9M,UAAA,GAAAC,OAAA;AACA,IAAIoW,OAAO;AAEX,SAASC,WAAWA,CAAA,EAAG;EACrB,MAAMvW,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAMtB,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,OAAO;IACLkY,YAAY,EAAEhY,QAAQ,CAACiY,eAAe,IAAI,gBAAgB,IAAIjY,QAAQ,CAACiY,eAAe,CAAClZ,KAAK;IAC5FmZ,KAAK,EAAE,CAAC,EAAE,cAAc,IAAI1W,MAAM,IAAIA,MAAM,CAAC2W,aAAa,IAAInY,QAAQ,YAAYwB,MAAM,CAAC2W,aAAa,CAAC;IACvGC,eAAe,EAAE,SAASC,oBAAoBA,CAAA,EAAG;MAC/C,IAAIC,eAAe,GAAG,KAAK;MAE3B,IAAI;QACF,MAAMC,IAAI,GAAG/a,MAAM,CAACsE,cAAc,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE;UAChD;UACAC,GAAG,WAAAA,CAAA,EAAG;YACJuW,eAAe,GAAG,IAAI;UACxB;QAEF,CAAC,CAAC;QACF9W,MAAM,CAACtD,gBAAgB,CAAC,qBAAqB,EAAE,IAAI,EAAEqa,IAAI,CAAC;MAC5D,CAAC,CAAC,OAAO7Q,CAAC,EAAE,CAAC;MAAA;MAGb,OAAO4Q,eAAe;IACxB,CAAC,CAAC,CAAC;IACHE,QAAQ,EAAE,SAASC,aAAaA,CAAA,EAAG;MACjC,OAAO,gBAAgB,IAAIjX,MAAM;IACnC,CAAC,CAAC;EACJ,CAAC;AACH;AAEA,SAASkX,UAAUA,CAAA,EAAG;EACpB,IAAI,CAACZ,OAAO,EAAE;IACZA,OAAO,GAAGC,WAAW,CAAC,CAAC;EACzB;EAEA,OAAOD,OAAO;AAChB;;;;;;;;ACtCA,IAAArW,UAAA,GAAAC,OAAA;AACA,IAAAiX,WAAA,GAAAjX,OAAA;AACA,IAAIkX,YAAY;AAEhB,SAASC,UAAUA,CAAC;EAClB1Y,SAAS,EAATA;AACF,CAAC,GAAG,CAAC,CAAC,EAAE;EACN,MAAM2X,OAAO,GAAG,IAAAY,sBAAU,EAAC,CAAC;EAC5B,MAAMlX,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAMwX,QAAQ,GAAGtX,MAAM,CAACtB,SAAS,CAAC4Y,QAAQ;EAC1C,MAAMC,EAAE,GAAG5Y,SAAS,IAAIqB,MAAM,CAACtB,SAAS,CAACC,SAAS;EAClD,MAAM6Y,MAAM,GAAG;IACbC,GAAG,EAAE,KAAK;IACVC,OAAO,EAAE;EACX,CAAC;EACD,MAAMC,WAAW,GAAG3X,MAAM,CAACV,MAAM,CAAC+I,KAAK;EACvC,MAAMuP,YAAY,GAAG5X,MAAM,CAACV,MAAM,CAACsJ,MAAM;EACzC,MAAM8O,OAAO,GAAGH,EAAE,CAACxV,KAAK,CAAC,6BAA6B,CAAC,CAAC,CAAC;;EAEzD,IAAI8V,IAAI,GAAGN,EAAE,CAACxV,KAAK,CAAC,sBAAsB,CAAC;EAC3C,MAAM+V,IAAI,GAAGP,EAAE,CAACxV,KAAK,CAAC,yBAAyB,CAAC;EAChD,MAAMgW,MAAM,GAAG,CAACF,IAAI,IAAIN,EAAE,CAACxV,KAAK,CAAC,4BAA4B,CAAC;EAC9D,MAAMiW,OAAO,GAAGV,QAAQ,KAAK,OAAO;EACpC,IAAIW,KAAK,GAAGX,QAAQ,KAAK,UAAU,CAAC,CAAC;;EAErC,MAAMY,WAAW,GAAG,CAAC,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EAEtK,IAAI,CAACL,IAAI,IAAII,KAAK,IAAI3B,OAAO,CAACI,KAAK,IAAIwB,WAAW,CAACxW,OAAO,IAAAyW,MAAA,CAAIR,WAAW,OAAAQ,MAAA,CAAIP,YAAY,CAAE,CAAC,IAAI,CAAC,EAAE;IACjGC,IAAI,GAAGN,EAAE,CAACxV,KAAK,CAAC,qBAAqB,CAAC;IACtC,IAAI,CAAC8V,IAAI,EAAEA,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC;IAClCI,KAAK,GAAG,KAAK;EACf,CAAC,CAAC;;EAGF,IAAIP,OAAO,IAAI,CAACM,OAAO,EAAE;IACvBR,MAAM,CAACY,EAAE,GAAG,SAAS;IACrBZ,MAAM,CAACE,OAAO,GAAG,IAAI;EACvB;EAEA,IAAIG,IAAI,IAAIE,MAAM,IAAID,IAAI,EAAE;IAC1BN,MAAM,CAACY,EAAE,GAAG,KAAK;IACjBZ,MAAM,CAACC,GAAG,GAAG,IAAI;EACnB,CAAC,CAAC;;EAGF,OAAOD,MAAM;AACf;AAEA,SAASa,SAASA,CAACC,SAAS,GAAG,CAAC,CAAC,EAAE;EACjC,IAAI,CAAClB,YAAY,EAAE;IACjBA,YAAY,GAAGC,UAAU,CAACiB,SAAS,CAAC;EACtC;EAEA,OAAOlB,YAAY;AACrB;;;;;;;;ACtDA,IAAAnX,UAAA,GAAAC,OAAA;AACA,IAAIqY,OAAO;AAEX,SAASC,WAAWA,CAAA,EAAG;EACrB,MAAMxY,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAE1B,SAAS2Y,QAAQA,CAAA,EAAG;IAClB,MAAMlB,EAAE,GAAGvX,MAAM,CAACtB,SAAS,CAACC,SAAS,CAACkD,WAAW,CAAC,CAAC;IACnD,OAAO0V,EAAE,CAAC7V,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI6V,EAAE,CAAC7V,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI6V,EAAE,CAAC7V,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC;EAC3F;EAEA,OAAO;IACL+W,QAAQ,EAAEA,QAAQ,CAAC,CAAC;IACpBC,SAAS,EAAE,8CAA8C,CAACC,IAAI,CAAC3Y,MAAM,CAACtB,SAAS,CAACC,SAAS;EAC3F,CAAC;AACH;AAEA,SAASia,UAAUA,CAAA,EAAG;EACpB,IAAI,CAACL,OAAO,EAAE;IACZA,OAAO,GAAGC,WAAW,CAAC,CAAC;EACzB;EAEA,OAAOD,OAAO;AAChB;;;;;;;;ACvBA,IAAAtY,UAAA,GAAAC,OAAA;AACe,SAAS2Y,MAAMA,CAAC;EAC7BrD,MAAM,EAANA,MAAM;EACN7P,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAM9Y,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,IAAIiZ,QAAQ,GAAG,IAAI;EACnB,IAAIC,cAAc,GAAG,IAAI;EAEzB,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI,CAACzD,MAAM,IAAIA,MAAM,CAAC0D,SAAS,IAAI,CAAC1D,MAAM,CAAC2D,WAAW,EAAE;IACxDL,IAAI,CAAC,cAAc,CAAC;IACpBA,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC;EAED,MAAMM,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI,CAAC5D,MAAM,IAAIA,MAAM,CAAC0D,SAAS,IAAI,CAAC1D,MAAM,CAAC2D,WAAW,EAAE;IACxDJ,QAAQ,GAAG,IAAIM,cAAc,CAACC,OAAO,IAAI;MACvCN,cAAc,GAAGhZ,MAAM,CAACN,qBAAqB,CAAC,MAAM;QAClD,MAAM;UACJ2I,KAAK,EAALA,KAAK;UACLO,MAAM,EAANA;QACF,CAAC,GAAG4M,MAAM;QACV,IAAI+D,QAAQ,GAAGlR,KAAK;QACpB,IAAImR,SAAS,GAAG5Q,MAAM;QACtB0Q,OAAO,CAACjd,OAAO,CAAC,CAAC;UACfod,cAAc,EAAdA,cAAc;UACdC,WAAW,EAAXA,WAAW;UACXxd,MAAM,EAANA;QACF,CAAC,KAAK;UACJ,IAAIA,MAAM,IAAIA,MAAM,KAAKsZ,MAAM,CAACxU,EAAE,EAAE;UACpCuY,QAAQ,GAAGG,WAAW,GAAGA,WAAW,CAACrR,KAAK,GAAG,CAACoR,cAAc,CAAC,CAAC,CAAC,IAAIA,cAAc,EAAEE,UAAU;UAC7FH,SAAS,GAAGE,WAAW,GAAGA,WAAW,CAAC9Q,MAAM,GAAG,CAAC6Q,cAAc,CAAC,CAAC,CAAC,IAAIA,cAAc,EAAEG,SAAS;QAChG,CAAC,CAAC;QAEF,IAAIL,QAAQ,KAAKlR,KAAK,IAAImR,SAAS,KAAK5Q,MAAM,EAAE;UAC9CqQ,aAAa,CAAC,CAAC;QACjB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IACFF,QAAQ,CAACc,OAAO,CAACrE,MAAM,CAACxU,EAAE,CAAC;EAC7B,CAAC;EAED,MAAM8Y,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAId,cAAc,EAAE;MAClBhZ,MAAM,CAACJ,oBAAoB,CAACoZ,cAAc,CAAC;IAC7C;IAEA,IAAID,QAAQ,IAAIA,QAAQ,CAACgB,SAAS,IAAIvE,MAAM,CAACxU,EAAE,EAAE;MAC/C+X,QAAQ,CAACgB,SAAS,CAACvE,MAAM,CAACxU,EAAE,CAAC;MAC7B+X,QAAQ,GAAG,IAAI;IACjB;EACF,CAAC;EAED,MAAMiB,wBAAwB,GAAGA,CAAA,KAAM;IACrC,IAAI,CAACxE,MAAM,IAAIA,MAAM,CAAC0D,SAAS,IAAI,CAAC1D,MAAM,CAAC2D,WAAW,EAAE;IACxDL,IAAI,CAAC,mBAAmB,CAAC;EAC3B,CAAC;EAEDnT,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAACwL,cAAc,IAAI,OAAOja,MAAM,CAACqZ,cAAc,KAAK,WAAW,EAAE;MAChFD,cAAc,CAAC,CAAC;MAChB;IACF;IAEApZ,MAAM,CAACtD,gBAAgB,CAAC,QAAQ,EAAEuc,aAAa,CAAC;IAChDjZ,MAAM,CAACtD,gBAAgB,CAAC,mBAAmB,EAAEsd,wBAAwB,CAAC;EACxE,CAAC,CAAC;EACFrU,EAAE,CAAC,SAAS,EAAE,MAAM;IAClBmU,cAAc,CAAC,CAAC;IAChB9Z,MAAM,CAACrD,mBAAmB,CAAC,QAAQ,EAAEsc,aAAa,CAAC;IACnDjZ,MAAM,CAACrD,mBAAmB,CAAC,mBAAmB,EAAEqd,wBAAwB,CAAC;EAC3E,CAAC,CAAC;AACJ;;;;;;;;AC1EA,IAAA/Z,UAAA,GAAAC,OAAA;AACe,SAASga,QAAQA,CAAC;EAC/B1E,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAMsB,SAAS,GAAG,EAAE;EACpB,MAAMpa,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAE1B,MAAMua,MAAM,GAAGA,CAACne,MAAM,EAAEmJ,OAAO,GAAG,CAAC,CAAC,KAAK;IACvC,MAAMiV,YAAY,GAAGta,MAAM,CAACua,gBAAgB,IAAIva,MAAM,CAACwa,sBAAsB;IAC7E,MAAMzB,QAAQ,GAAG,IAAIuB,YAAY,CAACG,SAAS,IAAI;MAC7C;MACA;MACA;MACA,IAAIA,SAAS,CAACle,MAAM,KAAK,CAAC,EAAE;QAC1Buc,IAAI,CAAC,gBAAgB,EAAE2B,SAAS,CAAC,CAAC,CAAC,CAAC;QACpC;MACF;MAEA,MAAMC,cAAc,GAAG,SAASA,cAAcA,CAAA,EAAG;QAC/C5B,IAAI,CAAC,gBAAgB,EAAE2B,SAAS,CAAC,CAAC,CAAC,CAAC;MACtC,CAAC;MAED,IAAIza,MAAM,CAACN,qBAAqB,EAAE;QAChCM,MAAM,CAACN,qBAAqB,CAACgb,cAAc,CAAC;MAC9C,CAAC,MAAM;QACL1a,MAAM,CAACT,UAAU,CAACmb,cAAc,EAAE,CAAC,CAAC;MACtC;IACF,CAAC,CAAC;IACF3B,QAAQ,CAACc,OAAO,CAAC3d,MAAM,EAAE;MACvB2I,UAAU,EAAE,OAAOQ,OAAO,CAACR,UAAU,KAAK,WAAW,GAAG,IAAI,GAAGQ,OAAO,CAACR,UAAU;MACjF8V,SAAS,EAAE,OAAOtV,OAAO,CAACsV,SAAS,KAAK,WAAW,GAAG,IAAI,GAAGtV,OAAO,CAACsV,SAAS;MAC9EC,aAAa,EAAE,OAAOvV,OAAO,CAACuV,aAAa,KAAK,WAAW,GAAG,IAAI,GAAGvV,OAAO,CAACuV;IAC/E,CAAC,CAAC;IACFR,SAAS,CAAClZ,IAAI,CAAC6X,QAAQ,CAAC;EAC1B,CAAC;EAED,MAAM8B,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAI,CAACrF,MAAM,CAAC/G,MAAM,CAACsK,QAAQ,EAAE;IAE7B,IAAIvD,MAAM,CAAC/G,MAAM,CAACqM,cAAc,EAAE;MAChC,MAAMC,gBAAgB,GAAGvF,MAAM,CAACwF,GAAG,CAACxU,OAAO,CAAC,CAAC;MAE7C,KAAK,IAAI/E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsZ,gBAAgB,CAACxe,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACnD4Y,MAAM,CAACU,gBAAgB,CAACtZ,CAAC,CAAC,CAAC;MAC7B;IACF,CAAC,CAAC;;IAGF4Y,MAAM,CAAC7E,MAAM,CAACwF,GAAG,CAAC,CAAC,CAAC,EAAE;MACpBL,SAAS,EAAEnF,MAAM,CAAC/G,MAAM,CAACwM;IAC3B,CAAC,CAAC,CAAC,CAAC;;IAEJZ,MAAM,CAAC7E,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,EAAE;MAC3BrW,UAAU,EAAE;IACd,CAAC,CAAC;EACJ,CAAC;EAED,MAAMsW,OAAO,GAAGA,CAAA,KAAM;IACpBf,SAAS,CAAC/d,OAAO,CAAC0c,QAAQ,IAAI;MAC5BA,QAAQ,CAACqC,UAAU,CAAC,CAAC;IACvB,CAAC,CAAC;IACFhB,SAAS,CAACjT,MAAM,CAAC,CAAC,EAAEiT,SAAS,CAAC7d,MAAM,CAAC;EACvC,CAAC;EAED4d,YAAY,CAAC;IACXpB,QAAQ,EAAE,KAAK;IACf+B,cAAc,EAAE,KAAK;IACrBG,oBAAoB,EAAE;EACxB,CAAC,CAAC;EACFtV,EAAE,CAAC,MAAM,EAAEkV,IAAI,CAAC;EAChBlV,EAAE,CAAC,SAAS,EAAEwV,OAAO,CAAC;AACxB;;;;;;;;AC1EA;AAAA,IAAA3J,QAAA,GACe;EACb7L,EAAE,WAAAA,CAACgB,MAAM,EAAEO,OAAO,EAAEmU,QAAQ,EAAE;IAC5B,MAAMC,IAAI,GAAG,IAAI;IACjB,IAAI,CAACA,IAAI,CAACC,eAAe,IAAID,IAAI,CAACpC,SAAS,EAAE,OAAOoC,IAAI;IACxD,IAAI,OAAOpU,OAAO,KAAK,UAAU,EAAE,OAAOoU,IAAI;IAC9C,MAAME,MAAM,GAAGH,QAAQ,GAAG,SAAS,GAAG,MAAM;IAC5C1U,MAAM,CAACxD,KAAK,CAAC,GAAG,CAAC,CAAC9G,OAAO,CAACuK,KAAK,IAAI;MACjC,IAAI,CAAC0U,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,EAAE0U,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,GAAG,EAAE;MAClE0U,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,CAAC4U,MAAM,CAAC,CAACtU,OAAO,CAAC;IAC9C,CAAC,CAAC;IACF,OAAOoU,IAAI;EACb,CAAC;EAEDjU,IAAI,WAAAA,CAACV,MAAM,EAAEO,OAAO,EAAEmU,QAAQ,EAAE;IAC9B,MAAMC,IAAI,GAAG,IAAI;IACjB,IAAI,CAACA,IAAI,CAACC,eAAe,IAAID,IAAI,CAACpC,SAAS,EAAE,OAAOoC,IAAI;IACxD,IAAI,OAAOpU,OAAO,KAAK,UAAU,EAAE,OAAOoU,IAAI;IAE9C,SAAS9T,WAAWA,CAAC,GAAG5B,IAAI,EAAE;MAC5B0V,IAAI,CAACtU,GAAG,CAACL,MAAM,EAAEa,WAAW,CAAC;MAE7B,IAAIA,WAAW,CAACiU,cAAc,EAAE;QAC9B,OAAOjU,WAAW,CAACiU,cAAc;MACnC;MAEAvU,OAAO,CAACX,KAAK,CAAC+U,IAAI,EAAE1V,IAAI,CAAC;IAC3B;IAEA4B,WAAW,CAACiU,cAAc,GAAGvU,OAAO;IACpC,OAAOoU,IAAI,CAAC3V,EAAE,CAACgB,MAAM,EAAEa,WAAW,EAAE6T,QAAQ,CAAC;EAC/C,CAAC;EAEDK,KAAK,WAAAA,CAACxU,OAAO,EAAEmU,QAAQ,EAAE;IACvB,MAAMC,IAAI,GAAG,IAAI;IACjB,IAAI,CAACA,IAAI,CAACC,eAAe,IAAID,IAAI,CAACpC,SAAS,EAAE,OAAOoC,IAAI;IACxD,IAAI,OAAOpU,OAAO,KAAK,UAAU,EAAE,OAAOoU,IAAI;IAC9C,MAAME,MAAM,GAAGH,QAAQ,GAAG,SAAS,GAAG,MAAM;IAE5C,IAAIC,IAAI,CAACK,kBAAkB,CAACja,OAAO,CAACwF,OAAO,CAAC,GAAG,CAAC,EAAE;MAChDoU,IAAI,CAACK,kBAAkB,CAACH,MAAM,CAAC,CAACtU,OAAO,CAAC;IAC1C;IAEA,OAAOoU,IAAI;EACb,CAAC;EAEDM,MAAM,WAAAA,CAAC1U,OAAO,EAAE;IACd,MAAMoU,IAAI,GAAG,IAAI;IACjB,IAAI,CAACA,IAAI,CAACC,eAAe,IAAID,IAAI,CAACpC,SAAS,EAAE,OAAOoC,IAAI;IACxD,IAAI,CAACA,IAAI,CAACK,kBAAkB,EAAE,OAAOL,IAAI;IACzC,MAAMvR,KAAK,GAAGuR,IAAI,CAACK,kBAAkB,CAACja,OAAO,CAACwF,OAAO,CAAC;IAEtD,IAAI6C,KAAK,IAAI,CAAC,EAAE;MACduR,IAAI,CAACK,kBAAkB,CAACxU,MAAM,CAAC4C,KAAK,EAAE,CAAC,CAAC;IAC1C;IAEA,OAAOuR,IAAI;EACb,CAAC;EAEDtU,GAAG,WAAAA,CAACL,MAAM,EAAEO,OAAO,EAAE;IACnB,MAAMoU,IAAI,GAAG,IAAI;IACjB,IAAI,CAACA,IAAI,CAACC,eAAe,IAAID,IAAI,CAACpC,SAAS,EAAE,OAAOoC,IAAI;IACxD,IAAI,CAACA,IAAI,CAACC,eAAe,EAAE,OAAOD,IAAI;IACtC3U,MAAM,CAACxD,KAAK,CAAC,GAAG,CAAC,CAAC9G,OAAO,CAACuK,KAAK,IAAI;MACjC,IAAI,OAAOM,OAAO,KAAK,WAAW,EAAE;QAClCoU,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,GAAG,EAAE;MAClC,CAAC,MAAM,IAAI0U,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,EAAE;QACtC0U,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,CAACvK,OAAO,CAAC,CAAC6T,YAAY,EAAEnG,KAAK,KAAK;UAC3D,IAAImG,YAAY,KAAKhJ,OAAO,IAAIgJ,YAAY,CAACuL,cAAc,IAAIvL,YAAY,CAACuL,cAAc,KAAKvU,OAAO,EAAE;YACtGoU,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,CAACO,MAAM,CAAC4C,KAAK,EAAE,CAAC,CAAC;UAC9C;QACF,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IACF,OAAOuR,IAAI;EACb,CAAC;EAEDxC,IAAI,WAAAA,CAAC,GAAGlT,IAAI,EAAE;IACZ,MAAM0V,IAAI,GAAG,IAAI;IACjB,IAAI,CAACA,IAAI,CAACC,eAAe,IAAID,IAAI,CAACpC,SAAS,EAAE,OAAOoC,IAAI;IACxD,IAAI,CAACA,IAAI,CAACC,eAAe,EAAE,OAAOD,IAAI;IACtC,IAAI3U,MAAM;IACV,IAAInC,IAAI;IACR,IAAIpC,OAAO;IAEX,IAAI,OAAOwD,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAIjF,KAAK,CAACM,OAAO,CAAC2E,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;MACzDe,MAAM,GAAGf,IAAI,CAAC,CAAC,CAAC;MAChBpB,IAAI,GAAGoB,IAAI,CAACyO,KAAK,CAAC,CAAC,EAAEzO,IAAI,CAACrJ,MAAM,CAAC;MACjC6F,OAAO,GAAGkZ,IAAI;IAChB,CAAC,MAAM;MACL3U,MAAM,GAAGf,IAAI,CAAC,CAAC,CAAC,CAACe,MAAM;MACvBnC,IAAI,GAAGoB,IAAI,CAAC,CAAC,CAAC,CAACpB,IAAI;MACnBpC,OAAO,GAAGwD,IAAI,CAAC,CAAC,CAAC,CAACxD,OAAO,IAAIkZ,IAAI;IACnC;IAEA9W,IAAI,CAAC6B,OAAO,CAACjE,OAAO,CAAC;IACrB,MAAMyZ,WAAW,GAAGlb,KAAK,CAACM,OAAO,CAAC0F,MAAM,CAAC,GAAGA,MAAM,GAAGA,MAAM,CAACxD,KAAK,CAAC,GAAG,CAAC;IACtE0Y,WAAW,CAACxf,OAAO,CAACuK,KAAK,IAAI;MAC3B,IAAI0U,IAAI,CAACK,kBAAkB,IAAIL,IAAI,CAACK,kBAAkB,CAACpf,MAAM,EAAE;QAC7D+e,IAAI,CAACK,kBAAkB,CAACtf,OAAO,CAAC6T,YAAY,IAAI;UAC9CA,YAAY,CAAC3J,KAAK,CAACnE,OAAO,EAAE,CAACwE,KAAK,EAAE,GAAGpC,IAAI,CAAC,CAAC;QAC/C,CAAC,CAAC;MACJ;MAEA,IAAI8W,IAAI,CAACC,eAAe,IAAID,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,EAAE;QACvD0U,IAAI,CAACC,eAAe,CAAC3U,KAAK,CAAC,CAACvK,OAAO,CAAC6T,YAAY,IAAI;UAClDA,YAAY,CAAC3J,KAAK,CAACnE,OAAO,EAAEoC,IAAI,CAAC;QACnC,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IACF,OAAO8W,IAAI;EACb;AAEF,CAAC;AAAAjd,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACjHc,SAASsK,UAAUA,CAAA,EAAG;EACnC,MAAMtG,MAAM,GAAG,IAAI;EACnB,IAAInN,KAAK;EACT,IAAIO,MAAM;EACV,MAAMoS,GAAG,GAAGxF,MAAM,CAACwF,GAAG;EAEtB,IAAI,OAAOxF,MAAM,CAAC/G,MAAM,CAACpG,KAAK,KAAK,WAAW,IAAImN,MAAM,CAAC/G,MAAM,CAACpG,KAAK,KAAK,IAAI,EAAE;IAC9EA,KAAK,GAAGmN,MAAM,CAAC/G,MAAM,CAACpG,KAAK;EAC7B,CAAC,MAAM;IACLA,KAAK,GAAG2S,GAAG,CAAC,CAAC,CAAC,CAACe,WAAW;EAC5B;EAEA,IAAI,OAAOvG,MAAM,CAAC/G,MAAM,CAAC7F,MAAM,KAAK,WAAW,IAAI4M,MAAM,CAAC/G,MAAM,CAAC7F,MAAM,KAAK,IAAI,EAAE;IAChFA,MAAM,GAAG4M,MAAM,CAAC/G,MAAM,CAAC7F,MAAM;EAC/B,CAAC,MAAM;IACLA,MAAM,GAAGoS,GAAG,CAAC,CAAC,CAAC,CAACgB,YAAY;EAC9B;EAEA,IAAI3T,KAAK,KAAK,CAAC,IAAImN,MAAM,CAACyG,YAAY,CAAC,CAAC,IAAIrT,MAAM,KAAK,CAAC,IAAI4M,MAAM,CAAC0G,UAAU,CAAC,CAAC,EAAE;IAC/E;EACF,CAAC,CAAC;;EAGF7T,KAAK,GAAGA,KAAK,GAAG8T,QAAQ,CAACnB,GAAG,CAACzS,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,GAAG4T,QAAQ,CAACnB,GAAG,CAACzS,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;EACxGK,MAAM,GAAGA,MAAM,GAAGuT,QAAQ,CAACnB,GAAG,CAACzS,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,GAAG4T,QAAQ,CAACnB,GAAG,CAACzS,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;EAC1G,IAAIqK,MAAM,CAACwJ,KAAK,CAAC/T,KAAK,CAAC,EAAEA,KAAK,GAAG,CAAC;EAClC,IAAIuK,MAAM,CAACwJ,KAAK,CAACxT,MAAM,CAAC,EAAEA,MAAM,GAAG,CAAC;EACpC5M,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;IACpBnN,KAAK,EAALA,KAAK;IACLO,MAAM,EAANA,MAAM;IACNyT,IAAI,EAAE7G,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG5T,KAAK,GAAGO;EACxC,CAAC,CAAC;AACJ;;;;;;;;AChCA,IAAA0T,MAAA,GAAApc,OAAA;AAAuD,SAAAkS,QAAAtW,GAAA,sCAAAsW,OAAA,wBAAAK,MAAA,uBAAAA,MAAA,CAAAI,QAAA,aAAA/W,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAA2W,MAAA,IAAA3W,GAAA,CAAAC,WAAA,KAAA0W,MAAA,IAAA3W,GAAA,KAAA2W,MAAA,CAAArR,SAAA,qBAAAtF,GAAA,KAAAsW,OAAA,CAAAtW,GAAA;AAAA,SAAAgW,gBAAAhW,GAAA,EAAAQ,GAAA,EAAAmE,KAAA,IAAAnE,GAAA,GAAAyV,cAAA,CAAAzV,GAAA,OAAAA,GAAA,IAAAR,GAAA,IAAAE,MAAA,CAAAsE,cAAA,CAAAxE,GAAA,EAAAQ,GAAA,IAAAmE,KAAA,EAAAA,KAAA,EAAAuR,UAAA,QAAAC,YAAA,QAAAJ,QAAA,oBAAA/V,GAAA,CAAAQ,GAAA,IAAAmE,KAAA,WAAA3E,GAAA;AAAA,SAAAiW,eAAAG,GAAA,QAAA5V,GAAA,GAAA6V,YAAA,CAAAD,GAAA,oBAAAE,OAAA,CAAA9V,GAAA,iBAAAA,GAAA,GAAA+V,MAAA,CAAA/V,GAAA;AAAA,SAAA6V,aAAAG,KAAA,EAAAC,IAAA,QAAAH,OAAA,CAAAE,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAvO,SAAA,QAAAlD,GAAA,GAAAyR,IAAA,CAAAlR,IAAA,CAAAgR,KAAA,EAAAC,IAAA,oBAAAH,OAAA,CAAArR,GAAA,uBAAAA,GAAA,YAAA4R,SAAA,4DAAAJ,IAAA,gBAAAF,MAAA,GAAAO,MAAA,EAAAN,KAAA;AACxC,SAASiK,YAAYA,CAAA,EAAG;EACrC,MAAM/G,MAAM,GAAG,IAAI;EAEnB,SAASgH,iBAAiBA,CAACC,QAAQ,EAAE;IACnC,IAAIjH,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;MACzB,OAAOQ,QAAQ;IACjB,CAAC,CAAC;;IAGF,OAAO;MACL,OAAO,EAAE,QAAQ;MACjB,YAAY,EAAE,aAAa;MAC3B,gBAAgB,EAAE,cAAc;MAChC,aAAa,EAAE,YAAY;MAC3B,cAAc,EAAE,eAAe;MAC/B,cAAc,EAAE,aAAa;MAC7B,eAAe,EAAE,gBAAgB;MACjC,aAAa,EAAE;IACjB,CAAC,CAACA,QAAQ,CAAC;EACb;EAEA,SAASC,yBAAyBA,CAACnI,IAAI,EAAEoI,KAAK,EAAE;IAC9C,OAAO5X,UAAU,CAACwP,IAAI,CAACpV,gBAAgB,CAACqd,iBAAiB,CAACG,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC;EACzE;EAEA,MAAMlO,MAAM,GAAG+G,MAAM,CAAC/G,MAAM;EAC5B,MAAM;IACJyM,UAAU,EAAVA,UAAU;IACVmB,IAAI,EAAEO,UAAU;IAChBC,YAAY,EAAEC,GAAG;IACjBC,QAAQ,EAARA;EACF,CAAC,GAAGvH,MAAM;EACV,MAAMwH,SAAS,GAAGxH,MAAM,CAACyH,OAAO,IAAIxO,MAAM,CAACwO,OAAO,CAACC,OAAO;EAC1D,MAAMC,oBAAoB,GAAGH,SAAS,GAAGxH,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAC7gB,MAAM,GAAGiZ,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM;EAC5F,MAAM6gB,MAAM,GAAGlC,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,CAAE,CAAC;EAClE,MAAMC,YAAY,GAAGN,SAAS,GAAGxH,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAC7gB,MAAM,GAAG6gB,MAAM,CAAC7gB,MAAM;EAC7E,IAAIghB,QAAQ,GAAG,EAAE;EACjB,MAAMC,UAAU,GAAG,EAAE;EACrB,MAAMC,eAAe,GAAG,EAAE;EAC1B,IAAIC,YAAY,GAAGjP,MAAM,CAACkP,kBAAkB;EAE5C,IAAI,OAAOD,YAAY,KAAK,UAAU,EAAE;IACtCA,YAAY,GAAGjP,MAAM,CAACkP,kBAAkB,CAACrc,IAAI,CAACkU,MAAM,CAAC;EACvD;EAEA,IAAIoI,WAAW,GAAGnP,MAAM,CAACoP,iBAAiB;EAE1C,IAAI,OAAOD,WAAW,KAAK,UAAU,EAAE;IACrCA,WAAW,GAAGnP,MAAM,CAACoP,iBAAiB,CAACvc,IAAI,CAACkU,MAAM,CAAC;EACrD;EAEA,MAAMsI,sBAAsB,GAAGtI,MAAM,CAAC+H,QAAQ,CAAChhB,MAAM;EACrD,MAAMwhB,wBAAwB,GAAGvI,MAAM,CAACgI,UAAU,CAACjhB,MAAM;EACzD,IAAIyhB,YAAY,GAAGvP,MAAM,CAACuP,YAAY;EACtC,IAAIC,aAAa,GAAG,CAACP,YAAY;EACjC,IAAIQ,aAAa,GAAG,CAAC;EACrB,IAAInU,KAAK,GAAG,CAAC;EAEb,IAAI,OAAO6S,UAAU,KAAK,WAAW,EAAE;IACrC;EACF;EAEA,IAAI,OAAOoB,YAAY,KAAK,QAAQ,IAAIA,YAAY,CAACtc,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;IACtEsc,YAAY,GAAGjZ,UAAU,CAACiZ,YAAY,CAAClc,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG8a,UAAU;EAC7E;EAEApH,MAAM,CAAC2I,WAAW,GAAG,CAACH,YAAY,CAAC,CAAC;;EAEpC,IAAIlB,GAAG,EAAEM,MAAM,CAAC7U,GAAG,CAAC;IAClB6V,UAAU,EAAE,EAAE;IACdC,YAAY,EAAE,EAAE;IAChBC,SAAS,EAAE;EACb,CAAC,CAAC,CAAC,KAAKlB,MAAM,CAAC7U,GAAG,CAAC;IACjBgW,WAAW,EAAE,EAAE;IACfF,YAAY,EAAE,EAAE;IAChBC,SAAS,EAAE;EACb,CAAC,CAAC,CAAC,CAAC;;EAEJ,IAAI7P,MAAM,CAAC+P,cAAc,IAAI/P,MAAM,CAACgQ,OAAO,EAAE;IAC3C,IAAAtJ,qBAAc,EAACK,MAAM,CAACM,SAAS,EAAE,iCAAiC,EAAE,EAAE,CAAC;IACvE,IAAAX,qBAAc,EAACK,MAAM,CAACM,SAAS,EAAE,gCAAgC,EAAE,EAAE,CAAC;EACxE;EAEA,MAAM4I,WAAW,GAAGjQ,MAAM,CAACkQ,IAAI,IAAIlQ,MAAM,CAACkQ,IAAI,CAACC,IAAI,GAAG,CAAC,IAAIpJ,MAAM,CAACmJ,IAAI;EAEtE,IAAID,WAAW,EAAE;IACflJ,MAAM,CAACmJ,IAAI,CAACE,UAAU,CAACvB,YAAY,CAAC;EACtC,CAAC,CAAC;;EAGF,IAAIwB,SAAS;EACb,MAAMC,oBAAoB,GAAGtQ,MAAM,CAACuQ,aAAa,KAAK,MAAM,IAAIvQ,MAAM,CAACwQ,WAAW,IAAIjjB,MAAM,CAACI,IAAI,CAACqS,MAAM,CAACwQ,WAAW,CAAC,CAAC5d,MAAM,CAAC/E,GAAG,IAAI;IAClI,OAAO,OAAOmS,MAAM,CAACwQ,WAAW,CAAC3iB,GAAG,CAAC,CAAC0iB,aAAa,KAAK,WAAW;EACrE,CAAC,CAAC,CAACziB,MAAM,GAAG,CAAC;EAEb,KAAK,IAAIkF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6b,YAAY,EAAE7b,CAAC,IAAI,CAAC,EAAE;IACxCqd,SAAS,GAAG,CAAC;IACb,MAAMI,KAAK,GAAG9B,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;IAE1B,IAAIid,WAAW,EAAE;MACflJ,MAAM,CAACmJ,IAAI,CAACQ,WAAW,CAAC1d,CAAC,EAAEyd,KAAK,EAAE5B,YAAY,EAAEd,iBAAiB,CAAC;IACpE;IAEA,IAAI0C,KAAK,CAAC3W,GAAG,CAAC,SAAS,CAAC,KAAK,MAAM,EAAE,SAAS,CAAC;;IAE/C,IAAIkG,MAAM,CAACuQ,aAAa,KAAK,MAAM,EAAE;MACnC,IAAID,oBAAoB,EAAE;QACxB3B,MAAM,CAAC3b,CAAC,CAAC,CAAClE,KAAK,CAACif,iBAAiB,CAAC,OAAO,CAAC,CAAC,KAAK;MAClD;MAEA,MAAM4C,WAAW,GAAGlgB,gBAAgB,CAACggB,KAAK,CAAC,CAAC,CAAC,CAAC;MAC9C,MAAMG,gBAAgB,GAAGH,KAAK,CAAC,CAAC,CAAC,CAAC3hB,KAAK,CAACgI,SAAS;MACjD,MAAM+Z,sBAAsB,GAAGJ,KAAK,CAAC,CAAC,CAAC,CAAC3hB,KAAK,CAACoW,eAAe;MAE7D,IAAI0L,gBAAgB,EAAE;QACpBH,KAAK,CAAC,CAAC,CAAC,CAAC3hB,KAAK,CAACgI,SAAS,GAAG,MAAM;MACnC;MAEA,IAAI+Z,sBAAsB,EAAE;QAC1BJ,KAAK,CAAC,CAAC,CAAC,CAAC3hB,KAAK,CAACoW,eAAe,GAAG,MAAM;MACzC;MAEA,IAAIlF,MAAM,CAAC8Q,YAAY,EAAE;QACvBT,SAAS,GAAGtJ,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGiD,KAAK,CAAC1W,UAAU,CAAC,IAAI,CAAC,GAAG0W,KAAK,CAACpW,WAAW,CAAC,IAAI,CAAC;MACtF,CAAC,MAAM;QACL;QACA,MAAMT,KAAK,GAAGqU,yBAAyB,CAAC0C,WAAW,EAAE,OAAO,CAAC;QAC7D,MAAMI,WAAW,GAAG9C,yBAAyB,CAAC0C,WAAW,EAAE,cAAc,CAAC;QAC1E,MAAMK,YAAY,GAAG/C,yBAAyB,CAAC0C,WAAW,EAAE,eAAe,CAAC;QAC5E,MAAMhB,UAAU,GAAG1B,yBAAyB,CAAC0C,WAAW,EAAE,aAAa,CAAC;QACxE,MAAMb,WAAW,GAAG7B,yBAAyB,CAAC0C,WAAW,EAAE,cAAc,CAAC;QAC1E,MAAMM,SAAS,GAAGN,WAAW,CAACjgB,gBAAgB,CAAC,YAAY,CAAC;QAE5D,IAAIugB,SAAS,IAAIA,SAAS,KAAK,YAAY,EAAE;UAC3CZ,SAAS,GAAGzW,KAAK,GAAG+V,UAAU,GAAGG,WAAW;QAC9C,CAAC,MAAM;UACL,MAAM;YACJxC,WAAW,EAAXA,WAAW;YACXpT,WAAW,EAAXA;UACF,CAAC,GAAGuW,KAAK,CAAC,CAAC,CAAC;UACZJ,SAAS,GAAGzW,KAAK,GAAGmX,WAAW,GAAGC,YAAY,GAAGrB,UAAU,GAAGG,WAAW,IAAI5V,WAAW,GAAGoT,WAAW,CAAC;QACzG;MACF;MAEA,IAAIsD,gBAAgB,EAAE;QACpBH,KAAK,CAAC,CAAC,CAAC,CAAC3hB,KAAK,CAACgI,SAAS,GAAG8Z,gBAAgB;MAC7C;MAEA,IAAIC,sBAAsB,EAAE;QAC1BJ,KAAK,CAAC,CAAC,CAAC,CAAC3hB,KAAK,CAACoW,eAAe,GAAG2L,sBAAsB;MACzD;MAEA,IAAI7Q,MAAM,CAAC8Q,YAAY,EAAET,SAAS,GAAGrR,IAAI,CAACkS,KAAK,CAACb,SAAS,CAAC;IAC5D,CAAC,MAAM;MACLA,SAAS,GAAG,CAAClC,UAAU,GAAG,CAACnO,MAAM,CAACuQ,aAAa,GAAG,CAAC,IAAIhB,YAAY,IAAIvP,MAAM,CAACuQ,aAAa;MAC3F,IAAIvQ,MAAM,CAAC8Q,YAAY,EAAET,SAAS,GAAGrR,IAAI,CAACkS,KAAK,CAACb,SAAS,CAAC;MAE1D,IAAI1B,MAAM,CAAC3b,CAAC,CAAC,EAAE;QACb2b,MAAM,CAAC3b,CAAC,CAAC,CAAClE,KAAK,CAACif,iBAAiB,CAAC,OAAO,CAAC,CAAC,MAAArE,MAAA,CAAM2G,SAAS,OAAI;MAChE;IACF;IAEA,IAAI1B,MAAM,CAAC3b,CAAC,CAAC,EAAE;MACb2b,MAAM,CAAC3b,CAAC,CAAC,CAACme,eAAe,GAAGd,SAAS;IACvC;IAEArB,eAAe,CAACvc,IAAI,CAAC4d,SAAS,CAAC;IAE/B,IAAIrQ,MAAM,CAAC+P,cAAc,EAAE;MACzBP,aAAa,GAAGA,aAAa,GAAGa,SAAS,GAAG,CAAC,GAAGZ,aAAa,GAAG,CAAC,GAAGF,YAAY;MAChF,IAAIE,aAAa,KAAK,CAAC,IAAIzc,CAAC,KAAK,CAAC,EAAEwc,aAAa,GAAGA,aAAa,GAAGrB,UAAU,GAAG,CAAC,GAAGoB,YAAY;MACjG,IAAIvc,CAAC,KAAK,CAAC,EAAEwc,aAAa,GAAGA,aAAa,GAAGrB,UAAU,GAAG,CAAC,GAAGoB,YAAY;MAC1E,IAAIvQ,IAAI,CAACoS,GAAG,CAAC5B,aAAa,CAAC,GAAG,CAAC,GAAG,IAAI,EAAEA,aAAa,GAAG,CAAC;MACzD,IAAIxP,MAAM,CAAC8Q,YAAY,EAAEtB,aAAa,GAAGxQ,IAAI,CAACkS,KAAK,CAAC1B,aAAa,CAAC;MAClE,IAAIlU,KAAK,GAAG0E,MAAM,CAACqR,cAAc,KAAK,CAAC,EAAEvC,QAAQ,CAACrc,IAAI,CAAC+c,aAAa,CAAC;MACrET,UAAU,CAACtc,IAAI,CAAC+c,aAAa,CAAC;IAChC,CAAC,MAAM;MACL,IAAIxP,MAAM,CAAC8Q,YAAY,EAAEtB,aAAa,GAAGxQ,IAAI,CAACkS,KAAK,CAAC1B,aAAa,CAAC;MAClE,IAAI,CAAClU,KAAK,GAAG0D,IAAI,CAACE,GAAG,CAAC6H,MAAM,CAAC/G,MAAM,CAACsR,kBAAkB,EAAEhW,KAAK,CAAC,IAAIyL,MAAM,CAAC/G,MAAM,CAACqR,cAAc,KAAK,CAAC,EAAEvC,QAAQ,CAACrc,IAAI,CAAC+c,aAAa,CAAC;MAClIT,UAAU,CAACtc,IAAI,CAAC+c,aAAa,CAAC;MAC9BA,aAAa,GAAGA,aAAa,GAAGa,SAAS,GAAGd,YAAY;IAC1D;IAEAxI,MAAM,CAAC2I,WAAW,IAAIW,SAAS,GAAGd,YAAY;IAC9CE,aAAa,GAAGY,SAAS;IACzB/U,KAAK,IAAI,CAAC;EACZ;EAEAyL,MAAM,CAAC2I,WAAW,GAAG1Q,IAAI,CAACC,GAAG,CAAC8H,MAAM,CAAC2I,WAAW,EAAEvB,UAAU,CAAC,GAAGgB,WAAW;EAE3E,IAAId,GAAG,IAAIC,QAAQ,KAAKtO,MAAM,CAACuR,MAAM,KAAK,OAAO,IAAIvR,MAAM,CAACuR,MAAM,KAAK,WAAW,CAAC,EAAE;IACnF9E,UAAU,CAAC3S,GAAG,CAAC;MACbF,KAAK,KAAA8P,MAAA,CAAK3C,MAAM,CAAC2I,WAAW,GAAG1P,MAAM,CAACuP,YAAY;IACpD,CAAC,CAAC;EACJ;EAEA,IAAIvP,MAAM,CAACwR,cAAc,EAAE;IACzB/E,UAAU,CAAC3S,GAAG,CAAAuJ,eAAA,KACX0K,iBAAiB,CAAC,OAAO,CAAC,KAAArE,MAAA,CAAM3C,MAAM,CAAC2I,WAAW,GAAG1P,MAAM,CAACuP,YAAY,QAC1E,CAAC;EACJ;EAEA,IAAIU,WAAW,EAAE;IACflJ,MAAM,CAACmJ,IAAI,CAACuB,iBAAiB,CAACpB,SAAS,EAAEvB,QAAQ,EAAEf,iBAAiB,CAAC;EACvE,CAAC,CAAC;;EAGF,IAAI,CAAC/N,MAAM,CAAC+P,cAAc,EAAE;IAC1B,MAAM2B,aAAa,GAAG,EAAE;IAExB,KAAK,IAAI1e,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8b,QAAQ,CAAChhB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAC3C,IAAI2e,cAAc,GAAG7C,QAAQ,CAAC9b,CAAC,CAAC;MAChC,IAAIgN,MAAM,CAAC8Q,YAAY,EAAEa,cAAc,GAAG3S,IAAI,CAACkS,KAAK,CAACS,cAAc,CAAC;MAEpE,IAAI7C,QAAQ,CAAC9b,CAAC,CAAC,IAAI+T,MAAM,CAAC2I,WAAW,GAAGvB,UAAU,EAAE;QAClDuD,aAAa,CAACjf,IAAI,CAACkf,cAAc,CAAC;MACpC;IACF;IAEA7C,QAAQ,GAAG4C,aAAa;IAExB,IAAI1S,IAAI,CAACkS,KAAK,CAACnK,MAAM,CAAC2I,WAAW,GAAGvB,UAAU,CAAC,GAAGnP,IAAI,CAACkS,KAAK,CAACpC,QAAQ,CAACA,QAAQ,CAAChhB,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;MAC/FghB,QAAQ,CAACrc,IAAI,CAACsU,MAAM,CAAC2I,WAAW,GAAGvB,UAAU,CAAC;IAChD;EACF;EAEA,IAAIW,QAAQ,CAAChhB,MAAM,KAAK,CAAC,EAAEghB,QAAQ,GAAG,CAAC,CAAC,CAAC;EAEzC,IAAI9O,MAAM,CAACuP,YAAY,KAAK,CAAC,EAAE;IAC7B,MAAM1hB,GAAG,GAAGkZ,MAAM,CAACyG,YAAY,CAAC,CAAC,IAAIa,GAAG,GAAG,YAAY,GAAGN,iBAAiB,CAAC,aAAa,CAAC;IAC1FY,MAAM,CAAC/b,MAAM,CAAC,CAACgf,CAAC,EAAEC,UAAU,KAAK;MAC/B,IAAI,CAAC7R,MAAM,CAACgQ,OAAO,EAAE,OAAO,IAAI;MAEhC,IAAI6B,UAAU,KAAKlD,MAAM,CAAC7gB,MAAM,GAAG,CAAC,EAAE;QACpC,OAAO,KAAK;MACd;MAEA,OAAO,IAAI;IACb,CAAC,CAAC,CAACgM,GAAG,CAAAuJ,eAAA,KACHxV,GAAG,KAAA6b,MAAA,CAAM6F,YAAY,QACvB,CAAC;EACJ;EAEA,IAAIvP,MAAM,CAAC+P,cAAc,IAAI/P,MAAM,CAAC8R,oBAAoB,EAAE;IACxD,IAAIC,aAAa,GAAG,CAAC;IACrB/C,eAAe,CAACphB,OAAO,CAACokB,cAAc,IAAI;MACxCD,aAAa,IAAIC,cAAc,IAAIhS,MAAM,CAACuP,YAAY,GAAGvP,MAAM,CAACuP,YAAY,GAAG,CAAC,CAAC;IACnF,CAAC,CAAC;IACFwC,aAAa,IAAI/R,MAAM,CAACuP,YAAY;IACpC,MAAM0C,OAAO,GAAGF,aAAa,GAAG5D,UAAU;IAC1CW,QAAQ,GAAGA,QAAQ,CAACta,GAAG,CAAC0d,IAAI,IAAI;MAC9B,IAAIA,IAAI,GAAG,CAAC,EAAE,OAAO,CAACjD,YAAY;MAClC,IAAIiD,IAAI,GAAGD,OAAO,EAAE,OAAOA,OAAO,GAAG9C,WAAW;MAChD,OAAO+C,IAAI;IACb,CAAC,CAAC;EACJ;EAEA,IAAIlS,MAAM,CAACmS,wBAAwB,EAAE;IACnC,IAAIJ,aAAa,GAAG,CAAC;IACrB/C,eAAe,CAACphB,OAAO,CAACokB,cAAc,IAAI;MACxCD,aAAa,IAAIC,cAAc,IAAIhS,MAAM,CAACuP,YAAY,GAAGvP,MAAM,CAACuP,YAAY,GAAG,CAAC,CAAC;IACnF,CAAC,CAAC;IACFwC,aAAa,IAAI/R,MAAM,CAACuP,YAAY;IAEpC,IAAIwC,aAAa,GAAG5D,UAAU,EAAE;MAC9B,MAAMiE,eAAe,GAAG,CAACjE,UAAU,GAAG4D,aAAa,IAAI,CAAC;MACxDjD,QAAQ,CAAClhB,OAAO,CAAC,CAACskB,IAAI,EAAEG,SAAS,KAAK;QACpCvD,QAAQ,CAACuD,SAAS,CAAC,GAAGH,IAAI,GAAGE,eAAe;MAC9C,CAAC,CAAC;MACFrD,UAAU,CAACnhB,OAAO,CAAC,CAACskB,IAAI,EAAEG,SAAS,KAAK;QACtCtD,UAAU,CAACsD,SAAS,CAAC,GAAGH,IAAI,GAAGE,eAAe;MAChD,CAAC,CAAC;IACJ;EACF;EAEA7kB,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;IACpB4H,MAAM,EAANA,MAAM;IACNG,QAAQ,EAARA,QAAQ;IACRC,UAAU,EAAVA,UAAU;IACVC,eAAe,EAAfA;EACF,CAAC,CAAC;EAEF,IAAIhP,MAAM,CAAC+P,cAAc,IAAI/P,MAAM,CAACgQ,OAAO,IAAI,CAAChQ,MAAM,CAAC8R,oBAAoB,EAAE;IAC3E,IAAApL,qBAAc,EAACK,MAAM,CAACM,SAAS,EAAE,iCAAiC,KAAAqC,MAAA,CAAK,CAACoF,QAAQ,CAAC,CAAC,CAAC,OAAI,CAAC;IACxF,IAAApI,qBAAc,EAACK,MAAM,CAACM,SAAS,EAAE,gCAAgC,KAAAqC,MAAA,CAAK3C,MAAM,CAAC6G,IAAI,GAAG,CAAC,GAAGoB,eAAe,CAACA,eAAe,CAAClhB,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,OAAI,CAAC;IAC5I,MAAMwkB,aAAa,GAAG,CAACvL,MAAM,CAAC+H,QAAQ,CAAC,CAAC,CAAC;IACzC,MAAMyD,eAAe,GAAG,CAACxL,MAAM,CAACgI,UAAU,CAAC,CAAC,CAAC;IAC7ChI,MAAM,CAAC+H,QAAQ,GAAG/H,MAAM,CAAC+H,QAAQ,CAACta,GAAG,CAACge,CAAC,IAAIA,CAAC,GAAGF,aAAa,CAAC;IAC7DvL,MAAM,CAACgI,UAAU,GAAGhI,MAAM,CAACgI,UAAU,CAACva,GAAG,CAACge,CAAC,IAAIA,CAAC,GAAGD,eAAe,CAAC;EACrE;EAEA,IAAI1D,YAAY,KAAKH,oBAAoB,EAAE;IACzC3H,MAAM,CAACsD,IAAI,CAAC,oBAAoB,CAAC;EACnC;EAEA,IAAIyE,QAAQ,CAAChhB,MAAM,KAAKuhB,sBAAsB,EAAE;IAC9C,IAAItI,MAAM,CAAC/G,MAAM,CAACyS,aAAa,EAAE1L,MAAM,CAAC2L,aAAa,CAAC,CAAC;IACvD3L,MAAM,CAACsD,IAAI,CAAC,sBAAsB,CAAC;EACrC;EAEA,IAAI0E,UAAU,CAACjhB,MAAM,KAAKwhB,wBAAwB,EAAE;IAClDvI,MAAM,CAACsD,IAAI,CAAC,wBAAwB,CAAC;EACvC;EAEA,IAAIrK,MAAM,CAAC2S,mBAAmB,EAAE;IAC9B5L,MAAM,CAAC6L,kBAAkB,CAAC,CAAC;EAC7B;EAEA,IAAI,CAACrE,SAAS,IAAI,CAACvO,MAAM,CAACgQ,OAAO,KAAKhQ,MAAM,CAACuR,MAAM,KAAK,OAAO,IAAIvR,MAAM,CAACuR,MAAM,KAAK,MAAM,CAAC,EAAE;IAC5F,MAAMsB,mBAAmB,MAAAnJ,MAAA,CAAM1J,MAAM,CAAC8S,sBAAsB,oBAAiB;IAC7E,MAAMC,0BAA0B,GAAGhM,MAAM,CAACwF,GAAG,CAACrX,QAAQ,CAAC2d,mBAAmB,CAAC;IAE3E,IAAIhE,YAAY,IAAI7O,MAAM,CAACgT,uBAAuB,EAAE;MAClD,IAAI,CAACD,0BAA0B,EAAEhM,MAAM,CAACwF,GAAG,CAAClY,QAAQ,CAACwe,mBAAmB,CAAC;IAC3E,CAAC,MAAM,IAAIE,0BAA0B,EAAE;MACrChM,MAAM,CAACwF,GAAG,CAAC1X,WAAW,CAACge,mBAAmB,CAAC;IAC7C;EACF;AACF;;;;;;;;AC/TA,IAAA5P,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAAS8lB,gBAAgBA,CAAC/L,KAAK,EAAE;EAC9C,MAAML,MAAM,GAAG,IAAI;EACnB,MAAMqM,YAAY,GAAG,EAAE;EACvB,MAAM7E,SAAS,GAAGxH,MAAM,CAACyH,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO;EACjE,IAAI1D,SAAS,GAAG,CAAC;EACjB,IAAI/X,CAAC;EAEL,IAAI,OAAOoU,KAAK,KAAK,QAAQ,EAAE;IAC7BL,MAAM,CAACsM,aAAa,CAACjM,KAAK,CAAC;EAC7B,CAAC,MAAM,IAAIA,KAAK,KAAK,IAAI,EAAE;IACzBL,MAAM,CAACsM,aAAa,CAACtM,MAAM,CAAC/G,MAAM,CAACoH,KAAK,CAAC;EAC3C;EAEA,MAAMkM,eAAe,GAAGhY,KAAK,IAAI;IAC/B,IAAIiT,SAAS,EAAE;MACb,OAAOxH,MAAM,CAAC4H,MAAM,CAAC/b,MAAM,CAACL,EAAE,IAAImb,QAAQ,CAACnb,EAAE,CAACgD,YAAY,CAAC,yBAAyB,CAAC,EAAE,EAAE,CAAC,KAAK+F,KAAK,CAAC,CAAC,CAAC,CAAC;IAC1G;IAEA,OAAOyL,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC;EACnC,CAAC,CAAC,CAAC;;EAGH,IAAIyL,MAAM,CAAC/G,MAAM,CAACuQ,aAAa,KAAK,MAAM,IAAIxJ,MAAM,CAAC/G,MAAM,CAACuQ,aAAa,GAAG,CAAC,EAAE;IAC7E,IAAIxJ,MAAM,CAAC/G,MAAM,CAAC+P,cAAc,EAAE;MAChC,CAAChJ,MAAM,CAACwM,aAAa,IAAI,IAAA1f,YAAC,EAAC,EAAE,CAAC,EAAEwH,IAAI,CAACoV,KAAK,IAAI;QAC5C2C,YAAY,CAAC3gB,IAAI,CAACge,KAAK,CAAC;MAC1B,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,KAAKzd,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgM,IAAI,CAACwU,IAAI,CAACzM,MAAM,CAAC/G,MAAM,CAACuQ,aAAa,CAAC,EAAEvd,CAAC,IAAI,CAAC,EAAE;QAC9D,MAAMsI,KAAK,GAAGyL,MAAM,CAAC0M,WAAW,GAAGzgB,CAAC;QACpC,IAAIsI,KAAK,GAAGyL,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,IAAI,CAACygB,SAAS,EAAE;QAChD6E,YAAY,CAAC3gB,IAAI,CAAC6gB,eAAe,CAAChY,KAAK,CAAC,CAAC;MAC3C;IACF;EACF,CAAC,MAAM;IACL8X,YAAY,CAAC3gB,IAAI,CAAC6gB,eAAe,CAACvM,MAAM,CAAC0M,WAAW,CAAC,CAAC;EACxD,CAAC,CAAC;;EAGF,KAAKzgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGogB,YAAY,CAACtlB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IAC3C,IAAI,OAAOogB,YAAY,CAACpgB,CAAC,CAAC,KAAK,WAAW,EAAE;MAC1C,MAAMmH,MAAM,GAAGiZ,YAAY,CAACpgB,CAAC,CAAC,CAACsH,YAAY;MAC3CyQ,SAAS,GAAG5Q,MAAM,GAAG4Q,SAAS,GAAG5Q,MAAM,GAAG4Q,SAAS;IACrD;EACF,CAAC,CAAC;;EAGF,IAAIA,SAAS,IAAIA,SAAS,KAAK,CAAC,EAAEhE,MAAM,CAAC0F,UAAU,CAAC3S,GAAG,CAAC,QAAQ,KAAA4P,MAAA,CAAKqB,SAAS,OAAI,CAAC;AACrF;;;;;;;;ACjDe,SAAS6H,kBAAkBA,CAAA,EAAG;EAC3C,MAAM7L,MAAM,GAAG,IAAI;EACnB,MAAM4H,MAAM,GAAG5H,MAAM,CAAC4H,MAAM;EAE5B,KAAK,IAAI3b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACzC2b,MAAM,CAAC3b,CAAC,CAAC,CAAC0gB,iBAAiB,GAAG3M,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGmB,MAAM,CAAC3b,CAAC,CAAC,CAAC2gB,UAAU,GAAGhF,MAAM,CAAC3b,CAAC,CAAC,CAAC4gB,SAAS;EAClG;AACF;;;;;;;;ACPA,IAAA3Q,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAASwmB,oBAAoBA,CAAC1M,SAAS,GAAG,IAAI,IAAI,IAAI,CAACA,SAAS,IAAI,CAAC,EAAE;EACpF,MAAMJ,MAAM,GAAG,IAAI;EACnB,MAAM/G,MAAM,GAAG+G,MAAM,CAAC/G,MAAM;EAC5B,MAAM;IACJ2O,MAAM,EAANA,MAAM;IACNP,YAAY,EAAEC,GAAG;IACjBS,QAAQ,EAARA;EACF,CAAC,GAAG/H,MAAM;EACV,IAAI4H,MAAM,CAAC7gB,MAAM,KAAK,CAAC,EAAE;EACzB,IAAI,OAAO6gB,MAAM,CAAC,CAAC,CAAC,CAAC+E,iBAAiB,KAAK,WAAW,EAAE3M,MAAM,CAAC6L,kBAAkB,CAAC,CAAC;EACnF,IAAIkB,YAAY,GAAG,CAAC3M,SAAS;EAC7B,IAAIkH,GAAG,EAAEyF,YAAY,GAAG3M,SAAS,CAAC,CAAC;;EAEnCwH,MAAM,CAAC9Z,WAAW,CAACmL,MAAM,CAAC+T,iBAAiB,CAAC;EAC5ChN,MAAM,CAACiN,oBAAoB,GAAG,EAAE;EAChCjN,MAAM,CAACwM,aAAa,GAAG,EAAE;EAEzB,KAAK,IAAIvgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACzC,MAAMyd,KAAK,GAAG9B,MAAM,CAAC3b,CAAC,CAAC;IACvB,IAAIihB,WAAW,GAAGxD,KAAK,CAACiD,iBAAiB;IAEzC,IAAI1T,MAAM,CAACgQ,OAAO,IAAIhQ,MAAM,CAAC+P,cAAc,EAAE;MAC3CkE,WAAW,IAAItF,MAAM,CAAC,CAAC,CAAC,CAAC+E,iBAAiB;IAC5C;IAEA,MAAMQ,aAAa,GAAG,CAACJ,YAAY,IAAI9T,MAAM,CAAC+P,cAAc,GAAGhJ,MAAM,CAACoN,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAGF,WAAW,KAAKxD,KAAK,CAACU,eAAe,GAAGnR,MAAM,CAACuP,YAAY,CAAC;IACxJ,MAAM6E,qBAAqB,GAAG,CAACN,YAAY,GAAGhF,QAAQ,CAAC,CAAC,CAAC,IAAI9O,MAAM,CAAC+P,cAAc,GAAGhJ,MAAM,CAACoN,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAGF,WAAW,KAAKxD,KAAK,CAACU,eAAe,GAAGnR,MAAM,CAACuP,YAAY,CAAC;IAC9K,MAAM8E,WAAW,GAAG,EAAEP,YAAY,GAAGG,WAAW,CAAC;IACjD,MAAMK,UAAU,GAAGD,WAAW,GAAGtN,MAAM,CAACiI,eAAe,CAAChc,CAAC,CAAC;IAC1D,MAAMuhB,SAAS,GAAGF,WAAW,IAAI,CAAC,IAAIA,WAAW,GAAGtN,MAAM,CAAC6G,IAAI,GAAG,CAAC,IAAI0G,UAAU,GAAG,CAAC,IAAIA,UAAU,IAAIvN,MAAM,CAAC6G,IAAI,IAAIyG,WAAW,IAAI,CAAC,IAAIC,UAAU,IAAIvN,MAAM,CAAC6G,IAAI;IAEnK,IAAI2G,SAAS,EAAE;MACbxN,MAAM,CAACwM,aAAa,CAAC9gB,IAAI,CAACge,KAAK,CAAC;MAChC1J,MAAM,CAACiN,oBAAoB,CAACvhB,IAAI,CAACO,CAAC,CAAC;MACnC2b,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC,CAACqB,QAAQ,CAAC2L,MAAM,CAAC+T,iBAAiB,CAAC;IACjD;IAEAtD,KAAK,CAACjR,QAAQ,GAAG6O,GAAG,GAAG,CAAC6F,aAAa,GAAGA,aAAa;IACrDzD,KAAK,CAAC+D,gBAAgB,GAAGnG,GAAG,GAAG,CAAC+F,qBAAqB,GAAGA,qBAAqB;EAC/E;EAEArN,MAAM,CAACwM,aAAa,GAAG,IAAA1f,YAAC,EAACkT,MAAM,CAACwM,aAAa,CAAC;AAChD;;;;;;;;AC3Ce,SAASkB,cAAcA,CAACtN,SAAS,EAAE;EAChD,MAAMJ,MAAM,GAAG,IAAI;EAEnB,IAAI,OAAOI,SAAS,KAAK,WAAW,EAAE;IACpC,MAAMuN,UAAU,GAAG3N,MAAM,CAACqH,YAAY,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;IAEjDjH,SAAS,GAAGJ,MAAM,IAAIA,MAAM,CAACI,SAAS,IAAIJ,MAAM,CAACI,SAAS,GAAGuN,UAAU,IAAI,CAAC;EAC9E;EAEA,MAAM1U,MAAM,GAAG+G,MAAM,CAAC/G,MAAM;EAC5B,MAAM2U,cAAc,GAAG5N,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG7N,MAAM,CAACoN,YAAY,CAAC,CAAC;EACpE,IAAI;IACF3U,QAAQ,EAARA,QAAQ;IACRqV,WAAW,EAAXA,WAAW;IACXC,KAAK,EAALA;EACF,CAAC,GAAG/N,MAAM;EACV,MAAMgO,YAAY,GAAGF,WAAW;EAChC,MAAMG,MAAM,GAAGF,KAAK;EAEpB,IAAIH,cAAc,KAAK,CAAC,EAAE;IACxBnV,QAAQ,GAAG,CAAC;IACZqV,WAAW,GAAG,IAAI;IAClBC,KAAK,GAAG,IAAI;EACd,CAAC,MAAM;IACLtV,QAAQ,GAAG,CAAC2H,SAAS,GAAGJ,MAAM,CAACoN,YAAY,CAAC,CAAC,IAAIQ,cAAc;IAC/DE,WAAW,GAAGrV,QAAQ,IAAI,CAAC;IAC3BsV,KAAK,GAAGtV,QAAQ,IAAI,CAAC;EACvB;EAEAjS,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;IACpBvH,QAAQ,EAARA,QAAQ;IACRqV,WAAW,EAAXA,WAAW;IACXC,KAAK,EAALA;EACF,CAAC,CAAC;EACF,IAAI9U,MAAM,CAAC2S,mBAAmB,IAAI3S,MAAM,CAAC+P,cAAc,IAAI/P,MAAM,CAACiV,UAAU,EAAElO,MAAM,CAAC8M,oBAAoB,CAAC1M,SAAS,CAAC;EAEpH,IAAI0N,WAAW,IAAI,CAACE,YAAY,EAAE;IAChChO,MAAM,CAACsD,IAAI,CAAC,uBAAuB,CAAC;EACtC;EAEA,IAAIyK,KAAK,IAAI,CAACE,MAAM,EAAE;IACpBjO,MAAM,CAACsD,IAAI,CAAC,iBAAiB,CAAC;EAChC;EAEA,IAAI0K,YAAY,IAAI,CAACF,WAAW,IAAIG,MAAM,IAAI,CAACF,KAAK,EAAE;IACpD/N,MAAM,CAACsD,IAAI,CAAC,UAAU,CAAC;EACzB;EAEAtD,MAAM,CAACsD,IAAI,CAAC,UAAU,EAAE7K,QAAQ,CAAC;AACnC;;;;;;;;ACjDe,SAAS0V,mBAAmBA,CAAA,EAAG;EAC5C,MAAMnO,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ4H,MAAM,EAANA,MAAM;IACN3O,MAAM,EAANA,MAAM;IACNyM,UAAU,EAAVA,UAAU;IACVgH,WAAW,EAAXA,WAAW;IACX0B,SAAS,EAATA;EACF,CAAC,GAAGpO,MAAM;EACV,MAAMwH,SAAS,GAAGxH,MAAM,CAACyH,OAAO,IAAIxO,MAAM,CAACwO,OAAO,CAACC,OAAO;EAC1DE,MAAM,CAAC9Z,WAAW,IAAA6U,MAAA,CAAI1J,MAAM,CAACoV,gBAAgB,OAAA1L,MAAA,CAAI1J,MAAM,CAACqV,cAAc,OAAA3L,MAAA,CAAI1J,MAAM,CAACsV,cAAc,OAAA5L,MAAA,CAAI1J,MAAM,CAACuV,yBAAyB,OAAA7L,MAAA,CAAI1J,MAAM,CAACwV,uBAAuB,OAAA9L,MAAA,CAAI1J,MAAM,CAACyV,uBAAuB,CAAE,CAAC;EAC1M,IAAIC,WAAW;EAEf,IAAInH,SAAS,EAAE;IACbmH,WAAW,GAAG3O,MAAM,CAAC0F,UAAU,CAAC5O,IAAI,KAAA6L,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,iCAAAlF,MAAA,CAA6B+J,WAAW,QAAI,CAAC;EACzG,CAAC,MAAM;IACLiC,WAAW,GAAG/G,MAAM,CAAC3S,EAAE,CAACyX,WAAW,CAAC;EACtC,CAAC,CAAC;;EAGFiC,WAAW,CAACrhB,QAAQ,CAAC2L,MAAM,CAACoV,gBAAgB,CAAC;EAE7C,IAAIpV,MAAM,CAAC2V,IAAI,EAAE;IACf;IACA,IAAID,WAAW,CAACxgB,QAAQ,CAAC8K,MAAM,CAAC4V,mBAAmB,CAAC,EAAE;MACpDnJ,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,YAAAlF,MAAA,CAAS1J,MAAM,CAAC4V,mBAAmB,kCAAAlM,MAAA,CAA8ByL,SAAS,QAAI,CAAC,CAAC9gB,QAAQ,CAAC2L,MAAM,CAACuV,yBAAyB,CAAC;IACrK,CAAC,MAAM;MACL9I,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,OAAAlF,MAAA,CAAI1J,MAAM,CAAC4V,mBAAmB,iCAAAlM,MAAA,CAA6ByL,SAAS,QAAI,CAAC,CAAC9gB,QAAQ,CAAC2L,MAAM,CAACuV,yBAAyB,CAAC;IAC/J;EACF,CAAC,CAAC;;EAGF,IAAIM,SAAS,GAAGH,WAAW,CAACrY,OAAO,KAAAqM,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,CAAE,CAAC,CAAC5S,EAAE,CAAC,CAAC,CAAC,CAAC3H,QAAQ,CAAC2L,MAAM,CAACqV,cAAc,CAAC;EAElG,IAAIrV,MAAM,CAAC2V,IAAI,IAAIE,SAAS,CAAC/nB,MAAM,KAAK,CAAC,EAAE;IACzC+nB,SAAS,GAAGlH,MAAM,CAAC3S,EAAE,CAAC,CAAC,CAAC;IACxB6Z,SAAS,CAACxhB,QAAQ,CAAC2L,MAAM,CAACqV,cAAc,CAAC;EAC3C,CAAC,CAAC;;EAGF,IAAIS,SAAS,GAAGJ,WAAW,CAACjY,OAAO,KAAAiM,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,CAAE,CAAC,CAAC5S,EAAE,CAAC,CAAC,CAAC,CAAC3H,QAAQ,CAAC2L,MAAM,CAACsV,cAAc,CAAC;EAElG,IAAItV,MAAM,CAAC2V,IAAI,IAAIG,SAAS,CAAChoB,MAAM,KAAK,CAAC,EAAE;IACzCgoB,SAAS,GAAGnH,MAAM,CAAC3S,EAAE,CAAC,CAAC,CAAC,CAAC;IACzB8Z,SAAS,CAACzhB,QAAQ,CAAC2L,MAAM,CAACsV,cAAc,CAAC;EAC3C;EAEA,IAAItV,MAAM,CAAC2V,IAAI,EAAE;IACf;IACA,IAAIE,SAAS,CAAC3gB,QAAQ,CAAC8K,MAAM,CAAC4V,mBAAmB,CAAC,EAAE;MAClDnJ,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,YAAAlF,MAAA,CAAS1J,MAAM,CAAC4V,mBAAmB,kCAAAlM,MAAA,CAA8BmM,SAAS,CAACzgB,IAAI,CAAC,yBAAyB,CAAC,QAAI,CAAC,CAACf,QAAQ,CAAC2L,MAAM,CAACwV,uBAAuB,CAAC;IACnM,CAAC,MAAM;MACL/I,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,OAAAlF,MAAA,CAAI1J,MAAM,CAAC4V,mBAAmB,iCAAAlM,MAAA,CAA6BmM,SAAS,CAACzgB,IAAI,CAAC,yBAAyB,CAAC,QAAI,CAAC,CAACf,QAAQ,CAAC2L,MAAM,CAACwV,uBAAuB,CAAC;IAC7L;IAEA,IAAIM,SAAS,CAAC5gB,QAAQ,CAAC8K,MAAM,CAAC4V,mBAAmB,CAAC,EAAE;MAClDnJ,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,YAAAlF,MAAA,CAAS1J,MAAM,CAAC4V,mBAAmB,kCAAAlM,MAAA,CAA8BoM,SAAS,CAAC1gB,IAAI,CAAC,yBAAyB,CAAC,QAAI,CAAC,CAACf,QAAQ,CAAC2L,MAAM,CAACyV,uBAAuB,CAAC;IACnM,CAAC,MAAM;MACLhJ,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,OAAAlF,MAAA,CAAI1J,MAAM,CAAC4V,mBAAmB,iCAAAlM,MAAA,CAA6BoM,SAAS,CAAC1gB,IAAI,CAAC,yBAAyB,CAAC,QAAI,CAAC,CAACf,QAAQ,CAAC2L,MAAM,CAACyV,uBAAuB,CAAC;IAC7L;EACF;EAEA1O,MAAM,CAACgP,iBAAiB,CAAC,CAAC;AAC5B;;;;;;;;AC/De,SAASC,iBAAiBA,CAACC,cAAc,EAAE;EACxD,MAAMlP,MAAM,GAAG,IAAI;EACnB,MAAMI,SAAS,GAAGJ,MAAM,CAACqH,YAAY,GAAGrH,MAAM,CAACI,SAAS,GAAG,CAACJ,MAAM,CAACI,SAAS;EAC5E,MAAM;IACJ4H,UAAU,EAAVA,UAAU;IACVD,QAAQ,EAARA,QAAQ;IACR9O,MAAM,EAANA,MAAM;IACNyT,WAAW,EAAEyC,aAAa;IAC1Bf,SAAS,EAAEgB,iBAAiB;IAC5B9D,SAAS,EAAE+D;EACb,CAAC,GAAGrP,MAAM;EACV,IAAI0M,WAAW,GAAGwC,cAAc;EAChC,IAAI5D,SAAS;EAEb,IAAI,OAAOoB,WAAW,KAAK,WAAW,EAAE;IACtC,KAAK,IAAIzgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+b,UAAU,CAACjhB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAC7C,IAAI,OAAO+b,UAAU,CAAC/b,CAAC,GAAG,CAAC,CAAC,KAAK,WAAW,EAAE;QAC5C,IAAImU,SAAS,IAAI4H,UAAU,CAAC/b,CAAC,CAAC,IAAImU,SAAS,GAAG4H,UAAU,CAAC/b,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC+b,UAAU,CAAC/b,CAAC,GAAG,CAAC,CAAC,GAAG+b,UAAU,CAAC/b,CAAC,CAAC,IAAI,CAAC,EAAE;UACzGygB,WAAW,GAAGzgB,CAAC;QACjB,CAAC,MAAM,IAAImU,SAAS,IAAI4H,UAAU,CAAC/b,CAAC,CAAC,IAAImU,SAAS,GAAG4H,UAAU,CAAC/b,CAAC,GAAG,CAAC,CAAC,EAAE;UACtEygB,WAAW,GAAGzgB,CAAC,GAAG,CAAC;QACrB;MACF,CAAC,MAAM,IAAImU,SAAS,IAAI4H,UAAU,CAAC/b,CAAC,CAAC,EAAE;QACrCygB,WAAW,GAAGzgB,CAAC;MACjB;IACF,CAAC,CAAC;;IAGF,IAAIgN,MAAM,CAACqW,mBAAmB,EAAE;MAC9B,IAAI5C,WAAW,GAAG,CAAC,IAAI,OAAOA,WAAW,KAAK,WAAW,EAAEA,WAAW,GAAG,CAAC;IAC5E;EACF;EAEA,IAAI3E,QAAQ,CAAC7b,OAAO,CAACkU,SAAS,CAAC,IAAI,CAAC,EAAE;IACpCkL,SAAS,GAAGvD,QAAQ,CAAC7b,OAAO,CAACkU,SAAS,CAAC;EACzC,CAAC,MAAM;IACL,MAAMmP,IAAI,GAAGtX,IAAI,CAACE,GAAG,CAACc,MAAM,CAACsR,kBAAkB,EAAEmC,WAAW,CAAC;IAC7DpB,SAAS,GAAGiE,IAAI,GAAGtX,IAAI,CAACkS,KAAK,CAAC,CAACuC,WAAW,GAAG6C,IAAI,IAAItW,MAAM,CAACqR,cAAc,CAAC;EAC7E;EAEA,IAAIgB,SAAS,IAAIvD,QAAQ,CAAChhB,MAAM,EAAEukB,SAAS,GAAGvD,QAAQ,CAAChhB,MAAM,GAAG,CAAC;EAEjE,IAAI2lB,WAAW,KAAKyC,aAAa,EAAE;IACjC,IAAI7D,SAAS,KAAK+D,iBAAiB,EAAE;MACnCrP,MAAM,CAACsL,SAAS,GAAGA,SAAS;MAC5BtL,MAAM,CAACsD,IAAI,CAAC,iBAAiB,CAAC;IAChC;IAEA;EACF,CAAC,CAAC;;EAGF,MAAM8K,SAAS,GAAGzH,QAAQ,CAAC3G,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAACyX,WAAW,CAAC,CAACre,IAAI,CAAC,yBAAyB,CAAC,IAAIqe,WAAW,EAAE,EAAE,CAAC;EAC5GlmB,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;IACpBsL,SAAS,EAATA,SAAS;IACT8C,SAAS,EAATA,SAAS;IACTe,aAAa,EAAbA,aAAa;IACbzC,WAAW,EAAXA;EACF,CAAC,CAAC;EACF1M,MAAM,CAACsD,IAAI,CAAC,mBAAmB,CAAC;EAChCtD,MAAM,CAACsD,IAAI,CAAC,iBAAiB,CAAC;EAE9B,IAAI8L,iBAAiB,KAAKhB,SAAS,EAAE;IACnCpO,MAAM,CAACsD,IAAI,CAAC,iBAAiB,CAAC;EAChC;EAEA,IAAItD,MAAM,CAAC2D,WAAW,IAAI3D,MAAM,CAAC/G,MAAM,CAACuW,kBAAkB,EAAE;IAC1DxP,MAAM,CAACsD,IAAI,CAAC,aAAa,CAAC;EAC5B;AACF;;;;;;;;ACrEA,IAAApH,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAASmpB,kBAAkBA,CAAC/e,CAAC,EAAE;EAC5C,MAAMsP,MAAM,GAAG,IAAI;EACnB,MAAM/G,MAAM,GAAG+G,MAAM,CAAC/G,MAAM;EAC5B,MAAMyQ,KAAK,GAAG,IAAA5c,YAAC,EAAC4D,CAAC,CAAC,CAACmG,OAAO,KAAA8L,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC;EACtD,IAAI6H,UAAU,GAAG,KAAK;EACtB,IAAI5E,UAAU;EAEd,IAAIpB,KAAK,EAAE;IACT,KAAK,IAAIzd,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+T,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAChD,IAAI+T,MAAM,CAAC4H,MAAM,CAAC3b,CAAC,CAAC,KAAKyd,KAAK,EAAE;QAC9BgG,UAAU,GAAG,IAAI;QACjB5E,UAAU,GAAG7e,CAAC;QACd;MACF;IACF;EACF;EAEA,IAAIyd,KAAK,IAAIgG,UAAU,EAAE;IACvB1P,MAAM,CAAC2P,YAAY,GAAGjG,KAAK;IAE3B,IAAI1J,MAAM,CAACyH,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,EAAE;MACnD1H,MAAM,CAAC4P,YAAY,GAAGjJ,QAAQ,CAAC,IAAA7Z,YAAC,EAAC4c,KAAK,CAAC,CAACrb,IAAI,CAAC,yBAAyB,CAAC,EAAE,EAAE,CAAC;IAC9E,CAAC,MAAM;MACL2R,MAAM,CAAC4P,YAAY,GAAG9E,UAAU;IAClC;EACF,CAAC,MAAM;IACL9K,MAAM,CAAC2P,YAAY,GAAGlhB,SAAS;IAC/BuR,MAAM,CAAC4P,YAAY,GAAGnhB,SAAS;IAC/B;EACF;EAEA,IAAIwK,MAAM,CAAC4W,mBAAmB,IAAI7P,MAAM,CAAC4P,YAAY,KAAKnhB,SAAS,IAAIuR,MAAM,CAAC4P,YAAY,KAAK5P,MAAM,CAAC0M,WAAW,EAAE;IACjH1M,MAAM,CAAC6P,mBAAmB,CAAC,CAAC;EAC9B;AACF;;;;;;;;ACnCA,IAAAC,WAAA,GAAA5D,sBAAA,CAAAxhB,OAAA;AACA,IAAAqlB,aAAA,GAAA7D,sBAAA,CAAAxhB,OAAA;AACA,IAAAslB,iBAAA,GAAA9D,sBAAA,CAAAxhB,OAAA;AACA,IAAAulB,mBAAA,GAAA/D,sBAAA,CAAAxhB,OAAA;AACA,IAAAwlB,qBAAA,GAAAhE,sBAAA,CAAAxhB,OAAA;AACA,IAAAylB,eAAA,GAAAjE,sBAAA,CAAAxhB,OAAA;AACA,IAAA0lB,oBAAA,GAAAlE,sBAAA,CAAAxhB,OAAA;AACA,IAAA2lB,kBAAA,GAAAnE,sBAAA,CAAAxhB,OAAA;AACA,IAAA4lB,mBAAA,GAAApE,sBAAA,CAAAxhB,OAAA;AAAyD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GAC1C;EACbsK,UAAU,EAAVA,mBAAU;EACVS,YAAY,EAAZA,qBAAY;EACZqF,gBAAgB,EAAhBA,yBAAgB;EAChBP,kBAAkB,EAAlBA,2BAAkB;EAClBiB,oBAAoB,EAApBA,6BAAoB;EACpBY,cAAc,EAAdA,uBAAc;EACdS,mBAAmB,EAAnBA,4BAAmB;EACnBc,iBAAiB,EAAjBA,0BAAiB;EACjBQ,kBAAkB,EAAlBA;AACF,CAAC;AAAA5mB,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACnBD,IAAA8K,MAAA,GAAApc,OAAA;AACe,SAAS6lB,kBAAkBA,CAAC1S,IAAI,GAAG,IAAI,CAAC4I,YAAY,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE;EACjF,MAAMzG,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA,MAAM;IACNoO,YAAY,EAAEC,GAAG;IACjBlH,SAAS,EAATA,SAAS;IACTsF,UAAU,EAAVA;EACF,CAAC,GAAG1F,MAAM;EAEV,IAAI/G,MAAM,CAACuX,gBAAgB,EAAE;IAC3B,OAAOlJ,GAAG,GAAG,CAAClH,SAAS,GAAGA,SAAS;EACrC;EAEA,IAAInH,MAAM,CAACgQ,OAAO,EAAE;IAClB,OAAO7I,SAAS;EAClB;EAEA,IAAIqQ,gBAAgB,GAAG,IAAA7S,mBAAY,EAAC8H,UAAU,CAAC,CAAC,CAAC,EAAE7H,IAAI,CAAC;EACxD,IAAIyJ,GAAG,EAAEmJ,gBAAgB,GAAG,CAACA,gBAAgB;EAC7C,OAAOA,gBAAgB,IAAI,CAAC;AAC9B;;;;;;;;ACrBe,SAASC,YAAYA,CAACtQ,SAAS,EAAEuQ,YAAY,EAAE;EAC5D,MAAM3Q,MAAM,GAAG,IAAI;EACnB,MAAM;IACJqH,YAAY,EAAEC,GAAG;IACjBrO,MAAM,EAANA,MAAM;IACNyM,UAAU,EAAVA,UAAU;IACVpF,SAAS,EAATA,SAAS;IACT7H,QAAQ,EAARA;EACF,CAAC,GAAGuH,MAAM;EACV,IAAI4Q,CAAC,GAAG,CAAC;EACT,IAAIC,CAAC,GAAG,CAAC;EACT,MAAMC,CAAC,GAAG,CAAC;EAEX,IAAI9Q,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;IACzBmK,CAAC,GAAGtJ,GAAG,GAAG,CAAClH,SAAS,GAAGA,SAAS;EAClC,CAAC,MAAM;IACLyQ,CAAC,GAAGzQ,SAAS;EACf;EAEA,IAAInH,MAAM,CAAC8Q,YAAY,EAAE;IACvB6G,CAAC,GAAG3Y,IAAI,CAACkS,KAAK,CAACyG,CAAC,CAAC;IACjBC,CAAC,GAAG5Y,IAAI,CAACkS,KAAK,CAAC0G,CAAC,CAAC;EACnB;EAEA,IAAI5X,MAAM,CAACgQ,OAAO,EAAE;IAClB3I,SAAS,CAACN,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,YAAY,GAAG,WAAW,CAAC,GAAGzG,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,CAACmK,CAAC,GAAG,CAACC,CAAC;EACjG,CAAC,MAAM,IAAI,CAAC5X,MAAM,CAACuX,gBAAgB,EAAE;IACnC9K,UAAU,CAAC3V,SAAS,gBAAA4S,MAAA,CAAgBiO,CAAC,UAAAjO,MAAA,CAAOkO,CAAC,UAAAlO,MAAA,CAAOmO,CAAC,QAAK,CAAC;EAC7D;EAEA9Q,MAAM,CAAC+Q,iBAAiB,GAAG/Q,MAAM,CAACI,SAAS;EAC3CJ,MAAM,CAACI,SAAS,GAAGJ,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGmK,CAAC,GAAGC,CAAC,CAAC,CAAC;;EAElD,IAAIG,WAAW;EACf,MAAMpD,cAAc,GAAG5N,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG7N,MAAM,CAACoN,YAAY,CAAC,CAAC;EAEpE,IAAIQ,cAAc,KAAK,CAAC,EAAE;IACxBoD,WAAW,GAAG,CAAC;EACjB,CAAC,MAAM;IACLA,WAAW,GAAG,CAAC5Q,SAAS,GAAGJ,MAAM,CAACoN,YAAY,CAAC,CAAC,IAAIQ,cAAc;EACpE;EAEA,IAAIoD,WAAW,KAAKvY,QAAQ,EAAE;IAC5BuH,MAAM,CAAC0N,cAAc,CAACtN,SAAS,CAAC;EAClC;EAEAJ,MAAM,CAACsD,IAAI,CAAC,cAAc,EAAEtD,MAAM,CAACI,SAAS,EAAEuQ,YAAY,CAAC;AAC7D;;;;;;;;AC/Ce,SAASvD,YAAYA,CAAA,EAAG;EACrC,OAAO,CAAC,IAAI,CAACrF,QAAQ,CAAC,CAAC,CAAC;AAC1B;;;;;;;;ACFe,SAAS8F,YAAYA,CAAA,EAAG;EACrC,OAAO,CAAC,IAAI,CAAC9F,QAAQ,CAAC,IAAI,CAACA,QAAQ,CAAChhB,MAAM,GAAG,CAAC,CAAC;AACjD;;;;;;;;ACFA,IAAA+f,MAAA,GAAApc,OAAA;AAA6D,SAAAkS,QAAAtW,GAAA,sCAAAsW,OAAA,wBAAAK,MAAA,uBAAAA,MAAA,CAAAI,QAAA,aAAA/W,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAA2W,MAAA,IAAA3W,GAAA,CAAAC,WAAA,KAAA0W,MAAA,IAAA3W,GAAA,KAAA2W,MAAA,CAAArR,SAAA,qBAAAtF,GAAA,KAAAsW,OAAA,CAAAtW,GAAA;AAAA,SAAAgW,gBAAAhW,GAAA,EAAAQ,GAAA,EAAAmE,KAAA,IAAAnE,GAAA,GAAAyV,cAAA,CAAAzV,GAAA,OAAAA,GAAA,IAAAR,GAAA,IAAAE,MAAA,CAAAsE,cAAA,CAAAxE,GAAA,EAAAQ,GAAA,IAAAmE,KAAA,EAAAA,KAAA,EAAAuR,UAAA,QAAAC,YAAA,QAAAJ,QAAA,oBAAA/V,GAAA,CAAAQ,GAAA,IAAAmE,KAAA,WAAA3E,GAAA;AAAA,SAAAiW,eAAAG,GAAA,QAAA5V,GAAA,GAAA6V,YAAA,CAAAD,GAAA,oBAAAE,OAAA,CAAA9V,GAAA,iBAAAA,GAAA,GAAA+V,MAAA,CAAA/V,GAAA;AAAA,SAAA6V,aAAAG,KAAA,EAAAC,IAAA,QAAAH,OAAA,CAAAE,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAvO,SAAA,QAAAlD,GAAA,GAAAyR,IAAA,CAAAlR,IAAA,CAAAgR,KAAA,EAAAC,IAAA,oBAAAH,OAAA,CAAArR,GAAA,uBAAAA,GAAA,YAAA4R,SAAA,4DAAAJ,IAAA,gBAAAF,MAAA,GAAAO,MAAA,EAAAN,KAAA;AAC9C,SAASmU,WAAWA,CAAC7Q,SAAS,GAAG,CAAC,EAAEC,KAAK,GAAG,IAAI,CAACpH,MAAM,CAACoH,KAAK,EAAE6Q,YAAY,GAAG,IAAI,EAAEC,eAAe,GAAG,IAAI,EAAEC,QAAQ,EAAE;EACnI,MAAMpR,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA,MAAM;IACNqH,SAAS,EAATA;EACF,CAAC,GAAGN,MAAM;EAEV,IAAIA,MAAM,CAAC7G,SAAS,IAAIF,MAAM,CAACoY,8BAA8B,EAAE;IAC7D,OAAO,KAAK;EACd;EAEA,MAAMjE,YAAY,GAAGpN,MAAM,CAACoN,YAAY,CAAC,CAAC;EAC1C,MAAMS,YAAY,GAAG7N,MAAM,CAAC6N,YAAY,CAAC,CAAC;EAC1C,IAAIyD,YAAY;EAChB,IAAIH,eAAe,IAAI/Q,SAAS,GAAGgN,YAAY,EAAEkE,YAAY,GAAGlE,YAAY,CAAC,KAAK,IAAI+D,eAAe,IAAI/Q,SAAS,GAAGyN,YAAY,EAAEyD,YAAY,GAAGzD,YAAY,CAAC,KAAKyD,YAAY,GAAGlR,SAAS,CAAC,CAAC;;EAE9LJ,MAAM,CAAC0N,cAAc,CAAC4D,YAAY,CAAC;EAEnC,IAAIrY,MAAM,CAACgQ,OAAO,EAAE;IAClB,MAAMsI,GAAG,GAAGvR,MAAM,CAACyG,YAAY,CAAC,CAAC;IAEjC,IAAIpG,KAAK,KAAK,CAAC,EAAE;MACfC,SAAS,CAACiR,GAAG,GAAG,YAAY,GAAG,WAAW,CAAC,GAAG,CAACD,YAAY;IAC7D,CAAC,MAAM;MAAA,IAAAE,mBAAA;MACL,IAAI,CAACxR,MAAM,CAACc,OAAO,CAACE,YAAY,EAAE;QAChC,IAAAjB,2BAAoB,EAAC;UACnBC,MAAM,EAANA,MAAM;UACNC,cAAc,EAAE,CAACqR,YAAY;UAC7BpR,IAAI,EAAEqR,GAAG,GAAG,MAAM,GAAG;QACvB,CAAC,CAAC;QACF,OAAO,IAAI;MACb;MAEAjR,SAAS,CAACjJ,QAAQ,EAAAma,mBAAA,OAAAlV,eAAA,CAAAkV,mBAAA,EACfD,GAAG,GAAG,MAAM,GAAG,KAAK,EAAG,CAACD,YAAY,GAAAhV,eAAA,CAAAkV,mBAAA,cAC3B,QAAQ,GAAAA,mBAAA,CACnB,CAAC;IACJ;IAEA,OAAO,IAAI;EACb;EAEA,IAAInR,KAAK,KAAK,CAAC,EAAE;IACfL,MAAM,CAACsM,aAAa,CAAC,CAAC,CAAC;IACvBtM,MAAM,CAAC0Q,YAAY,CAACY,YAAY,CAAC;IAEjC,IAAIJ,YAAY,EAAE;MAChBlR,MAAM,CAACsD,IAAI,CAAC,uBAAuB,EAAEjD,KAAK,EAAE+Q,QAAQ,CAAC;MACrDpR,MAAM,CAACsD,IAAI,CAAC,eAAe,CAAC;IAC9B;EACF,CAAC,MAAM;IACLtD,MAAM,CAACsM,aAAa,CAACjM,KAAK,CAAC;IAC3BL,MAAM,CAAC0Q,YAAY,CAACY,YAAY,CAAC;IAEjC,IAAIJ,YAAY,EAAE;MAChBlR,MAAM,CAACsD,IAAI,CAAC,uBAAuB,EAAEjD,KAAK,EAAE+Q,QAAQ,CAAC;MACrDpR,MAAM,CAACsD,IAAI,CAAC,iBAAiB,CAAC;IAChC;IAEA,IAAI,CAACtD,MAAM,CAAC7G,SAAS,EAAE;MACrB6G,MAAM,CAAC7G,SAAS,GAAG,IAAI;MAEvB,IAAI,CAAC6G,MAAM,CAACyR,iCAAiC,EAAE;QAC7CzR,MAAM,CAACyR,iCAAiC,GAAG,SAAS9e,aAAaA,CAACjC,CAAC,EAAE;UACnE,IAAI,CAACsP,MAAM,IAAIA,MAAM,CAAC0D,SAAS,EAAE;UACjC,IAAIhT,CAAC,CAAChK,MAAM,KAAK,IAAI,EAAE;UACvBsZ,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACve,mBAAmB,CAAC,eAAe,EAAE6Y,MAAM,CAACyR,iCAAiC,CAAC;UACnGzR,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACve,mBAAmB,CAAC,qBAAqB,EAAE6Y,MAAM,CAACyR,iCAAiC,CAAC;UACzGzR,MAAM,CAACyR,iCAAiC,GAAG,IAAI;UAC/C,OAAOzR,MAAM,CAACyR,iCAAiC;UAE/C,IAAIP,YAAY,EAAE;YAChBlR,MAAM,CAACsD,IAAI,CAAC,eAAe,CAAC;UAC9B;QACF,CAAC;MACH;MAEAtD,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACxe,gBAAgB,CAAC,eAAe,EAAE8Y,MAAM,CAACyR,iCAAiC,CAAC;MAChGzR,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACxe,gBAAgB,CAAC,qBAAqB,EAAE8Y,MAAM,CAACyR,iCAAiC,CAAC;IACxG;EACF;EAEA,OAAO,IAAI;AACb;;;;;;;;ACpFA,IAAAC,aAAA,GAAAxF,sBAAA,CAAAxhB,OAAA;AACA,IAAAinB,aAAA,GAAAzF,sBAAA,CAAAxhB,OAAA;AACA,IAAAknB,aAAA,GAAA1F,sBAAA,CAAAxhB,OAAA;AACA,IAAAmnB,aAAA,GAAA3F,sBAAA,CAAAxhB,OAAA;AACA,IAAAonB,YAAA,GAAA5F,sBAAA,CAAAxhB,OAAA;AAA2C,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GAC5B;EACb4B,YAAY,EAAZA,qBAAY;EACZ8S,YAAY,EAAZA,qBAAY;EACZtD,YAAY,EAAZA,qBAAY;EACZS,YAAY,EAAZA,qBAAY;EACZoD,WAAW,EAAXA;AACF,CAAC;AAAApoB,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACXc,SAASsQ,aAAaA,CAACrc,QAAQ,EAAE0gB,YAAY,EAAE;EAC5D,MAAM3Q,MAAM,GAAG,IAAI;EAEnB,IAAI,CAACA,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;IAC1BjJ,MAAM,CAAC0F,UAAU,CAAC1V,UAAU,CAACC,QAAQ,CAAC;EACxC;EAEA+P,MAAM,CAACsD,IAAI,CAAC,eAAe,EAAErT,QAAQ,EAAE0gB,YAAY,CAAC;AACtD;;;;;;;;ACRe,SAASoB,cAAcA,CAAC;EACrC/R,MAAM,EAANA,MAAM;EACNkR,YAAY,EAAZA,YAAY;EACZc,SAAS,EAATA,SAAS;EACTC,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAM;IACJvF,WAAW,EAAXA,WAAW;IACXyC,aAAa,EAAbA;EACF,CAAC,GAAGnP,MAAM;EACV,IAAIS,GAAG,GAAGuR,SAAS;EAEnB,IAAI,CAACvR,GAAG,EAAE;IACR,IAAIiM,WAAW,GAAGyC,aAAa,EAAE1O,GAAG,GAAG,MAAM,CAAC,KAAK,IAAIiM,WAAW,GAAGyC,aAAa,EAAE1O,GAAG,GAAG,MAAM,CAAC,KAAKA,GAAG,GAAG,OAAO;EACrH;EAEAT,MAAM,CAACsD,IAAI,cAAAX,MAAA,CAAcsP,IAAI,CAAE,CAAC;EAEhC,IAAIf,YAAY,IAAIxE,WAAW,KAAKyC,aAAa,EAAE;IACjD,IAAI1O,GAAG,KAAK,OAAO,EAAE;MACnBT,MAAM,CAACsD,IAAI,wBAAAX,MAAA,CAAwBsP,IAAI,CAAE,CAAC;MAC1C;IACF;IAEAjS,MAAM,CAACsD,IAAI,yBAAAX,MAAA,CAAyBsP,IAAI,CAAE,CAAC;IAE3C,IAAIxR,GAAG,KAAK,MAAM,EAAE;MAClBT,MAAM,CAACsD,IAAI,uBAAAX,MAAA,CAAuBsP,IAAI,CAAE,CAAC;IAC3C,CAAC,MAAM;MACLjS,MAAM,CAACsD,IAAI,uBAAAX,MAAA,CAAuBsP,IAAI,CAAE,CAAC;IAC3C;EACF;AACF;;;;;;;;AChCA,IAAAC,eAAA,GAAAhG,sBAAA,CAAAxhB,OAAA;AAAiD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAClC,SAASmM,eAAeA,CAACye,YAAY,GAAG,IAAI,EAAEc,SAAS,EAAE;EACtE,MAAMhS,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA;EACF,CAAC,GAAG+G,MAAM;EACV,IAAI/G,MAAM,CAACgQ,OAAO,EAAE;EAEpB,IAAIhQ,MAAM,CAACiV,UAAU,EAAE;IACrBlO,MAAM,CAACoM,gBAAgB,CAAC,CAAC;EAC3B;EAEA,IAAA2F,uBAAc,EAAC;IACb/R,MAAM,EAANA,MAAM;IACNkR,YAAY,EAAZA,YAAY;IACZc,SAAS,EAATA,SAAS;IACTC,IAAI,EAAE;EACR,CAAC,CAAC;AACJ;;;;;;;;AClBA,IAAAC,eAAA,GAAAhG,sBAAA,CAAAxhB,OAAA;AAAiD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAClC,SAASqM,aAAaA,CAACue,YAAY,GAAG,IAAI,EAAEc,SAAS,EAAE;EACpE,MAAMhS,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA;EACF,CAAC,GAAG+G,MAAM;EACVA,MAAM,CAAC7G,SAAS,GAAG,KAAK;EACxB,IAAIF,MAAM,CAACgQ,OAAO,EAAE;EACpBjJ,MAAM,CAACsM,aAAa,CAAC,CAAC,CAAC;EACvB,IAAAyF,uBAAc,EAAC;IACb/R,MAAM,EAANA,MAAM;IACNkR,YAAY,EAAZA,YAAY;IACZc,SAAS,EAATA,SAAS;IACTC,IAAI,EAAE;EACR,CAAC,CAAC;AACJ;;;;;;;;ACfA,IAAAE,cAAA,GAAAjG,sBAAA,CAAAxhB,OAAA;AACA,IAAA0nB,gBAAA,GAAAlG,sBAAA,CAAAxhB,OAAA;AACA,IAAA2nB,cAAA,GAAAnG,sBAAA,CAAAxhB,OAAA;AAA+C,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GAChC;EACbsQ,aAAa,EAAbA,sBAAa;EACb7Z,eAAe,EAAfA,wBAAe;EACfE,aAAa,EAAbA;AACF,CAAC;AAAA9J,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACPD,IAAA8K,MAAA,GAAApc,OAAA;AAA6D,SAAA4R,gBAAAhW,GAAA,EAAAQ,GAAA,EAAAmE,KAAA,IAAAnE,GAAA,GAAAyV,cAAA,CAAAzV,GAAA,OAAAA,GAAA,IAAAR,GAAA,IAAAE,MAAA,CAAAsE,cAAA,CAAAxE,GAAA,EAAAQ,GAAA,IAAAmE,KAAA,EAAAA,KAAA,EAAAuR,UAAA,QAAAC,YAAA,QAAAJ,QAAA,oBAAA/V,GAAA,CAAAQ,GAAA,IAAAmE,KAAA,WAAA3E,GAAA;AAAA,SAAAiW,eAAAG,GAAA,QAAA5V,GAAA,GAAA6V,YAAA,CAAAD,GAAA,oBAAAE,OAAA,CAAA9V,GAAA,iBAAAA,GAAA,GAAA+V,MAAA,CAAA/V,GAAA;AAAA,SAAA6V,aAAAG,KAAA,EAAAC,IAAA,QAAAH,OAAA,CAAAE,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAvO,SAAA,QAAAlD,GAAA,GAAAyR,IAAA,CAAAlR,IAAA,CAAAgR,KAAA,EAAAC,IAAA,oBAAAH,OAAA,CAAArR,GAAA,uBAAAA,GAAA,YAAA4R,SAAA,4DAAAJ,IAAA,gBAAAF,MAAA,GAAAO,MAAA,EAAAN,KAAA;AAAA,SAAAF,QAAAtW,GAAA,sCAAAsW,OAAA,wBAAAK,MAAA,uBAAAA,MAAA,CAAAI,QAAA,aAAA/W,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAA2W,MAAA,IAAA3W,GAAA,CAAAC,WAAA,KAAA0W,MAAA,IAAA3W,GAAA,KAAA2W,MAAA,CAAArR,SAAA,qBAAAtF,GAAA,KAAAsW,OAAA,CAAAtW,GAAA;AAC9C,SAASgsB,OAAOA,CAAC/d,KAAK,GAAG,CAAC,EAAE8L,KAAK,GAAG,IAAI,CAACpH,MAAM,CAACoH,KAAK,EAAE6Q,YAAY,GAAG,IAAI,EAAEE,QAAQ,EAAEmB,OAAO,EAAE;EAC5G,IAAI,OAAOhe,KAAK,KAAK,QAAQ,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC1D,MAAM,IAAIie,KAAK,4EAAA7P,MAAA,CAAA/F,OAAA,CAAmFrI,KAAK,cAAU,CAAC;EACpH;EAEA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC7B;AACJ;AACA;AACA;IACI,MAAMke,aAAa,GAAG9L,QAAQ,CAACpS,KAAK,EAAE,EAAE,CAAC;IACzC;AACJ;AACA;AACA;AACA;;IAEI,MAAMme,aAAa,GAAGC,QAAQ,CAACF,aAAa,CAAC;IAE7C,IAAI,CAACC,aAAa,EAAE;MAClB,MAAM,IAAIF,KAAK,uEAAA7P,MAAA,CAAuEpO,KAAK,aAAU,CAAC;IACxG,CAAC,CAAC;IACF;;IAGAA,KAAK,GAAGke,aAAa;EACvB;EAEA,MAAMzS,MAAM,GAAG,IAAI;EACnB,IAAI8K,UAAU,GAAGvW,KAAK;EACtB,IAAIuW,UAAU,GAAG,CAAC,EAAEA,UAAU,GAAG,CAAC;EAClC,MAAM;IACJ7R,MAAM,EAANA,MAAM;IACN8O,QAAQ,EAARA,QAAQ;IACRC,UAAU,EAAVA,UAAU;IACVmH,aAAa,EAAbA,aAAa;IACbzC,WAAW,EAAXA,WAAW;IACXrF,YAAY,EAAEC,GAAG;IACjBhH,SAAS,EAATA,SAAS;IACToH,OAAO,EAAPA;EACF,CAAC,GAAG1H,MAAM;EAEV,IAAIA,MAAM,CAAC7G,SAAS,IAAIF,MAAM,CAACoY,8BAA8B,IAAI,CAAC3J,OAAO,IAAI,CAAC0J,QAAQ,IAAI,CAACmB,OAAO,EAAE;IAClG,OAAO,KAAK;EACd;EAEA,MAAMhD,IAAI,GAAGtX,IAAI,CAACE,GAAG,CAAC6H,MAAM,CAAC/G,MAAM,CAACsR,kBAAkB,EAAEO,UAAU,CAAC;EACnE,IAAIQ,SAAS,GAAGiE,IAAI,GAAGtX,IAAI,CAACkS,KAAK,CAAC,CAACW,UAAU,GAAGyE,IAAI,IAAIvP,MAAM,CAAC/G,MAAM,CAACqR,cAAc,CAAC;EACrF,IAAIgB,SAAS,IAAIvD,QAAQ,CAAChhB,MAAM,EAAEukB,SAAS,GAAGvD,QAAQ,CAAChhB,MAAM,GAAG,CAAC;EACjE,MAAMqZ,SAAS,GAAG,CAAC2H,QAAQ,CAACuD,SAAS,CAAC,CAAC,CAAC;;EAExC,IAAIrS,MAAM,CAACqW,mBAAmB,EAAE;IAC9B,KAAK,IAAIrjB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+b,UAAU,CAACjhB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAC7C,MAAM2mB,mBAAmB,GAAG,CAAC3a,IAAI,CAACkS,KAAK,CAAC/J,SAAS,GAAG,GAAG,CAAC;MACxD,MAAMyS,cAAc,GAAG5a,IAAI,CAACkS,KAAK,CAACnC,UAAU,CAAC/b,CAAC,CAAC,GAAG,GAAG,CAAC;MACtD,MAAM6mB,kBAAkB,GAAG7a,IAAI,CAACkS,KAAK,CAACnC,UAAU,CAAC/b,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;MAE9D,IAAI,OAAO+b,UAAU,CAAC/b,CAAC,GAAG,CAAC,CAAC,KAAK,WAAW,EAAE;QAC5C,IAAI2mB,mBAAmB,IAAIC,cAAc,IAAID,mBAAmB,GAAGE,kBAAkB,GAAG,CAACA,kBAAkB,GAAGD,cAAc,IAAI,CAAC,EAAE;UACjI/H,UAAU,GAAG7e,CAAC;QAChB,CAAC,MAAM,IAAI2mB,mBAAmB,IAAIC,cAAc,IAAID,mBAAmB,GAAGE,kBAAkB,EAAE;UAC5FhI,UAAU,GAAG7e,CAAC,GAAG,CAAC;QACpB;MACF,CAAC,MAAM,IAAI2mB,mBAAmB,IAAIC,cAAc,EAAE;QAChD/H,UAAU,GAAG7e,CAAC;MAChB;IACF;EACF,CAAC,CAAC;;EAGF,IAAI+T,MAAM,CAAC2D,WAAW,IAAImH,UAAU,KAAK4B,WAAW,EAAE;IACpD,IAAI,CAAC1M,MAAM,CAAC+S,cAAc,IAAI3S,SAAS,GAAGJ,MAAM,CAACI,SAAS,IAAIA,SAAS,GAAGJ,MAAM,CAACoN,YAAY,CAAC,CAAC,EAAE;MAC/F,OAAO,KAAK;IACd;IAEA,IAAI,CAACpN,MAAM,CAACgT,cAAc,IAAI5S,SAAS,GAAGJ,MAAM,CAACI,SAAS,IAAIA,SAAS,GAAGJ,MAAM,CAAC6N,YAAY,CAAC,CAAC,EAAE;MAC/F,IAAI,CAACnB,WAAW,IAAI,CAAC,MAAM5B,UAAU,EAAE,OAAO,KAAK;IACrD;EACF;EAEA,IAAIA,UAAU,MAAMqE,aAAa,IAAI,CAAC,CAAC,IAAI+B,YAAY,EAAE;IACvDlR,MAAM,CAACsD,IAAI,CAAC,wBAAwB,CAAC;EACvC,CAAC,CAAC;;EAGFtD,MAAM,CAAC0N,cAAc,CAACtN,SAAS,CAAC;EAChC,IAAI4R,SAAS;EACb,IAAIlH,UAAU,GAAG4B,WAAW,EAAEsF,SAAS,GAAG,MAAM,CAAC,KAAK,IAAIlH,UAAU,GAAG4B,WAAW,EAAEsF,SAAS,GAAG,MAAM,CAAC,KAAKA,SAAS,GAAG,OAAO,CAAC,CAAC;;EAEjI,IAAI1K,GAAG,IAAI,CAAClH,SAAS,KAAKJ,MAAM,CAACI,SAAS,IAAI,CAACkH,GAAG,IAAIlH,SAAS,KAAKJ,MAAM,CAACI,SAAS,EAAE;IACpFJ,MAAM,CAACiP,iBAAiB,CAACnE,UAAU,CAAC,CAAC,CAAC;;IAEtC,IAAI7R,MAAM,CAACiV,UAAU,EAAE;MACrBlO,MAAM,CAACoM,gBAAgB,CAAC,CAAC;IAC3B;IAEApM,MAAM,CAACmO,mBAAmB,CAAC,CAAC;IAE5B,IAAIlV,MAAM,CAACuR,MAAM,KAAK,OAAO,EAAE;MAC7BxK,MAAM,CAAC0Q,YAAY,CAACtQ,SAAS,CAAC;IAChC;IAEA,IAAI4R,SAAS,KAAK,OAAO,EAAE;MACzBhS,MAAM,CAACvN,eAAe,CAACye,YAAY,EAAEc,SAAS,CAAC;MAC/ChS,MAAM,CAACrN,aAAa,CAACue,YAAY,EAAEc,SAAS,CAAC;IAC/C;IAEA,OAAO,KAAK;EACd;EAEA,IAAI/Y,MAAM,CAACgQ,OAAO,EAAE;IAClB,MAAMsI,GAAG,GAAGvR,MAAM,CAACyG,YAAY,CAAC,CAAC;IACjC,MAAMwM,CAAC,GAAG3L,GAAG,GAAGlH,SAAS,GAAG,CAACA,SAAS;IAEtC,IAAIC,KAAK,KAAK,CAAC,EAAE;MACf,MAAMmH,SAAS,GAAGxH,MAAM,CAACyH,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO;MAEjE,IAAIF,SAAS,EAAE;QACbxH,MAAM,CAACM,SAAS,CAACvY,KAAK,CAACwY,cAAc,GAAG,MAAM;QAC9CP,MAAM,CAACkT,iBAAiB,GAAG,IAAI;MACjC;MAEA5S,SAAS,CAACiR,GAAG,GAAG,YAAY,GAAG,WAAW,CAAC,GAAG0B,CAAC;MAE/C,IAAIzL,SAAS,EAAE;QACbtd,qBAAqB,CAAC,MAAM;UAC1B8V,MAAM,CAACM,SAAS,CAACvY,KAAK,CAACwY,cAAc,GAAG,EAAE;UAC1CP,MAAM,CAACmT,uBAAuB,GAAG,KAAK;QACxC,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MAAA,IAAA3B,mBAAA;MACL,IAAI,CAACxR,MAAM,CAACc,OAAO,CAACE,YAAY,EAAE;QAChC,IAAAjB,2BAAoB,EAAC;UACnBC,MAAM,EAANA,MAAM;UACNC,cAAc,EAAEgT,CAAC;UACjB/S,IAAI,EAAEqR,GAAG,GAAG,MAAM,GAAG;QACvB,CAAC,CAAC;QACF,OAAO,IAAI;MACb;MAEAjR,SAAS,CAACjJ,QAAQ,EAAAma,mBAAA,OAAAlV,eAAA,CAAAkV,mBAAA,EACfD,GAAG,GAAG,MAAM,GAAG,KAAK,EAAG0B,CAAC,GAAA3W,eAAA,CAAAkV,mBAAA,cACf,QAAQ,GAAAA,mBAAA,CACnB,CAAC;IACJ;IAEA,OAAO,IAAI;EACb;EAEAxR,MAAM,CAACsM,aAAa,CAACjM,KAAK,CAAC;EAC3BL,MAAM,CAAC0Q,YAAY,CAACtQ,SAAS,CAAC;EAC9BJ,MAAM,CAACiP,iBAAiB,CAACnE,UAAU,CAAC;EACpC9K,MAAM,CAACmO,mBAAmB,CAAC,CAAC;EAC5BnO,MAAM,CAACsD,IAAI,CAAC,uBAAuB,EAAEjD,KAAK,EAAE+Q,QAAQ,CAAC;EACrDpR,MAAM,CAACvN,eAAe,CAACye,YAAY,EAAEc,SAAS,CAAC;EAE/C,IAAI3R,KAAK,KAAK,CAAC,EAAE;IACfL,MAAM,CAACrN,aAAa,CAACue,YAAY,EAAEc,SAAS,CAAC;EAC/C,CAAC,MAAM,IAAI,CAAChS,MAAM,CAAC7G,SAAS,EAAE;IAC5B6G,MAAM,CAAC7G,SAAS,GAAG,IAAI;IAEvB,IAAI,CAAC6G,MAAM,CAACoT,6BAA6B,EAAE;MACzCpT,MAAM,CAACoT,6BAA6B,GAAG,SAASzgB,aAAaA,CAACjC,CAAC,EAAE;QAC/D,IAAI,CAACsP,MAAM,IAAIA,MAAM,CAAC0D,SAAS,EAAE;QACjC,IAAIhT,CAAC,CAAChK,MAAM,KAAK,IAAI,EAAE;QACvBsZ,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACve,mBAAmB,CAAC,eAAe,EAAE6Y,MAAM,CAACoT,6BAA6B,CAAC;QAC/FpT,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACve,mBAAmB,CAAC,qBAAqB,EAAE6Y,MAAM,CAACoT,6BAA6B,CAAC;QACrGpT,MAAM,CAACoT,6BAA6B,GAAG,IAAI;QAC3C,OAAOpT,MAAM,CAACoT,6BAA6B;QAC3CpT,MAAM,CAACrN,aAAa,CAACue,YAAY,EAAEc,SAAS,CAAC;MAC/C,CAAC;IACH;IAEAhS,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACxe,gBAAgB,CAAC,eAAe,EAAE8Y,MAAM,CAACoT,6BAA6B,CAAC;IAC5FpT,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACxe,gBAAgB,CAAC,qBAAqB,EAAE8Y,MAAM,CAACoT,6BAA6B,CAAC;EACpG;EAEA,OAAO,IAAI;AACb;;;;;;;;ACnLe,SAASC,WAAWA,CAAC9e,KAAK,GAAG,CAAC,EAAE8L,KAAK,GAAG,IAAI,CAACpH,MAAM,CAACoH,KAAK,EAAE6Q,YAAY,GAAG,IAAI,EAAEE,QAAQ,EAAE;EACvG,IAAI,OAAO7c,KAAK,KAAK,QAAQ,EAAE;IAC7B;AACJ;AACA;AACA;IACI,MAAMke,aAAa,GAAG9L,QAAQ,CAACpS,KAAK,EAAE,EAAE,CAAC;IACzC;AACJ;AACA;AACA;AACA;;IAEI,MAAMme,aAAa,GAAGC,QAAQ,CAACF,aAAa,CAAC;IAE7C,IAAI,CAACC,aAAa,EAAE;MAClB,MAAM,IAAIF,KAAK,uEAAA7P,MAAA,CAAuEpO,KAAK,aAAU,CAAC;IACxG,CAAC,CAAC;IACF;;IAGAA,KAAK,GAAGke,aAAa;EACvB;EAEA,MAAMzS,MAAM,GAAG,IAAI;EACnB,IAAIsT,QAAQ,GAAG/e,KAAK;EAEpB,IAAIyL,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;IACtB0E,QAAQ,IAAItT,MAAM,CAACuT,YAAY;EACjC;EAEA,OAAOvT,MAAM,CAACsS,OAAO,CAACgB,QAAQ,EAAEjT,KAAK,EAAE6Q,YAAY,EAAEE,QAAQ,CAAC;AAChE;;;;;;;;AChCA;AACe,SAASoC,SAASA,CAACnT,KAAK,GAAG,IAAI,CAACpH,MAAM,CAACoH,KAAK,EAAE6Q,YAAY,GAAG,IAAI,EAAEE,QAAQ,EAAE;EAC1F,MAAMpR,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ7G,SAAS,EAATA,SAAS;IACTuO,OAAO,EAAPA,OAAO;IACPzO,MAAM,EAANA;EACF,CAAC,GAAG+G,MAAM;EACV,IAAI,CAAC0H,OAAO,EAAE,OAAO1H,MAAM;EAC3B,IAAIyT,QAAQ,GAAGxa,MAAM,CAACqR,cAAc;EAEpC,IAAIrR,MAAM,CAACuQ,aAAa,KAAK,MAAM,IAAIvQ,MAAM,CAACqR,cAAc,KAAK,CAAC,IAAIrR,MAAM,CAACya,kBAAkB,EAAE;IAC/FD,QAAQ,GAAGxb,IAAI,CAACC,GAAG,CAAC8H,MAAM,CAAC2T,oBAAoB,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;EACtE;EAEA,MAAMC,SAAS,GAAG5T,MAAM,CAAC0M,WAAW,GAAGzT,MAAM,CAACsR,kBAAkB,GAAG,CAAC,GAAGkJ,QAAQ;EAE/E,IAAIxa,MAAM,CAAC2V,IAAI,EAAE;IACf,IAAIzV,SAAS,IAAIF,MAAM,CAAC4a,iBAAiB,EAAE,OAAO,KAAK;IACvD7T,MAAM,CAAC8T,OAAO,CAAC,CAAC,CAAC,CAAC;;IAElB9T,MAAM,CAAC+T,WAAW,GAAG/T,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAAC9R,UAAU;EACtD;EAEA,IAAIqF,MAAM,CAAC+a,MAAM,IAAIhU,MAAM,CAAC+N,KAAK,EAAE;IACjC,OAAO/N,MAAM,CAACsS,OAAO,CAAC,CAAC,EAAEjS,KAAK,EAAE6Q,YAAY,EAAEE,QAAQ,CAAC;EACzD;EAEA,OAAOpR,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC0M,WAAW,GAAGkH,SAAS,EAAEvT,KAAK,EAAE6Q,YAAY,EAAEE,QAAQ,CAAC;AACtF;;;;;;;;AC7BA;AACe,SAAS6C,SAASA,CAAC5T,KAAK,GAAG,IAAI,CAACpH,MAAM,CAACoH,KAAK,EAAE6Q,YAAY,GAAG,IAAI,EAAEE,QAAQ,EAAE;EAC1F,MAAMpR,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA,MAAM;IACNE,SAAS,EAATA,SAAS;IACT4O,QAAQ,EAARA,QAAQ;IACRC,UAAU,EAAVA,UAAU;IACVX,YAAY,EAAZA,YAAY;IACZK,OAAO,EAAPA;EACF,CAAC,GAAG1H,MAAM;EACV,IAAI,CAAC0H,OAAO,EAAE,OAAO1H,MAAM;EAE3B,IAAI/G,MAAM,CAAC2V,IAAI,EAAE;IACf,IAAIzV,SAAS,IAAIF,MAAM,CAAC4a,iBAAiB,EAAE,OAAO,KAAK;IACvD7T,MAAM,CAAC8T,OAAO,CAAC,CAAC,CAAC,CAAC;;IAElB9T,MAAM,CAAC+T,WAAW,GAAG/T,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAAC9R,UAAU;EACtD;EAEA,MAAMwM,SAAS,GAAGiH,YAAY,GAAGrH,MAAM,CAACI,SAAS,GAAG,CAACJ,MAAM,CAACI,SAAS;EAErE,SAAS8T,SAASA,CAAC1kB,GAAG,EAAE;IACtB,IAAIA,GAAG,GAAG,CAAC,EAAE,OAAO,CAACyI,IAAI,CAACkS,KAAK,CAAClS,IAAI,CAACoS,GAAG,CAAC7a,GAAG,CAAC,CAAC;IAC9C,OAAOyI,IAAI,CAACkS,KAAK,CAAC3a,GAAG,CAAC;EACxB;EAEA,MAAMojB,mBAAmB,GAAGsB,SAAS,CAAC9T,SAAS,CAAC;EAChD,MAAM+T,kBAAkB,GAAGpM,QAAQ,CAACta,GAAG,CAAC+B,GAAG,IAAI0kB,SAAS,CAAC1kB,GAAG,CAAC,CAAC;EAC9D,IAAI4kB,QAAQ,GAAGrM,QAAQ,CAACoM,kBAAkB,CAACjoB,OAAO,CAAC0mB,mBAAmB,CAAC,GAAG,CAAC,CAAC;EAE5E,IAAI,OAAOwB,QAAQ,KAAK,WAAW,IAAInb,MAAM,CAACgQ,OAAO,EAAE;IACrD,IAAIoL,aAAa;IACjBtM,QAAQ,CAAClhB,OAAO,CAAC,CAACskB,IAAI,EAAEG,SAAS,KAAK;MACpC,IAAIsH,mBAAmB,IAAIzH,IAAI,EAAE;QAC/B;QACAkJ,aAAa,GAAG/I,SAAS;MAC3B;IACF,CAAC,CAAC;IAEF,IAAI,OAAO+I,aAAa,KAAK,WAAW,EAAE;MACxCD,QAAQ,GAAGrM,QAAQ,CAACsM,aAAa,GAAG,CAAC,GAAGA,aAAa,GAAG,CAAC,GAAGA,aAAa,CAAC;IAC5E;EACF;EAEA,IAAIC,SAAS,GAAG,CAAC;EAEjB,IAAI,OAAOF,QAAQ,KAAK,WAAW,EAAE;IACnCE,SAAS,GAAGtM,UAAU,CAAC9b,OAAO,CAACkoB,QAAQ,CAAC;IACxC,IAAIE,SAAS,GAAG,CAAC,EAAEA,SAAS,GAAGtU,MAAM,CAAC0M,WAAW,GAAG,CAAC;IAErD,IAAIzT,MAAM,CAACuQ,aAAa,KAAK,MAAM,IAAIvQ,MAAM,CAACqR,cAAc,KAAK,CAAC,IAAIrR,MAAM,CAACya,kBAAkB,EAAE;MAC/FY,SAAS,GAAGA,SAAS,GAAGtU,MAAM,CAAC2T,oBAAoB,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC;MACzEW,SAAS,GAAGrc,IAAI,CAACC,GAAG,CAACoc,SAAS,EAAE,CAAC,CAAC;IACpC;EACF;EAEA,IAAIrb,MAAM,CAAC+a,MAAM,IAAIhU,MAAM,CAAC8N,WAAW,EAAE;IACvC,MAAMyG,SAAS,GAAGvU,MAAM,CAAC/G,MAAM,CAACwO,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,IAAI1H,MAAM,CAACyH,OAAO,GAAGzH,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAC7gB,MAAM,GAAG,CAAC,GAAGiZ,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAG,CAAC;IACxJ,OAAOiZ,MAAM,CAACsS,OAAO,CAACiC,SAAS,EAAElU,KAAK,EAAE6Q,YAAY,EAAEE,QAAQ,CAAC;EACjE;EAEA,OAAOpR,MAAM,CAACsS,OAAO,CAACgC,SAAS,EAAEjU,KAAK,EAAE6Q,YAAY,EAAEE,QAAQ,CAAC;AACjE;;;;;;;;AC/DA;AACe,SAASoD,UAAUA,CAACnU,KAAK,GAAG,IAAI,CAACpH,MAAM,CAACoH,KAAK,EAAE6Q,YAAY,GAAG,IAAI,EAAEE,QAAQ,EAAE;EAC3F,MAAMpR,MAAM,GAAG,IAAI;EACnB,OAAOA,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC0M,WAAW,EAAErM,KAAK,EAAE6Q,YAAY,EAAEE,QAAQ,CAAC;AAC1E;;;;;;;;ACJA;AACe,SAASqD,cAAcA,CAACpU,KAAK,GAAG,IAAI,CAACpH,MAAM,CAACoH,KAAK,EAAE6Q,YAAY,GAAG,IAAI,EAAEE,QAAQ,EAAEsD,SAAS,GAAG,GAAG,EAAE;EAChH,MAAM1U,MAAM,GAAG,IAAI;EACnB,IAAIzL,KAAK,GAAGyL,MAAM,CAAC0M,WAAW;EAC9B,MAAM6C,IAAI,GAAGtX,IAAI,CAACE,GAAG,CAAC6H,MAAM,CAAC/G,MAAM,CAACsR,kBAAkB,EAAEhW,KAAK,CAAC;EAC9D,MAAM+W,SAAS,GAAGiE,IAAI,GAAGtX,IAAI,CAACkS,KAAK,CAAC,CAAC5V,KAAK,GAAGgb,IAAI,IAAIvP,MAAM,CAAC/G,MAAM,CAACqR,cAAc,CAAC;EAClF,MAAMlK,SAAS,GAAGJ,MAAM,CAACqH,YAAY,GAAGrH,MAAM,CAACI,SAAS,GAAG,CAACJ,MAAM,CAACI,SAAS;EAE5E,IAAIA,SAAS,IAAIJ,MAAM,CAAC+H,QAAQ,CAACuD,SAAS,CAAC,EAAE;IAC3C;IACA;IACA,MAAMqJ,WAAW,GAAG3U,MAAM,CAAC+H,QAAQ,CAACuD,SAAS,CAAC;IAC9C,MAAMsJ,QAAQ,GAAG5U,MAAM,CAAC+H,QAAQ,CAACuD,SAAS,GAAG,CAAC,CAAC;IAE/C,IAAIlL,SAAS,GAAGuU,WAAW,GAAG,CAACC,QAAQ,GAAGD,WAAW,IAAID,SAAS,EAAE;MAClEngB,KAAK,IAAIyL,MAAM,CAAC/G,MAAM,CAACqR,cAAc;IACvC;EACF,CAAC,MAAM;IACL;IACA;IACA,MAAM8J,QAAQ,GAAGpU,MAAM,CAAC+H,QAAQ,CAACuD,SAAS,GAAG,CAAC,CAAC;IAC/C,MAAMqJ,WAAW,GAAG3U,MAAM,CAAC+H,QAAQ,CAACuD,SAAS,CAAC;IAE9C,IAAIlL,SAAS,GAAGgU,QAAQ,IAAI,CAACO,WAAW,GAAGP,QAAQ,IAAIM,SAAS,EAAE;MAChEngB,KAAK,IAAIyL,MAAM,CAAC/G,MAAM,CAACqR,cAAc;IACvC;EACF;EAEA/V,KAAK,GAAG0D,IAAI,CAACC,GAAG,CAAC3D,KAAK,EAAE,CAAC,CAAC;EAC1BA,KAAK,GAAG0D,IAAI,CAACE,GAAG,CAAC5D,KAAK,EAAEyL,MAAM,CAACgI,UAAU,CAACjhB,MAAM,GAAG,CAAC,CAAC;EACrD,OAAOiZ,MAAM,CAACsS,OAAO,CAAC/d,KAAK,EAAE8L,KAAK,EAAE6Q,YAAY,EAAEE,QAAQ,CAAC;AAC7D;;;;;;;;AC/BA,IAAAlV,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AAAiD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAClC,SAASupB,mBAAmBA,CAAA,EAAG;EAC5C,MAAM7P,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA,MAAM;IACNyM,UAAU,EAAVA;EACF,CAAC,GAAG1F,MAAM;EACV,MAAMwJ,aAAa,GAAGvQ,MAAM,CAACuQ,aAAa,KAAK,MAAM,GAAGxJ,MAAM,CAAC2T,oBAAoB,CAAC,CAAC,GAAG1a,MAAM,CAACuQ,aAAa;EAC5G,IAAIqL,YAAY,GAAG7U,MAAM,CAAC4P,YAAY;EACtC,IAAIxB,SAAS;EAEb,IAAInV,MAAM,CAAC2V,IAAI,EAAE;IACf,IAAI5O,MAAM,CAAC7G,SAAS,EAAE;IACtBiV,SAAS,GAAGzH,QAAQ,CAAC,IAAA7Z,YAAC,EAACkT,MAAM,CAAC2P,YAAY,CAAC,CAACthB,IAAI,CAAC,yBAAyB,CAAC,EAAE,EAAE,CAAC;IAEhF,IAAI4K,MAAM,CAAC+P,cAAc,EAAE;MACzB,IAAI6L,YAAY,GAAG7U,MAAM,CAACuT,YAAY,GAAG/J,aAAa,GAAG,CAAC,IAAIqL,YAAY,GAAG7U,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAGiZ,MAAM,CAACuT,YAAY,GAAG/J,aAAa,GAAG,CAAC,EAAE;QAC3IxJ,MAAM,CAAC8T,OAAO,CAAC,CAAC;QAChBe,YAAY,GAAGnP,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,iCAAAlF,MAAA,CAA6ByL,SAAS,eAAAzL,MAAA,CAAW1J,MAAM,CAAC4V,mBAAmB,MAAG,CAAC,CAAC5Z,EAAE,CAAC,CAAC,CAAC,CAACV,KAAK,CAAC,CAAC;QACrJ,IAAAiJ,eAAQ,EAAC,MAAM;UACbwC,MAAM,CAACsS,OAAO,CAACuC,YAAY,CAAC;QAC9B,CAAC,CAAC;MACJ,CAAC,MAAM;QACL7U,MAAM,CAACsS,OAAO,CAACuC,YAAY,CAAC;MAC9B;IACF,CAAC,MAAM,IAAIA,YAAY,GAAG7U,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAGyiB,aAAa,EAAE;MAC9DxJ,MAAM,CAAC8T,OAAO,CAAC,CAAC;MAChBe,YAAY,GAAGnP,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,iCAAAlF,MAAA,CAA6ByL,SAAS,eAAAzL,MAAA,CAAW1J,MAAM,CAAC4V,mBAAmB,MAAG,CAAC,CAAC5Z,EAAE,CAAC,CAAC,CAAC,CAACV,KAAK,CAAC,CAAC;MACrJ,IAAAiJ,eAAQ,EAAC,MAAM;QACbwC,MAAM,CAACsS,OAAO,CAACuC,YAAY,CAAC;MAC9B,CAAC,CAAC;IACJ,CAAC,MAAM;MACL7U,MAAM,CAACsS,OAAO,CAACuC,YAAY,CAAC;IAC9B;EACF,CAAC,MAAM;IACL7U,MAAM,CAACsS,OAAO,CAACuC,YAAY,CAAC;EAC9B;AACF;;;;;;;;ACtCA,IAAAC,QAAA,GAAA5I,sBAAA,CAAAxhB,OAAA;AACA,IAAAqqB,YAAA,GAAA7I,sBAAA,CAAAxhB,OAAA;AACA,IAAAsqB,UAAA,GAAA9I,sBAAA,CAAAxhB,OAAA;AACA,IAAAuqB,UAAA,GAAA/I,sBAAA,CAAAxhB,OAAA;AACA,IAAAwqB,WAAA,GAAAhJ,sBAAA,CAAAxhB,OAAA;AACA,IAAAyqB,eAAA,GAAAjJ,sBAAA,CAAAxhB,OAAA;AACA,IAAA0qB,oBAAA,GAAAlJ,sBAAA,CAAAxhB,OAAA;AAA2D,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GAC5C;EACbsW,OAAO,EAAPA,gBAAO;EACPe,WAAW,EAAXA,oBAAW;EACXG,SAAS,EAATA,kBAAS;EACTS,SAAS,EAATA,kBAAS;EACTO,UAAU,EAAVA,mBAAU;EACVC,cAAc,EAAdA,uBAAc;EACd5E,mBAAmB,EAAnBA;AACF,CAAC;AAAAhnB,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACfD,IAAAvR,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAAS+uB,UAAUA,CAAA,EAAG;EACnC,MAAMrV,MAAM,GAAG,IAAI;EACnB,MAAMhX,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,MAAM;IACJmQ,MAAM,EAANA,MAAM;IACNyM,UAAU,EAAVA;EACF,CAAC,GAAG1F,MAAM,CAAC,CAAC;;EAEZ,MAAMsV,SAAS,GAAG5P,UAAU,CAAC7d,QAAQ,CAAC,CAAC,CAACd,MAAM,GAAG,CAAC,GAAG,IAAA+F,YAAC,EAAC4Y,UAAU,CAAC7d,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAACkO,UAAU,CAAC,GAAG2P,UAAU;EACxG4P,SAAS,CAACztB,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,OAAAlF,MAAA,CAAI1J,MAAM,CAAC4V,mBAAmB,CAAE,CAAC,CAAC9gB,MAAM,CAAC,CAAC;EAClF,IAAI6Z,MAAM,GAAG0N,SAAS,CAACztB,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,CAAE,CAAC;EAExD,IAAI5O,MAAM,CAACsc,sBAAsB,EAAE;IACjC,MAAMC,cAAc,GAAGvc,MAAM,CAACqR,cAAc,GAAG1C,MAAM,CAAC7gB,MAAM,GAAGkS,MAAM,CAACqR,cAAc;IAEpF,IAAIkL,cAAc,KAAKvc,MAAM,CAACqR,cAAc,EAAE;MAC5C,KAAK,IAAIre,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGupB,cAAc,EAAEvpB,CAAC,IAAI,CAAC,EAAE;QAC1C,MAAMwpB,SAAS,GAAG,IAAA3oB,YAAC,EAAC9D,QAAQ,CAACpB,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC0F,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAAC4O,UAAU,OAAAlF,MAAA,CAAI1J,MAAM,CAACyc,eAAe,CAAE,CAAC;QAC7GJ,SAAS,CAACngB,MAAM,CAACsgB,SAAS,CAAC;MAC7B;MAEA7N,MAAM,GAAG0N,SAAS,CAACztB,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,CAAE,CAAC;IACtD;EACF;EAEA,IAAI5O,MAAM,CAACuQ,aAAa,KAAK,MAAM,IAAI,CAACvQ,MAAM,CAACsa,YAAY,EAAEta,MAAM,CAACsa,YAAY,GAAG3L,MAAM,CAAC7gB,MAAM;EAChGiZ,MAAM,CAACuT,YAAY,GAAGtb,IAAI,CAACwU,IAAI,CAACld,UAAU,CAAC0J,MAAM,CAACsa,YAAY,IAAIta,MAAM,CAACuQ,aAAa,EAAE,EAAE,CAAC,CAAC;EAC5FxJ,MAAM,CAACuT,YAAY,IAAIta,MAAM,CAAC0c,oBAAoB;EAElD,IAAI3V,MAAM,CAACuT,YAAY,GAAG3L,MAAM,CAAC7gB,MAAM,IAAIiZ,MAAM,CAAC/G,MAAM,CAAC2c,iBAAiB,EAAE;IAC1E5V,MAAM,CAACuT,YAAY,GAAG3L,MAAM,CAAC7gB,MAAM;EACrC;EAEA,MAAM8uB,aAAa,GAAG,EAAE;EACxB,MAAMC,YAAY,GAAG,EAAE;EACvBlO,MAAM,CAACtT,IAAI,CAAC,CAAC9I,EAAE,EAAE+I,KAAK,KAAK;IACzB,MAAMmV,KAAK,GAAG,IAAA5c,YAAC,EAACtB,EAAE,CAAC;IACnBke,KAAK,CAACrb,IAAI,CAAC,yBAAyB,EAAEkG,KAAK,CAAC;EAC9C,CAAC,CAAC;EAEF,KAAK,IAAItI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+T,MAAM,CAACuT,YAAY,EAAEtnB,CAAC,IAAI,CAAC,EAAE;IAC/C,MAAMsI,KAAK,GAAGtI,CAAC,GAAGgM,IAAI,CAACkS,KAAK,CAACle,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,CAAC,GAAG6gB,MAAM,CAAC7gB,MAAM;IAC/D+uB,YAAY,CAACpqB,IAAI,CAACkc,MAAM,CAAC3S,EAAE,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACtCshB,aAAa,CAAChlB,OAAO,CAAC+W,MAAM,CAAC3S,EAAE,CAAC2S,MAAM,CAAC7gB,MAAM,GAAGwN,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAChE;EAEA,KAAK,IAAItI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6pB,YAAY,CAAC/uB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IAC/CqpB,SAAS,CAACngB,MAAM,CAAC,IAAArI,YAAC,EAACgpB,YAAY,CAAC7pB,CAAC,CAAC,CAAC+J,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC1I,QAAQ,CAAC2L,MAAM,CAAC4V,mBAAmB,CAAC,CAAC;EAC3F;EAEA,KAAK,IAAI5iB,CAAC,GAAG4pB,aAAa,CAAC9uB,MAAM,GAAG,CAAC,EAAEkF,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;IACrDqpB,SAAS,CAAC3f,OAAO,CAAC,IAAA7I,YAAC,EAAC+oB,aAAa,CAAC5pB,CAAC,CAAC,CAAC+J,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC1I,QAAQ,CAAC2L,MAAM,CAAC4V,mBAAmB,CAAC,CAAC;EAC7F;AACF;;;;;;;;ACvDe,SAASiF,OAAOA,CAAA,EAAG;EAChC,MAAM9T,MAAM,GAAG,IAAI;EACnBA,MAAM,CAACsD,IAAI,CAAC,eAAe,CAAC;EAC5B,MAAM;IACJoJ,WAAW,EAAXA,WAAW;IACX9E,MAAM,EAANA,MAAM;IACN2L,YAAY,EAAZA,YAAY;IACZP,cAAc,EAAdA,cAAc;IACdD,cAAc,EAAdA,cAAc;IACdhL,QAAQ,EAARA,QAAQ;IACRV,YAAY,EAAEC;EAChB,CAAC,GAAGtH,MAAM;EACV,IAAIsT,QAAQ;EACZtT,MAAM,CAACgT,cAAc,GAAG,IAAI;EAC5BhT,MAAM,CAAC+S,cAAc,GAAG,IAAI;EAC5B,MAAMgD,aAAa,GAAG,CAAChO,QAAQ,CAAC2E,WAAW,CAAC;EAC5C,MAAMsJ,IAAI,GAAGD,aAAa,GAAG/V,MAAM,CAACpC,YAAY,CAAC,CAAC,CAAC,CAAC;;EAEpD,IAAI8O,WAAW,GAAG6G,YAAY,EAAE;IAC9BD,QAAQ,GAAG1L,MAAM,CAAC7gB,MAAM,GAAGwsB,YAAY,GAAG,CAAC,GAAG7G,WAAW;IACzD4G,QAAQ,IAAIC,YAAY;IACxB,MAAM0C,YAAY,GAAGjW,MAAM,CAACsS,OAAO,CAACgB,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC;IAE7D,IAAI2C,YAAY,IAAID,IAAI,KAAK,CAAC,EAAE;MAC9BhW,MAAM,CAAC0Q,YAAY,CAAC,CAACpJ,GAAG,GAAG,CAACtH,MAAM,CAACI,SAAS,GAAGJ,MAAM,CAACI,SAAS,IAAI4V,IAAI,CAAC;IAC1E;EACF,CAAC,MAAM,IAAItJ,WAAW,IAAI9E,MAAM,CAAC7gB,MAAM,GAAGwsB,YAAY,EAAE;IACtD;IACAD,QAAQ,GAAG,CAAC1L,MAAM,CAAC7gB,MAAM,GAAG2lB,WAAW,GAAG6G,YAAY;IACtDD,QAAQ,IAAIC,YAAY;IACxB,MAAM0C,YAAY,GAAGjW,MAAM,CAACsS,OAAO,CAACgB,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC;IAE7D,IAAI2C,YAAY,IAAID,IAAI,KAAK,CAAC,EAAE;MAC9BhW,MAAM,CAAC0Q,YAAY,CAAC,CAACpJ,GAAG,GAAG,CAACtH,MAAM,CAACI,SAAS,GAAGJ,MAAM,CAACI,SAAS,IAAI4V,IAAI,CAAC;IAC1E;EACF;EAEAhW,MAAM,CAACgT,cAAc,GAAGA,cAAc;EACtChT,MAAM,CAAC+S,cAAc,GAAGA,cAAc;EACtC/S,MAAM,CAACsD,IAAI,CAAC,SAAS,CAAC;AACxB;;;;;;;;ACxCe,SAAS4S,WAAWA,CAAA,EAAG;EACpC,MAAMlW,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ0F,UAAU,EAAVA,UAAU;IACVzM,MAAM,EAANA,MAAM;IACN2O,MAAM,EAANA;EACF,CAAC,GAAG5H,MAAM;EACV0F,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,OAAAlF,MAAA,CAAI1J,MAAM,CAAC4V,mBAAmB,QAAAlM,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,OAAAlF,MAAA,CAAI1J,MAAM,CAACyc,eAAe,CAAE,CAAC,CAAC3nB,MAAM,CAAC,CAAC;EACnI6Z,MAAM,CAACjZ,UAAU,CAAC,yBAAyB,CAAC;AAC9C;;;;;;;;ACTA,IAAAwnB,WAAA,GAAAjK,sBAAA,CAAAxhB,OAAA;AACA,IAAA0rB,QAAA,GAAAlK,sBAAA,CAAAxhB,OAAA;AACA,IAAA2rB,YAAA,GAAAnK,sBAAA,CAAAxhB,OAAA;AAA2C,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GAC5B;EACbqZ,UAAU,EAAVA,mBAAU;EACVvB,OAAO,EAAPA,gBAAO;EACPoC,WAAW,EAAXA;AACF,CAAC;AAAArtB,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACPc,SAASsa,aAAaA,CAACC,MAAM,EAAE;EAC5C,MAAMvW,MAAM,GAAG,IAAI;EACnB,IAAIA,MAAM,CAACc,OAAO,CAACI,KAAK,IAAI,CAAClB,MAAM,CAAC/G,MAAM,CAACud,aAAa,IAAIxW,MAAM,CAAC/G,MAAM,CAACyS,aAAa,IAAI1L,MAAM,CAACyW,QAAQ,IAAIzW,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;EACrI,MAAMzd,EAAE,GAAGwU,MAAM,CAAC/G,MAAM,CAACyd,iBAAiB,KAAK,WAAW,GAAG1W,MAAM,CAACxU,EAAE,GAAGwU,MAAM,CAACM,SAAS;EACzF9U,EAAE,CAACzD,KAAK,CAAC4uB,MAAM,GAAG,MAAM;EACxBnrB,EAAE,CAACzD,KAAK,CAAC4uB,MAAM,GAAGJ,MAAM,GAAG,UAAU,GAAG,MAAM;AAChD;;;;;;;;ACNe,SAASK,eAAeA,CAAA,EAAG;EACxC,MAAM5W,MAAM,GAAG,IAAI;EAEnB,IAAIA,MAAM,CAACc,OAAO,CAACI,KAAK,IAAIlB,MAAM,CAAC/G,MAAM,CAACyS,aAAa,IAAI1L,MAAM,CAACyW,QAAQ,IAAIzW,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;IACnG;EACF;EAEAjJ,MAAM,CAACA,MAAM,CAAC/G,MAAM,CAACyd,iBAAiB,KAAK,WAAW,GAAG,IAAI,GAAG,WAAW,CAAC,CAAC3uB,KAAK,CAAC4uB,MAAM,GAAG,EAAE;AAChG;;;;;;;;ACRA,IAAAE,cAAA,GAAA3K,sBAAA,CAAAxhB,OAAA;AACA,IAAAosB,gBAAA,GAAA5K,sBAAA,CAAAxhB,OAAA;AAAmD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GACpC;EACbsa,aAAa,EAAbA,sBAAa;EACbM,eAAe,EAAfA;AACF,CAAC;AAAA/tB,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACLD,IAAAvR,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AAA4C,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAC;;AAE7C,SAASywB,cAAcA,CAACpqB,QAAQ,EAAEqqB,IAAI,GAAG,IAAI,EAAE;EAC7C,SAASC,aAAaA,CAACzrB,EAAE,EAAE;IACzB,IAAI,CAACA,EAAE,IAAIA,EAAE,KAAK,IAAA1C,sBAAW,EAAC,CAAC,IAAI0C,EAAE,KAAK,IAAAlB,oBAAS,EAAC,CAAC,EAAE,OAAO,IAAI;IAClE,IAAIkB,EAAE,CAAC0rB,YAAY,EAAE1rB,EAAE,GAAGA,EAAE,CAAC0rB,YAAY;IACzC,MAAMlgB,KAAK,GAAGxL,EAAE,CAACqL,OAAO,CAAClK,QAAQ,CAAC;IAElC,IAAI,CAACqK,KAAK,IAAI,CAACxL,EAAE,CAAC2rB,WAAW,EAAE;MAC7B,OAAO,IAAI;IACb;IAEA,OAAOngB,KAAK,IAAIigB,aAAa,CAACzrB,EAAE,CAAC2rB,WAAW,CAAC,CAAC,CAAC7uB,IAAI,CAAC;EACtD;EAEA,OAAO2uB,aAAa,CAACD,IAAI,CAAC;AAC5B;AAEe,SAASI,YAAYA,CAAChmB,KAAK,EAAE;EAC1C,MAAM4O,MAAM,GAAG,IAAI;EACnB,MAAMhX,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,MAAM0B,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAM0E,IAAI,GAAGgR,MAAM,CAACqX,eAAe;EACnC,MAAM;IACJpe,MAAM,EAANA,MAAM;IACNqe,OAAO,EAAPA,OAAO;IACP5P,OAAO,EAAPA;EACF,CAAC,GAAG1H,MAAM;EACV,IAAI,CAAC0H,OAAO,EAAE;EAEd,IAAI1H,MAAM,CAAC7G,SAAS,IAAIF,MAAM,CAACoY,8BAA8B,EAAE;IAC7D;EACF;EAEA,IAAI,CAACrR,MAAM,CAAC7G,SAAS,IAAIF,MAAM,CAACgQ,OAAO,IAAIhQ,MAAM,CAAC2V,IAAI,EAAE;IACtD5O,MAAM,CAAC8T,OAAO,CAAC,CAAC;EAClB;EAEA,IAAIpjB,CAAC,GAAGU,KAAK;EACb,IAAIV,CAAC,CAAC6mB,aAAa,EAAE7mB,CAAC,GAAGA,CAAC,CAAC6mB,aAAa;EACxC,IAAIC,SAAS,GAAG,IAAA1qB,YAAC,EAAC4D,CAAC,CAAChK,MAAM,CAAC;EAE3B,IAAIuS,MAAM,CAACyd,iBAAiB,KAAK,SAAS,EAAE;IAC1C,IAAI,CAACc,SAAS,CAAC3gB,OAAO,CAACmJ,MAAM,CAACM,SAAS,CAAC,CAACvZ,MAAM,EAAE;EACnD;EAEAiI,IAAI,CAACyoB,YAAY,GAAG/mB,CAAC,CAACgnB,IAAI,KAAK,YAAY;EAC3C,IAAI,CAAC1oB,IAAI,CAACyoB,YAAY,IAAI,OAAO,IAAI/mB,CAAC,IAAIA,CAAC,CAACinB,KAAK,KAAK,CAAC,EAAE;EACzD,IAAI,CAAC3oB,IAAI,CAACyoB,YAAY,IAAI,QAAQ,IAAI/mB,CAAC,IAAIA,CAAC,CAACknB,MAAM,GAAG,CAAC,EAAE;EACzD,IAAI5oB,IAAI,CAAC6oB,SAAS,IAAI7oB,IAAI,CAAC8oB,OAAO,EAAE,OAAO,CAAC;;EAE5C,MAAMC,oBAAoB,GAAG,CAAC,CAAC9e,MAAM,CAAC+e,cAAc,IAAI/e,MAAM,CAAC+e,cAAc,KAAK,EAAE,CAAC,CAAC;;EAEtF,MAAMC,SAAS,GAAG7mB,KAAK,CAAC8mB,YAAY,GAAG9mB,KAAK,CAAC8mB,YAAY,CAAC,CAAC,GAAG9mB,KAAK,CAAC+mB,IAAI;EAExE,IAAIJ,oBAAoB,IAAIrnB,CAAC,CAAChK,MAAM,IAAIgK,CAAC,CAAChK,MAAM,CAAC0xB,UAAU,IAAIH,SAAS,EAAE;IACxET,SAAS,GAAG,IAAA1qB,YAAC,EAACmrB,SAAS,CAAC,CAAC,CAAC,CAAC;EAC7B;EAEA,MAAMI,iBAAiB,GAAGpf,MAAM,CAACof,iBAAiB,GAAGpf,MAAM,CAACof,iBAAiB,OAAA1V,MAAA,CAAO1J,MAAM,CAAC+e,cAAc,CAAE;EAC3G,MAAMM,cAAc,GAAG,CAAC,EAAE5nB,CAAC,CAAChK,MAAM,IAAIgK,CAAC,CAAChK,MAAM,CAAC0xB,UAAU,CAAC,CAAC,CAAC;;EAE5D,IAAInf,MAAM,CAACsf,SAAS,KAAKD,cAAc,GAAGvB,cAAc,CAACsB,iBAAiB,EAAEb,SAAS,CAAC,CAAC,CAAC,CAAC,GAAGA,SAAS,CAAC3gB,OAAO,CAACwhB,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACpIrY,MAAM,CAACwY,UAAU,GAAG,IAAI;IACxB;EACF;EAEA,IAAIvf,MAAM,CAACwf,YAAY,EAAE;IACvB,IAAI,CAACjB,SAAS,CAAC3gB,OAAO,CAACoC,MAAM,CAACwf,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE;EAClD;EAEAnB,OAAO,CAACoB,QAAQ,GAAGhoB,CAAC,CAACgnB,IAAI,KAAK,YAAY,GAAGhnB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACC,KAAK,GAAGloB,CAAC,CAACkoB,KAAK;EAC/EtB,OAAO,CAACuB,QAAQ,GAAGnoB,CAAC,CAACgnB,IAAI,KAAK,YAAY,GAAGhnB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACG,KAAK,GAAGpoB,CAAC,CAACooB,KAAK;EAC/E,MAAMC,MAAM,GAAGzB,OAAO,CAACoB,QAAQ;EAC/B,MAAMM,MAAM,GAAG1B,OAAO,CAACuB,QAAQ,CAAC,CAAC;;EAEjC,MAAMI,kBAAkB,GAAGhgB,MAAM,CAACggB,kBAAkB,IAAIhgB,MAAM,CAACigB,qBAAqB;EACpF,MAAMC,kBAAkB,GAAGlgB,MAAM,CAACkgB,kBAAkB,IAAIlgB,MAAM,CAACmgB,qBAAqB;EAEpF,IAAIH,kBAAkB,KAAKF,MAAM,IAAII,kBAAkB,IAAIJ,MAAM,IAAIvuB,MAAM,CAACsI,UAAU,GAAGqmB,kBAAkB,CAAC,EAAE;IAC5G,IAAIF,kBAAkB,KAAK,SAAS,EAAE;MACpC7nB,KAAK,CAACioB,cAAc,CAAC,CAAC;IACxB,CAAC,MAAM;MACL;IACF;EACF;EAEA7yB,MAAM,CAACwS,MAAM,CAAChK,IAAI,EAAE;IAClB6oB,SAAS,EAAE,IAAI;IACfC,OAAO,EAAE,KAAK;IACdwB,mBAAmB,EAAE,IAAI;IACzBC,WAAW,EAAE9qB,SAAS;IACtB+qB,WAAW,EAAE/qB;EACf,CAAC,CAAC;EACF6oB,OAAO,CAACyB,MAAM,GAAGA,MAAM;EACvBzB,OAAO,CAAC0B,MAAM,GAAGA,MAAM;EACvBhqB,IAAI,CAACyqB,cAAc,GAAG,IAAA/b,UAAG,EAAC,CAAC;EAC3BsC,MAAM,CAACwY,UAAU,GAAG,IAAI;EACxBxY,MAAM,CAACsG,UAAU,CAAC,CAAC;EACnBtG,MAAM,CAAC0Z,cAAc,GAAGjrB,SAAS;EACjC,IAAIwK,MAAM,CAACyb,SAAS,GAAG,CAAC,EAAE1lB,IAAI,CAAC2qB,kBAAkB,GAAG,KAAK;EAEzD,IAAIjpB,CAAC,CAACgnB,IAAI,KAAK,YAAY,EAAE;IAC3B,IAAI2B,cAAc,GAAG,IAAI;IAEzB,IAAI7B,SAAS,CAAC1mB,EAAE,CAAC9B,IAAI,CAAC4qB,iBAAiB,CAAC,EAAE;MACxCP,cAAc,GAAG,KAAK;MAEtB,IAAI7B,SAAS,CAAC,CAAC,CAAC,CAAClwB,QAAQ,KAAK,QAAQ,EAAE;QACtC0H,IAAI,CAAC6oB,SAAS,GAAG,KAAK;MACxB;IACF;IAEA,IAAI7uB,QAAQ,CAAC5B,aAAa,IAAI,IAAA0F,YAAC,EAAC9D,QAAQ,CAAC5B,aAAa,CAAC,CAAC0J,EAAE,CAAC9B,IAAI,CAAC4qB,iBAAiB,CAAC,IAAI5wB,QAAQ,CAAC5B,aAAa,KAAKowB,SAAS,CAAC,CAAC,CAAC,EAAE;MAC7HxuB,QAAQ,CAAC5B,aAAa,CAACC,IAAI,CAAC,CAAC;IAC/B;IAEA,MAAMwyB,oBAAoB,GAAGR,cAAc,IAAIrZ,MAAM,CAAC8Z,cAAc,IAAI7gB,MAAM,CAAC8gB,wBAAwB;IAEvG,IAAI,CAAC9gB,MAAM,CAAC+gB,6BAA6B,IAAIH,oBAAoB,KAAK,CAACrC,SAAS,CAAC,CAAC,CAAC,CAACyC,iBAAiB,EAAE;MACrGvpB,CAAC,CAAC2oB,cAAc,CAAC,CAAC;IACpB;EACF;EAEA,IAAIrZ,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,IAAIla,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,CAACxS,OAAO,IAAI1H,MAAM,CAACka,QAAQ,IAAIla,MAAM,CAAC7G,SAAS,IAAI,CAACF,MAAM,CAACgQ,OAAO,EAAE;IACtHjJ,MAAM,CAACka,QAAQ,CAAC9C,YAAY,CAAC,CAAC;EAChC;EAEApX,MAAM,CAACsD,IAAI,CAAC,YAAY,EAAE5S,CAAC,CAAC;AAC9B;;;;;;;;ACnIA,IAAAjG,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AAA4C,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAC7B,SAAS6zB,WAAWA,CAAC/oB,KAAK,EAAE;EACzC,MAAMpI,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,MAAMkX,MAAM,GAAG,IAAI;EACnB,MAAMhR,IAAI,GAAGgR,MAAM,CAACqX,eAAe;EACnC,MAAM;IACJpe,MAAM,EAANA,MAAM;IACNqe,OAAO,EAAPA,OAAO;IACPjQ,YAAY,EAAEC,GAAG;IACjBI,OAAO,EAAPA;EACF,CAAC,GAAG1H,MAAM;EACV,IAAI,CAAC0H,OAAO,EAAE;EACd,IAAIhX,CAAC,GAAGU,KAAK;EACb,IAAIV,CAAC,CAAC6mB,aAAa,EAAE7mB,CAAC,GAAGA,CAAC,CAAC6mB,aAAa;EAExC,IAAI,CAACvoB,IAAI,CAAC6oB,SAAS,EAAE;IACnB,IAAI7oB,IAAI,CAACwqB,WAAW,IAAIxqB,IAAI,CAACuqB,WAAW,EAAE;MACxCvZ,MAAM,CAACsD,IAAI,CAAC,mBAAmB,EAAE5S,CAAC,CAAC;IACrC;IAEA;EACF;EAEA,IAAI1B,IAAI,CAACyoB,YAAY,IAAI/mB,CAAC,CAACgnB,IAAI,KAAK,WAAW,EAAE;EACjD,MAAM0C,WAAW,GAAG1pB,CAAC,CAACgnB,IAAI,KAAK,WAAW,IAAIhnB,CAAC,CAACioB,aAAa,KAAKjoB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,IAAIjoB,CAAC,CAAC2pB,cAAc,CAAC,CAAC,CAAC,CAAC;EAC5G,MAAMzB,KAAK,GAAGloB,CAAC,CAACgnB,IAAI,KAAK,WAAW,GAAG0C,WAAW,CAACxB,KAAK,GAAGloB,CAAC,CAACkoB,KAAK;EAClE,MAAME,KAAK,GAAGpoB,CAAC,CAACgnB,IAAI,KAAK,WAAW,GAAG0C,WAAW,CAACtB,KAAK,GAAGpoB,CAAC,CAACooB,KAAK;EAElE,IAAIpoB,CAAC,CAAC4pB,uBAAuB,EAAE;IAC7BhD,OAAO,CAACyB,MAAM,GAAGH,KAAK;IACtBtB,OAAO,CAAC0B,MAAM,GAAGF,KAAK;IACtB;EACF;EAEA,IAAI,CAAC9Y,MAAM,CAAC8Z,cAAc,EAAE;IAC1B,IAAI,CAAC,IAAAhtB,YAAC,EAAC4D,CAAC,CAAChK,MAAM,CAAC,CAACoK,EAAE,CAAC9B,IAAI,CAAC4qB,iBAAiB,CAAC,EAAE;MAC3C5Z,MAAM,CAACwY,UAAU,GAAG,KAAK;IAC3B;IAEA,IAAIxpB,IAAI,CAAC6oB,SAAS,EAAE;MAClBrxB,MAAM,CAACwS,MAAM,CAACse,OAAO,EAAE;QACrByB,MAAM,EAAEH,KAAK;QACbI,MAAM,EAAEF,KAAK;QACbJ,QAAQ,EAAEE,KAAK;QACfC,QAAQ,EAAEC;MACZ,CAAC,CAAC;MACF9pB,IAAI,CAACyqB,cAAc,GAAG,IAAA/b,UAAG,EAAC,CAAC;IAC7B;IAEA;EACF;EAEA,IAAI1O,IAAI,CAACyoB,YAAY,IAAIxe,MAAM,CAACshB,mBAAmB,IAAI,CAACthB,MAAM,CAAC2V,IAAI,EAAE;IACnE,IAAI5O,MAAM,CAAC0G,UAAU,CAAC,CAAC,EAAE;MACvB;MACA,IAAIoS,KAAK,GAAGxB,OAAO,CAAC0B,MAAM,IAAIhZ,MAAM,CAACI,SAAS,IAAIJ,MAAM,CAAC6N,YAAY,CAAC,CAAC,IAAIiL,KAAK,GAAGxB,OAAO,CAAC0B,MAAM,IAAIhZ,MAAM,CAACI,SAAS,IAAIJ,MAAM,CAACoN,YAAY,CAAC,CAAC,EAAE;QAC9Ipe,IAAI,CAAC6oB,SAAS,GAAG,KAAK;QACtB7oB,IAAI,CAAC8oB,OAAO,GAAG,KAAK;QACpB;MACF;IACF,CAAC,MAAM,IAAIc,KAAK,GAAGtB,OAAO,CAACyB,MAAM,IAAI/Y,MAAM,CAACI,SAAS,IAAIJ,MAAM,CAAC6N,YAAY,CAAC,CAAC,IAAI+K,KAAK,GAAGtB,OAAO,CAACyB,MAAM,IAAI/Y,MAAM,CAACI,SAAS,IAAIJ,MAAM,CAACoN,YAAY,CAAC,CAAC,EAAE;MACrJ;IACF;EACF;EAEA,IAAIpe,IAAI,CAACyoB,YAAY,IAAIzuB,QAAQ,CAAC5B,aAAa,EAAE;IAC/C,IAAIsJ,CAAC,CAAChK,MAAM,KAAKsC,QAAQ,CAAC5B,aAAa,IAAI,IAAA0F,YAAC,EAAC4D,CAAC,CAAChK,MAAM,CAAC,CAACoK,EAAE,CAAC9B,IAAI,CAAC4qB,iBAAiB,CAAC,EAAE;MACjF5qB,IAAI,CAAC8oB,OAAO,GAAG,IAAI;MACnB9X,MAAM,CAACwY,UAAU,GAAG,KAAK;MACzB;IACF;EACF;EAEA,IAAIxpB,IAAI,CAACsqB,mBAAmB,EAAE;IAC5BtZ,MAAM,CAACsD,IAAI,CAAC,WAAW,EAAE5S,CAAC,CAAC;EAC7B;EAEA,IAAIA,CAAC,CAACioB,aAAa,IAAIjoB,CAAC,CAACioB,aAAa,CAAC5xB,MAAM,GAAG,CAAC,EAAE;EACnDuwB,OAAO,CAACoB,QAAQ,GAAGE,KAAK;EACxBtB,OAAO,CAACuB,QAAQ,GAAGC,KAAK;EACxB,MAAM0B,KAAK,GAAGlD,OAAO,CAACoB,QAAQ,GAAGpB,OAAO,CAACyB,MAAM;EAC/C,MAAM0B,KAAK,GAAGnD,OAAO,CAACuB,QAAQ,GAAGvB,OAAO,CAAC0B,MAAM;EAC/C,IAAIhZ,MAAM,CAAC/G,MAAM,CAACyb,SAAS,IAAIzc,IAAI,CAACyiB,IAAI,CAACF,KAAK,IAAI,CAAC,GAAGC,KAAK,IAAI,CAAC,CAAC,GAAGza,MAAM,CAAC/G,MAAM,CAACyb,SAAS,EAAE;EAE7F,IAAI,OAAO1lB,IAAI,CAACuqB,WAAW,KAAK,WAAW,EAAE;IAC3C,IAAIoB,UAAU;IAEd,IAAI3a,MAAM,CAACyG,YAAY,CAAC,CAAC,IAAI6Q,OAAO,CAACuB,QAAQ,KAAKvB,OAAO,CAAC0B,MAAM,IAAIhZ,MAAM,CAAC0G,UAAU,CAAC,CAAC,IAAI4Q,OAAO,CAACoB,QAAQ,KAAKpB,OAAO,CAACyB,MAAM,EAAE;MAC9H/pB,IAAI,CAACuqB,WAAW,GAAG,KAAK;IAC1B,CAAC,MAAM;MACL;MACA,IAAIiB,KAAK,GAAGA,KAAK,GAAGC,KAAK,GAAGA,KAAK,IAAI,EAAE,EAAE;QACvCE,UAAU,GAAG1iB,IAAI,CAAC2iB,KAAK,CAAC3iB,IAAI,CAACoS,GAAG,CAACoQ,KAAK,CAAC,EAAExiB,IAAI,CAACoS,GAAG,CAACmQ,KAAK,CAAC,CAAC,GAAG,GAAG,GAAGviB,IAAI,CAACW,EAAE;QACzE5J,IAAI,CAACuqB,WAAW,GAAGvZ,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGkU,UAAU,GAAG1hB,MAAM,CAAC0hB,UAAU,GAAG,EAAE,GAAGA,UAAU,GAAG1hB,MAAM,CAAC0hB,UAAU;MACjH;IACF;EACF;EAEA,IAAI3rB,IAAI,CAACuqB,WAAW,EAAE;IACpBvZ,MAAM,CAACsD,IAAI,CAAC,mBAAmB,EAAE5S,CAAC,CAAC;EACrC;EAEA,IAAI,OAAO1B,IAAI,CAACwqB,WAAW,KAAK,WAAW,EAAE;IAC3C,IAAIlC,OAAO,CAACoB,QAAQ,KAAKpB,OAAO,CAACyB,MAAM,IAAIzB,OAAO,CAACuB,QAAQ,KAAKvB,OAAO,CAAC0B,MAAM,EAAE;MAC9EhqB,IAAI,CAACwqB,WAAW,GAAG,IAAI;IACzB;EACF;EAEA,IAAIxqB,IAAI,CAACuqB,WAAW,EAAE;IACpBvqB,IAAI,CAAC6oB,SAAS,GAAG,KAAK;IACtB;EACF;EAEA,IAAI,CAAC7oB,IAAI,CAACwqB,WAAW,EAAE;IACrB;EACF;EAEAxZ,MAAM,CAACwY,UAAU,GAAG,KAAK;EAEzB,IAAI,CAACvf,MAAM,CAACgQ,OAAO,IAAIvY,CAAC,CAAC4B,UAAU,EAAE;IACnC5B,CAAC,CAAC2oB,cAAc,CAAC,CAAC;EACpB;EAEA,IAAIpgB,MAAM,CAAC4hB,wBAAwB,IAAI,CAAC5hB,MAAM,CAAC6hB,MAAM,EAAE;IACrDpqB,CAAC,CAACqqB,eAAe,CAAC,CAAC;EACrB;EAEA,IAAI,CAAC/rB,IAAI,CAAC8oB,OAAO,EAAE;IACjB,IAAI7e,MAAM,CAAC2V,IAAI,IAAI,CAAC3V,MAAM,CAACgQ,OAAO,EAAE;MAClCjJ,MAAM,CAAC8T,OAAO,CAAC,CAAC;IAClB;IAEA9kB,IAAI,CAACgsB,cAAc,GAAGhb,MAAM,CAACpC,YAAY,CAAC,CAAC;IAC3CoC,MAAM,CAACsM,aAAa,CAAC,CAAC,CAAC;IAEvB,IAAItM,MAAM,CAAC7G,SAAS,EAAE;MACpB6G,MAAM,CAAC0F,UAAU,CAACxT,OAAO,CAAC,mCAAmC,CAAC;IAChE;IAEAlD,IAAI,CAACisB,mBAAmB,GAAG,KAAK,CAAC,CAAC;;IAElC,IAAIhiB,MAAM,CAACiiB,UAAU,KAAKlb,MAAM,CAAC+S,cAAc,KAAK,IAAI,IAAI/S,MAAM,CAACgT,cAAc,KAAK,IAAI,CAAC,EAAE;MAC3FhT,MAAM,CAACsW,aAAa,CAAC,IAAI,CAAC;IAC5B;IAEAtW,MAAM,CAACsD,IAAI,CAAC,iBAAiB,EAAE5S,CAAC,CAAC;EACnC;EAEAsP,MAAM,CAACsD,IAAI,CAAC,YAAY,EAAE5S,CAAC,CAAC;EAC5B1B,IAAI,CAAC8oB,OAAO,GAAG,IAAI;EACnB,IAAI9B,IAAI,GAAGhW,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG+T,KAAK,GAAGC,KAAK;EAChDnD,OAAO,CAACtB,IAAI,GAAGA,IAAI;EACnBA,IAAI,IAAI/c,MAAM,CAACkiB,UAAU;EACzB,IAAI7T,GAAG,EAAE0O,IAAI,GAAG,CAACA,IAAI;EACrBhW,MAAM,CAAC0Z,cAAc,GAAG1D,IAAI,GAAG,CAAC,GAAG,MAAM,GAAG,MAAM;EAClDhnB,IAAI,CAACyhB,gBAAgB,GAAGuF,IAAI,GAAGhnB,IAAI,CAACgsB,cAAc;EAClD,IAAII,mBAAmB,GAAG,IAAI;EAC9B,IAAIC,eAAe,GAAGpiB,MAAM,CAACoiB,eAAe;EAE5C,IAAIpiB,MAAM,CAACshB,mBAAmB,EAAE;IAC9Bc,eAAe,GAAG,CAAC;EACrB;EAEA,IAAIrF,IAAI,GAAG,CAAC,IAAIhnB,IAAI,CAACyhB,gBAAgB,GAAGzQ,MAAM,CAACoN,YAAY,CAAC,CAAC,EAAE;IAC7DgO,mBAAmB,GAAG,KAAK;IAC3B,IAAIniB,MAAM,CAACqiB,UAAU,EAAEtsB,IAAI,CAACyhB,gBAAgB,GAAGzQ,MAAM,CAACoN,YAAY,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAACpN,MAAM,CAACoN,YAAY,CAAC,CAAC,GAAGpe,IAAI,CAACgsB,cAAc,GAAGhF,IAAI,KAAKqF,eAAe;EACrJ,CAAC,MAAM,IAAIrF,IAAI,GAAG,CAAC,IAAIhnB,IAAI,CAACyhB,gBAAgB,GAAGzQ,MAAM,CAAC6N,YAAY,CAAC,CAAC,EAAE;IACpEuN,mBAAmB,GAAG,KAAK;IAC3B,IAAIniB,MAAM,CAACqiB,UAAU,EAAEtsB,IAAI,CAACyhB,gBAAgB,GAAGzQ,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC7N,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG7e,IAAI,CAACgsB,cAAc,GAAGhF,IAAI,KAAKqF,eAAe;EACpJ;EAEA,IAAID,mBAAmB,EAAE;IACvB1qB,CAAC,CAAC4pB,uBAAuB,GAAG,IAAI;EAClC,CAAC,CAAC;;EAGF,IAAI,CAACta,MAAM,CAAC+S,cAAc,IAAI/S,MAAM,CAAC0Z,cAAc,KAAK,MAAM,IAAI1qB,IAAI,CAACyhB,gBAAgB,GAAGzhB,IAAI,CAACgsB,cAAc,EAAE;IAC7GhsB,IAAI,CAACyhB,gBAAgB,GAAGzhB,IAAI,CAACgsB,cAAc;EAC7C;EAEA,IAAI,CAAChb,MAAM,CAACgT,cAAc,IAAIhT,MAAM,CAAC0Z,cAAc,KAAK,MAAM,IAAI1qB,IAAI,CAACyhB,gBAAgB,GAAGzhB,IAAI,CAACgsB,cAAc,EAAE;IAC7GhsB,IAAI,CAACyhB,gBAAgB,GAAGzhB,IAAI,CAACgsB,cAAc;EAC7C;EAEA,IAAI,CAAChb,MAAM,CAACgT,cAAc,IAAI,CAAChT,MAAM,CAAC+S,cAAc,EAAE;IACpD/jB,IAAI,CAACyhB,gBAAgB,GAAGzhB,IAAI,CAACgsB,cAAc;EAC7C,CAAC,CAAC;;EAGF,IAAI/hB,MAAM,CAACyb,SAAS,GAAG,CAAC,EAAE;IACxB,IAAIzc,IAAI,CAACoS,GAAG,CAAC2L,IAAI,CAAC,GAAG/c,MAAM,CAACyb,SAAS,IAAI1lB,IAAI,CAAC2qB,kBAAkB,EAAE;MAChE,IAAI,CAAC3qB,IAAI,CAAC2qB,kBAAkB,EAAE;QAC5B3qB,IAAI,CAAC2qB,kBAAkB,GAAG,IAAI;QAC9BrC,OAAO,CAACyB,MAAM,GAAGzB,OAAO,CAACoB,QAAQ;QACjCpB,OAAO,CAAC0B,MAAM,GAAG1B,OAAO,CAACuB,QAAQ;QACjC7pB,IAAI,CAACyhB,gBAAgB,GAAGzhB,IAAI,CAACgsB,cAAc;QAC3C1D,OAAO,CAACtB,IAAI,GAAGhW,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG6Q,OAAO,CAACoB,QAAQ,GAAGpB,OAAO,CAACyB,MAAM,GAAGzB,OAAO,CAACuB,QAAQ,GAAGvB,OAAO,CAAC0B,MAAM;QAC5G;MACF;IACF,CAAC,MAAM;MACLhqB,IAAI,CAACyhB,gBAAgB,GAAGzhB,IAAI,CAACgsB,cAAc;MAC3C;IACF;EACF;EAEA,IAAI,CAAC/hB,MAAM,CAACsiB,YAAY,IAAItiB,MAAM,CAACgQ,OAAO,EAAE,OAAO,CAAC;;EAEpD,IAAIhQ,MAAM,CAACihB,QAAQ,IAAIjhB,MAAM,CAACihB,QAAQ,CAACxS,OAAO,IAAI1H,MAAM,CAACka,QAAQ,IAAIjhB,MAAM,CAAC2S,mBAAmB,EAAE;IAC/F5L,MAAM,CAACiP,iBAAiB,CAAC,CAAC;IAC1BjP,MAAM,CAACmO,mBAAmB,CAAC,CAAC;EAC9B;EAEA,IAAInO,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,IAAIjhB,MAAM,CAACihB,QAAQ,CAACxS,OAAO,IAAI1H,MAAM,CAACka,QAAQ,EAAE;IACxEla,MAAM,CAACka,QAAQ,CAACC,WAAW,CAAC,CAAC;EAC/B,CAAC,CAAC;;EAGFna,MAAM,CAAC0N,cAAc,CAAC1e,IAAI,CAACyhB,gBAAgB,CAAC,CAAC,CAAC;;EAE9CzQ,MAAM,CAAC0Q,YAAY,CAAC1hB,IAAI,CAACyhB,gBAAgB,CAAC;AAC5C;;;;;;;;AC9NA,IAAA3J,MAAA,GAAApc,OAAA;AACe,SAAS8wB,UAAUA,CAACpqB,KAAK,EAAE;EACxC,MAAM4O,MAAM,GAAG,IAAI;EACnB,MAAMhR,IAAI,GAAGgR,MAAM,CAACqX,eAAe;EACnC,MAAM;IACJpe,MAAM,EAANA,MAAM;IACNqe,OAAO,EAAPA,OAAO;IACPjQ,YAAY,EAAEC,GAAG;IACjBU,UAAU,EAAVA,UAAU;IACVN,OAAO,EAAPA;EACF,CAAC,GAAG1H,MAAM;EACV,IAAI,CAAC0H,OAAO,EAAE;EACd,IAAIhX,CAAC,GAAGU,KAAK;EACb,IAAIV,CAAC,CAAC6mB,aAAa,EAAE7mB,CAAC,GAAGA,CAAC,CAAC6mB,aAAa;EAExC,IAAIvoB,IAAI,CAACsqB,mBAAmB,EAAE;IAC5BtZ,MAAM,CAACsD,IAAI,CAAC,UAAU,EAAE5S,CAAC,CAAC;EAC5B;EAEA1B,IAAI,CAACsqB,mBAAmB,GAAG,KAAK;EAEhC,IAAI,CAACtqB,IAAI,CAAC6oB,SAAS,EAAE;IACnB,IAAI7oB,IAAI,CAAC8oB,OAAO,IAAI7e,MAAM,CAACiiB,UAAU,EAAE;MACrClb,MAAM,CAACsW,aAAa,CAAC,KAAK,CAAC;IAC7B;IAEAtnB,IAAI,CAAC8oB,OAAO,GAAG,KAAK;IACpB9oB,IAAI,CAACwqB,WAAW,GAAG,KAAK;IACxB;EACF,CAAC,CAAC;;EAGF,IAAIvgB,MAAM,CAACiiB,UAAU,IAAIlsB,IAAI,CAAC8oB,OAAO,IAAI9oB,IAAI,CAAC6oB,SAAS,KAAK7X,MAAM,CAAC+S,cAAc,KAAK,IAAI,IAAI/S,MAAM,CAACgT,cAAc,KAAK,IAAI,CAAC,EAAE;IAC7HhT,MAAM,CAACsW,aAAa,CAAC,KAAK,CAAC;EAC7B,CAAC,CAAC;;EAGF,MAAMmF,YAAY,GAAG,IAAA/d,UAAG,EAAC,CAAC;EAC1B,MAAMge,QAAQ,GAAGD,YAAY,GAAGzsB,IAAI,CAACyqB,cAAc,CAAC,CAAC;;EAErD,IAAIzZ,MAAM,CAACwY,UAAU,EAAE;IACrB,MAAMmD,QAAQ,GAAGjrB,CAAC,CAACynB,IAAI,IAAIznB,CAAC,CAACwnB,YAAY,IAAIxnB,CAAC,CAACwnB,YAAY,CAAC,CAAC;IAC7DlY,MAAM,CAACyP,kBAAkB,CAACkM,QAAQ,IAAIA,QAAQ,CAAC,CAAC,CAAC,IAAIjrB,CAAC,CAAChK,MAAM,CAAC;IAC9DsZ,MAAM,CAACsD,IAAI,CAAC,WAAW,EAAE5S,CAAC,CAAC;IAE3B,IAAIgrB,QAAQ,GAAG,GAAG,IAAID,YAAY,GAAGzsB,IAAI,CAAC4sB,aAAa,GAAG,GAAG,EAAE;MAC7D5b,MAAM,CAACsD,IAAI,CAAC,uBAAuB,EAAE5S,CAAC,CAAC;IACzC;EACF;EAEA1B,IAAI,CAAC4sB,aAAa,GAAG,IAAAle,UAAG,EAAC,CAAC;EAC1B,IAAAF,eAAQ,EAAC,MAAM;IACb,IAAI,CAACwC,MAAM,CAAC0D,SAAS,EAAE1D,MAAM,CAACwY,UAAU,GAAG,IAAI;EACjD,CAAC,CAAC;EAEF,IAAI,CAACxpB,IAAI,CAAC6oB,SAAS,IAAI,CAAC7oB,IAAI,CAAC8oB,OAAO,IAAI,CAAC9X,MAAM,CAAC0Z,cAAc,IAAIpC,OAAO,CAACtB,IAAI,KAAK,CAAC,IAAIhnB,IAAI,CAACyhB,gBAAgB,KAAKzhB,IAAI,CAACgsB,cAAc,EAAE;IACrIhsB,IAAI,CAAC6oB,SAAS,GAAG,KAAK;IACtB7oB,IAAI,CAAC8oB,OAAO,GAAG,KAAK;IACpB9oB,IAAI,CAACwqB,WAAW,GAAG,KAAK;IACxB;EACF;EAEAxqB,IAAI,CAAC6oB,SAAS,GAAG,KAAK;EACtB7oB,IAAI,CAAC8oB,OAAO,GAAG,KAAK;EACpB9oB,IAAI,CAACwqB,WAAW,GAAG,KAAK;EACxB,IAAIqC,UAAU;EAEd,IAAI5iB,MAAM,CAACsiB,YAAY,EAAE;IACvBM,UAAU,GAAGvU,GAAG,GAAGtH,MAAM,CAACI,SAAS,GAAG,CAACJ,MAAM,CAACI,SAAS;EACzD,CAAC,MAAM;IACLyb,UAAU,GAAG,CAAC7sB,IAAI,CAACyhB,gBAAgB;EACrC;EAEA,IAAIxX,MAAM,CAACgQ,OAAO,EAAE;IAClB;EACF;EAEA,IAAIjJ,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,IAAIjhB,MAAM,CAACihB,QAAQ,CAACxS,OAAO,EAAE;IACrD1H,MAAM,CAACka,QAAQ,CAACsB,UAAU,CAAC;MACzBK,UAAU,EAAVA;IACF,CAAC,CAAC;IACF;EACF,CAAC,CAAC;;EAGF,IAAIC,SAAS,GAAG,CAAC;EACjB,IAAIC,SAAS,GAAG/b,MAAM,CAACiI,eAAe,CAAC,CAAC,CAAC;EAEzC,KAAK,IAAIhc,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+b,UAAU,CAACjhB,MAAM,EAAEkF,CAAC,IAAIA,CAAC,GAAGgN,MAAM,CAACsR,kBAAkB,GAAG,CAAC,GAAGtR,MAAM,CAACqR,cAAc,EAAE;IACrG,MAAMsJ,SAAS,GAAG3nB,CAAC,GAAGgN,MAAM,CAACsR,kBAAkB,GAAG,CAAC,GAAG,CAAC,GAAGtR,MAAM,CAACqR,cAAc;IAE/E,IAAI,OAAOtC,UAAU,CAAC/b,CAAC,GAAG2nB,SAAS,CAAC,KAAK,WAAW,EAAE;MACpD,IAAIiI,UAAU,IAAI7T,UAAU,CAAC/b,CAAC,CAAC,IAAI4vB,UAAU,GAAG7T,UAAU,CAAC/b,CAAC,GAAG2nB,SAAS,CAAC,EAAE;QACzEkI,SAAS,GAAG7vB,CAAC;QACb8vB,SAAS,GAAG/T,UAAU,CAAC/b,CAAC,GAAG2nB,SAAS,CAAC,GAAG5L,UAAU,CAAC/b,CAAC,CAAC;MACvD;IACF,CAAC,MAAM,IAAI4vB,UAAU,IAAI7T,UAAU,CAAC/b,CAAC,CAAC,EAAE;MACtC6vB,SAAS,GAAG7vB,CAAC;MACb8vB,SAAS,GAAG/T,UAAU,CAACA,UAAU,CAACjhB,MAAM,GAAG,CAAC,CAAC,GAAGihB,UAAU,CAACA,UAAU,CAACjhB,MAAM,GAAG,CAAC,CAAC;IACnF;EACF;EAEA,IAAIi1B,gBAAgB,GAAG,IAAI;EAC3B,IAAIC,eAAe,GAAG,IAAI;EAE1B,IAAIhjB,MAAM,CAAC+a,MAAM,EAAE;IACjB,IAAIhU,MAAM,CAAC8N,WAAW,EAAE;MACtBmO,eAAe,GAAGjc,MAAM,CAAC/G,MAAM,CAACwO,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,IAAI1H,MAAM,CAACyH,OAAO,GAAGzH,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAC7gB,MAAM,GAAG,CAAC,GAAGiZ,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAG,CAAC;IAC1J,CAAC,MAAM,IAAIiZ,MAAM,CAAC+N,KAAK,EAAE;MACvBiO,gBAAgB,GAAG,CAAC;IACtB;EACF,CAAC,CAAC;;EAGF,MAAME,KAAK,GAAG,CAACL,UAAU,GAAG7T,UAAU,CAAC8T,SAAS,CAAC,IAAIC,SAAS;EAC9D,MAAMnI,SAAS,GAAGkI,SAAS,GAAG7iB,MAAM,CAACsR,kBAAkB,GAAG,CAAC,GAAG,CAAC,GAAGtR,MAAM,CAACqR,cAAc;EAEvF,IAAIoR,QAAQ,GAAGziB,MAAM,CAACkjB,YAAY,EAAE;IAClC;IACA,IAAI,CAACljB,MAAM,CAACmjB,UAAU,EAAE;MACtBpc,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC0M,WAAW,CAAC;MAClC;IACF;IAEA,IAAI1M,MAAM,CAAC0Z,cAAc,KAAK,MAAM,EAAE;MACpC,IAAIwC,KAAK,IAAIjjB,MAAM,CAACojB,eAAe,EAAErc,MAAM,CAACsS,OAAO,CAACrZ,MAAM,CAAC+a,MAAM,IAAIhU,MAAM,CAAC+N,KAAK,GAAGiO,gBAAgB,GAAGF,SAAS,GAAGlI,SAAS,CAAC,CAAC,KAAK5T,MAAM,CAACsS,OAAO,CAACwJ,SAAS,CAAC;IAC9J;IAEA,IAAI9b,MAAM,CAAC0Z,cAAc,KAAK,MAAM,EAAE;MACpC,IAAIwC,KAAK,GAAG,CAAC,GAAGjjB,MAAM,CAACojB,eAAe,EAAE;QACtCrc,MAAM,CAACsS,OAAO,CAACwJ,SAAS,GAAGlI,SAAS,CAAC;MACvC,CAAC,MAAM,IAAIqI,eAAe,KAAK,IAAI,IAAIC,KAAK,GAAG,CAAC,IAAIjkB,IAAI,CAACoS,GAAG,CAAC6R,KAAK,CAAC,GAAGjjB,MAAM,CAACojB,eAAe,EAAE;QAC5Frc,MAAM,CAACsS,OAAO,CAAC2J,eAAe,CAAC;MACjC,CAAC,MAAM;QACLjc,MAAM,CAACsS,OAAO,CAACwJ,SAAS,CAAC;MAC3B;IACF;EACF,CAAC,MAAM;IACL;IACA,IAAI,CAAC7iB,MAAM,CAACqjB,WAAW,EAAE;MACvBtc,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC0M,WAAW,CAAC;MAClC;IACF;IAEA,MAAM6P,iBAAiB,GAAGvc,MAAM,CAACwc,UAAU,KAAK9rB,CAAC,CAAChK,MAAM,KAAKsZ,MAAM,CAACwc,UAAU,CAACC,MAAM,IAAI/rB,CAAC,CAAChK,MAAM,KAAKsZ,MAAM,CAACwc,UAAU,CAACE,MAAM,CAAC;IAE/H,IAAI,CAACH,iBAAiB,EAAE;MACtB,IAAIvc,MAAM,CAAC0Z,cAAc,KAAK,MAAM,EAAE;QACpC1Z,MAAM,CAACsS,OAAO,CAAC0J,gBAAgB,KAAK,IAAI,GAAGA,gBAAgB,GAAGF,SAAS,GAAGlI,SAAS,CAAC;MACtF;MAEA,IAAI5T,MAAM,CAAC0Z,cAAc,KAAK,MAAM,EAAE;QACpC1Z,MAAM,CAACsS,OAAO,CAAC2J,eAAe,KAAK,IAAI,GAAGA,eAAe,GAAGH,SAAS,CAAC;MACxE;IACF,CAAC,MAAM,IAAIprB,CAAC,CAAChK,MAAM,KAAKsZ,MAAM,CAACwc,UAAU,CAACC,MAAM,EAAE;MAChDzc,MAAM,CAACsS,OAAO,CAACwJ,SAAS,GAAGlI,SAAS,CAAC;IACvC,CAAC,MAAM;MACL5T,MAAM,CAACsS,OAAO,CAACwJ,SAAS,CAAC;IAC3B;EACF;AACF;;;;;;;;AChKe,SAASa,QAAQA,CAAA,EAAG;EACjC,MAAM3c,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA,MAAM;IACNzN,EAAE,EAAFA;EACF,CAAC,GAAGwU,MAAM;EACV,IAAIxU,EAAE,IAAIA,EAAE,CAAC2H,WAAW,KAAK,CAAC,EAAE,OAAO,CAAC;;EAExC,IAAI8F,MAAM,CAACwQ,WAAW,EAAE;IACtBzJ,MAAM,CAAC4c,aAAa,CAAC,CAAC;EACxB,CAAC,CAAC;;EAGF,MAAM;IACJ7J,cAAc,EAAdA,cAAc;IACdC,cAAc,EAAdA,cAAc;IACdjL,QAAQ,EAARA;EACF,CAAC,GAAG/H,MAAM,CAAC,CAAC;;EAEZA,MAAM,CAAC+S,cAAc,GAAG,IAAI;EAC5B/S,MAAM,CAACgT,cAAc,GAAG,IAAI;EAC5BhT,MAAM,CAACsG,UAAU,CAAC,CAAC;EACnBtG,MAAM,CAAC+G,YAAY,CAAC,CAAC;EACrB/G,MAAM,CAACmO,mBAAmB,CAAC,CAAC;EAE5B,IAAI,CAAClV,MAAM,CAACuQ,aAAa,KAAK,MAAM,IAAIvQ,MAAM,CAACuQ,aAAa,GAAG,CAAC,KAAKxJ,MAAM,CAAC+N,KAAK,IAAI,CAAC/N,MAAM,CAAC8N,WAAW,IAAI,CAAC9N,MAAM,CAAC/G,MAAM,CAAC+P,cAAc,EAAE;IACzIhJ,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC;EAC1D,CAAC,MAAM;IACLiZ,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC0M,WAAW,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC;EACpD;EAEA,IAAI1M,MAAM,CAAC6c,QAAQ,IAAI7c,MAAM,CAAC6c,QAAQ,CAACC,OAAO,IAAI9c,MAAM,CAAC6c,QAAQ,CAACE,MAAM,EAAE;IACxE/c,MAAM,CAAC6c,QAAQ,CAACG,GAAG,CAAC,CAAC;EACvB,CAAC,CAAC;;EAGFhd,MAAM,CAACgT,cAAc,GAAGA,cAAc;EACtChT,MAAM,CAAC+S,cAAc,GAAGA,cAAc;EAEtC,IAAI/S,MAAM,CAAC/G,MAAM,CAACyS,aAAa,IAAI3D,QAAQ,KAAK/H,MAAM,CAAC+H,QAAQ,EAAE;IAC/D/H,MAAM,CAAC2L,aAAa,CAAC,CAAC;EACxB;AACF;;;;;;;;AC1Ce,SAASsR,OAAOA,CAACvsB,CAAC,EAAE;EACjC,MAAMsP,MAAM,GAAG,IAAI;EACnB,IAAI,CAACA,MAAM,CAAC0H,OAAO,EAAE;EAErB,IAAI,CAAC1H,MAAM,CAACwY,UAAU,EAAE;IACtB,IAAIxY,MAAM,CAAC/G,MAAM,CAACikB,aAAa,EAAExsB,CAAC,CAAC2oB,cAAc,CAAC,CAAC;IAEnD,IAAIrZ,MAAM,CAAC/G,MAAM,CAACkkB,wBAAwB,IAAInd,MAAM,CAAC7G,SAAS,EAAE;MAC9DzI,CAAC,CAACqqB,eAAe,CAAC,CAAC;MACnBrqB,CAAC,CAAC0sB,wBAAwB,CAAC,CAAC;IAC9B;EACF;AACF;;;;;;;;ACZe,SAASC,QAAQA,CAAA,EAAG;EACjC,MAAMrd,MAAM,GAAG,IAAI;EACnB,MAAM;IACJM,SAAS,EAATA,SAAS;IACT+G,YAAY,EAAZA,YAAY;IACZK,OAAO,EAAPA;EACF,CAAC,GAAG1H,MAAM;EACV,IAAI,CAAC0H,OAAO,EAAE;EACd1H,MAAM,CAAC+Q,iBAAiB,GAAG/Q,MAAM,CAACI,SAAS;EAE3C,IAAIJ,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;IACzBzG,MAAM,CAACI,SAAS,GAAG,CAACE,SAAS,CAACvM,UAAU;EAC1C,CAAC,MAAM;IACLiM,MAAM,CAACI,SAAS,GAAG,CAACE,SAAS,CAACzM,SAAS;EACzC,CAAC,CAAC;;EAGF,IAAImM,MAAM,CAACI,SAAS,KAAK,CAAC,EAAEJ,MAAM,CAACI,SAAS,GAAG,CAAC;EAChDJ,MAAM,CAACiP,iBAAiB,CAAC,CAAC;EAC1BjP,MAAM,CAACmO,mBAAmB,CAAC,CAAC;EAC5B,IAAI6C,WAAW;EACf,MAAMpD,cAAc,GAAG5N,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG7N,MAAM,CAACoN,YAAY,CAAC,CAAC;EAEpE,IAAIQ,cAAc,KAAK,CAAC,EAAE;IACxBoD,WAAW,GAAG,CAAC;EACjB,CAAC,MAAM;IACLA,WAAW,GAAG,CAAChR,MAAM,CAACI,SAAS,GAAGJ,MAAM,CAACoN,YAAY,CAAC,CAAC,IAAIQ,cAAc;EAC3E;EAEA,IAAIoD,WAAW,KAAKhR,MAAM,CAACvH,QAAQ,EAAE;IACnCuH,MAAM,CAAC0N,cAAc,CAACrG,YAAY,GAAG,CAACrH,MAAM,CAACI,SAAS,GAAGJ,MAAM,CAACI,SAAS,CAAC;EAC5E;EAEAJ,MAAM,CAACsD,IAAI,CAAC,cAAc,EAAEtD,MAAM,CAACI,SAAS,EAAE,KAAK,CAAC;AACtD;;;;;;;;AClCA,IAAA3V,UAAA,GAAAC,OAAA;AACA,IAAA4yB,aAAA,GAAApR,sBAAA,CAAAxhB,OAAA;AACA,IAAA6yB,YAAA,GAAArR,sBAAA,CAAAxhB,OAAA;AACA,IAAA8yB,WAAA,GAAAtR,sBAAA,CAAAxhB,OAAA;AACA,IAAA+yB,SAAA,GAAAvR,sBAAA,CAAAxhB,OAAA;AACA,IAAAgzB,QAAA,GAAAxR,sBAAA,CAAAxhB,OAAA;AACA,IAAAizB,SAAA,GAAAzR,sBAAA,CAAAxhB,OAAA;AAAqC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrC,IAAIs3B,kBAAkB,GAAG,KAAK;AAE9B,SAASC,kBAAkBA,CAAA,EAAG,CAAC;AAE/B,MAAM1sB,MAAM,GAAGA,CAAC6O,MAAM,EAAEgG,MAAM,KAAK;EACjC,MAAMhd,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,MAAM;IACJmQ,MAAM,EAANA,MAAM;IACN6kB,WAAW,EAAXA,WAAW;IACXtyB,EAAE,EAAFA,EAAE;IACF8U,SAAS,EAATA,SAAS;IACT0B,MAAM,EAANA,MAAM;IACNlB,OAAO,EAAPA;EACF,CAAC,GAAGd,MAAM;EACV,MAAMxP,OAAO,GAAG,CAAC,CAACyI,MAAM,CAAC6hB,MAAM;EAC/B,MAAMiD,SAAS,GAAG/X,MAAM,KAAK,IAAI,GAAG,kBAAkB,GAAG,qBAAqB;EAC9E,MAAMgY,YAAY,GAAGhY,MAAM,CAAC,CAAC;;EAE7B,IAAI,CAAClF,OAAO,CAACI,KAAK,EAAE;IAClB1V,EAAE,CAACuyB,SAAS,CAAC,CAACD,WAAW,CAACG,KAAK,EAAEje,MAAM,CAACoX,YAAY,EAAE,KAAK,CAAC;IAC5DpuB,QAAQ,CAAC+0B,SAAS,CAAC,CAACD,WAAW,CAACI,IAAI,EAAEle,MAAM,CAACma,WAAW,EAAE3pB,OAAO,CAAC;IAClExH,QAAQ,CAAC+0B,SAAS,CAAC,CAACD,WAAW,CAACK,GAAG,EAAEne,MAAM,CAACwb,UAAU,EAAE,KAAK,CAAC;EAChE,CAAC,MAAM;IACL,MAAMpa,eAAe,GAAG0c,WAAW,CAACG,KAAK,KAAK,YAAY,IAAInd,OAAO,CAACM,eAAe,IAAInI,MAAM,CAACmlB,gBAAgB,GAAG;MACjHC,OAAO,EAAE,IAAI;MACb7tB,OAAO,EAAE;IACX,CAAC,GAAG,KAAK;IACThF,EAAE,CAACuyB,SAAS,CAAC,CAACD,WAAW,CAACG,KAAK,EAAEje,MAAM,CAACoX,YAAY,EAAEhW,eAAe,CAAC;IACtE5V,EAAE,CAACuyB,SAAS,CAAC,CAACD,WAAW,CAACI,IAAI,EAAEle,MAAM,CAACma,WAAW,EAAErZ,OAAO,CAACM,eAAe,GAAG;MAC5Eid,OAAO,EAAE,KAAK;MACd7tB,OAAO,EAAPA;IACF,CAAC,GAAGA,OAAO,CAAC;IACZhF,EAAE,CAACuyB,SAAS,CAAC,CAACD,WAAW,CAACK,GAAG,EAAEne,MAAM,CAACwb,UAAU,EAAEpa,eAAe,CAAC;IAElE,IAAI0c,WAAW,CAACQ,MAAM,EAAE;MACtB9yB,EAAE,CAACuyB,SAAS,CAAC,CAACD,WAAW,CAACQ,MAAM,EAAEte,MAAM,CAACwb,UAAU,EAAEpa,eAAe,CAAC;IACvE;EACF,CAAC,CAAC;;EAGF,IAAInI,MAAM,CAACikB,aAAa,IAAIjkB,MAAM,CAACkkB,wBAAwB,EAAE;IAC3D3xB,EAAE,CAACuyB,SAAS,CAAC,CAAC,OAAO,EAAE/d,MAAM,CAACid,OAAO,EAAE,IAAI,CAAC;EAC9C;EAEA,IAAIhkB,MAAM,CAACgQ,OAAO,EAAE;IAClB3I,SAAS,CAACyd,SAAS,CAAC,CAAC,QAAQ,EAAE/d,MAAM,CAACqd,QAAQ,CAAC;EACjD,CAAC,CAAC;;EAGF,IAAIpkB,MAAM,CAACslB,oBAAoB,EAAE;IAC/Bve,MAAM,CAACge,YAAY,CAAC,CAAChc,MAAM,CAACC,GAAG,IAAID,MAAM,CAACE,OAAO,GAAG,yCAAyC,GAAG,uBAAuB,EAAEya,iBAAQ,EAAE,IAAI,CAAC;EAC1I,CAAC,MAAM;IACL3c,MAAM,CAACge,YAAY,CAAC,CAAC,gBAAgB,EAAErB,iBAAQ,EAAE,IAAI,CAAC;EACxD;AACF,CAAC;AAED,SAAS6B,YAAYA,CAAA,EAAG;EACtB,MAAMxe,MAAM,GAAG,IAAI;EACnB,MAAMhX,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,MAAM;IACJmQ,MAAM,EAANA,MAAM;IACN6H,OAAO,EAAPA;EACF,CAAC,GAAGd,MAAM;EACVA,MAAM,CAACoX,YAAY,GAAGA,qBAAY,CAACqH,IAAI,CAACze,MAAM,CAAC;EAC/CA,MAAM,CAACma,WAAW,GAAGA,oBAAW,CAACsE,IAAI,CAACze,MAAM,CAAC;EAC7CA,MAAM,CAACwb,UAAU,GAAGA,mBAAU,CAACiD,IAAI,CAACze,MAAM,CAAC;EAE3C,IAAI/G,MAAM,CAACgQ,OAAO,EAAE;IAClBjJ,MAAM,CAACqd,QAAQ,GAAGA,iBAAQ,CAACoB,IAAI,CAACze,MAAM,CAAC;EACzC;EAEAA,MAAM,CAACid,OAAO,GAAGA,gBAAO,CAACwB,IAAI,CAACze,MAAM,CAAC;EAErC,IAAIc,OAAO,CAACI,KAAK,IAAI,CAAC0c,kBAAkB,EAAE;IACxC50B,QAAQ,CAAC9B,gBAAgB,CAAC,YAAY,EAAE22B,kBAAkB,CAAC;IAC3DD,kBAAkB,GAAG,IAAI;EAC3B;EAEAzsB,MAAM,CAAC6O,MAAM,EAAE,IAAI,CAAC;AACtB;AAEA,SAAS0e,YAAYA,CAAA,EAAG;EACtB,MAAM1e,MAAM,GAAG,IAAI;EACnB7O,MAAM,CAAC6O,MAAM,EAAE,KAAK,CAAC;AACvB;AAAC,IAAAhE,QAAA,GAEc;EACbwiB,YAAY,EAAZA,YAAY;EACZE,YAAY,EAAZA;AACF,CAAC;AAAA71B,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;AChGD,IAAA8K,MAAA,GAAApc,OAAA;AAEA,MAAMi0B,aAAa,GAAGA,CAAC3e,MAAM,EAAE/G,MAAM,KAAK;EACxC,OAAO+G,MAAM,CAACmJ,IAAI,IAAIlQ,MAAM,CAACkQ,IAAI,IAAIlQ,MAAM,CAACkQ,IAAI,CAACC,IAAI,GAAG,CAAC;AAC3D,CAAC;AAEc,SAASwT,aAAaA,CAAA,EAAG;EACtC,MAAM5c,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ0M,WAAW,EAAXA,WAAW;IACX/I,WAAW,EAAXA,WAAW;IACX4P,YAAY,GAAG,CAAC;IAChBta,MAAM,EAANA,MAAM;IACNuM,GAAG,EAAHA;EACF,CAAC,GAAGxF,MAAM;EACV,MAAMyJ,WAAW,GAAGxQ,MAAM,CAACwQ,WAAW;EACtC,IAAI,CAACA,WAAW,IAAIA,WAAW,IAAIjjB,MAAM,CAACI,IAAI,CAAC6iB,WAAW,CAAC,CAAC1iB,MAAM,KAAK,CAAC,EAAE,OAAO,CAAC;;EAElF,MAAM63B,UAAU,GAAG5e,MAAM,CAAC6e,aAAa,CAACpV,WAAW,EAAEzJ,MAAM,CAAC/G,MAAM,CAAC6lB,eAAe,EAAE9e,MAAM,CAACxU,EAAE,CAAC;EAC9F,IAAI,CAACozB,UAAU,IAAI5e,MAAM,CAAC+e,iBAAiB,KAAKH,UAAU,EAAE;EAC5D,MAAMI,oBAAoB,GAAGJ,UAAU,IAAInV,WAAW,GAAGA,WAAW,CAACmV,UAAU,CAAC,GAAGnwB,SAAS;EAC5F,MAAMwwB,gBAAgB,GAAGD,oBAAoB,IAAIhf,MAAM,CAACkf,cAAc;EACtE,MAAMC,WAAW,GAAGR,aAAa,CAAC3e,MAAM,EAAE/G,MAAM,CAAC;EACjD,MAAMmmB,UAAU,GAAGT,aAAa,CAAC3e,MAAM,EAAEif,gBAAgB,CAAC;EAC1D,MAAMI,UAAU,GAAGpmB,MAAM,CAACyO,OAAO;EAEjC,IAAIyX,WAAW,IAAI,CAACC,UAAU,EAAE;IAC9B5Z,GAAG,CAAC1X,WAAW,IAAA6U,MAAA,CAAI1J,MAAM,CAAC8S,sBAAsB,WAAApJ,MAAA,CAAQ1J,MAAM,CAAC8S,sBAAsB,gBAAa,CAAC;IACnG/L,MAAM,CAACsf,oBAAoB,CAAC,CAAC;EAC/B,CAAC,MAAM,IAAI,CAACH,WAAW,IAAIC,UAAU,EAAE;IACrC5Z,GAAG,CAAClY,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAAC8S,sBAAsB,SAAM,CAAC;IAEpD,IAAIkT,gBAAgB,CAAC9V,IAAI,CAACoW,IAAI,IAAIN,gBAAgB,CAAC9V,IAAI,CAACoW,IAAI,KAAK,QAAQ,IAAI,CAACN,gBAAgB,CAAC9V,IAAI,CAACoW,IAAI,IAAItmB,MAAM,CAACkQ,IAAI,CAACoW,IAAI,KAAK,QAAQ,EAAE;MACzI/Z,GAAG,CAAClY,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAAC8S,sBAAsB,gBAAa,CAAC;IAC7D;IAEA/L,MAAM,CAACsf,oBAAoB,CAAC,CAAC;EAC/B,CAAC,CAAC;;EAGF,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,CAACz4B,OAAO,CAACgI,IAAI,IAAI;IACxD,MAAM2wB,gBAAgB,GAAGvmB,MAAM,CAACpK,IAAI,CAAC,IAAIoK,MAAM,CAACpK,IAAI,CAAC,CAAC6Y,OAAO;IAC7D,MAAM+X,eAAe,GAAGR,gBAAgB,CAACpwB,IAAI,CAAC,IAAIowB,gBAAgB,CAACpwB,IAAI,CAAC,CAAC6Y,OAAO;IAEhF,IAAI8X,gBAAgB,IAAI,CAACC,eAAe,EAAE;MACxCzf,MAAM,CAACnR,IAAI,CAAC,CAAC6wB,OAAO,CAAC,CAAC;IACxB;IAEA,IAAI,CAACF,gBAAgB,IAAIC,eAAe,EAAE;MACxCzf,MAAM,CAACnR,IAAI,CAAC,CAAC8wB,MAAM,CAAC,CAAC;IACvB;EACF,CAAC,CAAC;EACF,MAAMC,gBAAgB,GAAGX,gBAAgB,CAACjN,SAAS,IAAIiN,gBAAgB,CAACjN,SAAS,KAAK/Y,MAAM,CAAC+Y,SAAS;EACtG,MAAM6N,WAAW,GAAG5mB,MAAM,CAAC2V,IAAI,KAAKqQ,gBAAgB,CAACzV,aAAa,KAAKvQ,MAAM,CAACuQ,aAAa,IAAIoW,gBAAgB,CAAC;EAEhH,IAAIA,gBAAgB,IAAIjc,WAAW,EAAE;IACnC3D,MAAM,CAAC8f,eAAe,CAAC,CAAC;EAC1B;EAEA,IAAAr5B,aAAM,EAACuZ,MAAM,CAAC/G,MAAM,EAAEgmB,gBAAgB,CAAC;EACvC,MAAMc,SAAS,GAAG/f,MAAM,CAAC/G,MAAM,CAACyO,OAAO;EACvClhB,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;IACpB8Z,cAAc,EAAE9Z,MAAM,CAAC/G,MAAM,CAAC6gB,cAAc;IAC5C/G,cAAc,EAAE/S,MAAM,CAAC/G,MAAM,CAAC8Z,cAAc;IAC5CC,cAAc,EAAEhT,MAAM,CAAC/G,MAAM,CAAC+Z;EAChC,CAAC,CAAC;EAEF,IAAIqM,UAAU,IAAI,CAACU,SAAS,EAAE;IAC5B/f,MAAM,CAAC0f,OAAO,CAAC,CAAC;EAClB,CAAC,MAAM,IAAI,CAACL,UAAU,IAAIU,SAAS,EAAE;IACnC/f,MAAM,CAAC2f,MAAM,CAAC,CAAC;EACjB;EAEA3f,MAAM,CAAC+e,iBAAiB,GAAGH,UAAU;EACrC5e,MAAM,CAACsD,IAAI,CAAC,mBAAmB,EAAE2b,gBAAgB,CAAC;EAElD,IAAIY,WAAW,IAAIlc,WAAW,EAAE;IAC9B3D,MAAM,CAACkW,WAAW,CAAC,CAAC;IACpBlW,MAAM,CAACqV,UAAU,CAAC,CAAC;IACnBrV,MAAM,CAAC+G,YAAY,CAAC,CAAC;IACrB/G,MAAM,CAACsS,OAAO,CAAC5F,WAAW,GAAG6G,YAAY,GAAGvT,MAAM,CAACuT,YAAY,EAAE,CAAC,EAAE,KAAK,CAAC;EAC5E;EAEAvT,MAAM,CAACsD,IAAI,CAAC,YAAY,EAAE2b,gBAAgB,CAAC;AAC7C;;;;;;;;ACpFA,IAAAx0B,UAAA,GAAAC,OAAA;AACe,SAASm0B,aAAaA,CAACpV,WAAW,EAAEuN,IAAI,GAAG,QAAQ,EAAEgJ,WAAW,EAAE;EAC/E,IAAI,CAACvW,WAAW,IAAIuN,IAAI,KAAK,WAAW,IAAI,CAACgJ,WAAW,EAAE,OAAOvxB,SAAS;EAC1E,IAAImwB,UAAU,GAAG,KAAK;EACtB,MAAMp0B,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,MAAM21B,aAAa,GAAGjJ,IAAI,KAAK,QAAQ,GAAGxsB,MAAM,CAAC6I,WAAW,GAAG2sB,WAAW,CAACxZ,YAAY;EACvF,MAAM0Z,MAAM,GAAG15B,MAAM,CAACI,IAAI,CAAC6iB,WAAW,CAAC,CAAChc,GAAG,CAAC0yB,KAAK,IAAI;IACnD,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACj0B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;MACzD,MAAMk0B,QAAQ,GAAG7wB,UAAU,CAAC4wB,KAAK,CAACE,MAAM,CAAC,CAAC,CAAC,CAAC;MAC5C,MAAMp1B,KAAK,GAAGg1B,aAAa,GAAGG,QAAQ;MACtC,OAAO;QACLn1B,KAAK,EAALA,KAAK;QACLk1B,KAAK,EAALA;MACF,CAAC;IACH;IAEA,OAAO;MACLl1B,KAAK,EAAEk1B,KAAK;MACZA,KAAK,EAALA;IACF,CAAC;EACH,CAAC,CAAC;EACFD,MAAM,CAACI,IAAI,CAAC,CAACzzB,CAAC,EAAE0zB,CAAC,KAAK5Z,QAAQ,CAAC9Z,CAAC,CAAC5B,KAAK,EAAE,EAAE,CAAC,GAAG0b,QAAQ,CAAC4Z,CAAC,CAACt1B,KAAK,EAAE,EAAE,CAAC,CAAC;EAEpE,KAAK,IAAIgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGi0B,MAAM,CAACn5B,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACzC,MAAM;MACJk0B,KAAK,EAALA,KAAK;MACLl1B,KAAK,EAALA;IACF,CAAC,GAAGi1B,MAAM,CAACj0B,CAAC,CAAC;IAEb,IAAI+qB,IAAI,KAAK,QAAQ,EAAE;MACrB,IAAIxsB,MAAM,CAACP,UAAU,gBAAA0Y,MAAA,CAAgB1X,KAAK,QAAK,CAAC,CAAC2J,OAAO,EAAE;QACxDgqB,UAAU,GAAGuB,KAAK;MACpB;IACF,CAAC,MAAM,IAAIl1B,KAAK,IAAI+0B,WAAW,CAACzZ,WAAW,EAAE;MAC3CqY,UAAU,GAAGuB,KAAK;IACpB;EACF;EAEA,OAAOvB,UAAU,IAAI,KAAK;AAC5B;;;;;;;;ACvCA,IAAA4B,cAAA,GAAAtU,sBAAA,CAAAxhB,OAAA;AACA,IAAA+1B,cAAA,GAAAvU,sBAAA,CAAAxhB,OAAA;AAA+C,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GAChC;EACb4gB,aAAa,EAAbA,sBAAa;EACbiC,aAAa,EAAbA;AACF,CAAC;AAAAh2B,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;;ACLD,SAAS0kB,cAAcA,CAAC5c,OAAO,EAAE6c,MAAM,EAAE;EACvC,MAAMC,aAAa,GAAG,EAAE;EACxB9c,OAAO,CAACjd,OAAO,CAACg6B,IAAI,IAAI;IACtB,IAAIjkB,OAAA,CAAOikB,IAAI,MAAK,QAAQ,EAAE;MAC5Br6B,MAAM,CAACI,IAAI,CAACi6B,IAAI,CAAC,CAACh6B,OAAO,CAAC2G,UAAU,IAAI;QACtC,IAAIqzB,IAAI,CAACrzB,UAAU,CAAC,EAAE;UACpBozB,aAAa,CAACl1B,IAAI,CAACi1B,MAAM,GAAGnzB,UAAU,CAAC;QACzC;MACF,CAAC,CAAC;IACJ,CAAC,MAAM,IAAI,OAAOqzB,IAAI,KAAK,QAAQ,EAAE;MACnCD,aAAa,CAACl1B,IAAI,CAACi1B,MAAM,GAAGE,IAAI,CAAC;IACnC;EACF,CAAC,CAAC;EACF,OAAOD,aAAa;AACtB;AAEe,SAASE,UAAUA,CAAA,EAAG;EACnC,MAAM9gB,MAAM,GAAG,IAAI;EACnB,MAAM;IACJxS,UAAU,EAAVA,UAAU;IACVyL,MAAM,EAANA,MAAM;IACNqO,GAAG,EAAHA,GAAG;IACH9B,GAAG,EAAHA,GAAG;IACHxD,MAAM,EAANA,MAAM;IACNlB,OAAO,EAAPA;EACF,CAAC,GAAGd,MAAM,CAAC,CAAC;;EAEZ,MAAM+gB,QAAQ,GAAGL,cAAc,CAAC,CAAC,aAAa,EAAEznB,MAAM,CAAC+Y,SAAS,EAAE;IAChE,gBAAgB,EAAE,CAAClR,OAAO,CAACI;EAC7B,CAAC,EAAE;IACD,WAAW,EAAElB,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,IAAIjhB,MAAM,CAACihB,QAAQ,CAACxS;EACzD,CAAC,EAAE;IACD,YAAY,EAAEzO,MAAM,CAACiV;EACvB,CAAC,EAAE;IACD,KAAK,EAAE5G;EACT,CAAC,EAAE;IACD,MAAM,EAAErO,MAAM,CAACkQ,IAAI,IAAIlQ,MAAM,CAACkQ,IAAI,CAACC,IAAI,GAAG;EAC5C,CAAC,EAAE;IACD,aAAa,EAAEnQ,MAAM,CAACkQ,IAAI,IAAIlQ,MAAM,CAACkQ,IAAI,CAACC,IAAI,GAAG,CAAC,IAAInQ,MAAM,CAACkQ,IAAI,CAACoW,IAAI,KAAK;EAC7E,CAAC,EAAE;IACD,SAAS,EAAEvd,MAAM,CAACE;EACpB,CAAC,EAAE;IACD,KAAK,EAAEF,MAAM,CAACC;EAChB,CAAC,EAAE;IACD,UAAU,EAAEhJ,MAAM,CAACgQ;EACrB,CAAC,EAAE;IACD,UAAU,EAAEhQ,MAAM,CAACgQ,OAAO,IAAIhQ,MAAM,CAAC+P;EACvC,CAAC,EAAE;IACD,gBAAgB,EAAE/P,MAAM,CAAC2S;EAC3B,CAAC,CAAC,EAAE3S,MAAM,CAAC8S,sBAAsB,CAAC;EAClCve,UAAU,CAAC9B,IAAI,CAAC,GAAGq1B,QAAQ,CAAC;EAC5Bvb,GAAG,CAAClY,QAAQ,CAAC,CAAC,GAAGE,UAAU,CAAC,CAAC4Q,IAAI,CAAC,GAAG,CAAC,CAAC;EACvC4B,MAAM,CAACsf,oBAAoB,CAAC,CAAC;AAC/B;;;;;;;;ACrDe,SAAS0B,aAAaA,CAAA,EAAG;EACtC,MAAMhhB,MAAM,GAAG,IAAI;EACnB,MAAM;IACJwF,GAAG,EAAHA,GAAG;IACHhY,UAAU,EAAVA;EACF,CAAC,GAAGwS,MAAM;EACVwF,GAAG,CAAC1X,WAAW,CAACN,UAAU,CAAC4Q,IAAI,CAAC,GAAG,CAAC,CAAC;EACrC4B,MAAM,CAACsf,oBAAoB,CAAC,CAAC;AAC/B;;;;;;;;ACRA,IAAA2B,WAAA,GAAA/U,sBAAA,CAAAxhB,OAAA;AACA,IAAAw2B,cAAA,GAAAhV,sBAAA,CAAAxhB,OAAA;AAA+C,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GAChC;EACb8kB,UAAU,EAAVA,mBAAU;EACVE,aAAa,EAAbA;AACF,CAAC;AAAAn4B,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACLD,IAAAvR,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAAS66B,SAASA,CAACC,OAAO,EAAEz6B,GAAG,EAAE06B,MAAM,EAAEC,KAAK,EAAEC,gBAAgB,EAAEp3B,QAAQ,EAAE;EACzF,MAAMK,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B,IAAIk3B,KAAK;EAET,SAASC,OAAOA,CAAA,EAAG;IACjB,IAAIt3B,QAAQ,EAAEA,QAAQ,CAAC,CAAC;EAC1B;EAEA,MAAMu3B,SAAS,GAAG,IAAA50B,YAAC,EAACs0B,OAAO,CAAC,CAAC1rB,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;EAEjD,IAAI,CAACgsB,SAAS,KAAK,CAACN,OAAO,CAAC1nB,QAAQ,IAAI,CAAC6nB,gBAAgB,CAAC,EAAE;IAC1D,IAAI56B,GAAG,EAAE;MACP66B,KAAK,GAAG,IAAIh3B,MAAM,CAACZ,KAAK,CAAC,CAAC;MAC1B43B,KAAK,CAACG,MAAM,GAAGF,OAAO;MACtBD,KAAK,CAACI,OAAO,GAAGH,OAAO;MAEvB,IAAIH,KAAK,EAAE;QACTE,KAAK,CAACF,KAAK,GAAGA,KAAK;MACrB;MAEA,IAAID,MAAM,EAAE;QACVG,KAAK,CAACH,MAAM,GAAGA,MAAM;MACvB;MAEA,IAAI16B,GAAG,EAAE;QACP66B,KAAK,CAAC76B,GAAG,GAAGA,GAAG;MACjB;IACF,CAAC,MAAM;MACL86B,OAAO,CAAC,CAAC;IACX;EACF,CAAC,MAAM;IACL;IACAA,OAAO,CAAC,CAAC;EACX;AACF;;;;;;;;ACpCe,SAASI,aAAaA,CAAA,EAAG;EACtC,MAAM7hB,MAAM,GAAG,IAAI;EACnBA,MAAM,CAAC8hB,YAAY,GAAG9hB,MAAM,CAACwF,GAAG,CAAC1O,IAAI,CAAC,KAAK,CAAC;EAE5C,SAAS2qB,OAAOA,CAAA,EAAG;IACjB,IAAI,OAAOzhB,MAAM,KAAK,WAAW,IAAIA,MAAM,KAAK,IAAI,IAAI,CAACA,MAAM,IAAIA,MAAM,CAAC0D,SAAS,EAAE;IACrF,IAAI1D,MAAM,CAAC+hB,YAAY,KAAKtzB,SAAS,EAAEuR,MAAM,CAAC+hB,YAAY,IAAI,CAAC;IAE/D,IAAI/hB,MAAM,CAAC+hB,YAAY,KAAK/hB,MAAM,CAAC8hB,YAAY,CAAC/6B,MAAM,EAAE;MACtD,IAAIiZ,MAAM,CAAC/G,MAAM,CAAC+oB,mBAAmB,EAAEhiB,MAAM,CAACiiB,MAAM,CAAC,CAAC;MACtDjiB,MAAM,CAACsD,IAAI,CAAC,aAAa,CAAC;IAC5B;EACF;EAEA,KAAK,IAAIrX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+T,MAAM,CAAC8hB,YAAY,CAAC/6B,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IACtD,MAAMm1B,OAAO,GAAGphB,MAAM,CAAC8hB,YAAY,CAAC71B,CAAC,CAAC;IACtC+T,MAAM,CAACmhB,SAAS,CAACC,OAAO,EAAEA,OAAO,CAACc,UAAU,IAAId,OAAO,CAAC5yB,YAAY,CAAC,KAAK,CAAC,EAAE4yB,OAAO,CAACC,MAAM,IAAID,OAAO,CAAC5yB,YAAY,CAAC,QAAQ,CAAC,EAAE4yB,OAAO,CAACE,KAAK,IAAIF,OAAO,CAAC5yB,YAAY,CAAC,OAAO,CAAC,EAAE,IAAI,EAAEizB,OAAO,CAAC;EAC/L;AACF;;;;;;;;AClBA,IAAAU,UAAA,GAAAjW,sBAAA,CAAAxhB,OAAA;AACA,IAAA03B,cAAA,GAAAlW,sBAAA,CAAAxhB,OAAA;AAA+C,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,IAAA0V,QAAA,GAChC;EACbmlB,SAAS,EAATA,kBAAS;EACTU,aAAa,EAAbA;AACF,CAAC;AAAAh5B,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACLD,SAAS2P,aAAaA,CAAA,EAAG;EACvB,MAAM3L,MAAM,GAAG,IAAI;EACnB,MAAM;IACJyW,QAAQ,EAAE4L,SAAS;IACnBppB,MAAM,EAANA;EACF,CAAC,GAAG+G,MAAM;EACV,MAAM;IACJmI,kBAAkB,EAAlBA;EACF,CAAC,GAAGlP,MAAM;EAEV,IAAIkP,kBAAkB,EAAE;IACtB,MAAMma,cAAc,GAAGtiB,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAG,CAAC;IAC/C,MAAMw7B,kBAAkB,GAAGviB,MAAM,CAACgI,UAAU,CAACsa,cAAc,CAAC,GAAGtiB,MAAM,CAACiI,eAAe,CAACqa,cAAc,CAAC,GAAGna,kBAAkB,GAAG,CAAC;IAC9HnI,MAAM,CAACyW,QAAQ,GAAGzW,MAAM,CAAC6G,IAAI,GAAG0b,kBAAkB;EACpD,CAAC,MAAM;IACLviB,MAAM,CAACyW,QAAQ,GAAGzW,MAAM,CAAC+H,QAAQ,CAAChhB,MAAM,KAAK,CAAC;EAChD;EAEA,IAAIkS,MAAM,CAAC8Z,cAAc,KAAK,IAAI,EAAE;IAClC/S,MAAM,CAAC+S,cAAc,GAAG,CAAC/S,MAAM,CAACyW,QAAQ;EAC1C;EAEA,IAAIxd,MAAM,CAAC+Z,cAAc,KAAK,IAAI,EAAE;IAClChT,MAAM,CAACgT,cAAc,GAAG,CAAChT,MAAM,CAACyW,QAAQ;EAC1C;EAEA,IAAI4L,SAAS,IAAIA,SAAS,KAAKriB,MAAM,CAACyW,QAAQ,EAAE;IAC9CzW,MAAM,CAAC+N,KAAK,GAAG,KAAK;EACtB;EAEA,IAAIsU,SAAS,KAAKriB,MAAM,CAACyW,QAAQ,EAAE;IACjCzW,MAAM,CAACsD,IAAI,CAACtD,MAAM,CAACyW,QAAQ,GAAG,MAAM,GAAG,QAAQ,CAAC;EAClD;AACF;AAAC,IAAAza,QAAA,GAEc;EACb2P,aAAa,EAAbA;AACF,CAAC;AAAA9iB,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;eCrCc;EACbqJ,IAAI,EAAE,IAAI;EACV2M,SAAS,EAAE,YAAY;EACvB0E,iBAAiB,EAAE,SAAS;EAC5B8L,YAAY,EAAE,CAAC;EACfniB,KAAK,EAAE,GAAG;EACV4I,OAAO,EAAE,KAAK;EACdsV,oBAAoB,EAAE,IAAI;EAC1B9Z,cAAc,EAAE,IAAI;EACpBqW,MAAM,EAAE,KAAK;EACb2H,cAAc,EAAE,KAAK;EACrB/a,OAAO,EAAE,IAAI;EACbkS,iBAAiB,EAAE,uDAAuD;EAC1E;EACA/mB,KAAK,EAAE,IAAI;EACXO,MAAM,EAAE,IAAI;EACZ;EACAie,8BAA8B,EAAE,KAAK;EACrC;EACAloB,SAAS,EAAE,IAAI;EACfu5B,GAAG,EAAE,IAAI;EACT;EACAzJ,kBAAkB,EAAE,KAAK;EACzBE,kBAAkB,EAAE,EAAE;EACtB;EACAjL,UAAU,EAAE,KAAK;EACjB;EACAzD,cAAc,EAAE,KAAK;EACrB;EACA+F,gBAAgB,EAAE,KAAK;EACvB;EACAhG,MAAM,EAAE,OAAO;EACf;EACA;EACAf,WAAW,EAAEhb,SAAS;EACtBqwB,eAAe,EAAE,QAAQ;EACzB;EACAtW,YAAY,EAAE,CAAC;EACfgB,aAAa,EAAE,CAAC;EAChBc,cAAc,EAAE,CAAC;EACjBC,kBAAkB,EAAE,CAAC;EACrBmJ,kBAAkB,EAAE,KAAK;EACzB1K,cAAc,EAAE,KAAK;EACrB+B,oBAAoB,EAAE,KAAK;EAC3B5C,kBAAkB,EAAE,CAAC;EACrB;EACAE,iBAAiB,EAAE,CAAC;EACpB;EACAiH,mBAAmB,EAAE,IAAI;EACzBlE,wBAAwB,EAAE,KAAK;EAC/B;EACAM,aAAa,EAAE,IAAI;EACnB;EACA3B,YAAY,EAAE,KAAK;EACnB;EACAoR,UAAU,EAAE,CAAC;EACbR,UAAU,EAAE,EAAE;EACdnE,aAAa,EAAE,IAAI;EACnB8F,WAAW,EAAE,IAAI;EACjBF,UAAU,EAAE,IAAI;EAChBC,eAAe,EAAE,GAAG;EACpBF,YAAY,EAAE,GAAG;EACjBZ,YAAY,EAAE,IAAI;EAClBzB,cAAc,EAAE,IAAI;EACpBpF,SAAS,EAAE,CAAC;EACZmG,wBAAwB,EAAE,KAAK;EAC/Bd,wBAAwB,EAAE,IAAI;EAC9BC,6BAA6B,EAAE,KAAK;EACpCO,mBAAmB,EAAE,KAAK;EAC1B;EACAoI,iBAAiB,EAAE,IAAI;EACvB;EACArH,UAAU,EAAE,IAAI;EAChBD,eAAe,EAAE,IAAI;EACrB;EACAzP,mBAAmB,EAAE,KAAK;EAC1B;EACAsP,UAAU,EAAE,KAAK;EACjB;EACAgC,aAAa,EAAE,IAAI;EACnBC,wBAAwB,EAAE,IAAI;EAC9BtN,mBAAmB,EAAE,KAAK;EAC1B;EACAgS,aAAa,EAAE,IAAI;EACnBG,mBAAmB,EAAE,IAAI;EACzB;EACApT,IAAI,EAAE,KAAK;EACX+G,oBAAoB,EAAE,CAAC;EACvBpC,YAAY,EAAE,IAAI;EAClBqC,iBAAiB,EAAE,IAAI;EACvBL,sBAAsB,EAAE,KAAK;EAC7B1B,iBAAiB,EAAE,IAAI;EACvB;EACAG,MAAM,EAAE,KAAK;EACb;EACAhB,cAAc,EAAE,IAAI;EACpBD,cAAc,EAAE,IAAI;EACpB0F,YAAY,EAAE,IAAI;EAClB;EACAF,SAAS,EAAE,IAAI;EACfP,cAAc,EAAE,mBAAmB;EACnCK,iBAAiB,EAAE,IAAI;EACvB;EACA+F,gBAAgB,EAAE,IAAI;EACtBnS,uBAAuB,EAAE,EAAE;EAC3B;EACAF,sBAAsB,EAAE,SAAS;EACjC;EACAlE,UAAU,EAAE,cAAc;EAC1B6N,eAAe,EAAE,8BAA8B;EAC/CrH,gBAAgB,EAAE,qBAAqB;EACvCG,yBAAyB,EAAE,+BAA+B;EAC1DxB,iBAAiB,EAAE,sBAAsB;EACzC6B,mBAAmB,EAAE,wBAAwB;EAC7CP,cAAc,EAAE,mBAAmB;EACnCG,uBAAuB,EAAE,6BAA6B;EACtDF,cAAc,EAAE,mBAAmB;EACnCG,uBAAuB,EAAE,6BAA6B;EACtDkU,YAAY,EAAE,gBAAgB;EAC9B;EACApT,kBAAkB,EAAE,IAAI;EACxB;EACAqT,YAAY,EAAE;AAChB,CAAC;AAAAh6B,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;AC3HD,IAAA8K,MAAA,GAAApc,OAAA;AAA4C,SAAAkS,QAAAtW,GAAA,sCAAAsW,OAAA,wBAAAK,MAAA,uBAAAA,MAAA,CAAAI,QAAA,aAAA/W,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAA2W,MAAA,IAAA3W,GAAA,CAAAC,WAAA,KAAA0W,MAAA,IAAA3W,GAAA,KAAA2W,MAAA,CAAArR,SAAA,qBAAAtF,GAAA,KAAAsW,OAAA,CAAAtW,GAAA;AAC7B,SAASw8B,kBAAkBA,CAAC7pB,MAAM,EAAE8pB,gBAAgB,EAAE;EACnE,OAAO,SAASpe,YAAYA,CAACre,GAAG,GAAG,CAAC,CAAC,EAAE;IACrC,MAAM08B,eAAe,GAAGx8B,MAAM,CAACI,IAAI,CAACN,GAAG,CAAC,CAAC,CAAC,CAAC;IAC3C,MAAM28B,YAAY,GAAG38B,GAAG,CAAC08B,eAAe,CAAC;IAEzC,IAAIpmB,OAAA,CAAOqmB,YAAY,MAAK,QAAQ,IAAIA,YAAY,KAAK,IAAI,EAAE;MAC7D,IAAAx8B,aAAM,EAACs8B,gBAAgB,EAAEz8B,GAAG,CAAC;MAC7B;IACF;IAEA,IAAI,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,CAAC4F,OAAO,CAAC82B,eAAe,CAAC,IAAI,CAAC,IAAI/pB,MAAM,CAAC+pB,eAAe,CAAC,KAAK,IAAI,EAAE;MAC/G/pB,MAAM,CAAC+pB,eAAe,CAAC,GAAG;QACxBE,IAAI,EAAE;MACR,CAAC;IACH;IAEA,IAAI,EAAEF,eAAe,IAAI/pB,MAAM,IAAI,SAAS,IAAIgqB,YAAY,CAAC,EAAE;MAC7D,IAAAx8B,aAAM,EAACs8B,gBAAgB,EAAEz8B,GAAG,CAAC;MAC7B;IACF;IAEA,IAAI2S,MAAM,CAAC+pB,eAAe,CAAC,KAAK,IAAI,EAAE;MACpC/pB,MAAM,CAAC+pB,eAAe,CAAC,GAAG;QACxBtb,OAAO,EAAE;MACX,CAAC;IACH;IAEA,IAAI9K,OAAA,CAAO3D,MAAM,CAAC+pB,eAAe,CAAC,MAAK,QAAQ,IAAI,EAAE,SAAS,IAAI/pB,MAAM,CAAC+pB,eAAe,CAAC,CAAC,EAAE;MAC1F/pB,MAAM,CAAC+pB,eAAe,CAAC,CAACtb,OAAO,GAAG,IAAI;IACxC;IAEA,IAAI,CAACzO,MAAM,CAAC+pB,eAAe,CAAC,EAAE/pB,MAAM,CAAC+pB,eAAe,CAAC,GAAG;MACtDtb,OAAO,EAAE;IACX,CAAC;IACD,IAAAjhB,aAAM,EAACs8B,gBAAgB,EAAEz8B,GAAG,CAAC;EAC/B,CAAC;AACH;;;;;;;;ACpCA,IAAAmE,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AACA,IAAAiX,WAAA,GAAAjX,OAAA;AACA,IAAAy4B,UAAA,GAAAz4B,OAAA;AACA,IAAA04B,WAAA,GAAA14B,OAAA;AACA,IAAA24B,OAAA,GAAAnX,sBAAA,CAAAxhB,OAAA;AACA,IAAA44B,SAAA,GAAApX,sBAAA,CAAAxhB,OAAA;AACA,IAAA64B,cAAA,GAAArX,sBAAA,CAAAxhB,OAAA;AACA,IAAA84B,MAAA,GAAAtX,sBAAA,CAAAxhB,OAAA;AACA,IAAA+4B,OAAA,GAAAvX,sBAAA,CAAAxhB,OAAA;AACA,IAAAg5B,OAAA,GAAAxX,sBAAA,CAAAxhB,OAAA;AACA,IAAAi5B,OAAA,GAAAzX,sBAAA,CAAAxhB,OAAA;AACA,IAAAk5B,OAAA,GAAA1X,sBAAA,CAAAxhB,OAAA;AACA,IAAAm5B,OAAA,GAAA3X,sBAAA,CAAAxhB,OAAA;AACA,IAAAo5B,OAAA,GAAA5X,sBAAA,CAAAxhB,OAAA;AACA,IAAAq5B,OAAA,GAAA7X,sBAAA,CAAAxhB,OAAA;AACA,IAAAs5B,OAAA,GAAA9X,sBAAA,CAAAxhB,OAAA;AACA,IAAAu5B,QAAA,GAAA/X,sBAAA,CAAAxhB,OAAA;AACA,IAAAw5B,QAAA,GAAAhY,sBAAA,CAAAxhB,OAAA;AACA,IAAAy5B,SAAA,GAAAjY,sBAAA,CAAAxhB,OAAA;AACA,IAAA05B,mBAAA,GAAAlY,sBAAA,CAAAxhB,OAAA;AAAyD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAtBzD;;AAuBA,MAAM+9B,UAAU,GAAG;EACjBC,aAAa,EAAbA,sBAAa;EACbrC,MAAM,EAANA,cAAM;EACN7hB,SAAS,EAATA,eAAS;EACTpQ,UAAU,EAAVA,eAAU;EACV0Z,KAAK,EAALA,eAAK;EACLkF,IAAI,EAAJA,eAAI;EACJsM,UAAU,EAAVA,eAAU;EACV/pB,MAAM,EAANA,eAAM;EACNsY,WAAW,EAAXA,eAAW;EACXkC,aAAa,EAAbA,gBAAa;EACbpe,OAAO,EAAPA,eAAO;EACPg3B,MAAM,EAANA;AACF,CAAC;AACD,MAAMC,gBAAgB,GAAG,CAAC,CAAC;AAE3B,MAAMC,MAAM,CAAC;EACXl+B,WAAWA,CAAC,GAAG6J,IAAI,EAAE;IACnB,IAAI5E,EAAE;IACN,IAAIyN,MAAM;IAEV,IAAI7I,IAAI,CAACrJ,MAAM,KAAK,CAAC,IAAIqJ,IAAI,CAAC,CAAC,CAAC,CAAC7J,WAAW,IAAIC,MAAM,CAACoF,SAAS,CAAC6S,QAAQ,CAAC3S,IAAI,CAACsE,IAAI,CAAC,CAAC,CAAC,CAAC,CAACyO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;MACjH5F,MAAM,GAAG7I,IAAI,CAAC,CAAC,CAAC;IAClB,CAAC,MAAM;MACL,CAAC5E,EAAE,EAAEyN,MAAM,CAAC,GAAG7I,IAAI;IACrB;IAEA,IAAI,CAAC6I,MAAM,EAAEA,MAAM,GAAG,CAAC,CAAC;IACxBA,MAAM,GAAG,IAAAxS,aAAM,EAAC,CAAC,CAAC,EAAEwS,MAAM,CAAC;IAC3B,IAAIzN,EAAE,IAAI,CAACyN,MAAM,CAACzN,EAAE,EAAEyN,MAAM,CAACzN,EAAE,GAAGA,EAAE;IAEpC,IAAIyN,MAAM,CAACzN,EAAE,IAAI,IAAAsB,YAAC,EAACmM,MAAM,CAACzN,EAAE,CAAC,CAACzE,MAAM,GAAG,CAAC,EAAE;MACxC,MAAM29B,OAAO,GAAG,EAAE;MAClB,IAAA53B,YAAC,EAACmM,MAAM,CAACzN,EAAE,CAAC,CAAC8I,IAAI,CAAC0rB,WAAW,IAAI;QAC/B,MAAM2E,SAAS,GAAG,IAAAl+B,aAAM,EAAC,CAAC,CAAC,EAAEwS,MAAM,EAAE;UACnCzN,EAAE,EAAEw0B;QACN,CAAC,CAAC;QACF0E,OAAO,CAACh5B,IAAI,CAAC,IAAI+4B,MAAM,CAACE,SAAS,CAAC,CAAC;MACrC,CAAC,CAAC,CAAC,CAAC;;MAEJ,OAAOD,OAAO;IAChB,CAAC,CAAC;;IAGF,MAAM1kB,MAAM,GAAG,IAAI;IACnBA,MAAM,CAACN,UAAU,GAAG,IAAI;IACxBM,MAAM,CAACc,OAAO,GAAG,IAAAY,sBAAU,EAAC,CAAC;IAC7B1B,MAAM,CAACgC,MAAM,GAAG,IAAAa,oBAAS,EAAC;MACxB1Z,SAAS,EAAE8P,MAAM,CAAC9P;IACpB,CAAC,CAAC;IACF6W,MAAM,CAAC+C,OAAO,GAAG,IAAAK,sBAAU,EAAC,CAAC;IAC7BpD,MAAM,CAAC+F,eAAe,GAAG,CAAC,CAAC;IAC3B/F,MAAM,CAACmG,kBAAkB,GAAG,EAAE;IAC9BnG,MAAM,CAAC4kB,OAAO,GAAG,CAAC,GAAG5kB,MAAM,CAAC6kB,WAAW,CAAC;IAExC,IAAI5rB,MAAM,CAAC2rB,OAAO,IAAIz5B,KAAK,CAACM,OAAO,CAACwN,MAAM,CAAC2rB,OAAO,CAAC,EAAE;MACnD5kB,MAAM,CAAC4kB,OAAO,CAACl5B,IAAI,CAAC,GAAGuN,MAAM,CAAC2rB,OAAO,CAAC;IACxC;IAEA,MAAM7B,gBAAgB,GAAG,CAAC,CAAC;IAC3B/iB,MAAM,CAAC4kB,OAAO,CAAC/9B,OAAO,CAACi+B,GAAG,IAAI;MAC5BA,GAAG,CAAC;QACF9kB,MAAM,EAANA,MAAM;QACN2E,YAAY,EAAE,IAAAme,2BAAkB,EAAC7pB,MAAM,EAAE8pB,gBAAgB,CAAC;QAC1D5yB,EAAE,EAAE6P,MAAM,CAAC7P,EAAE,CAACsuB,IAAI,CAACze,MAAM,CAAC;QAC1BnO,IAAI,EAAEmO,MAAM,CAACnO,IAAI,CAAC4sB,IAAI,CAACze,MAAM,CAAC;QAC9BxO,GAAG,EAAEwO,MAAM,CAACxO,GAAG,CAACitB,IAAI,CAACze,MAAM,CAAC;QAC5BsD,IAAI,EAAEtD,MAAM,CAACsD,IAAI,CAACmb,IAAI,CAACze,MAAM;MAC/B,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC,CAAC;;IAEJ,MAAM+kB,YAAY,GAAG,IAAAt+B,aAAM,EAAC,CAAC,CAAC,EAAEu+B,iBAAQ,EAAEjC,gBAAgB,CAAC,CAAC,CAAC;;IAE7D/iB,MAAM,CAAC/G,MAAM,GAAG,IAAAxS,aAAM,EAAC,CAAC,CAAC,EAAEs+B,YAAY,EAAEP,gBAAgB,EAAEvrB,MAAM,CAAC;IAClE+G,MAAM,CAACkf,cAAc,GAAG,IAAAz4B,aAAM,EAAC,CAAC,CAAC,EAAEuZ,MAAM,CAAC/G,MAAM,CAAC;IACjD+G,MAAM,CAACilB,YAAY,GAAG,IAAAx+B,aAAM,EAAC,CAAC,CAAC,EAAEwS,MAAM,CAAC,CAAC,CAAC;;IAE1C,IAAI+G,MAAM,CAAC/G,MAAM,IAAI+G,MAAM,CAAC/G,MAAM,CAAC9I,EAAE,EAAE;MACrC3J,MAAM,CAACI,IAAI,CAACoZ,MAAM,CAAC/G,MAAM,CAAC9I,EAAE,CAAC,CAACtJ,OAAO,CAACkL,SAAS,IAAI;QACjDiO,MAAM,CAAC7P,EAAE,CAAC4B,SAAS,EAAEiO,MAAM,CAAC/G,MAAM,CAAC9I,EAAE,CAAC4B,SAAS,CAAC,CAAC;MACnD,CAAC,CAAC;IACJ;IAEA,IAAIiO,MAAM,CAAC/G,MAAM,IAAI+G,MAAM,CAAC/G,MAAM,CAACiN,KAAK,EAAE;MACxClG,MAAM,CAACkG,KAAK,CAAClG,MAAM,CAAC/G,MAAM,CAACiN,KAAK,CAAC;IACnC,CAAC,CAAC;;IAGFlG,MAAM,CAAClT,CAAC,GAAGA,YAAC,CAAC,CAAC;;IAEdtG,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;MACpB0H,OAAO,EAAE1H,MAAM,CAAC/G,MAAM,CAACyO,OAAO;MAC9Blc,EAAE,EAAFA,EAAE;MACF;MACAgC,UAAU,EAAE,EAAE;MACd;MACAoa,MAAM,EAAE,IAAA9a,YAAC,EAAC,CAAC;MACXkb,UAAU,EAAE,EAAE;MACdD,QAAQ,EAAE,EAAE;MACZE,eAAe,EAAE,EAAE;MAEnB;MACAxB,YAAY,WAAAA,CAAA,EAAG;QACb,OAAOzG,MAAM,CAAC/G,MAAM,CAAC+Y,SAAS,KAAK,YAAY;MACjD,CAAC;MAEDtL,UAAU,WAAAA,CAAA,EAAG;QACX,OAAO1G,MAAM,CAAC/G,MAAM,CAAC+Y,SAAS,KAAK,UAAU;MAC/C,CAAC;MAED;MACAtF,WAAW,EAAE,CAAC;MACd0B,SAAS,EAAE,CAAC;MACZ;MACAN,WAAW,EAAE,IAAI;MACjBC,KAAK,EAAE,KAAK;MACZ;MACA3N,SAAS,EAAE,CAAC;MACZ2Q,iBAAiB,EAAE,CAAC;MACpBtY,QAAQ,EAAE,CAAC;MACXysB,QAAQ,EAAE,CAAC;MACX/rB,SAAS,EAAE,KAAK;MAChB;MACA4Z,cAAc,EAAE/S,MAAM,CAAC/G,MAAM,CAAC8Z,cAAc;MAC5CC,cAAc,EAAEhT,MAAM,CAAC/G,MAAM,CAAC+Z,cAAc;MAC5C;MACA8K,WAAW,EAAE,SAASA,WAAWA,CAAA,EAAG;QAClC,MAAM5c,KAAK,GAAG,CAAC,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,aAAa,CAAC;QACpE,MAAMikB,OAAO,GAAG,CAAC,aAAa,EAAE,aAAa,EAAE,WAAW,CAAC;QAC3DnlB,MAAM,CAAColB,gBAAgB,GAAG;UACxBnH,KAAK,EAAE/c,KAAK,CAAC,CAAC,CAAC;UACfgd,IAAI,EAAEhd,KAAK,CAAC,CAAC,CAAC;UACdid,GAAG,EAAEjd,KAAK,CAAC,CAAC,CAAC;UACbod,MAAM,EAAEpd,KAAK,CAAC,CAAC;QACjB,CAAC;QACDlB,MAAM,CAACqlB,kBAAkB,GAAG;UAC1BpH,KAAK,EAAEkH,OAAO,CAAC,CAAC,CAAC;UACjBjH,IAAI,EAAEiH,OAAO,CAAC,CAAC,CAAC;UAChBhH,GAAG,EAAEgH,OAAO,CAAC,CAAC;QAChB,CAAC;QACD,OAAOnlB,MAAM,CAACc,OAAO,CAACI,KAAK,IAAI,CAAClB,MAAM,CAAC/G,MAAM,CAACud,aAAa,GAAGxW,MAAM,CAAColB,gBAAgB,GAAGplB,MAAM,CAACqlB,kBAAkB;MACnH,CAAC,CAAC,CAAC;MACHhO,eAAe,EAAE;QACfQ,SAAS,EAAEppB,SAAS;QACpBqpB,OAAO,EAAErpB,SAAS;QAClB6qB,mBAAmB,EAAE7qB,SAAS;QAC9BgrB,cAAc,EAAEhrB,SAAS;QACzB8qB,WAAW,EAAE9qB,SAAS;QACtBgiB,gBAAgB,EAAEhiB,SAAS;QAC3BusB,cAAc,EAAEvsB,SAAS;QACzBkrB,kBAAkB,EAAElrB,SAAS;QAC7B;QACAmrB,iBAAiB,EAAE5Z,MAAM,CAAC/G,MAAM,CAAC2gB,iBAAiB;QAClD;QACAgC,aAAa,EAAE,IAAAle,UAAG,EAAC,CAAC;QACpB4nB,YAAY,EAAE72B,SAAS;QACvB;QACA82B,UAAU,EAAE,EAAE;QACdtK,mBAAmB,EAAExsB,SAAS;QAC9BgpB,YAAY,EAAEhpB,SAAS;QACvB+qB,WAAW,EAAE/qB;MACf,CAAC;MACD;MACA+pB,UAAU,EAAE,IAAI;MAChB;MACAsB,cAAc,EAAE9Z,MAAM,CAAC/G,MAAM,CAAC6gB,cAAc;MAC5CxC,OAAO,EAAE;QACPyB,MAAM,EAAE,CAAC;QACTC,MAAM,EAAE,CAAC;QACTN,QAAQ,EAAE,CAAC;QACXG,QAAQ,EAAE,CAAC;QACX7C,IAAI,EAAE;MACR,CAAC;MACD;MACA8L,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE;IAChB,CAAC,CAAC;IACF/hB,MAAM,CAACsD,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;;IAExB,IAAItD,MAAM,CAAC/G,MAAM,CAACoM,IAAI,EAAE;MACtBrF,MAAM,CAACqF,IAAI,CAAC,CAAC;IACf,CAAC,CAAC;IACF;;IAGA,OAAOrF,MAAM;EACf;EAEA2f,MAAMA,CAAA,EAAG;IACP,MAAM3f,MAAM,GAAG,IAAI;IACnB,IAAIA,MAAM,CAAC0H,OAAO,EAAE;IACpB1H,MAAM,CAAC0H,OAAO,GAAG,IAAI;IAErB,IAAI1H,MAAM,CAAC/G,MAAM,CAACiiB,UAAU,EAAE;MAC5Blb,MAAM,CAACsW,aAAa,CAAC,CAAC;IACxB;IAEAtW,MAAM,CAACsD,IAAI,CAAC,QAAQ,CAAC;EACvB;EAEAoc,OAAOA,CAAA,EAAG;IACR,MAAM1f,MAAM,GAAG,IAAI;IACnB,IAAI,CAACA,MAAM,CAAC0H,OAAO,EAAE;IACrB1H,MAAM,CAAC0H,OAAO,GAAG,KAAK;IAEtB,IAAI1H,MAAM,CAAC/G,MAAM,CAACiiB,UAAU,EAAE;MAC5Blb,MAAM,CAAC4W,eAAe,CAAC,CAAC;IAC1B;IAEA5W,MAAM,CAACsD,IAAI,CAAC,SAAS,CAAC;EACxB;EAEAkiB,WAAWA,CAAC/sB,QAAQ,EAAE4H,KAAK,EAAE;IAC3B,MAAML,MAAM,GAAG,IAAI;IACnBvH,QAAQ,GAAGR,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAACO,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAC7C,MAAMN,GAAG,GAAG6H,MAAM,CAACoN,YAAY,CAAC,CAAC;IACjC,MAAMlV,GAAG,GAAG8H,MAAM,CAAC6N,YAAY,CAAC,CAAC;IACjC,MAAMlN,OAAO,GAAG,CAACzI,GAAG,GAAGC,GAAG,IAAIM,QAAQ,GAAGN,GAAG;IAC5C6H,MAAM,CAACiR,WAAW,CAACtQ,OAAO,EAAE,OAAON,KAAK,KAAK,WAAW,GAAG,CAAC,GAAGA,KAAK,CAAC;IACrEL,MAAM,CAACiP,iBAAiB,CAAC,CAAC;IAC1BjP,MAAM,CAACmO,mBAAmB,CAAC,CAAC;EAC9B;EAEAmR,oBAAoBA,CAAA,EAAG;IACrB,MAAMtf,MAAM,GAAG,IAAI;IACnB,IAAI,CAACA,MAAM,CAAC/G,MAAM,CAAC4pB,YAAY,IAAI,CAAC7iB,MAAM,CAACxU,EAAE,EAAE;IAC/C,MAAMi6B,GAAG,GAAGzlB,MAAM,CAACxU,EAAE,CAACyC,SAAS,CAACN,KAAK,CAAC,GAAG,CAAC,CAAC9B,MAAM,CAACoC,SAAS,IAAI;MAC7D,OAAOA,SAAS,CAAC/B,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI+B,SAAS,CAAC/B,OAAO,CAAC8T,MAAM,CAAC/G,MAAM,CAAC8S,sBAAsB,CAAC,KAAK,CAAC;IAC3G,CAAC,CAAC;IACF/L,MAAM,CAACsD,IAAI,CAAC,mBAAmB,EAAEmiB,GAAG,CAACrnB,IAAI,CAAC,GAAG,CAAC,CAAC;EACjD;EAEAsnB,eAAeA,CAACC,OAAO,EAAE;IACvB,MAAM3lB,MAAM,GAAG,IAAI;IACnB,IAAIA,MAAM,CAAC0D,SAAS,EAAE,OAAO,EAAE;IAC/B,OAAOiiB,OAAO,CAAC13B,SAAS,CAACN,KAAK,CAAC,GAAG,CAAC,CAAC9B,MAAM,CAACoC,SAAS,IAAI;MACtD,OAAOA,SAAS,CAAC/B,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI+B,SAAS,CAAC/B,OAAO,CAAC8T,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,CAAC,KAAK,CAAC;IACrG,CAAC,CAAC,CAACzJ,IAAI,CAAC,GAAG,CAAC;EACd;EAEA4Q,iBAAiBA,CAAA,EAAG;IAClB,MAAMhP,MAAM,GAAG,IAAI;IACnB,IAAI,CAACA,MAAM,CAAC/G,MAAM,CAAC4pB,YAAY,IAAI,CAAC7iB,MAAM,CAACxU,EAAE,EAAE;IAC/C,MAAMo6B,OAAO,GAAG,EAAE;IAClB5lB,MAAM,CAAC4H,MAAM,CAACtT,IAAI,CAACqxB,OAAO,IAAI;MAC5B,MAAMn4B,UAAU,GAAGwS,MAAM,CAAC0lB,eAAe,CAACC,OAAO,CAAC;MAClDC,OAAO,CAACl6B,IAAI,CAAC;QACXi6B,OAAO,EAAPA,OAAO;QACPn4B,UAAU,EAAVA;MACF,CAAC,CAAC;MACFwS,MAAM,CAACsD,IAAI,CAAC,aAAa,EAAEqiB,OAAO,EAAEn4B,UAAU,CAAC;IACjD,CAAC,CAAC;IACFwS,MAAM,CAACsD,IAAI,CAAC,eAAe,EAAEsiB,OAAO,CAAC;EACvC;EAEAjS,oBAAoBA,CAACkS,IAAI,GAAG,SAAS,EAAEC,KAAK,GAAG,KAAK,EAAE;IACpD,MAAM9lB,MAAM,GAAG,IAAI;IACnB,MAAM;MACJ/G,MAAM,EAANA,MAAM;MACN2O,MAAM,EAANA,MAAM;MACNI,UAAU,EAAVA,UAAU;MACVC,eAAe,EAAfA,eAAe;MACfpB,IAAI,EAAEO,UAAU;MAChBsF,WAAW,EAAXA;IACF,CAAC,GAAG1M,MAAM;IACV,IAAI+lB,GAAG,GAAG,CAAC;IAEX,IAAI9sB,MAAM,CAAC+P,cAAc,EAAE;MACzB,IAAIM,SAAS,GAAG1B,MAAM,CAAC8E,WAAW,CAAC,CAACtC,eAAe;MACnD,IAAI4b,SAAS;MAEb,KAAK,IAAI/5B,CAAC,GAAGygB,WAAW,GAAG,CAAC,EAAEzgB,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACvD,IAAI2b,MAAM,CAAC3b,CAAC,CAAC,IAAI,CAAC+5B,SAAS,EAAE;UAC3B1c,SAAS,IAAI1B,MAAM,CAAC3b,CAAC,CAAC,CAACme,eAAe;UACtC2b,GAAG,IAAI,CAAC;UACR,IAAIzc,SAAS,GAAGlC,UAAU,EAAE4e,SAAS,GAAG,IAAI;QAC9C;MACF;MAEA,KAAK,IAAI/5B,CAAC,GAAGygB,WAAW,GAAG,CAAC,EAAEzgB,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;QAC5C,IAAI2b,MAAM,CAAC3b,CAAC,CAAC,IAAI,CAAC+5B,SAAS,EAAE;UAC3B1c,SAAS,IAAI1B,MAAM,CAAC3b,CAAC,CAAC,CAACme,eAAe;UACtC2b,GAAG,IAAI,CAAC;UACR,IAAIzc,SAAS,GAAGlC,UAAU,EAAE4e,SAAS,GAAG,IAAI;QAC9C;MACF;IACF,CAAC,MAAM;MACL;MACA,IAAIH,IAAI,KAAK,SAAS,EAAE;QACtB,KAAK,IAAI55B,CAAC,GAAGygB,WAAW,GAAG,CAAC,EAAEzgB,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;UACvD,MAAMg6B,WAAW,GAAGH,KAAK,GAAG9d,UAAU,CAAC/b,CAAC,CAAC,GAAGgc,eAAe,CAAChc,CAAC,CAAC,GAAG+b,UAAU,CAAC0E,WAAW,CAAC,GAAGtF,UAAU,GAAGY,UAAU,CAAC/b,CAAC,CAAC,GAAG+b,UAAU,CAAC0E,WAAW,CAAC,GAAGtF,UAAU;UAE5J,IAAI6e,WAAW,EAAE;YACfF,GAAG,IAAI,CAAC;UACV;QACF;MACF,CAAC,MAAM;QACL;QACA,KAAK,IAAI95B,CAAC,GAAGygB,WAAW,GAAG,CAAC,EAAEzgB,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;UAC5C,MAAMg6B,WAAW,GAAGje,UAAU,CAAC0E,WAAW,CAAC,GAAG1E,UAAU,CAAC/b,CAAC,CAAC,GAAGmb,UAAU;UAExE,IAAI6e,WAAW,EAAE;YACfF,GAAG,IAAI,CAAC;UACV;QACF;MACF;IACF;IAEA,OAAOA,GAAG;EACZ;EAEA9D,MAAMA,CAAA,EAAG;IACP,MAAMjiB,MAAM,GAAG,IAAI;IACnB,IAAI,CAACA,MAAM,IAAIA,MAAM,CAAC0D,SAAS,EAAE;IACjC,MAAM;MACJqE,QAAQ,EAARA,QAAQ;MACR9O,MAAM,EAANA;IACF,CAAC,GAAG+G,MAAM,CAAC,CAAC;;IAEZ,IAAI/G,MAAM,CAACwQ,WAAW,EAAE;MACtBzJ,MAAM,CAAC4c,aAAa,CAAC,CAAC;IACxB;IAEA5c,MAAM,CAACsG,UAAU,CAAC,CAAC;IACnBtG,MAAM,CAAC+G,YAAY,CAAC,CAAC;IACrB/G,MAAM,CAAC0N,cAAc,CAAC,CAAC;IACvB1N,MAAM,CAACmO,mBAAmB,CAAC,CAAC;IAE5B,SAASuC,YAAYA,CAAA,EAAG;MACtB,MAAMwV,cAAc,GAAGlmB,MAAM,CAACqH,YAAY,GAAGrH,MAAM,CAACI,SAAS,GAAG,CAAC,CAAC,GAAGJ,MAAM,CAACI,SAAS;MACrF,MAAMkR,YAAY,GAAGrZ,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAACguB,cAAc,EAAElmB,MAAM,CAAC6N,YAAY,CAAC,CAAC,CAAC,EAAE7N,MAAM,CAACoN,YAAY,CAAC,CAAC,CAAC;MACrGpN,MAAM,CAAC0Q,YAAY,CAACY,YAAY,CAAC;MACjCtR,MAAM,CAACiP,iBAAiB,CAAC,CAAC;MAC1BjP,MAAM,CAACmO,mBAAmB,CAAC,CAAC;IAC9B;IAEA,IAAIgY,UAAU;IAEd,IAAInmB,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,IAAIla,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,CAACxS,OAAO,EAAE;MAC5DgJ,YAAY,CAAC,CAAC;MAEd,IAAI1Q,MAAM,CAAC/G,MAAM,CAACiV,UAAU,EAAE;QAC5BlO,MAAM,CAACoM,gBAAgB,CAAC,CAAC;MAC3B;IACF,CAAC,MAAM;MACL,IAAI,CAACpM,MAAM,CAAC/G,MAAM,CAACuQ,aAAa,KAAK,MAAM,IAAIxJ,MAAM,CAAC/G,MAAM,CAACuQ,aAAa,GAAG,CAAC,KAAKxJ,MAAM,CAAC+N,KAAK,IAAI,CAAC/N,MAAM,CAAC/G,MAAM,CAAC+P,cAAc,EAAE;QAChImd,UAAU,GAAGnmB,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC;MACvE,CAAC,MAAM;QACLo/B,UAAU,GAAGnmB,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC0M,WAAW,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC;MACjE;MAEA,IAAI,CAACyZ,UAAU,EAAE;QACfzV,YAAY,CAAC,CAAC;MAChB;IACF;IAEA,IAAIzX,MAAM,CAACyS,aAAa,IAAI3D,QAAQ,KAAK/H,MAAM,CAAC+H,QAAQ,EAAE;MACxD/H,MAAM,CAAC2L,aAAa,CAAC,CAAC;IACxB;IAEA3L,MAAM,CAACsD,IAAI,CAAC,QAAQ,CAAC;EACvB;EAEAwc,eAAeA,CAACsG,YAAY,EAAEC,UAAU,GAAG,IAAI,EAAE;IAC/C,MAAMrmB,MAAM,GAAG,IAAI;IACnB,MAAMsmB,gBAAgB,GAAGtmB,MAAM,CAAC/G,MAAM,CAAC+Y,SAAS;IAEhD,IAAI,CAACoU,YAAY,EAAE;MACjB;MACAA,YAAY,GAAGE,gBAAgB,KAAK,YAAY,GAAG,UAAU,GAAG,YAAY;IAC9E;IAEA,IAAIF,YAAY,KAAKE,gBAAgB,IAAIF,YAAY,KAAK,YAAY,IAAIA,YAAY,KAAK,UAAU,EAAE;MACrG,OAAOpmB,MAAM;IACf;IAEAA,MAAM,CAACwF,GAAG,CAAC1X,WAAW,IAAA6U,MAAA,CAAI3C,MAAM,CAAC/G,MAAM,CAAC8S,sBAAsB,EAAApJ,MAAA,CAAG2jB,gBAAgB,CAAE,CAAC,CAACh5B,QAAQ,IAAAqV,MAAA,CAAI3C,MAAM,CAAC/G,MAAM,CAAC8S,sBAAsB,EAAApJ,MAAA,CAAGyjB,YAAY,CAAE,CAAC;IACvJpmB,MAAM,CAACsf,oBAAoB,CAAC,CAAC;IAC7Btf,MAAM,CAAC/G,MAAM,CAAC+Y,SAAS,GAAGoU,YAAY;IACtCpmB,MAAM,CAAC4H,MAAM,CAACtT,IAAI,CAACqxB,OAAO,IAAI;MAC5B,IAAIS,YAAY,KAAK,UAAU,EAAE;QAC/BT,OAAO,CAAC59B,KAAK,CAAC8K,KAAK,GAAG,EAAE;MAC1B,CAAC,MAAM;QACL8yB,OAAO,CAAC59B,KAAK,CAACqL,MAAM,GAAG,EAAE;MAC3B;IACF,CAAC,CAAC;IACF4M,MAAM,CAACsD,IAAI,CAAC,iBAAiB,CAAC;IAC9B,IAAI+iB,UAAU,EAAErmB,MAAM,CAACiiB,MAAM,CAAC,CAAC;IAC/B,OAAOjiB,MAAM;EACf;EAEAumB,uBAAuBA,CAACvU,SAAS,EAAE;IACjC,MAAMhS,MAAM,GAAG,IAAI;IACnB,IAAIA,MAAM,CAACsH,GAAG,IAAI0K,SAAS,KAAK,KAAK,IAAI,CAAChS,MAAM,CAACsH,GAAG,IAAI0K,SAAS,KAAK,KAAK,EAAE;IAC7EhS,MAAM,CAACsH,GAAG,GAAG0K,SAAS,KAAK,KAAK;IAChChS,MAAM,CAACqH,YAAY,GAAGrH,MAAM,CAAC/G,MAAM,CAAC+Y,SAAS,KAAK,YAAY,IAAIhS,MAAM,CAACsH,GAAG;IAE5E,IAAItH,MAAM,CAACsH,GAAG,EAAE;MACdtH,MAAM,CAACwF,GAAG,CAAClY,QAAQ,IAAAqV,MAAA,CAAI3C,MAAM,CAAC/G,MAAM,CAAC8S,sBAAsB,QAAK,CAAC;MACjE/L,MAAM,CAACxU,EAAE,CAACiV,GAAG,GAAG,KAAK;IACvB,CAAC,MAAM;MACLT,MAAM,CAACwF,GAAG,CAAC1X,WAAW,IAAA6U,MAAA,CAAI3C,MAAM,CAAC/G,MAAM,CAAC8S,sBAAsB,QAAK,CAAC;MACpE/L,MAAM,CAACxU,EAAE,CAACiV,GAAG,GAAG,KAAK;IACvB;IAEAT,MAAM,CAACiiB,MAAM,CAAC,CAAC;EACjB;EAEAuE,KAAKA,CAACh7B,EAAE,EAAE;IACR,MAAMwU,MAAM,GAAG,IAAI;IACnB,IAAIA,MAAM,CAACymB,OAAO,EAAE,OAAO,IAAI,CAAC,CAAC;;IAEjC,MAAMjhB,GAAG,GAAG,IAAA1Y,YAAC,EAACtB,EAAE,IAAIwU,MAAM,CAAC/G,MAAM,CAACzN,EAAE,CAAC;IACrCA,EAAE,GAAGga,GAAG,CAAC,CAAC,CAAC;IAEX,IAAI,CAACha,EAAE,EAAE;MACP,OAAO,KAAK;IACd;IAEAA,EAAE,CAACwU,MAAM,GAAGA,MAAM;IAElB,MAAM0mB,kBAAkB,GAAGA,CAAA,KAAM;MAC/B,WAAA/jB,MAAA,CAAW,CAAC3C,MAAM,CAAC/G,MAAM,CAAC2pB,YAAY,IAAI,EAAE,EAAE51B,IAAI,CAAC,CAAC,CAACW,KAAK,CAAC,GAAG,CAAC,CAACyQ,IAAI,CAAC,GAAG,CAAC;IAC3E,CAAC;IAED,MAAMuoB,UAAU,GAAGA,CAAA,KAAM;MACvB,IAAIn7B,EAAE,IAAIA,EAAE,CAAC4sB,UAAU,IAAI5sB,EAAE,CAAC4sB,UAAU,CAAC7wB,aAAa,EAAE;QACtD,MAAMgE,GAAG,GAAG,IAAAuB,YAAC,EAACtB,EAAE,CAAC4sB,UAAU,CAAC7wB,aAAa,CAACm/B,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAElEn7B,GAAG,CAAC1D,QAAQ,GAAGgI,OAAO,IAAI2V,GAAG,CAAC3d,QAAQ,CAACgI,OAAO,CAAC;QAE/C,OAAOtE,GAAG;MACZ;MAEA,IAAI,CAACia,GAAG,CAAC3d,QAAQ,EAAE;QACjB,OAAO,IAAAiF,YAAC,EAAC0Y,GAAG,CAAC,CAAC3d,QAAQ,CAAC6+B,kBAAkB,CAAC,CAAC,CAAC;MAC9C;MAEA,OAAOlhB,GAAG,CAAC3d,QAAQ,CAAC6+B,kBAAkB,CAAC,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;;IAGH,IAAIhhB,UAAU,GAAGihB,UAAU,CAAC,CAAC;IAE7B,IAAIjhB,UAAU,CAAC3e,MAAM,KAAK,CAAC,IAAIiZ,MAAM,CAAC/G,MAAM,CAACwpB,cAAc,EAAE;MAC3D,MAAMz5B,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;MAC9B,MAAM89B,OAAO,GAAG59B,QAAQ,CAACpB,aAAa,CAAC,KAAK,CAAC;MAC7C8d,UAAU,GAAG,IAAA5Y,YAAC,EAAC85B,OAAO,CAAC;MACvBA,OAAO,CAAC34B,SAAS,GAAG+R,MAAM,CAAC/G,MAAM,CAAC2pB,YAAY;MAC9Cpd,GAAG,CAACrQ,MAAM,CAACyxB,OAAO,CAAC;MACnBphB,GAAG,CAAC3d,QAAQ,KAAA8a,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,CAAE,CAAC,CAACvT,IAAI,CAACqxB,OAAO,IAAI;QAC3DjgB,UAAU,CAACvQ,MAAM,CAACwwB,OAAO,CAAC;MAC5B,CAAC,CAAC;IACJ;IAEAn/B,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;MACpBwF,GAAG,EAAHA,GAAG;MACHha,EAAE,EAAFA,EAAE;MACFka,UAAU,EAAVA,UAAU;MACVpF,SAAS,EAAEoF,UAAU,CAAC,CAAC,CAAC;MACxB+gB,OAAO,EAAE,IAAI;MACb;MACAnf,GAAG,EAAE9b,EAAE,CAACiV,GAAG,CAACpU,WAAW,CAAC,CAAC,KAAK,KAAK,IAAImZ,GAAG,CAACzS,GAAG,CAAC,WAAW,CAAC,KAAK,KAAK;MACrEsU,YAAY,EAAErH,MAAM,CAAC/G,MAAM,CAAC+Y,SAAS,KAAK,YAAY,KAAKxmB,EAAE,CAACiV,GAAG,CAACpU,WAAW,CAAC,CAAC,KAAK,KAAK,IAAImZ,GAAG,CAACzS,GAAG,CAAC,WAAW,CAAC,KAAK,KAAK,CAAC;MAC5HwU,QAAQ,EAAE7B,UAAU,CAAC3S,GAAG,CAAC,SAAS,CAAC,KAAK;IAC1C,CAAC,CAAC;IACF,OAAO,IAAI;EACb;EAEAsS,IAAIA,CAAC7Z,EAAE,EAAE;IACP,MAAMwU,MAAM,GAAG,IAAI;IACnB,IAAIA,MAAM,CAAC2D,WAAW,EAAE,OAAO3D,MAAM;IACrC,MAAMymB,OAAO,GAAGzmB,MAAM,CAACwmB,KAAK,CAACh7B,EAAE,CAAC;IAChC,IAAIi7B,OAAO,KAAK,KAAK,EAAE,OAAOzmB,MAAM;IACpCA,MAAM,CAACsD,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;;IAE3B,IAAItD,MAAM,CAAC/G,MAAM,CAACwQ,WAAW,EAAE;MAC7BzJ,MAAM,CAAC4c,aAAa,CAAC,CAAC;IACxB,CAAC,CAAC;;IAGF5c,MAAM,CAAC8gB,UAAU,CAAC,CAAC,CAAC,CAAC;;IAErB,IAAI9gB,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;MACtB5O,MAAM,CAACqV,UAAU,CAAC,CAAC;IACrB,CAAC,CAAC;;IAGFrV,MAAM,CAACsG,UAAU,CAAC,CAAC,CAAC,CAAC;;IAErBtG,MAAM,CAAC+G,YAAY,CAAC,CAAC;IAErB,IAAI/G,MAAM,CAAC/G,MAAM,CAACyS,aAAa,EAAE;MAC/B1L,MAAM,CAAC2L,aAAa,CAAC,CAAC;IACxB,CAAC,CAAC;;IAGF,IAAI3L,MAAM,CAAC/G,MAAM,CAACiiB,UAAU,IAAIlb,MAAM,CAAC0H,OAAO,EAAE;MAC9C1H,MAAM,CAACsW,aAAa,CAAC,CAAC;IACxB;IAEA,IAAItW,MAAM,CAAC/G,MAAM,CAAC4oB,aAAa,EAAE;MAC/B7hB,MAAM,CAAC6hB,aAAa,CAAC,CAAC;IACxB,CAAC,CAAC;;IAGF,IAAI7hB,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;MACtB5O,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC/G,MAAM,CAACupB,YAAY,GAAGxiB,MAAM,CAACuT,YAAY,EAAE,CAAC,EAAEvT,MAAM,CAAC/G,MAAM,CAACuW,kBAAkB,EAAE,KAAK,EAAE,IAAI,CAAC;IACpH,CAAC,MAAM;MACLxP,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC/G,MAAM,CAACupB,YAAY,EAAE,CAAC,EAAExiB,MAAM,CAAC/G,MAAM,CAACuW,kBAAkB,EAAE,KAAK,EAAE,IAAI,CAAC;IAC9F,CAAC,CAAC;;IAGFxP,MAAM,CAACwe,YAAY,CAAC,CAAC,CAAC,CAAC;;IAEvBxe,MAAM,CAAC2D,WAAW,GAAG,IAAI,CAAC,CAAC;;IAE3B3D,MAAM,CAACsD,IAAI,CAAC,MAAM,CAAC;IACnBtD,MAAM,CAACsD,IAAI,CAAC,WAAW,CAAC;IACxB,OAAOtD,MAAM;EACf;EAEA2F,OAAOA,CAACkhB,cAAc,GAAG,IAAI,EAAEC,WAAW,GAAG,IAAI,EAAE;IACjD,MAAM9mB,MAAM,GAAG,IAAI;IACnB,MAAM;MACJ/G,MAAM,EAANA,MAAM;MACNuM,GAAG,EAAHA,GAAG;MACHE,UAAU,EAAVA,UAAU;MACVkC,MAAM,EAANA;IACF,CAAC,GAAG5H,MAAM;IAEV,IAAI,OAAOA,MAAM,CAAC/G,MAAM,KAAK,WAAW,IAAI+G,MAAM,CAAC0D,SAAS,EAAE;MAC5D,OAAO,IAAI;IACb;IAEA1D,MAAM,CAACsD,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;;IAE9BtD,MAAM,CAAC2D,WAAW,GAAG,KAAK,CAAC,CAAC;;IAE5B3D,MAAM,CAAC0e,YAAY,CAAC,CAAC,CAAC,CAAC;;IAEvB,IAAIzlB,MAAM,CAAC2V,IAAI,EAAE;MACf5O,MAAM,CAACkW,WAAW,CAAC,CAAC;IACtB,CAAC,CAAC;;IAGF,IAAI4Q,WAAW,EAAE;MACf9mB,MAAM,CAACghB,aAAa,CAAC,CAAC;MACtBxb,GAAG,CAAC7W,UAAU,CAAC,OAAO,CAAC;MACvB+W,UAAU,CAAC/W,UAAU,CAAC,OAAO,CAAC;MAE9B,IAAIiZ,MAAM,IAAIA,MAAM,CAAC7gB,MAAM,EAAE;QAC3B6gB,MAAM,CAAC9Z,WAAW,CAAC,CAACmL,MAAM,CAAC+T,iBAAiB,EAAE/T,MAAM,CAACoV,gBAAgB,EAAEpV,MAAM,CAACqV,cAAc,EAAErV,MAAM,CAACsV,cAAc,CAAC,CAACnQ,IAAI,CAAC,GAAG,CAAC,CAAC,CAACzP,UAAU,CAAC,OAAO,CAAC,CAACA,UAAU,CAAC,yBAAyB,CAAC;MAC3L;IACF;IAEAqR,MAAM,CAACsD,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;;IAExB9c,MAAM,CAACI,IAAI,CAACoZ,MAAM,CAAC+F,eAAe,CAAC,CAAClf,OAAO,CAACkL,SAAS,IAAI;MACvDiO,MAAM,CAACxO,GAAG,CAACO,SAAS,CAAC;IACvB,CAAC,CAAC;IAEF,IAAI80B,cAAc,KAAK,KAAK,EAAE;MAC5B7mB,MAAM,CAACwF,GAAG,CAAC,CAAC,CAAC,CAACxF,MAAM,GAAG,IAAI;MAC3B,IAAA1C,kBAAW,EAAC0C,MAAM,CAAC;IACrB;IAEAA,MAAM,CAAC0D,SAAS,GAAG,IAAI;IACvB,OAAO,IAAI;EACb;EAEA,OAAOqjB,cAAcA,CAACC,WAAW,EAAE;IACjC,IAAAvgC,aAAM,EAAC+9B,gBAAgB,EAAEwC,WAAW,CAAC;EACvC;EAEA,WAAWxC,gBAAgBA,CAAA,EAAG;IAC5B,OAAOA,gBAAgB;EACzB;EAEA,WAAWQ,QAAQA,CAAA,EAAG;IACpB,OAAOA,iBAAQ;EACjB;EAEA,OAAOiC,aAAaA,CAACnC,GAAG,EAAE;IACxB,IAAI,CAACL,MAAM,CAAC74B,SAAS,CAACi5B,WAAW,EAAEJ,MAAM,CAAC74B,SAAS,CAACi5B,WAAW,GAAG,EAAE;IACpE,MAAMD,OAAO,GAAGH,MAAM,CAAC74B,SAAS,CAACi5B,WAAW;IAE5C,IAAI,OAAOC,GAAG,KAAK,UAAU,IAAIF,OAAO,CAAC14B,OAAO,CAAC44B,GAAG,CAAC,GAAG,CAAC,EAAE;MACzDF,OAAO,CAACl5B,IAAI,CAACo5B,GAAG,CAAC;IACnB;EACF;EAEA,OAAOoC,GAAGA,CAACC,MAAM,EAAE;IACjB,IAAIh8B,KAAK,CAACM,OAAO,CAAC07B,MAAM,CAAC,EAAE;MACzBA,MAAM,CAACtgC,OAAO,CAACugC,CAAC,IAAI3C,MAAM,CAACwC,aAAa,CAACG,CAAC,CAAC,CAAC;MAC5C,OAAO3C,MAAM;IACf;IAEAA,MAAM,CAACwC,aAAa,CAACE,MAAM,CAAC;IAC5B,OAAO1C,MAAM;EACf;AAEF;AAEAj+B,MAAM,CAACI,IAAI,CAACy9B,UAAU,CAAC,CAACx9B,OAAO,CAACwgC,cAAc,IAAI;EAChD7gC,MAAM,CAACI,IAAI,CAACy9B,UAAU,CAACgD,cAAc,CAAC,CAAC,CAACxgC,OAAO,CAACygC,WAAW,IAAI;IAC7D7C,MAAM,CAAC74B,SAAS,CAAC07B,WAAW,CAAC,GAAGjD,UAAU,CAACgD,cAAc,CAAC,CAACC,WAAW,CAAC;EACzE,CAAC,CAAC;AACJ,CAAC,CAAC;AACF7C,MAAM,CAACyC,GAAG,CAAC,CAAC7jB,eAAM,EAAEqB,iBAAQ,CAAC,CAAC;AAAC,IAAA1I,QAAA,GAChByoB,MAAM;AAAA57B,OAAA,CAAAoT,OAAA,GAAAD,QAAA;;;;;;;;ACznBrB,IAAAE,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AAAuD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,SAAAsW,QAAAtW,GAAA,sCAAAsW,OAAA,wBAAAK,MAAA,uBAAAA,MAAA,CAAAI,QAAA,aAAA/W,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAA2W,MAAA,IAAA3W,GAAA,CAAAC,WAAA,KAAA0W,MAAA,IAAA3W,GAAA,KAAA2W,MAAA,CAAArR,SAAA,qBAAAtF,GAAA,KAAAsW,OAAA,CAAAtW,GAAA;AACxC,SAASihC,OAAOA,CAAC;EAC9BvnB,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACDqB,YAAY,CAAC;IACX8C,OAAO,EAAE;MACPC,OAAO,EAAE,KAAK;MACdE,MAAM,EAAE,EAAE;MACV4f,KAAK,EAAE,IAAI;MACXC,WAAW,EAAE,IAAI;MACjBC,cAAc,EAAE,IAAI;MACpBC,oBAAoB,EAAE,IAAI;MAC1BC,eAAe,EAAE,CAAC;MAClBC,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;EACF,IAAIC,cAAc;EAClB9nB,MAAM,CAACyH,OAAO,GAAG;IACf+f,KAAK,EAAE,CAAC,CAAC;IACTO,IAAI,EAAEt5B,SAAS;IACfwQ,EAAE,EAAExQ,SAAS;IACbmZ,MAAM,EAAE,EAAE;IACVpU,MAAM,EAAE,CAAC;IACTwU,UAAU,EAAE;EACd,CAAC;EAED,SAASyf,WAAWA,CAAC/d,KAAK,EAAEnV,KAAK,EAAE;IACjC,MAAM0E,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACwO,OAAO;IAEpC,IAAIxO,MAAM,CAACuuB,KAAK,IAAIxnB,MAAM,CAACyH,OAAO,CAAC+f,KAAK,CAACjzB,KAAK,CAAC,EAAE;MAC/C,OAAOyL,MAAM,CAACyH,OAAO,CAAC+f,KAAK,CAACjzB,KAAK,CAAC;IACpC;IAEA,MAAMyzB,QAAQ,GAAG/uB,MAAM,CAACwuB,WAAW,GAAG,IAAA36B,YAAC,EAACmM,MAAM,CAACwuB,WAAW,CAAC37B,IAAI,CAACkU,MAAM,EAAE0J,KAAK,EAAEnV,KAAK,CAAC,CAAC,GAAG,IAAAzH,YAAC,kBAAA6V,MAAA,CAAgB3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,mCAAAlF,MAAA,CAA8BpO,KAAK,SAAAoO,MAAA,CAAK+G,KAAK,WAAQ,CAAC;IACxL,IAAI,CAACse,QAAQ,CAAC35B,IAAI,CAAC,yBAAyB,CAAC,EAAE25B,QAAQ,CAAC35B,IAAI,CAAC,yBAAyB,EAAEkG,KAAK,CAAC;IAC9F,IAAI0E,MAAM,CAACuuB,KAAK,EAAExnB,MAAM,CAACyH,OAAO,CAAC+f,KAAK,CAACjzB,KAAK,CAAC,GAAGyzB,QAAQ;IACxD,OAAOA,QAAQ;EACjB;EAEA,SAAS/F,MAAMA,CAACgG,KAAK,EAAE;IACrB,MAAM;MACJze,aAAa,EAAbA,aAAa;MACbc,cAAc,EAAdA,cAAc;MACdtB,cAAc,EAAdA;IACF,CAAC,GAAGhJ,MAAM,CAAC/G,MAAM;IACjB,MAAM;MACJ2uB,eAAe,EAAfA,eAAe;MACfC,cAAc,EAAdA;IACF,CAAC,GAAG7nB,MAAM,CAAC/G,MAAM,CAACwO,OAAO;IACzB,MAAM;MACJsgB,IAAI,EAAEG,YAAY;MAClBjpB,EAAE,EAAEkpB,UAAU;MACdvgB,MAAM,EAANA,MAAM;MACNI,UAAU,EAAEogB,kBAAkB;MAC9B50B,MAAM,EAAE60B;IACV,CAAC,GAAGroB,MAAM,CAACyH,OAAO;IAElB,IAAI,CAACzH,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MAC1BjJ,MAAM,CAACiP,iBAAiB,CAAC,CAAC;IAC5B;IAEA,MAAMvC,WAAW,GAAG1M,MAAM,CAAC0M,WAAW,IAAI,CAAC;IAC3C,IAAI4b,UAAU;IACd,IAAItoB,MAAM,CAACqH,YAAY,EAAEihB,UAAU,GAAG,OAAO,CAAC,KAAKA,UAAU,GAAGtoB,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,MAAM,GAAG,KAAK;IACtG,IAAI8hB,WAAW;IACf,IAAIC,YAAY;IAEhB,IAAIxf,cAAc,EAAE;MAClBuf,WAAW,GAAGtwB,IAAI,CAACkS,KAAK,CAACX,aAAa,GAAG,CAAC,CAAC,GAAGc,cAAc,GAAGud,cAAc;MAC7EW,YAAY,GAAGvwB,IAAI,CAACkS,KAAK,CAACX,aAAa,GAAG,CAAC,CAAC,GAAGc,cAAc,GAAGsd,eAAe;IACjF,CAAC,MAAM;MACLW,WAAW,GAAG/e,aAAa,IAAIc,cAAc,GAAG,CAAC,CAAC,GAAGud,cAAc;MACnEW,YAAY,GAAGle,cAAc,GAAGsd,eAAe;IACjD;IAEA,MAAMG,IAAI,GAAG9vB,IAAI,CAACC,GAAG,CAAC,CAACwU,WAAW,IAAI,CAAC,IAAI8b,YAAY,EAAE,CAAC,CAAC;IAC3D,MAAMvpB,EAAE,GAAGhH,IAAI,CAACE,GAAG,CAAC,CAACuU,WAAW,IAAI,CAAC,IAAI6b,WAAW,EAAE3gB,MAAM,CAAC7gB,MAAM,GAAG,CAAC,CAAC;IACxE,MAAMyM,MAAM,GAAG,CAACwM,MAAM,CAACgI,UAAU,CAAC+f,IAAI,CAAC,IAAI,CAAC,KAAK/nB,MAAM,CAACgI,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAC3ExhB,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACyH,OAAO,EAAE;MAC5BsgB,IAAI,EAAJA,IAAI;MACJ9oB,EAAE,EAAFA,EAAE;MACFzL,MAAM,EAANA,MAAM;MACNwU,UAAU,EAAEhI,MAAM,CAACgI;IACrB,CAAC,CAAC;IAEF,SAASygB,UAAUA,CAAA,EAAG;MACpBzoB,MAAM,CAAC+G,YAAY,CAAC,CAAC;MACrB/G,MAAM,CAAC0N,cAAc,CAAC,CAAC;MACvB1N,MAAM,CAACmO,mBAAmB,CAAC,CAAC;MAE5B,IAAInO,MAAM,CAAC0oB,IAAI,IAAI1oB,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAAChhB,OAAO,EAAE;QAC7C1H,MAAM,CAAC0oB,IAAI,CAACC,IAAI,CAAC,CAAC;MACpB;MAEArlB,IAAI,CAAC,eAAe,CAAC;IACvB;IAEA,IAAI4kB,YAAY,KAAKH,IAAI,IAAII,UAAU,KAAKlpB,EAAE,IAAI,CAACgpB,KAAK,EAAE;MACxD,IAAIjoB,MAAM,CAACgI,UAAU,KAAKogB,kBAAkB,IAAI50B,MAAM,KAAK60B,cAAc,EAAE;QACzEroB,MAAM,CAAC4H,MAAM,CAAC7U,GAAG,CAACu1B,UAAU,KAAA3lB,MAAA,CAAKnP,MAAM,OAAI,CAAC;MAC9C;MAEAwM,MAAM,CAAC0N,cAAc,CAAC,CAAC;MACvBpK,IAAI,CAAC,eAAe,CAAC;MACrB;IACF;IAEA,IAAItD,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACigB,cAAc,EAAE;MACxC1nB,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACigB,cAAc,CAAC57B,IAAI,CAACkU,MAAM,EAAE;QAChDxM,MAAM,EAANA,MAAM;QACNu0B,IAAI,EAAJA,IAAI;QACJ9oB,EAAE,EAAFA,EAAE;QACF2I,MAAM,EAAE,SAASghB,SAASA,CAAA,EAAG;UAC3B,MAAMC,cAAc,GAAG,EAAE;UAEzB,KAAK,IAAI58B,CAAC,GAAG87B,IAAI,EAAE97B,CAAC,IAAIgT,EAAE,EAAEhT,CAAC,IAAI,CAAC,EAAE;YAClC48B,cAAc,CAACn9B,IAAI,CAACkc,MAAM,CAAC3b,CAAC,CAAC,CAAC;UAChC;UAEA,OAAO48B,cAAc;QACvB,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF,IAAI7oB,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACkgB,oBAAoB,EAAE;QAC9Cc,UAAU,CAAC,CAAC;MACd,CAAC,MAAM;QACLnlB,IAAI,CAAC,eAAe,CAAC;MACvB;MAEA;IACF;IAEA,MAAMwlB,cAAc,GAAG,EAAE;IACzB,MAAMC,aAAa,GAAG,EAAE;IAExB,IAAId,KAAK,EAAE;MACTjoB,MAAM,CAAC0F,UAAU,CAAC5O,IAAI,KAAA6L,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,CAAE,CAAC,CAAC9Z,MAAM,CAAC,CAAC;IACjE,CAAC,MAAM;MACL,KAAK,IAAI9B,CAAC,GAAGi8B,YAAY,EAAEj8B,CAAC,IAAIk8B,UAAU,EAAEl8B,CAAC,IAAI,CAAC,EAAE;QAClD,IAAIA,CAAC,GAAG87B,IAAI,IAAI97B,CAAC,GAAGgT,EAAE,EAAE;UACtBe,MAAM,CAAC0F,UAAU,CAAC5O,IAAI,KAAA6L,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,iCAAAlF,MAAA,CAA6B1W,CAAC,QAAI,CAAC,CAAC8B,MAAM,CAAC,CAAC;QACjG;MACF;IACF;IAEA,KAAK,IAAI9B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,IAAIA,CAAC,IAAI87B,IAAI,IAAI97B,CAAC,IAAIgT,EAAE,EAAE;QACxB,IAAI,OAAOkpB,UAAU,KAAK,WAAW,IAAIF,KAAK,EAAE;UAC9Cc,aAAa,CAACr9B,IAAI,CAACO,CAAC,CAAC;QACvB,CAAC,MAAM;UACL,IAAIA,CAAC,GAAGk8B,UAAU,EAAEY,aAAa,CAACr9B,IAAI,CAACO,CAAC,CAAC;UACzC,IAAIA,CAAC,GAAGi8B,YAAY,EAAEY,cAAc,CAACp9B,IAAI,CAACO,CAAC,CAAC;QAC9C;MACF;IACF;IAEA88B,aAAa,CAACliC,OAAO,CAAC0N,KAAK,IAAI;MAC7ByL,MAAM,CAAC0F,UAAU,CAACvQ,MAAM,CAACsyB,WAAW,CAAC7f,MAAM,CAACrT,KAAK,CAAC,EAAEA,KAAK,CAAC,CAAC;IAC7D,CAAC,CAAC;IACFu0B,cAAc,CAACxI,IAAI,CAAC,CAACzzB,CAAC,EAAE0zB,CAAC,KAAKA,CAAC,GAAG1zB,CAAC,CAAC,CAAChG,OAAO,CAAC0N,KAAK,IAAI;MACpDyL,MAAM,CAAC0F,UAAU,CAAC/P,OAAO,CAAC8xB,WAAW,CAAC7f,MAAM,CAACrT,KAAK,CAAC,EAAEA,KAAK,CAAC,CAAC;IAC9D,CAAC,CAAC;IACFyL,MAAM,CAAC0F,UAAU,CAAC7d,QAAQ,CAAC,eAAe,CAAC,CAACkL,GAAG,CAACu1B,UAAU,KAAA3lB,MAAA,CAAKnP,MAAM,OAAI,CAAC;IAC1Ei1B,UAAU,CAAC,CAAC;EACd;EAEA,SAASO,WAAWA,CAACphB,MAAM,EAAE;IAC3B,IAAIhL,OAAA,CAAOgL,MAAM,MAAK,QAAQ,IAAI,QAAQ,IAAIA,MAAM,EAAE;MACpD,KAAK,IAAI3b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACzC,IAAI2b,MAAM,CAAC3b,CAAC,CAAC,EAAE+T,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAClc,IAAI,CAACkc,MAAM,CAAC3b,CAAC,CAAC,CAAC;MACtD;IACF,CAAC,MAAM;MACL+T,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAClc,IAAI,CAACkc,MAAM,CAAC;IACpC;IAEAqa,MAAM,CAAC,IAAI,CAAC;EACd;EAEA,SAASgH,YAAYA,CAACrhB,MAAM,EAAE;IAC5B,MAAM8E,WAAW,GAAG1M,MAAM,CAAC0M,WAAW;IACtC,IAAIwC,cAAc,GAAGxC,WAAW,GAAG,CAAC;IACpC,IAAIwc,iBAAiB,GAAG,CAAC;IAEzB,IAAI/9B,KAAK,CAACM,OAAO,CAACmc,MAAM,CAAC,EAAE;MACzB,KAAK,IAAI3b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACzC,IAAI2b,MAAM,CAAC3b,CAAC,CAAC,EAAE+T,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAC/W,OAAO,CAAC+W,MAAM,CAAC3b,CAAC,CAAC,CAAC;MACzD;MAEAijB,cAAc,GAAGxC,WAAW,GAAG9E,MAAM,CAAC7gB,MAAM;MAC5CmiC,iBAAiB,GAAGthB,MAAM,CAAC7gB,MAAM;IACnC,CAAC,MAAM;MACLiZ,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAC/W,OAAO,CAAC+W,MAAM,CAAC;IACvC;IAEA,IAAI5H,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAAC+f,KAAK,EAAE;MAC/B,MAAMA,KAAK,GAAGxnB,MAAM,CAACyH,OAAO,CAAC+f,KAAK;MAClC,MAAM2B,QAAQ,GAAG,CAAC,CAAC;MACnB3iC,MAAM,CAACI,IAAI,CAAC4gC,KAAK,CAAC,CAAC3gC,OAAO,CAACuiC,WAAW,IAAI;QACxC,MAAMC,SAAS,GAAG7B,KAAK,CAAC4B,WAAW,CAAC;QACpC,MAAME,aAAa,GAAGD,SAAS,CAACh7B,IAAI,CAAC,yBAAyB,CAAC;QAE/D,IAAIi7B,aAAa,EAAE;UACjBD,SAAS,CAACh7B,IAAI,CAAC,yBAAyB,EAAEsY,QAAQ,CAAC2iB,aAAa,EAAE,EAAE,CAAC,GAAGJ,iBAAiB,CAAC;QAC5F;QAEAC,QAAQ,CAACxiB,QAAQ,CAACyiB,WAAW,EAAE,EAAE,CAAC,GAAGF,iBAAiB,CAAC,GAAGG,SAAS;MACrE,CAAC,CAAC;MACFrpB,MAAM,CAACyH,OAAO,CAAC+f,KAAK,GAAG2B,QAAQ;IACjC;IAEAlH,MAAM,CAAC,IAAI,CAAC;IACZjiB,MAAM,CAACsS,OAAO,CAACpD,cAAc,EAAE,CAAC,CAAC;EACnC;EAEA,SAASqa,WAAWA,CAACC,aAAa,EAAE;IAClC,IAAI,OAAOA,aAAa,KAAK,WAAW,IAAIA,aAAa,KAAK,IAAI,EAAE;IACpE,IAAI9c,WAAW,GAAG1M,MAAM,CAAC0M,WAAW;IAEpC,IAAIvhB,KAAK,CAACM,OAAO,CAAC+9B,aAAa,CAAC,EAAE;MAChC,KAAK,IAAIv9B,CAAC,GAAGu9B,aAAa,CAACziC,MAAM,GAAG,CAAC,EAAEkF,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;QACrD+T,MAAM,CAACyH,OAAO,CAACG,MAAM,CAACjW,MAAM,CAAC63B,aAAa,CAACv9B,CAAC,CAAC,EAAE,CAAC,CAAC;QAEjD,IAAI+T,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAAC+f,KAAK,EAAE;UAC/B,OAAOxnB,MAAM,CAACyH,OAAO,CAAC+f,KAAK,CAACgC,aAAa,CAACv9B,CAAC,CAAC,CAAC;QAC/C;QAEA,IAAIu9B,aAAa,CAACv9B,CAAC,CAAC,GAAGygB,WAAW,EAAEA,WAAW,IAAI,CAAC;QACpDA,WAAW,GAAGzU,IAAI,CAACC,GAAG,CAACwU,WAAW,EAAE,CAAC,CAAC;MACxC;IACF,CAAC,MAAM;MACL1M,MAAM,CAACyH,OAAO,CAACG,MAAM,CAACjW,MAAM,CAAC63B,aAAa,EAAE,CAAC,CAAC;MAE9C,IAAIxpB,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAAC+f,KAAK,EAAE;QAC/B,OAAOxnB,MAAM,CAACyH,OAAO,CAAC+f,KAAK,CAACgC,aAAa,CAAC;MAC5C;MAEA,IAAIA,aAAa,GAAG9c,WAAW,EAAEA,WAAW,IAAI,CAAC;MACjDA,WAAW,GAAGzU,IAAI,CAACC,GAAG,CAACwU,WAAW,EAAE,CAAC,CAAC;IACxC;IAEAuV,MAAM,CAAC,IAAI,CAAC;IACZjiB,MAAM,CAACsS,OAAO,CAAC5F,WAAW,EAAE,CAAC,CAAC;EAChC;EAEA,SAAS+c,eAAeA,CAAA,EAAG;IACzBzpB,MAAM,CAACyH,OAAO,CAACG,MAAM,GAAG,EAAE;IAE1B,IAAI5H,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAAC+f,KAAK,EAAE;MAC/BxnB,MAAM,CAACyH,OAAO,CAAC+f,KAAK,GAAG,CAAC,CAAC;IAC3B;IAEAvF,MAAM,CAAC,IAAI,CAAC;IACZjiB,MAAM,CAACsS,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;EACtB;EAEAniB,EAAE,CAAC,YAAY,EAAE,MAAM;IACrB,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,EAAE;IACpC1H,MAAM,CAACyH,OAAO,CAACG,MAAM,GAAG5H,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACG,MAAM;IACpD5H,MAAM,CAACxS,UAAU,CAAC9B,IAAI,IAAAiX,MAAA,CAAI3C,MAAM,CAAC/G,MAAM,CAAC8S,sBAAsB,YAAS,CAAC;IACxE/L,MAAM,CAAC/G,MAAM,CAAC2S,mBAAmB,GAAG,IAAI;IACxC5L,MAAM,CAACkf,cAAc,CAACtT,mBAAmB,GAAG,IAAI;IAEhD,IAAI,CAAC5L,MAAM,CAAC/G,MAAM,CAACupB,YAAY,EAAE;MAC/BP,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACF9xB,EAAE,CAAC,cAAc,EAAE,MAAM;IACvB,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,EAAE;IAEpC,IAAI1H,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,IAAI,CAACjJ,MAAM,CAACkT,iBAAiB,EAAE;MACtDlpB,YAAY,CAAC89B,cAAc,CAAC;MAC5BA,cAAc,GAAG/9B,UAAU,CAAC,MAAM;QAChCk4B,MAAM,CAAC,CAAC;MACV,CAAC,EAAE,GAAG,CAAC;IACT,CAAC,MAAM;MACLA,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACF9xB,EAAE,CAAC,oBAAoB,EAAE,MAAM;IAC7B,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,EAAE;IAEpC,IAAI1H,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzB,IAAAtJ,qBAAc,EAACK,MAAM,CAACM,SAAS,EAAE,uBAAuB,KAAAqC,MAAA,CAAK3C,MAAM,CAAC2I,WAAW,OAAI,CAAC;IACtF;EACF,CAAC,CAAC;EACFniB,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACyH,OAAO,EAAE;IAC5BuhB,WAAW,EAAXA,WAAW;IACXC,YAAY,EAAZA,YAAY;IACZM,WAAW,EAAXA,WAAW;IACXE,eAAe,EAAfA,eAAe;IACfxH,MAAM,EAANA;EACF,CAAC,CAAC;AACJ;;;;;;;;ACvSA,IAAAx3B,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAFpC;;AAGe,SAASojC,QAAQA,CAAC;EAC/B1pB,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAMta,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,MAAM0B,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1B0V,MAAM,CAAC2pB,QAAQ,GAAG;IAChBjiB,OAAO,EAAE;EACX,CAAC;EACD/C,YAAY,CAAC;IACXglB,QAAQ,EAAE;MACRjiB,OAAO,EAAE,KAAK;MACdkiB,cAAc,EAAE,IAAI;MACpBC,UAAU,EAAE;IACd;EACF,CAAC,CAAC;EAEF,SAASC,MAAMA,CAAC14B,KAAK,EAAE;IACrB,IAAI,CAAC4O,MAAM,CAAC0H,OAAO,EAAE;IACrB,MAAM;MACJL,YAAY,EAAEC;IAChB,CAAC,GAAGtH,MAAM;IACV,IAAItP,CAAC,GAAGU,KAAK;IACb,IAAIV,CAAC,CAAC6mB,aAAa,EAAE7mB,CAAC,GAAGA,CAAC,CAAC6mB,aAAa,CAAC,CAAC;;IAE1C,MAAMwS,EAAE,GAAGr5B,CAAC,CAACs5B,OAAO,IAAIt5B,CAAC,CAACu5B,QAAQ;IAClC,MAAMJ,UAAU,GAAG7pB,MAAM,CAAC/G,MAAM,CAAC0wB,QAAQ,CAACE,UAAU;IACpD,MAAMK,QAAQ,GAAGL,UAAU,IAAIE,EAAE,KAAK,EAAE;IACxC,MAAMI,UAAU,GAAGN,UAAU,IAAIE,EAAE,KAAK,EAAE;IAC1C,MAAMK,WAAW,GAAGL,EAAE,KAAK,EAAE;IAC7B,MAAMM,YAAY,GAAGN,EAAE,KAAK,EAAE;IAC9B,MAAMO,SAAS,GAAGP,EAAE,KAAK,EAAE;IAC3B,MAAMQ,WAAW,GAAGR,EAAE,KAAK,EAAE,CAAC,CAAC;;IAE/B,IAAI,CAAC/pB,MAAM,CAAC+S,cAAc,KAAK/S,MAAM,CAACyG,YAAY,CAAC,CAAC,IAAI4jB,YAAY,IAAIrqB,MAAM,CAAC0G,UAAU,CAAC,CAAC,IAAI6jB,WAAW,IAAIJ,UAAU,CAAC,EAAE;MACzH,OAAO,KAAK;IACd;IAEA,IAAI,CAACnqB,MAAM,CAACgT,cAAc,KAAKhT,MAAM,CAACyG,YAAY,CAAC,CAAC,IAAI2jB,WAAW,IAAIpqB,MAAM,CAAC0G,UAAU,CAAC,CAAC,IAAI4jB,SAAS,IAAIJ,QAAQ,CAAC,EAAE;MACpH,OAAO,KAAK;IACd;IAEA,IAAIx5B,CAAC,CAAC85B,QAAQ,IAAI95B,CAAC,CAAC+5B,MAAM,IAAI/5B,CAAC,CAACg6B,OAAO,IAAIh6B,CAAC,CAACi6B,OAAO,EAAE;MACpD,OAAOl8B,SAAS;IAClB;IAEA,IAAIzF,QAAQ,CAAC5B,aAAa,IAAI4B,QAAQ,CAAC5B,aAAa,CAACE,QAAQ,KAAK0B,QAAQ,CAAC5B,aAAa,CAACE,QAAQ,CAAC+E,WAAW,CAAC,CAAC,KAAK,OAAO,IAAIrD,QAAQ,CAAC5B,aAAa,CAACE,QAAQ,CAAC+E,WAAW,CAAC,CAAC,KAAK,UAAU,CAAC,EAAE;MAC5L,OAAOoC,SAAS;IAClB;IAEA,IAAIuR,MAAM,CAAC/G,MAAM,CAAC0wB,QAAQ,CAACC,cAAc,KAAKM,QAAQ,IAAIC,UAAU,IAAIC,WAAW,IAAIC,YAAY,IAAIC,SAAS,IAAIC,WAAW,CAAC,EAAE;MAChI,IAAIK,MAAM,GAAG,KAAK,CAAC,CAAC;;MAEpB,IAAI5qB,MAAM,CAACwF,GAAG,CAACxU,OAAO,KAAA2R,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,CAAE,CAAC,CAAC9gB,MAAM,GAAG,CAAC,IAAIiZ,MAAM,CAACwF,GAAG,CAACxU,OAAO,KAAA2R,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAACoV,gBAAgB,CAAE,CAAC,CAACtnB,MAAM,KAAK,CAAC,EAAE;QAC1I,OAAO0H,SAAS;MAClB;MAEA,MAAM+W,GAAG,GAAGxF,MAAM,CAACwF,GAAG;MACtB,MAAMqlB,WAAW,GAAGrlB,GAAG,CAAC,CAAC,CAAC,CAACe,WAAW;MACtC,MAAMukB,YAAY,GAAGtlB,GAAG,CAAC,CAAC,CAAC,CAACgB,YAAY;MACxC,MAAMukB,WAAW,GAAGvgC,MAAM,CAACsI,UAAU;MACrC,MAAMk4B,YAAY,GAAGxgC,MAAM,CAAC6I,WAAW;MACvC,MAAM43B,YAAY,GAAGjrB,MAAM,CAACwF,GAAG,CAAChS,MAAM,CAAC,CAAC;MACxC,IAAI8T,GAAG,EAAE2jB,YAAY,CAAC/2B,IAAI,IAAI8L,MAAM,CAACwF,GAAG,CAAC,CAAC,CAAC,CAACzR,UAAU;MACtD,MAAMm3B,WAAW,GAAG,CAAC,CAACD,YAAY,CAAC/2B,IAAI,EAAE+2B,YAAY,CAACh3B,GAAG,CAAC,EAAE,CAACg3B,YAAY,CAAC/2B,IAAI,GAAG22B,WAAW,EAAEI,YAAY,CAACh3B,GAAG,CAAC,EAAE,CAACg3B,YAAY,CAAC/2B,IAAI,EAAE+2B,YAAY,CAACh3B,GAAG,GAAG62B,YAAY,CAAC,EAAE,CAACG,YAAY,CAAC/2B,IAAI,GAAG22B,WAAW,EAAEI,YAAY,CAACh3B,GAAG,GAAG62B,YAAY,CAAC,CAAC;MAE1O,KAAK,IAAI7+B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGi/B,WAAW,CAACnkC,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QAC9C,MAAMk0B,KAAK,GAAG+K,WAAW,CAACj/B,CAAC,CAAC;QAE5B,IAAIk0B,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI4K,WAAW,IAAI5K,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI6K,YAAY,EAAE;UACzF,IAAI7K,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC;;UAEhDyK,MAAM,GAAG,IAAI;QACf;MACF;MAEA,IAAI,CAACA,MAAM,EAAE,OAAOn8B,SAAS;IAC/B;IAEA,IAAIuR,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;MACzB,IAAIyjB,QAAQ,IAAIC,UAAU,IAAIC,WAAW,IAAIC,YAAY,EAAE;QACzD,IAAI35B,CAAC,CAAC2oB,cAAc,EAAE3oB,CAAC,CAAC2oB,cAAc,CAAC,CAAC,CAAC,KAAK3oB,CAAC,CAACy6B,WAAW,GAAG,KAAK;MACrE;MAEA,IAAI,CAAChB,UAAU,IAAIE,YAAY,KAAK,CAAC/iB,GAAG,IAAI,CAAC4iB,QAAQ,IAAIE,WAAW,KAAK9iB,GAAG,EAAEtH,MAAM,CAACwT,SAAS,CAAC,CAAC;MAChG,IAAI,CAAC0W,QAAQ,IAAIE,WAAW,KAAK,CAAC9iB,GAAG,IAAI,CAAC6iB,UAAU,IAAIE,YAAY,KAAK/iB,GAAG,EAAEtH,MAAM,CAACiU,SAAS,CAAC,CAAC;IAClG,CAAC,MAAM;MACL,IAAIiW,QAAQ,IAAIC,UAAU,IAAIG,SAAS,IAAIC,WAAW,EAAE;QACtD,IAAI75B,CAAC,CAAC2oB,cAAc,EAAE3oB,CAAC,CAAC2oB,cAAc,CAAC,CAAC,CAAC,KAAK3oB,CAAC,CAACy6B,WAAW,GAAG,KAAK;MACrE;MAEA,IAAIhB,UAAU,IAAII,WAAW,EAAEvqB,MAAM,CAACwT,SAAS,CAAC,CAAC;MACjD,IAAI0W,QAAQ,IAAII,SAAS,EAAEtqB,MAAM,CAACiU,SAAS,CAAC,CAAC;IAC/C;IAEA3Q,IAAI,CAAC,UAAU,EAAEymB,EAAE,CAAC;IACpB,OAAOt7B,SAAS;EAClB;EAEA,SAASkxB,MAAMA,CAAA,EAAG;IAChB,IAAI3f,MAAM,CAAC2pB,QAAQ,CAACjiB,OAAO,EAAE;IAC7B,IAAA5a,YAAC,EAAC9D,QAAQ,CAAC,CAACmH,EAAE,CAAC,SAAS,EAAE25B,MAAM,CAAC;IACjC9pB,MAAM,CAAC2pB,QAAQ,CAACjiB,OAAO,GAAG,IAAI;EAChC;EAEA,SAASgY,OAAOA,CAAA,EAAG;IACjB,IAAI,CAAC1f,MAAM,CAAC2pB,QAAQ,CAACjiB,OAAO,EAAE;IAC9B,IAAA5a,YAAC,EAAC9D,QAAQ,CAAC,CAACwI,GAAG,CAAC,SAAS,EAAEs4B,MAAM,CAAC;IAClC9pB,MAAM,CAAC2pB,QAAQ,CAACjiB,OAAO,GAAG,KAAK;EACjC;EAEAvX,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAAC0wB,QAAQ,CAACjiB,OAAO,EAAE;MAClCiY,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACFxvB,EAAE,CAAC,SAAS,EAAE,MAAM;IAClB,IAAI6P,MAAM,CAAC2pB,QAAQ,CAACjiB,OAAO,EAAE;MAC3BgY,OAAO,CAAC,CAAC;IACX;EACF,CAAC,CAAC;EACFl5B,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAAC2pB,QAAQ,EAAE;IAC7BhK,MAAM,EAANA,MAAM;IACND,OAAO,EAAPA;EACF,CAAC,CAAC;AACJ;;;;;;;;ACjIA,IAAAj1B,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AAAsD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAHtD;;AAIe,SAAS8kC,UAAUA,CAAC;EACjCprB,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAM9Y,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1Bqa,YAAY,CAAC;IACX0mB,UAAU,EAAE;MACV3jB,OAAO,EAAE,KAAK;MACd4jB,cAAc,EAAE,KAAK;MACrBC,MAAM,EAAE,KAAK;MACbC,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAE,CAAC;MACdC,YAAY,EAAE,WAAW;MACzBC,cAAc,EAAE,IAAI;MACpBC,aAAa,EAAE;IACjB;EACF,CAAC,CAAC;EACF5rB,MAAM,CAACqrB,UAAU,GAAG;IAClB3jB,OAAO,EAAE;EACX,CAAC;EACD,IAAImkB,OAAO;EACX,IAAIC,cAAc,GAAG,IAAApuB,UAAG,EAAC,CAAC;EAC1B,IAAIquB,mBAAmB;EACvB,MAAMC,iBAAiB,GAAG,EAAE;EAE5B,SAAS9X,SAASA,CAACxjB,CAAC,EAAE;IACpB;IACA,MAAMu7B,UAAU,GAAG,EAAE;IACrB,MAAMC,WAAW,GAAG,EAAE;IACtB,MAAMC,WAAW,GAAG,GAAG;IACvB,IAAIC,EAAE,GAAG,CAAC;IACV,IAAIC,EAAE,GAAG,CAAC,CAAC,CAAC;;IAEZ,IAAIC,EAAE,GAAG,CAAC;IACV,IAAIC,EAAE,GAAG,CAAC,CAAC,CAAC;IACZ;;IAEA,IAAI,QAAQ,IAAI77B,CAAC,EAAE;MACjB27B,EAAE,GAAG37B,CAAC,CAAC0B,MAAM;IACf;IAEA,IAAI,YAAY,IAAI1B,CAAC,EAAE;MACrB27B,EAAE,GAAG,CAAC37B,CAAC,CAAC87B,UAAU,GAAG,GAAG;IAC1B;IAEA,IAAI,aAAa,IAAI97B,CAAC,EAAE;MACtB27B,EAAE,GAAG,CAAC37B,CAAC,CAAC+7B,WAAW,GAAG,GAAG;IAC3B;IAEA,IAAI,aAAa,IAAI/7B,CAAC,EAAE;MACtB07B,EAAE,GAAG,CAAC17B,CAAC,CAACg8B,WAAW,GAAG,GAAG;IAC3B,CAAC,CAAC;;IAGF,IAAI,MAAM,IAAIh8B,CAAC,IAAIA,CAAC,CAACmN,IAAI,KAAKnN,CAAC,CAACi8B,eAAe,EAAE;MAC/CP,EAAE,GAAGC,EAAE;MACPA,EAAE,GAAG,CAAC;IACR;IAEAC,EAAE,GAAGF,EAAE,GAAGH,UAAU;IACpBM,EAAE,GAAGF,EAAE,GAAGJ,UAAU;IAEpB,IAAI,QAAQ,IAAIv7B,CAAC,EAAE;MACjB67B,EAAE,GAAG77B,CAAC,CAACk8B,MAAM;IACf;IAEA,IAAI,QAAQ,IAAIl8B,CAAC,EAAE;MACjB47B,EAAE,GAAG57B,CAAC,CAACm8B,MAAM;IACf;IAEA,IAAIn8B,CAAC,CAAC85B,QAAQ,IAAI,CAAC8B,EAAE,EAAE;MACrB;MACAA,EAAE,GAAGC,EAAE;MACPA,EAAE,GAAG,CAAC;IACR;IAEA,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK77B,CAAC,CAACo8B,SAAS,EAAE;MAC7B,IAAIp8B,CAAC,CAACo8B,SAAS,KAAK,CAAC,EAAE;QACrB;QACAR,EAAE,IAAIJ,WAAW;QACjBK,EAAE,IAAIL,WAAW;MACnB,CAAC,MAAM;QACL;QACAI,EAAE,IAAIH,WAAW;QACjBI,EAAE,IAAIJ,WAAW;MACnB;IACF,CAAC,CAAC;;IAGF,IAAIG,EAAE,IAAI,CAACF,EAAE,EAAE;MACbA,EAAE,GAAGE,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IACtB;IAEA,IAAIC,EAAE,IAAI,CAACF,EAAE,EAAE;MACbA,EAAE,GAAGE,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IACtB;IAEA,OAAO;MACLQ,KAAK,EAAEX,EAAE;MACTY,KAAK,EAAEX,EAAE;MACTY,MAAM,EAAEX,EAAE;MACVY,MAAM,EAAEX;IACV,CAAC;EACH;EAEA,SAASY,gBAAgBA,CAAA,EAAG;IAC1B,IAAI,CAACntB,MAAM,CAAC0H,OAAO,EAAE;IACrB1H,MAAM,CAACotB,YAAY,GAAG,IAAI;EAC5B;EAEA,SAASC,gBAAgBA,CAAA,EAAG;IAC1B,IAAI,CAACrtB,MAAM,CAAC0H,OAAO,EAAE;IACrB1H,MAAM,CAACotB,YAAY,GAAG,KAAK;EAC7B;EAEA,SAASE,aAAaA,CAACC,QAAQ,EAAE;IAC/B,IAAIvtB,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAACM,cAAc,IAAI4B,QAAQ,CAACC,KAAK,GAAGxtB,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAACM,cAAc,EAAE;MACvG;MACA,OAAO,KAAK;IACd;IAEA,IAAI3rB,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAACO,aAAa,IAAI,IAAAluB,UAAG,EAAC,CAAC,GAAGouB,cAAc,GAAG9rB,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAACO,aAAa,EAAE;MAC7G;MACA,OAAO,KAAK;IACd,CAAC,CAAC;IACF;IACA;;IAGA,IAAI2B,QAAQ,CAACC,KAAK,IAAI,CAAC,IAAI,IAAA9vB,UAAG,EAAC,CAAC,GAAGouB,cAAc,GAAG,EAAE,EAAE;MACtD;MACA,OAAO,IAAI;IACb,CAAC,CAAC;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAGA,IAAIyB,QAAQ,CAACvb,SAAS,GAAG,CAAC,EAAE;MAC1B,IAAI,CAAC,CAAChS,MAAM,CAAC+N,KAAK,IAAI/N,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,KAAK,CAAC5O,MAAM,CAAC7G,SAAS,EAAE;QAC9D6G,MAAM,CAACwT,SAAS,CAAC,CAAC;QAClBlQ,IAAI,CAAC,QAAQ,EAAEiqB,QAAQ,CAACE,GAAG,CAAC;MAC9B;IACF,CAAC,MAAM,IAAI,CAAC,CAACztB,MAAM,CAAC8N,WAAW,IAAI9N,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,KAAK,CAAC5O,MAAM,CAAC7G,SAAS,EAAE;MAC3E6G,MAAM,CAACiU,SAAS,CAAC,CAAC;MAClB3Q,IAAI,CAAC,QAAQ,EAAEiqB,QAAQ,CAACE,GAAG,CAAC;IAC9B,CAAC,CAAC;;IAGF3B,cAAc,GAAG,IAAIthC,MAAM,CAACX,IAAI,CAAC,CAAC,CAAC2O,OAAO,CAAC,CAAC,CAAC,CAAC;;IAE9C,OAAO,KAAK;EACd;EAEA,SAASk1B,aAAaA,CAACH,QAAQ,EAAE;IAC/B,MAAMt0B,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACoyB,UAAU;IAEvC,IAAIkC,QAAQ,CAACvb,SAAS,GAAG,CAAC,EAAE;MAC1B,IAAIhS,MAAM,CAAC+N,KAAK,IAAI,CAAC/N,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,IAAI3V,MAAM,CAACqyB,cAAc,EAAE;QAChE;QACA,OAAO,IAAI;MACb;IACF,CAAC,MAAM,IAAItrB,MAAM,CAAC8N,WAAW,IAAI,CAAC9N,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,IAAI3V,MAAM,CAACqyB,cAAc,EAAE;MAC7E;MACA,OAAO,IAAI;IACb;IAEA,OAAO,KAAK;EACd;EAEA,SAASxB,MAAMA,CAAC14B,KAAK,EAAE;IACrB,IAAIV,CAAC,GAAGU,KAAK;IACb,IAAIgqB,mBAAmB,GAAG,IAAI;IAC9B,IAAI,CAACpb,MAAM,CAAC0H,OAAO,EAAE;IACrB,MAAMzO,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACoyB,UAAU;IAEvC,IAAIrrB,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzBvY,CAAC,CAAC2oB,cAAc,CAAC,CAAC;IACpB;IAEA,IAAI3yB,MAAM,GAAGsZ,MAAM,CAACwF,GAAG;IAEvB,IAAIxF,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAACK,YAAY,KAAK,WAAW,EAAE;MACzDhlC,MAAM,GAAG,IAAAoG,YAAC,EAACkT,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAACK,YAAY,CAAC;IACnD;IAEA,IAAI,CAAC1rB,MAAM,CAACotB,YAAY,IAAI,CAAC1mC,MAAM,CAAC,CAAC,CAAC,CAAC0H,QAAQ,CAACsC,CAAC,CAAChK,MAAM,CAAC,IAAI,CAACuS,MAAM,CAACqyB,cAAc,EAAE,OAAO,IAAI;IAChG,IAAI56B,CAAC,CAAC6mB,aAAa,EAAE7mB,CAAC,GAAGA,CAAC,CAAC6mB,aAAa,CAAC,CAAC;;IAE1C,IAAIiW,KAAK,GAAG,CAAC;IACb,MAAMG,SAAS,GAAG3tB,MAAM,CAACqH,YAAY,GAAG,CAAC,CAAC,GAAG,CAAC;IAC9C,MAAMrY,IAAI,GAAGklB,SAAS,CAACxjB,CAAC,CAAC;IAEzB,IAAIuI,MAAM,CAACuyB,WAAW,EAAE;MACtB,IAAIxrB,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;QACzB,IAAIxO,IAAI,CAACoS,GAAG,CAACrb,IAAI,CAACi+B,MAAM,CAAC,GAAGh1B,IAAI,CAACoS,GAAG,CAACrb,IAAI,CAACk+B,MAAM,CAAC,EAAEM,KAAK,GAAG,CAACx+B,IAAI,CAACi+B,MAAM,GAAGU,SAAS,CAAC,KAAK,OAAO,IAAI;MACtG,CAAC,MAAM,IAAI11B,IAAI,CAACoS,GAAG,CAACrb,IAAI,CAACk+B,MAAM,CAAC,GAAGj1B,IAAI,CAACoS,GAAG,CAACrb,IAAI,CAACi+B,MAAM,CAAC,EAAEO,KAAK,GAAG,CAACx+B,IAAI,CAACk+B,MAAM,CAAC,KAAK,OAAO,IAAI;IACjG,CAAC,MAAM;MACLM,KAAK,GAAGv1B,IAAI,CAACoS,GAAG,CAACrb,IAAI,CAACi+B,MAAM,CAAC,GAAGh1B,IAAI,CAACoS,GAAG,CAACrb,IAAI,CAACk+B,MAAM,CAAC,GAAG,CAACl+B,IAAI,CAACi+B,MAAM,GAAGU,SAAS,GAAG,CAAC3+B,IAAI,CAACk+B,MAAM;IACjG;IAEA,IAAIM,KAAK,KAAK,CAAC,EAAE,OAAO,IAAI;IAC5B,IAAIv0B,MAAM,CAACsyB,MAAM,EAAEiC,KAAK,GAAG,CAACA,KAAK,CAAC,CAAC;;IAEnC,IAAII,SAAS,GAAG5tB,MAAM,CAACpC,YAAY,CAAC,CAAC,GAAG4vB,KAAK,GAAGv0B,MAAM,CAACwyB,WAAW;IAClE,IAAImC,SAAS,IAAI5tB,MAAM,CAACoN,YAAY,CAAC,CAAC,EAAEwgB,SAAS,GAAG5tB,MAAM,CAACoN,YAAY,CAAC,CAAC;IACzE,IAAIwgB,SAAS,IAAI5tB,MAAM,CAAC6N,YAAY,CAAC,CAAC,EAAE+f,SAAS,GAAG5tB,MAAM,CAAC6N,YAAY,CAAC,CAAC,CAAC,CAAC;IAC3E;IACA;IACA;IACA;IACA;IACA;;IAEAuN,mBAAmB,GAAGpb,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,GAAG,IAAI,GAAG,EAAEgf,SAAS,KAAK5tB,MAAM,CAACoN,YAAY,CAAC,CAAC,IAAIwgB,SAAS,KAAK5tB,MAAM,CAAC6N,YAAY,CAAC,CAAC,CAAC;IAC/H,IAAIuN,mBAAmB,IAAIpb,MAAM,CAAC/G,MAAM,CAAC6hB,MAAM,EAAEpqB,CAAC,CAACqqB,eAAe,CAAC,CAAC;IAEpE,IAAI,CAAC/a,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,IAAI,CAACla,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,CAACxS,OAAO,EAAE;MAC9D;MACA,MAAM6lB,QAAQ,GAAG;QACfh1B,IAAI,EAAE,IAAAmF,UAAG,EAAC,CAAC;QACX8vB,KAAK,EAAEv1B,IAAI,CAACoS,GAAG,CAACmjB,KAAK,CAAC;QACtBxb,SAAS,EAAE/Z,IAAI,CAAC41B,IAAI,CAACL,KAAK,CAAC;QAC3BC,GAAG,EAAEr8B;MACP,CAAC,CAAC,CAAC;;MAEH,IAAI46B,iBAAiB,CAACjlC,MAAM,IAAI,CAAC,EAAE;QACjCilC,iBAAiB,CAACryB,KAAK,CAAC,CAAC,CAAC,CAAC;MAC7B;;MAEA,MAAMm0B,SAAS,GAAG9B,iBAAiB,CAACjlC,MAAM,GAAGilC,iBAAiB,CAACA,iBAAiB,CAACjlC,MAAM,GAAG,CAAC,CAAC,GAAG0H,SAAS;MACxGu9B,iBAAiB,CAACtgC,IAAI,CAAC6hC,QAAQ,CAAC,CAAC,CAAC;MAClC;MACA;MACA;MACA;MACA;;MAEA,IAAIO,SAAS,EAAE;QACb,IAAIP,QAAQ,CAACvb,SAAS,KAAK8b,SAAS,CAAC9b,SAAS,IAAIub,QAAQ,CAACC,KAAK,GAAGM,SAAS,CAACN,KAAK,IAAID,QAAQ,CAACh1B,IAAI,GAAGu1B,SAAS,CAACv1B,IAAI,GAAG,GAAG,EAAE;UAC1H+0B,aAAa,CAACC,QAAQ,CAAC;QACzB;MACF,CAAC,MAAM;QACLD,aAAa,CAACC,QAAQ,CAAC;MACzB,CAAC,CAAC;MACF;;MAGA,IAAIG,aAAa,CAACH,QAAQ,CAAC,EAAE;QAC3B,OAAO,IAAI;MACb;IACF,CAAC,MAAM;MACL;MACA;MACA;MACA;MACA;MACA,MAAMA,QAAQ,GAAG;QACfh1B,IAAI,EAAE,IAAAmF,UAAG,EAAC,CAAC;QACX8vB,KAAK,EAAEv1B,IAAI,CAACoS,GAAG,CAACmjB,KAAK,CAAC;QACtBxb,SAAS,EAAE/Z,IAAI,CAAC41B,IAAI,CAACL,KAAK;MAC5B,CAAC;MACD,MAAMO,iBAAiB,GAAGhC,mBAAmB,IAAIwB,QAAQ,CAACh1B,IAAI,GAAGwzB,mBAAmB,CAACxzB,IAAI,GAAG,GAAG,IAAIg1B,QAAQ,CAACC,KAAK,IAAIzB,mBAAmB,CAACyB,KAAK,IAAID,QAAQ,CAACvb,SAAS,KAAK+Z,mBAAmB,CAAC/Z,SAAS;MAEtM,IAAI,CAAC+b,iBAAiB,EAAE;QACtBhC,mBAAmB,GAAGt9B,SAAS;QAE/B,IAAIuR,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;UACtB5O,MAAM,CAAC8T,OAAO,CAAC,CAAC;QAClB;QAEA,IAAIka,QAAQ,GAAGhuB,MAAM,CAACpC,YAAY,CAAC,CAAC,GAAG4vB,KAAK,GAAGv0B,MAAM,CAACwyB,WAAW;QACjE,MAAMzd,YAAY,GAAGhO,MAAM,CAAC8N,WAAW;QACvC,MAAMG,MAAM,GAAGjO,MAAM,CAAC+N,KAAK;QAC3B,IAAIigB,QAAQ,IAAIhuB,MAAM,CAACoN,YAAY,CAAC,CAAC,EAAE4gB,QAAQ,GAAGhuB,MAAM,CAACoN,YAAY,CAAC,CAAC;QACvE,IAAI4gB,QAAQ,IAAIhuB,MAAM,CAAC6N,YAAY,CAAC,CAAC,EAAEmgB,QAAQ,GAAGhuB,MAAM,CAAC6N,YAAY,CAAC,CAAC;QACvE7N,MAAM,CAACsM,aAAa,CAAC,CAAC,CAAC;QACvBtM,MAAM,CAAC0Q,YAAY,CAACsd,QAAQ,CAAC;QAC7BhuB,MAAM,CAAC0N,cAAc,CAAC,CAAC;QACvB1N,MAAM,CAACiP,iBAAiB,CAAC,CAAC;QAC1BjP,MAAM,CAACmO,mBAAmB,CAAC,CAAC;QAE5B,IAAI,CAACH,YAAY,IAAIhO,MAAM,CAAC8N,WAAW,IAAI,CAACG,MAAM,IAAIjO,MAAM,CAAC+N,KAAK,EAAE;UAClE/N,MAAM,CAACmO,mBAAmB,CAAC,CAAC;QAC9B;QAEA,IAAInO,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,CAAC+T,MAAM,EAAE;UACjC;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACAjkC,YAAY,CAAC6hC,OAAO,CAAC;UACrBA,OAAO,GAAGp9B,SAAS;UAEnB,IAAIu9B,iBAAiB,CAACjlC,MAAM,IAAI,EAAE,EAAE;YAClCilC,iBAAiB,CAACryB,KAAK,CAAC,CAAC,CAAC,CAAC;UAC7B;;UAEA,MAAMm0B,SAAS,GAAG9B,iBAAiB,CAACjlC,MAAM,GAAGilC,iBAAiB,CAACA,iBAAiB,CAACjlC,MAAM,GAAG,CAAC,CAAC,GAAG0H,SAAS;UACxG,MAAMy/B,UAAU,GAAGlC,iBAAiB,CAAC,CAAC,CAAC;UACvCA,iBAAiB,CAACtgC,IAAI,CAAC6hC,QAAQ,CAAC;UAEhC,IAAIO,SAAS,KAAKP,QAAQ,CAACC,KAAK,GAAGM,SAAS,CAACN,KAAK,IAAID,QAAQ,CAACvb,SAAS,KAAK8b,SAAS,CAAC9b,SAAS,CAAC,EAAE;YACjG;YACAga,iBAAiB,CAACr6B,MAAM,CAAC,CAAC,CAAC;UAC7B,CAAC,MAAM,IAAIq6B,iBAAiB,CAACjlC,MAAM,IAAI,EAAE,IAAIwmC,QAAQ,CAACh1B,IAAI,GAAG21B,UAAU,CAAC31B,IAAI,GAAG,GAAG,IAAI21B,UAAU,CAACV,KAAK,GAAGD,QAAQ,CAACC,KAAK,IAAI,CAAC,IAAID,QAAQ,CAACC,KAAK,IAAI,CAAC,EAAE;YACnJ;YACA;YACA;YACA;YACA;YACA;YACA,MAAMW,eAAe,GAAGX,KAAK,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG;YAC7CzB,mBAAmB,GAAGwB,QAAQ;YAC9BvB,iBAAiB,CAACr6B,MAAM,CAAC,CAAC,CAAC;YAC3Bk6B,OAAO,GAAG,IAAAruB,eAAQ,EAAC,MAAM;cACvBwC,MAAM,CAACyU,cAAc,CAACzU,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAE,IAAI,EAAE5R,SAAS,EAAE0/B,eAAe,CAAC;YAC9E,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;UACT;;UAEA,IAAI,CAACtC,OAAO,EAAE;YACZ;YACA;YACA;YACAA,OAAO,GAAG,IAAAruB,eAAQ,EAAC,MAAM;cACvB,MAAM2wB,eAAe,GAAG,GAAG;cAC3BpC,mBAAmB,GAAGwB,QAAQ;cAC9BvB,iBAAiB,CAACr6B,MAAM,CAAC,CAAC,CAAC;cAC3BqO,MAAM,CAACyU,cAAc,CAACzU,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAE,IAAI,EAAE5R,SAAS,EAAE0/B,eAAe,CAAC;YAC9E,CAAC,EAAE,GAAG,CAAC;UACT;QACF,CAAC,CAAC;;QAGF,IAAI,CAACJ,iBAAiB,EAAEzqB,IAAI,CAAC,QAAQ,EAAE5S,CAAC,CAAC,CAAC,CAAC;;QAE3C,IAAIsP,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,IAAI7c,MAAM,CAAC/G,MAAM,CAACm1B,4BAA4B,EAAEpuB,MAAM,CAAC6c,QAAQ,CAACvjB,IAAI,CAAC,CAAC,CAAC,CAAC;;QAElG,IAAI00B,QAAQ,KAAKhuB,MAAM,CAACoN,YAAY,CAAC,CAAC,IAAI4gB,QAAQ,KAAKhuB,MAAM,CAAC6N,YAAY,CAAC,CAAC,EAAE,OAAO,IAAI;MAC3F;IACF;IAEA,IAAInd,CAAC,CAAC2oB,cAAc,EAAE3oB,CAAC,CAAC2oB,cAAc,CAAC,CAAC,CAAC,KAAK3oB,CAAC,CAACy6B,WAAW,GAAG,KAAK;IACnE,OAAO,KAAK;EACd;EAEA,SAASh6B,MAAMA,CAAC6U,MAAM,EAAE;IACtB,IAAItf,MAAM,GAAGsZ,MAAM,CAACwF,GAAG;IAEvB,IAAIxF,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAACK,YAAY,KAAK,WAAW,EAAE;MACzDhlC,MAAM,GAAG,IAAAoG,YAAC,EAACkT,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAACK,YAAY,CAAC;IACnD;IAEAhlC,MAAM,CAACsf,MAAM,CAAC,CAAC,YAAY,EAAEmnB,gBAAgB,CAAC;IAC9CzmC,MAAM,CAACsf,MAAM,CAAC,CAAC,YAAY,EAAEqnB,gBAAgB,CAAC;IAC9C3mC,MAAM,CAACsf,MAAM,CAAC,CAAC,OAAO,EAAE8jB,MAAM,CAAC;EACjC;EAEA,SAASnK,MAAMA,CAAA,EAAG;IAChB,IAAI3f,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzBjJ,MAAM,CAACM,SAAS,CAACnZ,mBAAmB,CAAC,OAAO,EAAE2iC,MAAM,CAAC;MACrD,OAAO,IAAI;IACb;IAEA,IAAI9pB,MAAM,CAACqrB,UAAU,CAAC3jB,OAAO,EAAE,OAAO,KAAK;IAC3CvW,MAAM,CAAC,IAAI,CAAC;IACZ6O,MAAM,CAACqrB,UAAU,CAAC3jB,OAAO,GAAG,IAAI;IAChC,OAAO,IAAI;EACb;EAEA,SAASgY,OAAOA,CAAA,EAAG;IACjB,IAAI1f,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzBjJ,MAAM,CAACM,SAAS,CAACpZ,gBAAgB,CAACkK,KAAK,EAAE04B,MAAM,CAAC;MAChD,OAAO,IAAI;IACb;IAEA,IAAI,CAAC9pB,MAAM,CAACqrB,UAAU,CAAC3jB,OAAO,EAAE,OAAO,KAAK;IAC5CvW,MAAM,CAAC,KAAK,CAAC;IACb6O,MAAM,CAACqrB,UAAU,CAAC3jB,OAAO,GAAG,KAAK;IACjC,OAAO,IAAI;EACb;EAEAvX,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAAC3jB,OAAO,IAAI1H,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MAC9DyW,OAAO,CAAC,CAAC;IACX;IAEA,IAAI1f,MAAM,CAAC/G,MAAM,CAACoyB,UAAU,CAAC3jB,OAAO,EAAEiY,MAAM,CAAC,CAAC;EAChD,CAAC,CAAC;EACFxvB,EAAE,CAAC,SAAS,EAAE,MAAM;IAClB,IAAI6P,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzB0W,MAAM,CAAC,CAAC;IACV;IAEA,IAAI3f,MAAM,CAACqrB,UAAU,CAAC3jB,OAAO,EAAEgY,OAAO,CAAC,CAAC;EAC1C,CAAC,CAAC;EACFl5B,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACqrB,UAAU,EAAE;IAC/B1L,MAAM,EAANA,MAAM;IACND,OAAO,EAAPA;EACF,CAAC,CAAC;AACJ;;;;;;;;ACraA,IAAAj1B,UAAA,GAAAC,OAAA;AACe,SAAS2jC,yBAAyBA,CAACruB,MAAM,EAAEkf,cAAc,EAAEjmB,MAAM,EAAEq1B,UAAU,EAAE;EAC5F,MAAMtlC,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAE9B,IAAIkX,MAAM,CAAC/G,MAAM,CAACwpB,cAAc,EAAE;IAChCj8B,MAAM,CAACI,IAAI,CAAC0nC,UAAU,CAAC,CAACznC,OAAO,CAACC,GAAG,IAAI;MACrC,IAAI,CAACmS,MAAM,CAACnS,GAAG,CAAC,IAAImS,MAAM,CAACiqB,IAAI,KAAK,IAAI,EAAE;QACxC,IAAI1pB,OAAO,GAAGwG,MAAM,CAACwF,GAAG,CAAC3d,QAAQ,KAAA8a,MAAA,CAAK2rB,UAAU,CAACxnC,GAAG,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC;QAE3D,IAAI,CAAC0S,OAAO,EAAE;UACZA,OAAO,GAAGxQ,QAAQ,CAACpB,aAAa,CAAC,KAAK,CAAC;UACvC4R,OAAO,CAACvL,SAAS,GAAGqgC,UAAU,CAACxnC,GAAG,CAAC;UACnCkZ,MAAM,CAACwF,GAAG,CAACrQ,MAAM,CAACqE,OAAO,CAAC;QAC5B;QAEAP,MAAM,CAACnS,GAAG,CAAC,GAAG0S,OAAO;QACrB0lB,cAAc,CAACp4B,GAAG,CAAC,GAAG0S,OAAO;MAC/B;IACF,CAAC,CAAC;EACJ;EAEA,OAAOP,MAAM;AACf;;;;;;;;ACtBA,IAAAs1B,0BAAA,GAAAriB,sBAAA,CAAAxhB,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAASkoC,UAAUA,CAAC;EACjCxuB,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACDqB,YAAY,CAAC;IACX6X,UAAU,EAAE;MACVC,MAAM,EAAE,IAAI;MACZC,MAAM,EAAE,IAAI;MACZ+R,WAAW,EAAE,KAAK;MAClBC,aAAa,EAAE,wBAAwB;MACvCC,WAAW,EAAE,sBAAsB;MACnCC,SAAS,EAAE,oBAAoB;MAC/BC,uBAAuB,EAAE;IAC3B;EACF,CAAC,CAAC;EACF7uB,MAAM,CAACwc,UAAU,GAAG;IAClBC,MAAM,EAAE,IAAI;IACZqS,OAAO,EAAE,IAAI;IACbpS,MAAM,EAAE,IAAI;IACZqS,OAAO,EAAE;EACX,CAAC;EAED,SAASC,KAAKA,CAACxjC,EAAE,EAAE;IACjB,IAAIga,GAAG;IAEP,IAAIha,EAAE,EAAE;MACNga,GAAG,GAAG,IAAA1Y,YAAC,EAACtB,EAAE,CAAC;MAEX,IAAIwU,MAAM,CAAC/G,MAAM,CAAC0pB,iBAAiB,IAAI,OAAOn3B,EAAE,KAAK,QAAQ,IAAIga,GAAG,CAACze,MAAM,GAAG,CAAC,IAAIiZ,MAAM,CAACwF,GAAG,CAAC1O,IAAI,CAACtL,EAAE,CAAC,CAACzE,MAAM,KAAK,CAAC,EAAE;QACnHye,GAAG,GAAGxF,MAAM,CAACwF,GAAG,CAAC1O,IAAI,CAACtL,EAAE,CAAC;MAC3B;IACF;IAEA,OAAOga,GAAG;EACZ;EAEA,SAASypB,QAAQA,CAACzpB,GAAG,EAAE0pB,QAAQ,EAAE;IAC/B,MAAMj2B,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACujB,UAAU;IAEvC,IAAIhX,GAAG,IAAIA,GAAG,CAACze,MAAM,GAAG,CAAC,EAAE;MACzBye,GAAG,CAAC0pB,QAAQ,GAAG,UAAU,GAAG,aAAa,CAAC,CAACj2B,MAAM,CAACy1B,aAAa,CAAC;MAChE,IAAIlpB,GAAG,CAAC,CAAC,CAAC,IAAIA,GAAG,CAAC,CAAC,CAAC,CAAC2pB,OAAO,KAAK,QAAQ,EAAE3pB,GAAG,CAAC,CAAC,CAAC,CAAC0pB,QAAQ,GAAGA,QAAQ;MAErE,IAAIlvB,MAAM,CAAC/G,MAAM,CAACyS,aAAa,IAAI1L,MAAM,CAAC0H,OAAO,EAAE;QACjDlC,GAAG,CAACxF,MAAM,CAACyW,QAAQ,GAAG,UAAU,GAAG,aAAa,CAAC,CAACxd,MAAM,CAAC21B,SAAS,CAAC;MACrE;IACF;EACF;EAEA,SAAS3M,MAAMA,CAAA,EAAG;IAChB;IACA,IAAIjiB,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;IACxB,MAAM;MACJkgB,OAAO,EAAPA,OAAO;MACPC,OAAO,EAAPA;IACF,CAAC,GAAG/uB,MAAM,CAACwc,UAAU;IACrByS,QAAQ,CAACF,OAAO,EAAE/uB,MAAM,CAAC8N,WAAW,IAAI,CAAC9N,MAAM,CAAC/G,MAAM,CAAC+a,MAAM,CAAC;IAC9Dib,QAAQ,CAACH,OAAO,EAAE9uB,MAAM,CAAC+N,KAAK,IAAI,CAAC/N,MAAM,CAAC/G,MAAM,CAAC+a,MAAM,CAAC;EAC1D;EAEA,SAASob,WAAWA,CAAC1+B,CAAC,EAAE;IACtBA,CAAC,CAAC2oB,cAAc,CAAC,CAAC;IAClB,IAAIrZ,MAAM,CAAC8N,WAAW,IAAI,CAAC9N,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,IAAI,CAAC5O,MAAM,CAAC/G,MAAM,CAAC+a,MAAM,EAAE;IACxEhU,MAAM,CAACiU,SAAS,CAAC,CAAC;IAClB3Q,IAAI,CAAC,gBAAgB,CAAC;EACxB;EAEA,SAAS+rB,WAAWA,CAAC3+B,CAAC,EAAE;IACtBA,CAAC,CAAC2oB,cAAc,CAAC,CAAC;IAClB,IAAIrZ,MAAM,CAAC+N,KAAK,IAAI,CAAC/N,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,IAAI,CAAC5O,MAAM,CAAC/G,MAAM,CAAC+a,MAAM,EAAE;IAClEhU,MAAM,CAACwT,SAAS,CAAC,CAAC;IAClBlQ,IAAI,CAAC,gBAAgB,CAAC;EACxB;EAEA,SAAS+B,IAAIA,CAAA,EAAG;IACd,MAAMpM,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACujB,UAAU;IACvCxc,MAAM,CAAC/G,MAAM,CAACujB,UAAU,GAAG,IAAA6R,kCAAyB,EAACruB,MAAM,EAAEA,MAAM,CAACkf,cAAc,CAAC1C,UAAU,EAAExc,MAAM,CAAC/G,MAAM,CAACujB,UAAU,EAAE;MACvHC,MAAM,EAAE,oBAAoB;MAC5BC,MAAM,EAAE;IACV,CAAC,CAAC;IACF,IAAI,EAAEzjB,MAAM,CAACwjB,MAAM,IAAIxjB,MAAM,CAACyjB,MAAM,CAAC,EAAE;IACvC,MAAMoS,OAAO,GAAGE,KAAK,CAAC/1B,MAAM,CAACwjB,MAAM,CAAC;IACpC,MAAMsS,OAAO,GAAGC,KAAK,CAAC/1B,MAAM,CAACyjB,MAAM,CAAC;IAEpC,IAAIoS,OAAO,IAAIA,OAAO,CAAC/nC,MAAM,GAAG,CAAC,EAAE;MACjC+nC,OAAO,CAAC3+B,EAAE,CAAC,OAAO,EAAEk/B,WAAW,CAAC;IAClC;IAEA,IAAIN,OAAO,IAAIA,OAAO,CAAChoC,MAAM,GAAG,CAAC,EAAE;MACjCgoC,OAAO,CAAC5+B,EAAE,CAAC,OAAO,EAAEi/B,WAAW,CAAC;IAClC;IAEA5oC,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACwc,UAAU,EAAE;MAC/BsS,OAAO,EAAPA,OAAO;MACPrS,MAAM,EAAEqS,OAAO,IAAIA,OAAO,CAAC,CAAC,CAAC;MAC7BC,OAAO,EAAPA,OAAO;MACPrS,MAAM,EAAEqS,OAAO,IAAIA,OAAO,CAAC,CAAC;IAC9B,CAAC,CAAC;IAEF,IAAI,CAAC/uB,MAAM,CAAC0H,OAAO,EAAE;MACnB,IAAIonB,OAAO,EAAEA,OAAO,CAACxhC,QAAQ,CAAC2L,MAAM,CAAC21B,SAAS,CAAC;MAC/C,IAAIG,OAAO,EAAEA,OAAO,CAACzhC,QAAQ,CAAC2L,MAAM,CAAC21B,SAAS,CAAC;IACjD;EACF;EAEA,SAASjpB,OAAOA,CAAA,EAAG;IACjB,MAAM;MACJmpB,OAAO,EAAPA,OAAO;MACPC,OAAO,EAAPA;IACF,CAAC,GAAG/uB,MAAM,CAACwc,UAAU;IAErB,IAAIsS,OAAO,IAAIA,OAAO,CAAC/nC,MAAM,EAAE;MAC7B+nC,OAAO,CAACt9B,GAAG,CAAC,OAAO,EAAE69B,WAAW,CAAC;MACjCP,OAAO,CAAChhC,WAAW,CAACkS,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACkS,aAAa,CAAC;IAC7D;IAEA,IAAIK,OAAO,IAAIA,OAAO,CAAChoC,MAAM,EAAE;MAC7BgoC,OAAO,CAACv9B,GAAG,CAAC,OAAO,EAAE49B,WAAW,CAAC;MACjCL,OAAO,CAACjhC,WAAW,CAACkS,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACkS,aAAa,CAAC;IAC7D;EACF;EAEAv+B,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAAC9U,OAAO,KAAK,KAAK,EAAE;MAC9C;MACAgY,OAAO,CAAC,CAAC;IACX,CAAC,MAAM;MACLra,IAAI,CAAC,CAAC;MACN4c,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACF9xB,EAAE,CAAC,6BAA6B,EAAE,MAAM;IACtC8xB,MAAM,CAAC,CAAC;EACV,CAAC,CAAC;EACF9xB,EAAE,CAAC,SAAS,EAAE,MAAM;IAClBwV,OAAO,CAAC,CAAC;EACX,CAAC,CAAC;EACFxV,EAAE,CAAC,gBAAgB,EAAE,MAAM;IACzB,MAAM;MACJ2+B,OAAO,EAAPA,OAAO;MACPC,OAAO,EAAPA;IACF,CAAC,GAAG/uB,MAAM,CAACwc,UAAU;IAErB,IAAIsS,OAAO,EAAE;MACXA,OAAO,CAAC9uB,MAAM,CAAC0H,OAAO,GAAG,aAAa,GAAG,UAAU,CAAC,CAAC1H,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACoS,SAAS,CAAC;IAC1F;IAEA,IAAIG,OAAO,EAAE;MACXA,OAAO,CAAC/uB,MAAM,CAAC0H,OAAO,GAAG,aAAa,GAAG,UAAU,CAAC,CAAC1H,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACoS,SAAS,CAAC;IAC1F;EACF,CAAC,CAAC;EACFz+B,EAAE,CAAC,OAAO,EAAE,CAACm/B,EAAE,EAAE5+B,CAAC,KAAK;IACrB,MAAM;MACJo+B,OAAO,EAAPA,OAAO;MACPC,OAAO,EAAPA;IACF,CAAC,GAAG/uB,MAAM,CAACwc,UAAU;IACrB,MAAM+S,QAAQ,GAAG7+B,CAAC,CAAChK,MAAM;IAEzB,IAAIsZ,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACiS,WAAW,IAAI,CAAC,IAAA3hC,YAAC,EAACyiC,QAAQ,CAAC,CAACz+B,EAAE,CAACi+B,OAAO,CAAC,IAAI,CAAC,IAAAjiC,YAAC,EAACyiC,QAAQ,CAAC,CAACz+B,EAAE,CAACg+B,OAAO,CAAC,EAAE;MAChG,IAAI9uB,MAAM,CAACwvB,UAAU,IAAIxvB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,IAAIxvB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACC,SAAS,KAAKzvB,MAAM,CAACwvB,UAAU,CAAChkC,EAAE,KAAK+jC,QAAQ,IAAIvvB,MAAM,CAACwvB,UAAU,CAAChkC,EAAE,CAAC4C,QAAQ,CAACmhC,QAAQ,CAAC,CAAC,EAAE;MAC3K,IAAIG,QAAQ;MAEZ,IAAIZ,OAAO,EAAE;QACXY,QAAQ,GAAGZ,OAAO,CAAC3gC,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACmS,WAAW,CAAC;MACnE,CAAC,MAAM,IAAII,OAAO,EAAE;QAClBW,QAAQ,GAAGX,OAAO,CAAC5gC,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACmS,WAAW,CAAC;MACnE;MAEA,IAAIe,QAAQ,KAAK,IAAI,EAAE;QACrBpsB,IAAI,CAAC,gBAAgB,CAAC;MACxB,CAAC,MAAM;QACLA,IAAI,CAAC,gBAAgB,CAAC;MACxB;MAEA,IAAIwrB,OAAO,EAAE;QACXA,OAAO,CAAC9gC,WAAW,CAACgS,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACmS,WAAW,CAAC;MAC3D;MAEA,IAAII,OAAO,EAAE;QACXA,OAAO,CAAC/gC,WAAW,CAACgS,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACmS,WAAW,CAAC;MAC3D;IACF;EACF,CAAC,CAAC;EAEF,MAAMhP,MAAM,GAAGA,CAAA,KAAM;IACnB3f,MAAM,CAACwF,GAAG,CAAC1X,WAAW,CAACkS,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACqS,uBAAuB,CAAC;IACxExpB,IAAI,CAAC,CAAC;IACN4c,MAAM,CAAC,CAAC;EACV,CAAC;EAED,MAAMvC,OAAO,GAAGA,CAAA,KAAM;IACpB1f,MAAM,CAACwF,GAAG,CAAClY,QAAQ,CAAC0S,MAAM,CAAC/G,MAAM,CAACujB,UAAU,CAACqS,uBAAuB,CAAC;IACrElpB,OAAO,CAAC,CAAC;EACX,CAAC;EAEDnf,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACwc,UAAU,EAAE;IAC/BmD,MAAM,EAANA,MAAM;IACND,OAAO,EAAPA,OAAO;IACPuC,MAAM,EAANA,MAAM;IACN5c,IAAI,EAAJA,IAAI;IACJM,OAAO,EAAPA;EACF,CAAC,CAAC;AACJ;;;;;;;;AC9Me,SAASgqB,iBAAiBA,CAACpiC,OAAO,GAAG,EAAE,EAAE;EACtD,WAAAoV,MAAA,CAAWpV,OAAO,CAACP,IAAI,CAAC,CAAC,CAACV,OAAO,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;EAAA,CACxDA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;AACrB;;;;;;;;ACHA,IAAA4P,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAklC,kBAAA,GAAA1jB,sBAAA,CAAAxhB,OAAA;AACA,IAAA6jC,0BAAA,GAAAriB,sBAAA,CAAAxhB,OAAA;AAAsF,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACvE,SAASupC,UAAUA,CAAC;EACjC7vB,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAMwsB,GAAG,GAAG,mBAAmB;EAC/BnrB,YAAY,CAAC;IACX6qB,UAAU,EAAE;MACVhkC,EAAE,EAAE,IAAI;MACRukC,aAAa,EAAE,MAAM;MACrBN,SAAS,EAAE,KAAK;MAChBhB,WAAW,EAAE,KAAK;MAClBuB,YAAY,EAAE,IAAI;MAClBC,iBAAiB,EAAE,IAAI;MACvBC,cAAc,EAAE,IAAI;MACpBC,YAAY,EAAE,IAAI;MAClBC,mBAAmB,EAAE,KAAK;MAC1B1Y,IAAI,EAAE,SAAS;MACf;MACA2Y,cAAc,EAAE,KAAK;MACrBC,kBAAkB,EAAE,CAAC;MACrBC,qBAAqB,EAAEC,MAAM,IAAIA,MAAM;MACvCC,mBAAmB,EAAED,MAAM,IAAIA,MAAM;MACrCE,WAAW,KAAA/tB,MAAA,CAAKmtB,GAAG,YAAS;MAC5Ba,iBAAiB,KAAAhuB,MAAA,CAAKmtB,GAAG,mBAAgB;MACzCc,aAAa,KAAAjuB,MAAA,CAAKmtB,GAAG,MAAG;MACxBe,YAAY,KAAAluB,MAAA,CAAKmtB,GAAG,aAAU;MAC9BgB,UAAU,KAAAnuB,MAAA,CAAKmtB,GAAG,WAAQ;MAC1BnB,WAAW,KAAAhsB,MAAA,CAAKmtB,GAAG,YAAS;MAC5BiB,oBAAoB,KAAApuB,MAAA,CAAKmtB,GAAG,sBAAmB;MAC/CkB,wBAAwB,KAAAruB,MAAA,CAAKmtB,GAAG,0BAAuB;MACvDmB,cAAc,KAAAtuB,MAAA,CAAKmtB,GAAG,eAAY;MAClClB,SAAS,KAAAjsB,MAAA,CAAKmtB,GAAG,UAAO;MACxBoB,eAAe,KAAAvuB,MAAA,CAAKmtB,GAAG,gBAAa;MACpCqB,aAAa,KAAAxuB,MAAA,CAAKmtB,GAAG,cAAW;MAChCsB,uBAAuB,KAAAzuB,MAAA,CAAKmtB,GAAG;IACjC;EACF,CAAC,CAAC;EACF9vB,MAAM,CAACwvB,UAAU,GAAG;IAClBhkC,EAAE,EAAE,IAAI;IACRga,GAAG,EAAE,IAAI;IACT6rB,OAAO,EAAE;EACX,CAAC;EACD,IAAIC,UAAU;EACd,IAAIC,kBAAkB,GAAG,CAAC;EAE1B,SAASC,oBAAoBA,CAAA,EAAG;IAC9B,OAAO,CAACxxB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAAChkC,EAAE,IAAI,CAACwU,MAAM,CAACwvB,UAAU,CAAChkC,EAAE,IAAI,CAACwU,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,IAAIxF,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,CAACze,MAAM,KAAK,CAAC;EAC9H;EAEA,SAAS0qC,cAAcA,CAACC,SAAS,EAAE1D,QAAQ,EAAE;IAC3C,MAAM;MACJ2C,iBAAiB,EAAjBA;IACF,CAAC,GAAG3wB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU;IAC5BkC,SAAS,CAAC1D,QAAQ,CAAC,CAAC,CAAC,CAAC1gC,QAAQ,IAAAqV,MAAA,CAAIguB,iBAAiB,OAAAhuB,MAAA,CAAIqrB,QAAQ,CAAE,CAAC,CAACA,QAAQ,CAAC,CAAC,CAAC,CAAC1gC,QAAQ,IAAAqV,MAAA,CAAIguB,iBAAiB,OAAAhuB,MAAA,CAAIqrB,QAAQ,OAAArrB,MAAA,CAAIqrB,QAAQ,CAAE,CAAC;EACzI;EAEA,SAAS/L,MAAMA,CAAA,EAAG;IAChB;IACA,MAAM3a,GAAG,GAAGtH,MAAM,CAACsH,GAAG;IACtB,MAAMrO,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACu2B,UAAU;IACvC,IAAIgC,oBAAoB,CAAC,CAAC,EAAE;IAC5B,MAAM1pB,YAAY,GAAG9H,MAAM,CAACyH,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,GAAG1H,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAC7gB,MAAM,GAAGiZ,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM;IAC1H,MAAMye,GAAG,GAAGxF,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,CAAC,CAAC;;IAEnC,IAAI7E,OAAO;IACX,MAAMgxB,KAAK,GAAG3xB,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,GAAG3W,IAAI,CAACwU,IAAI,CAAC,CAAC3E,YAAY,GAAG9H,MAAM,CAACuT,YAAY,GAAG,CAAC,IAAIvT,MAAM,CAAC/G,MAAM,CAACqR,cAAc,CAAC,GAAGtK,MAAM,CAAC+H,QAAQ,CAAChhB,MAAM;IAE9I,IAAIiZ,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;MACtBjO,OAAO,GAAG1I,IAAI,CAACwU,IAAI,CAAC,CAACzM,MAAM,CAAC0M,WAAW,GAAG1M,MAAM,CAACuT,YAAY,IAAIvT,MAAM,CAAC/G,MAAM,CAACqR,cAAc,CAAC;MAE9F,IAAI3J,OAAO,GAAGmH,YAAY,GAAG,CAAC,GAAG9H,MAAM,CAACuT,YAAY,GAAG,CAAC,EAAE;QACxD5S,OAAO,IAAImH,YAAY,GAAG9H,MAAM,CAACuT,YAAY,GAAG,CAAC;MACnD;MAEA,IAAI5S,OAAO,GAAGgxB,KAAK,GAAG,CAAC,EAAEhxB,OAAO,IAAIgxB,KAAK;MACzC,IAAIhxB,OAAO,GAAG,CAAC,IAAIX,MAAM,CAAC/G,MAAM,CAAC24B,cAAc,KAAK,SAAS,EAAEjxB,OAAO,GAAGgxB,KAAK,GAAGhxB,OAAO;IAC1F,CAAC,MAAM,IAAI,OAAOX,MAAM,CAACsL,SAAS,KAAK,WAAW,EAAE;MAClD3K,OAAO,GAAGX,MAAM,CAACsL,SAAS;IAC5B,CAAC,MAAM;MACL3K,OAAO,GAAGX,MAAM,CAAC0M,WAAW,IAAI,CAAC;IACnC,CAAC,CAAC;;IAGF,IAAIzT,MAAM,CAACye,IAAI,KAAK,SAAS,IAAI1X,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,IAAIrxB,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,CAACtqC,MAAM,GAAG,CAAC,EAAE;MAClG,MAAMsqC,OAAO,GAAGrxB,MAAM,CAACwvB,UAAU,CAAC6B,OAAO;MACzC,IAAIQ,UAAU;MACd,IAAItd,SAAS;MACb,IAAIud,QAAQ;MAEZ,IAAI74B,MAAM,CAACo3B,cAAc,EAAE;QACzBiB,UAAU,GAAGD,OAAO,CAACp8B,EAAE,CAAC,CAAC,CAAC,CAAC+K,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,YAAY,GAAG,aAAa,CAAC,CAAC,IAAI,CAAC;QACtFjB,GAAG,CAACzS,GAAG,CAACiN,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,OAAO,GAAG,QAAQ,KAAA9D,MAAA,CAAK2uB,UAAU,IAAIr4B,MAAM,CAACq3B,kBAAkB,GAAG,CAAC,CAAC,OAAI,CAAC;QAExG,IAAIr3B,MAAM,CAACq3B,kBAAkB,GAAG,CAAC,IAAItwB,MAAM,CAACmP,aAAa,KAAK1gB,SAAS,EAAE;UACvE8iC,kBAAkB,IAAI5wB,OAAO,IAAIX,MAAM,CAACmP,aAAa,GAAGnP,MAAM,CAACuT,YAAY,IAAI,CAAC,CAAC;UAEjF,IAAIge,kBAAkB,GAAGt4B,MAAM,CAACq3B,kBAAkB,GAAG,CAAC,EAAE;YACtDiB,kBAAkB,GAAGt4B,MAAM,CAACq3B,kBAAkB,GAAG,CAAC;UACpD,CAAC,MAAM,IAAIiB,kBAAkB,GAAG,CAAC,EAAE;YACjCA,kBAAkB,GAAG,CAAC;UACxB;QACF;QAEAM,UAAU,GAAG55B,IAAI,CAACC,GAAG,CAACyI,OAAO,GAAG4wB,kBAAkB,EAAE,CAAC,CAAC;QACtDhd,SAAS,GAAGsd,UAAU,IAAI55B,IAAI,CAACE,GAAG,CAACk5B,OAAO,CAACtqC,MAAM,EAAEkS,MAAM,CAACq3B,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAClFwB,QAAQ,GAAG,CAACvd,SAAS,GAAGsd,UAAU,IAAI,CAAC;MACzC;MAEAR,OAAO,CAACvjC,WAAW,CAAC,CAAC,EAAE,EAAE,OAAO,EAAE,YAAY,EAAE,OAAO,EAAE,YAAY,EAAE,OAAO,CAAC,CAACL,GAAG,CAACskC,MAAM,OAAApvB,MAAA,CAAO1J,MAAM,CAAC03B,iBAAiB,EAAAhuB,MAAA,CAAGovB,MAAM,CAAE,CAAC,CAAC3zB,IAAI,CAAC,GAAG,CAAC,CAAC;MAEhJ,IAAIoH,GAAG,CAACze,MAAM,GAAG,CAAC,EAAE;QAClBsqC,OAAO,CAAC/8B,IAAI,CAAC09B,MAAM,IAAI;UACrB,MAAMC,OAAO,GAAG,IAAAnlC,YAAC,EAACklC,MAAM,CAAC;UACzB,MAAME,WAAW,GAAGD,OAAO,CAAC19B,KAAK,CAAC,CAAC;UAEnC,IAAI29B,WAAW,KAAKvxB,OAAO,EAAE;YAC3BsxB,OAAO,CAAC3kC,QAAQ,CAAC2L,MAAM,CAAC03B,iBAAiB,CAAC;UAC5C;UAEA,IAAI13B,MAAM,CAACo3B,cAAc,EAAE;YACzB,IAAI6B,WAAW,IAAIL,UAAU,IAAIK,WAAW,IAAI3d,SAAS,EAAE;cACzD0d,OAAO,CAAC3kC,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAAC03B,iBAAiB,UAAO,CAAC;YACtD;YAEA,IAAIuB,WAAW,KAAKL,UAAU,EAAE;cAC9BJ,cAAc,CAACQ,OAAO,EAAE,MAAM,CAAC;YACjC;YAEA,IAAIC,WAAW,KAAK3d,SAAS,EAAE;cAC7Bkd,cAAc,CAACQ,OAAO,EAAE,MAAM,CAAC;YACjC;UACF;QACF,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAMA,OAAO,GAAGZ,OAAO,CAACp8B,EAAE,CAAC0L,OAAO,CAAC;QACnC,MAAMuxB,WAAW,GAAGD,OAAO,CAAC19B,KAAK,CAAC,CAAC;QACnC09B,OAAO,CAAC3kC,QAAQ,CAAC2L,MAAM,CAAC03B,iBAAiB,CAAC;QAE1C,IAAI13B,MAAM,CAACo3B,cAAc,EAAE;UACzB,MAAM8B,qBAAqB,GAAGd,OAAO,CAACp8B,EAAE,CAAC48B,UAAU,CAAC;UACpD,MAAMO,oBAAoB,GAAGf,OAAO,CAACp8B,EAAE,CAACsf,SAAS,CAAC;UAElD,KAAK,IAAItoB,CAAC,GAAG4lC,UAAU,EAAE5lC,CAAC,IAAIsoB,SAAS,EAAEtoB,CAAC,IAAI,CAAC,EAAE;YAC/ColC,OAAO,CAACp8B,EAAE,CAAChJ,CAAC,CAAC,CAACqB,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAAC03B,iBAAiB,UAAO,CAAC;UAC5D;UAEA,IAAI3wB,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;YACtB,IAAIsjB,WAAW,IAAIb,OAAO,CAACtqC,MAAM,EAAE;cACjC,KAAK,IAAIkF,CAAC,GAAGgN,MAAM,CAACq3B,kBAAkB,EAAErkC,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;gBACtDolC,OAAO,CAACp8B,EAAE,CAACo8B,OAAO,CAACtqC,MAAM,GAAGkF,CAAC,CAAC,CAACqB,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAAC03B,iBAAiB,UAAO,CAAC;cAC7E;cAEAU,OAAO,CAACp8B,EAAE,CAACo8B,OAAO,CAACtqC,MAAM,GAAGkS,MAAM,CAACq3B,kBAAkB,GAAG,CAAC,CAAC,CAAChjC,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAAC03B,iBAAiB,UAAO,CAAC;YACzG,CAAC,MAAM;cACLc,cAAc,CAACU,qBAAqB,EAAE,MAAM,CAAC;cAC7CV,cAAc,CAACW,oBAAoB,EAAE,MAAM,CAAC;YAC9C;UACF,CAAC,MAAM;YACLX,cAAc,CAACU,qBAAqB,EAAE,MAAM,CAAC;YAC7CV,cAAc,CAACW,oBAAoB,EAAE,MAAM,CAAC;UAC9C;QACF;MACF;MAEA,IAAIn5B,MAAM,CAACo3B,cAAc,EAAE;QACzB,MAAMgC,oBAAoB,GAAGp6B,IAAI,CAACE,GAAG,CAACk5B,OAAO,CAACtqC,MAAM,EAAEkS,MAAM,CAACq3B,kBAAkB,GAAG,CAAC,CAAC;QACpF,MAAMgC,aAAa,GAAG,CAAChB,UAAU,GAAGe,oBAAoB,GAAGf,UAAU,IAAI,CAAC,GAAGQ,QAAQ,GAAGR,UAAU;QAClG,MAAMhJ,UAAU,GAAGhhB,GAAG,GAAG,OAAO,GAAG,MAAM;QACzC+pB,OAAO,CAACt+B,GAAG,CAACiN,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG6hB,UAAU,GAAG,KAAK,KAAA3lB,MAAA,CAAK2vB,aAAa,OAAI,CAAC;MAC/E;IACF;IAEA,IAAIr5B,MAAM,CAACye,IAAI,KAAK,UAAU,EAAE;MAC9BlS,GAAG,CAAC1O,IAAI,CAAC,IAAA64B,0BAAiB,EAAC12B,MAAM,CAAC43B,YAAY,CAAC,CAAC,CAACp8B,IAAI,CAACwE,MAAM,CAACs3B,qBAAqB,CAAC5vB,OAAO,GAAG,CAAC,CAAC,CAAC;MAChG6E,GAAG,CAAC1O,IAAI,CAAC,IAAA64B,0BAAiB,EAAC12B,MAAM,CAAC63B,UAAU,CAAC,CAAC,CAACr8B,IAAI,CAACwE,MAAM,CAACw3B,mBAAmB,CAACkB,KAAK,CAAC,CAAC;IACxF;IAEA,IAAI14B,MAAM,CAACye,IAAI,KAAK,aAAa,EAAE;MACjC,IAAI6a,oBAAoB;MAExB,IAAIt5B,MAAM,CAACm3B,mBAAmB,EAAE;QAC9BmC,oBAAoB,GAAGvyB,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,UAAU,GAAG,YAAY;MAC1E,CAAC,MAAM;QACL8rB,oBAAoB,GAAGvyB,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,YAAY,GAAG,UAAU;MAC1E;MAEA,MAAM+rB,KAAK,GAAG,CAAC7xB,OAAO,GAAG,CAAC,IAAIgxB,KAAK;MACnC,IAAIc,MAAM,GAAG,CAAC;MACd,IAAIC,MAAM,GAAG,CAAC;MAEd,IAAIH,oBAAoB,KAAK,YAAY,EAAE;QACzCE,MAAM,GAAGD,KAAK;MAChB,CAAC,MAAM;QACLE,MAAM,GAAGF,KAAK;MAChB;MAEAhtB,GAAG,CAAC1O,IAAI,CAAC,IAAA64B,0BAAiB,EAAC12B,MAAM,CAAC83B,oBAAoB,CAAC,CAAC,CAAChhC,SAAS,8BAAA4S,MAAA,CAA8B8vB,MAAM,eAAA9vB,MAAA,CAAY+vB,MAAM,MAAG,CAAC,CAAC1iC,UAAU,CAACgQ,MAAM,CAAC/G,MAAM,CAACoH,KAAK,CAAC;IAC9J;IAEA,IAAIpH,MAAM,CAACye,IAAI,KAAK,QAAQ,IAAIze,MAAM,CAACk3B,YAAY,EAAE;MACnD3qB,GAAG,CAACzY,IAAI,CAACkM,MAAM,CAACk3B,YAAY,CAACnwB,MAAM,EAAEW,OAAO,GAAG,CAAC,EAAEgxB,KAAK,CAAC,CAAC;MACzDruB,IAAI,CAAC,kBAAkB,EAAEkC,GAAG,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC,MAAM;MACLlC,IAAI,CAAC,kBAAkB,EAAEkC,GAAG,CAAC,CAAC,CAAC,CAAC;IAClC;IAEA,IAAIxF,MAAM,CAAC/G,MAAM,CAACyS,aAAa,IAAI1L,MAAM,CAAC0H,OAAO,EAAE;MACjDlC,GAAG,CAACxF,MAAM,CAACyW,QAAQ,GAAG,UAAU,GAAG,aAAa,CAAC,CAACxd,MAAM,CAAC21B,SAAS,CAAC;IACrE;EACF;EAEA,SAASt2B,MAAMA,CAAA,EAAG;IAChB;IACA,MAAMW,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACu2B,UAAU;IACvC,IAAIgC,oBAAoB,CAAC,CAAC,EAAE;IAC5B,MAAM1pB,YAAY,GAAG9H,MAAM,CAACyH,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,GAAG1H,MAAM,CAACyH,OAAO,CAACG,MAAM,CAAC7gB,MAAM,GAAGiZ,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM;IAC1H,MAAMye,GAAG,GAAGxF,MAAM,CAACwvB,UAAU,CAAChqB,GAAG;IACjC,IAAImtB,cAAc,GAAG,EAAE;IAEvB,IAAI15B,MAAM,CAACye,IAAI,KAAK,SAAS,EAAE;MAC7B,IAAIkb,eAAe,GAAG5yB,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,GAAG3W,IAAI,CAACwU,IAAI,CAAC,CAAC3E,YAAY,GAAG9H,MAAM,CAACuT,YAAY,GAAG,CAAC,IAAIvT,MAAM,CAAC/G,MAAM,CAACqR,cAAc,CAAC,GAAGtK,MAAM,CAAC+H,QAAQ,CAAChhB,MAAM;MAEtJ,IAAIiZ,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,IAAIla,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,CAACxS,OAAO,IAAI,CAAC1H,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,IAAIgkB,eAAe,GAAG9qB,YAAY,EAAE;QACrH8qB,eAAe,GAAG9qB,YAAY;MAChC;MAEA,KAAK,IAAI7b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2mC,eAAe,EAAE3mC,CAAC,IAAI,CAAC,EAAE;QAC3C,IAAIgN,MAAM,CAAC+2B,YAAY,EAAE;UACvB2C,cAAc,IAAI15B,MAAM,CAAC+2B,YAAY,CAAClkC,IAAI,CAACkU,MAAM,EAAE/T,CAAC,EAAEgN,MAAM,CAACy3B,WAAW,CAAC;QAC3E,CAAC,MAAM;UACLiC,cAAc,QAAAhwB,MAAA,CAAQ1J,MAAM,CAAC82B,aAAa,eAAAptB,MAAA,CAAW1J,MAAM,CAACy3B,WAAW,WAAA/tB,MAAA,CAAO1J,MAAM,CAAC82B,aAAa,MAAG;QACvG;MACF;MAEAvqB,GAAG,CAACzY,IAAI,CAAC4lC,cAAc,CAAC;MACxB3yB,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,GAAG7rB,GAAG,CAAC1O,IAAI,CAAC,IAAA64B,0BAAiB,EAAC12B,MAAM,CAACy3B,WAAW,CAAC,CAAC;IAC7E;IAEA,IAAIz3B,MAAM,CAACye,IAAI,KAAK,UAAU,EAAE;MAC9B,IAAIze,MAAM,CAACi3B,cAAc,EAAE;QACzByC,cAAc,GAAG15B,MAAM,CAACi3B,cAAc,CAACpkC,IAAI,CAACkU,MAAM,EAAE/G,MAAM,CAAC43B,YAAY,EAAE53B,MAAM,CAAC63B,UAAU,CAAC;MAC7F,CAAC,MAAM;QACL6B,cAAc,GAAG,iBAAAhwB,MAAA,CAAgB1J,MAAM,CAAC43B,YAAY,kBAAc,KAAK,oBAAAluB,MAAA,CAAmB1J,MAAM,CAAC63B,UAAU,eAAW;MACxH;MAEAtrB,GAAG,CAACzY,IAAI,CAAC4lC,cAAc,CAAC;IAC1B;IAEA,IAAI15B,MAAM,CAACye,IAAI,KAAK,aAAa,EAAE;MACjC,IAAIze,MAAM,CAACg3B,iBAAiB,EAAE;QAC5B0C,cAAc,GAAG15B,MAAM,CAACg3B,iBAAiB,CAACnkC,IAAI,CAACkU,MAAM,EAAE/G,MAAM,CAAC83B,oBAAoB,CAAC;MACrF,CAAC,MAAM;QACL4B,cAAc,oBAAAhwB,MAAA,CAAmB1J,MAAM,CAAC83B,oBAAoB,eAAW;MACzE;MAEAvrB,GAAG,CAACzY,IAAI,CAAC4lC,cAAc,CAAC;IAC1B;IAEA,IAAI15B,MAAM,CAACye,IAAI,KAAK,QAAQ,EAAE;MAC5BpU,IAAI,CAAC,kBAAkB,EAAEtD,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,CAAC,CAAC,CAAC,CAAC;IACpD;EACF;EAEA,SAASH,IAAIA,CAAA,EAAG;IACdrF,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,GAAG,IAAAnB,kCAAyB,EAACruB,MAAM,EAAEA,MAAM,CAACkf,cAAc,CAACsQ,UAAU,EAAExvB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,EAAE;MACvHhkC,EAAE,EAAE;IACN,CAAC,CAAC;IACF,MAAMyN,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACu2B,UAAU;IACvC,IAAI,CAACv2B,MAAM,CAACzN,EAAE,EAAE;IAChB,IAAIga,GAAG,GAAG,IAAA1Y,YAAC,EAACmM,MAAM,CAACzN,EAAE,CAAC;IACtB,IAAIga,GAAG,CAACze,MAAM,KAAK,CAAC,EAAE;IAEtB,IAAIiZ,MAAM,CAAC/G,MAAM,CAAC0pB,iBAAiB,IAAI,OAAO1pB,MAAM,CAACzN,EAAE,KAAK,QAAQ,IAAIga,GAAG,CAACze,MAAM,GAAG,CAAC,EAAE;MACtFye,GAAG,GAAGxF,MAAM,CAACwF,GAAG,CAAC1O,IAAI,CAACmC,MAAM,CAACzN,EAAE,CAAC,CAAC,CAAC;;MAElC,IAAIga,GAAG,CAACze,MAAM,GAAG,CAAC,EAAE;QAClBye,GAAG,GAAGA,GAAG,CAAC3Z,MAAM,CAACL,EAAE,IAAI;UACrB,IAAI,IAAAsB,YAAC,EAACtB,EAAE,CAAC,CAACwF,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAKgP,MAAM,CAACxU,EAAE,EAAE,OAAO,KAAK;UAC3D,OAAO,IAAI;QACb,CAAC,CAAC;MACJ;IACF;IAEA,IAAIyN,MAAM,CAACye,IAAI,KAAK,SAAS,IAAIze,MAAM,CAACw2B,SAAS,EAAE;MACjDjqB,GAAG,CAAClY,QAAQ,CAAC2L,MAAM,CAACg4B,cAAc,CAAC;IACrC;IAEAzrB,GAAG,CAAClY,QAAQ,CAAC2L,MAAM,CAAC23B,aAAa,GAAG33B,MAAM,CAACye,IAAI,CAAC;IAChDlS,GAAG,CAAClY,QAAQ,CAAC0S,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGxN,MAAM,CAACi4B,eAAe,GAAGj4B,MAAM,CAACk4B,aAAa,CAAC;IAEnF,IAAIl4B,MAAM,CAACye,IAAI,KAAK,SAAS,IAAIze,MAAM,CAACo3B,cAAc,EAAE;MACtD7qB,GAAG,CAAClY,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAAC23B,aAAa,EAAAjuB,MAAA,CAAG1J,MAAM,CAACye,IAAI,aAAU,CAAC;MAC7D6Z,kBAAkB,GAAG,CAAC;MAEtB,IAAIt4B,MAAM,CAACq3B,kBAAkB,GAAG,CAAC,EAAE;QACjCr3B,MAAM,CAACq3B,kBAAkB,GAAG,CAAC;MAC/B;IACF;IAEA,IAAIr3B,MAAM,CAACye,IAAI,KAAK,aAAa,IAAIze,MAAM,CAACm3B,mBAAmB,EAAE;MAC/D5qB,GAAG,CAAClY,QAAQ,CAAC2L,MAAM,CAAC+3B,wBAAwB,CAAC;IAC/C;IAEA,IAAI/3B,MAAM,CAACw2B,SAAS,EAAE;MACpBjqB,GAAG,CAACrV,EAAE,CAAC,OAAO,EAAE,IAAAw/B,0BAAiB,EAAC12B,MAAM,CAACy3B,WAAW,CAAC,EAAE,SAASzT,OAAOA,CAACvsB,CAAC,EAAE;QACzEA,CAAC,CAAC2oB,cAAc,CAAC,CAAC;QAClB,IAAI9kB,KAAK,GAAG,IAAAzH,YAAC,EAAC,IAAI,CAAC,CAACyH,KAAK,CAAC,CAAC,GAAGyL,MAAM,CAAC/G,MAAM,CAACqR,cAAc;QAC1D,IAAItK,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAEra,KAAK,IAAIyL,MAAM,CAACuT,YAAY;QACpDvT,MAAM,CAACsS,OAAO,CAAC/d,KAAK,CAAC;MACvB,CAAC,CAAC;IACJ;IAEA/N,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACwvB,UAAU,EAAE;MAC/BhqB,GAAG,EAAHA,GAAG;MACHha,EAAE,EAAEga,GAAG,CAAC,CAAC;IACX,CAAC,CAAC;IAEF,IAAI,CAACxF,MAAM,CAAC0H,OAAO,EAAE;MACnBlC,GAAG,CAAClY,QAAQ,CAAC2L,MAAM,CAAC21B,SAAS,CAAC;IAChC;EACF;EAEA,SAASjpB,OAAOA,CAAA,EAAG;IACjB,MAAM1M,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACu2B,UAAU;IACvC,IAAIgC,oBAAoB,CAAC,CAAC,EAAE;IAC5B,MAAMhsB,GAAG,GAAGxF,MAAM,CAACwvB,UAAU,CAAChqB,GAAG;IACjCA,GAAG,CAAC1X,WAAW,CAACmL,MAAM,CAAC01B,WAAW,CAAC;IACnCnpB,GAAG,CAAC1X,WAAW,CAACmL,MAAM,CAAC23B,aAAa,GAAG33B,MAAM,CAACye,IAAI,CAAC;IACnDlS,GAAG,CAAC1X,WAAW,CAACkS,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGxN,MAAM,CAACi4B,eAAe,GAAGj4B,MAAM,CAACk4B,aAAa,CAAC;IACtF,IAAInxB,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,IAAIrxB,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,CAACvjC,WAAW,EAAEkS,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,CAACvjC,WAAW,CAACmL,MAAM,CAAC03B,iBAAiB,CAAC;IAEvI,IAAI13B,MAAM,CAACw2B,SAAS,EAAE;MACpBjqB,GAAG,CAAChU,GAAG,CAAC,OAAO,EAAE,IAAAm+B,0BAAiB,EAAC12B,MAAM,CAACy3B,WAAW,CAAC,CAAC;IACzD;EACF;EAEAvgC,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAAC9nB,OAAO,KAAK,KAAK,EAAE;MAC9C;MACAgY,OAAO,CAAC,CAAC;IACX,CAAC,MAAM;MACLra,IAAI,CAAC,CAAC;MACN/M,MAAM,CAAC,CAAC;MACR2pB,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACF9xB,EAAE,CAAC,mBAAmB,EAAE,MAAM;IAC5B,IAAI6P,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;MACtBqT,MAAM,CAAC,CAAC;IACV,CAAC,MAAM,IAAI,OAAOjiB,MAAM,CAACsL,SAAS,KAAK,WAAW,EAAE;MAClD2W,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACF9xB,EAAE,CAAC,iBAAiB,EAAE,MAAM;IAC1B,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;MACvBqT,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACF9xB,EAAE,CAAC,oBAAoB,EAAE,MAAM;IAC7B,IAAI6P,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;MACtBtW,MAAM,CAAC,CAAC;MACR2pB,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACF9xB,EAAE,CAAC,sBAAsB,EAAE,MAAM;IAC/B,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;MACvBtW,MAAM,CAAC,CAAC;MACR2pB,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACF9xB,EAAE,CAAC,SAAS,EAAE,MAAM;IAClBwV,OAAO,CAAC,CAAC;EACX,CAAC,CAAC;EACFxV,EAAE,CAAC,gBAAgB,EAAE,MAAM;IACzB,MAAM;MACJqV,GAAG,EAAHA;IACF,CAAC,GAAGxF,MAAM,CAACwvB,UAAU;IAErB,IAAIhqB,GAAG,EAAE;MACPA,GAAG,CAACxF,MAAM,CAAC0H,OAAO,GAAG,aAAa,GAAG,UAAU,CAAC,CAAC1H,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACZ,SAAS,CAAC;IACtF;EACF,CAAC,CAAC;EACFz+B,EAAE,CAAC,aAAa,EAAE,MAAM;IACtB8xB,MAAM,CAAC,CAAC;EACV,CAAC,CAAC;EACF9xB,EAAE,CAAC,OAAO,EAAE,CAACm/B,EAAE,EAAE5+B,CAAC,KAAK;IACrB,MAAM6+B,QAAQ,GAAG7+B,CAAC,CAAChK,MAAM;IACzB,MAAM;MACJ8e,GAAG,EAAHA;IACF,CAAC,GAAGxF,MAAM,CAACwvB,UAAU;IAErB,IAAIxvB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAAChkC,EAAE,IAAIwU,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACf,WAAW,IAAIjpB,GAAG,IAAIA,GAAG,CAACze,MAAM,GAAG,CAAC,IAAI,CAAC,IAAA+F,YAAC,EAACyiC,QAAQ,CAAC,CAACphC,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACkB,WAAW,CAAC,EAAE;MAC/J,IAAI1wB,MAAM,CAACwc,UAAU,KAAKxc,MAAM,CAACwc,UAAU,CAACC,MAAM,IAAI8S,QAAQ,KAAKvvB,MAAM,CAACwc,UAAU,CAACC,MAAM,IAAIzc,MAAM,CAACwc,UAAU,CAACE,MAAM,IAAI6S,QAAQ,KAAKvvB,MAAM,CAACwc,UAAU,CAACE,MAAM,CAAC,EAAE;MACnK,MAAMgT,QAAQ,GAAGlqB,GAAG,CAACrX,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACb,WAAW,CAAC;MAEnE,IAAIe,QAAQ,KAAK,IAAI,EAAE;QACrBpsB,IAAI,CAAC,gBAAgB,CAAC;MACxB,CAAC,MAAM;QACLA,IAAI,CAAC,gBAAgB,CAAC;MACxB;MAEAkC,GAAG,CAACxX,WAAW,CAACgS,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACb,WAAW,CAAC;IACvD;EACF,CAAC,CAAC;EAEF,MAAMhP,MAAM,GAAGA,CAAA,KAAM;IACnB3f,MAAM,CAACwF,GAAG,CAAC1X,WAAW,CAACkS,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAAC4B,uBAAuB,CAAC;IAExE,IAAIpxB,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,EAAE;MACzBxF,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,CAAC1X,WAAW,CAACkS,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAAC4B,uBAAuB,CAAC;IACrF;IAEA/rB,IAAI,CAAC,CAAC;IACN/M,MAAM,CAAC,CAAC;IACR2pB,MAAM,CAAC,CAAC;EACV,CAAC;EAED,MAAMvC,OAAO,GAAGA,CAAA,KAAM;IACpB1f,MAAM,CAACwF,GAAG,CAAClY,QAAQ,CAAC0S,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAAC4B,uBAAuB,CAAC;IAErE,IAAIpxB,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,EAAE;MACzBxF,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,CAAClY,QAAQ,CAAC0S,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAAC4B,uBAAuB,CAAC;IAClF;IAEAzrB,OAAO,CAAC,CAAC;EACX,CAAC;EAEDnf,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACwvB,UAAU,EAAE;IAC/B7P,MAAM,EAANA,MAAM;IACND,OAAO,EAAPA,OAAO;IACPpnB,MAAM,EAANA,MAAM;IACN2pB,MAAM,EAANA,MAAM;IACN5c,IAAI,EAAJA,IAAI;IACJM,OAAO,EAAPA;EACF,CAAC,CAAC;AACJ;;;;;;;;ACxbA,IAAAlb,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AACA,IAAA6jC,0BAAA,GAAAriB,sBAAA,CAAAxhB,OAAA;AAAsF,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACvE,SAASusC,SAASA,CAAC;EAChC7yB,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAMta,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,IAAI+uB,SAAS,GAAG,KAAK;EACrB,IAAIgU,OAAO,GAAG,IAAI;EAClB,IAAIiH,WAAW,GAAG,IAAI;EACtB,IAAIC,YAAY;EAChB,IAAIC,QAAQ;EACZ,IAAIC,SAAS;EACb,IAAIC,OAAO;EACXvuB,YAAY,CAAC;IACXwuB,SAAS,EAAE;MACT3nC,EAAE,EAAE,IAAI;MACRwnC,QAAQ,EAAE,MAAM;MAChB7+B,IAAI,EAAE,KAAK;MACXi/B,SAAS,EAAE,KAAK;MAChBC,aAAa,EAAE,IAAI;MACnBzE,SAAS,EAAE,uBAAuB;MAClC0E,SAAS,EAAE,uBAAuB;MAClCC,sBAAsB,EAAE,2BAA2B;MACnDrC,eAAe,+BAA+B;MAC9CC,aAAa;IACf;EACF,CAAC,CAAC;EACFnxB,MAAM,CAACmzB,SAAS,GAAG;IACjB3nC,EAAE,EAAE,IAAI;IACRgoC,MAAM,EAAE,IAAI;IACZhuB,GAAG,EAAE,IAAI;IACTiuB,OAAO,EAAE;EACX,CAAC;EAED,SAAS/iB,YAAYA,CAAA,EAAG;IACtB,IAAI,CAAC1Q,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAAC3nC,EAAE,IAAI,CAACwU,MAAM,CAACmzB,SAAS,CAAC3nC,EAAE,EAAE;IACzD,MAAM;MACJ2nC,SAAS,EAATA,SAAS;MACT9rB,YAAY,EAAEC,GAAG;MACjB7O,QAAQ,EAARA;IACF,CAAC,GAAGuH,MAAM;IACV,MAAM;MACJyzB,OAAO,EAAPA,OAAO;MACPjuB,GAAG,EAAHA;IACF,CAAC,GAAG2tB,SAAS;IACb,MAAMl6B,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACk6B,SAAS;IACtC,IAAIO,OAAO,GAAGV,QAAQ;IACtB,IAAIW,MAAM,GAAG,CAACV,SAAS,GAAGD,QAAQ,IAAIv6B,QAAQ;IAE9C,IAAI6O,GAAG,EAAE;MACPqsB,MAAM,GAAG,CAACA,MAAM;MAEhB,IAAIA,MAAM,GAAG,CAAC,EAAE;QACdD,OAAO,GAAGV,QAAQ,GAAGW,MAAM;QAC3BA,MAAM,GAAG,CAAC;MACZ,CAAC,MAAM,IAAI,CAACA,MAAM,GAAGX,QAAQ,GAAGC,SAAS,EAAE;QACzCS,OAAO,GAAGT,SAAS,GAAGU,MAAM;MAC9B;IACF,CAAC,MAAM,IAAIA,MAAM,GAAG,CAAC,EAAE;MACrBD,OAAO,GAAGV,QAAQ,GAAGW,MAAM;MAC3BA,MAAM,GAAG,CAAC;IACZ,CAAC,MAAM,IAAIA,MAAM,GAAGX,QAAQ,GAAGC,SAAS,EAAE;MACxCS,OAAO,GAAGT,SAAS,GAAGU,MAAM;IAC9B;IAEA,IAAI3zB,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;MACzBgtB,OAAO,CAAC1jC,SAAS,gBAAA4S,MAAA,CAAgBgxB,MAAM,cAAW,CAAC;MACnDF,OAAO,CAAC,CAAC,CAAC,CAAC1rC,KAAK,CAAC8K,KAAK,MAAA8P,MAAA,CAAM+wB,OAAO,OAAI;IACzC,CAAC,MAAM;MACLD,OAAO,CAAC1jC,SAAS,qBAAA4S,MAAA,CAAqBgxB,MAAM,WAAQ,CAAC;MACrDF,OAAO,CAAC,CAAC,CAAC,CAAC1rC,KAAK,CAACqL,MAAM,MAAAuP,MAAA,CAAM+wB,OAAO,OAAI;IAC1C;IAEA,IAAIz6B,MAAM,CAAC9E,IAAI,EAAE;MACfnK,YAAY,CAAC6hC,OAAO,CAAC;MACrBrmB,GAAG,CAAC,CAAC,CAAC,CAACzd,KAAK,CAAC6rC,OAAO,GAAG,CAAC;MACxB/H,OAAO,GAAG9hC,UAAU,CAAC,MAAM;QACzByb,GAAG,CAAC,CAAC,CAAC,CAACzd,KAAK,CAAC6rC,OAAO,GAAG,CAAC;QACxBpuB,GAAG,CAACxV,UAAU,CAAC,GAAG,CAAC;MACrB,CAAC,EAAE,IAAI,CAAC;IACV;EACF;EAEA,SAASsc,aAAaA,CAACrc,QAAQ,EAAE;IAC/B,IAAI,CAAC+P,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAAC3nC,EAAE,IAAI,CAACwU,MAAM,CAACmzB,SAAS,CAAC3nC,EAAE,EAAE;IACzDwU,MAAM,CAACmzB,SAAS,CAACM,OAAO,CAACzjC,UAAU,CAACC,QAAQ,CAAC;EAC/C;EAEA,SAASqW,UAAUA,CAAA,EAAG;IACpB,IAAI,CAACtG,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAAC3nC,EAAE,IAAI,CAACwU,MAAM,CAACmzB,SAAS,CAAC3nC,EAAE,EAAE;IACzD,MAAM;MACJ2nC,SAAS,EAATA;IACF,CAAC,GAAGnzB,MAAM;IACV,MAAM;MACJyzB,OAAO,EAAPA,OAAO;MACPjuB,GAAG,EAAHA;IACF,CAAC,GAAG2tB,SAAS;IACbM,OAAO,CAAC,CAAC,CAAC,CAAC1rC,KAAK,CAAC8K,KAAK,GAAG,EAAE;IAC3B4gC,OAAO,CAAC,CAAC,CAAC,CAAC1rC,KAAK,CAACqL,MAAM,GAAG,EAAE;IAC5B6/B,SAAS,GAAGjzB,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGjB,GAAG,CAAC,CAAC,CAAC,CAACrS,WAAW,GAAGqS,GAAG,CAAC,CAAC,CAAC,CAACjS,YAAY;IAC5E2/B,OAAO,GAAGlzB,MAAM,CAAC6G,IAAI,IAAI7G,MAAM,CAAC2I,WAAW,GAAG3I,MAAM,CAAC/G,MAAM,CAACkP,kBAAkB,IAAInI,MAAM,CAAC/G,MAAM,CAAC+P,cAAc,GAAGhJ,MAAM,CAAC+H,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAEzI,IAAI/H,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACH,QAAQ,KAAK,MAAM,EAAE;MAC/CA,QAAQ,GAAGC,SAAS,GAAGC,OAAO;IAChC,CAAC,MAAM;MACLF,QAAQ,GAAGrsB,QAAQ,CAAC3G,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACH,QAAQ,EAAE,EAAE,CAAC;IAC3D;IAEA,IAAIhzB,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;MACzBgtB,OAAO,CAAC,CAAC,CAAC,CAAC1rC,KAAK,CAAC8K,KAAK,MAAA8P,MAAA,CAAMqwB,QAAQ,OAAI;IAC1C,CAAC,MAAM;MACLS,OAAO,CAAC,CAAC,CAAC,CAAC1rC,KAAK,CAACqL,MAAM,MAAAuP,MAAA,CAAMqwB,QAAQ,OAAI;IAC3C;IAEA,IAAIE,OAAO,IAAI,CAAC,EAAE;MAChB1tB,GAAG,CAAC,CAAC,CAAC,CAACzd,KAAK,CAACqM,OAAO,GAAG,MAAM;IAC/B,CAAC,MAAM;MACLoR,GAAG,CAAC,CAAC,CAAC,CAACzd,KAAK,CAACqM,OAAO,GAAG,EAAE;IAC3B;IAEA,IAAI4L,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACh/B,IAAI,EAAE;MAChCqR,GAAG,CAAC,CAAC,CAAC,CAACzd,KAAK,CAAC6rC,OAAO,GAAG,CAAC;IAC1B;IAEA,IAAI5zB,MAAM,CAAC/G,MAAM,CAACyS,aAAa,IAAI1L,MAAM,CAAC0H,OAAO,EAAE;MACjDyrB,SAAS,CAAC3tB,GAAG,CAACxF,MAAM,CAACyW,QAAQ,GAAG,UAAU,GAAG,aAAa,CAAC,CAACzW,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACvE,SAAS,CAAC;IAChG;EACF;EAEA,SAASiF,kBAAkBA,CAACnjC,CAAC,EAAE;IAC7B,IAAIsP,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;MACzB,OAAO/V,CAAC,CAACgnB,IAAI,KAAK,YAAY,IAAIhnB,CAAC,CAACgnB,IAAI,KAAK,WAAW,GAAGhnB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACmb,OAAO,GAAGpjC,CAAC,CAACojC,OAAO;IACnG;IAEA,OAAOpjC,CAAC,CAACgnB,IAAI,KAAK,YAAY,IAAIhnB,CAAC,CAACgnB,IAAI,KAAK,WAAW,GAAGhnB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACob,OAAO,GAAGrjC,CAAC,CAACqjC,OAAO;EACnG;EAEA,SAASC,eAAeA,CAACtjC,CAAC,EAAE;IAC1B,MAAM;MACJyiC,SAAS,EAATA,SAAS;MACT9rB,YAAY,EAAEC;IAChB,CAAC,GAAGtH,MAAM;IACV,MAAM;MACJwF,GAAG,EAAHA;IACF,CAAC,GAAG2tB,SAAS;IACb,IAAIc,aAAa;IACjBA,aAAa,GAAG,CAACJ,kBAAkB,CAACnjC,CAAC,CAAC,GAAG8U,GAAG,CAAChS,MAAM,CAAC,CAAC,CAACwM,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,MAAM,GAAG,KAAK,CAAC,IAAIssB,YAAY,KAAK,IAAI,GAAGA,YAAY,GAAGC,QAAQ,GAAG,CAAC,CAAC,KAAKC,SAAS,GAAGD,QAAQ,CAAC;IAC/KiB,aAAa,GAAGh8B,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC87B,aAAa,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAEvD,IAAI3sB,GAAG,EAAE;MACP2sB,aAAa,GAAG,CAAC,GAAGA,aAAa;IACnC;IAEA,MAAMjG,QAAQ,GAAGhuB,MAAM,CAACoN,YAAY,CAAC,CAAC,GAAG,CAACpN,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG7N,MAAM,CAACoN,YAAY,CAAC,CAAC,IAAI6mB,aAAa;IACxGj0B,MAAM,CAAC0N,cAAc,CAACsgB,QAAQ,CAAC;IAC/BhuB,MAAM,CAAC0Q,YAAY,CAACsd,QAAQ,CAAC;IAC7BhuB,MAAM,CAACiP,iBAAiB,CAAC,CAAC;IAC1BjP,MAAM,CAACmO,mBAAmB,CAAC,CAAC;EAC9B;EAEA,SAAS+lB,WAAWA,CAACxjC,CAAC,EAAE;IACtB,MAAMuI,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACk6B,SAAS;IACtC,MAAM;MACJA,SAAS,EAATA,SAAS;MACTztB,UAAU,EAAVA;IACF,CAAC,GAAG1F,MAAM;IACV,MAAM;MACJwF,GAAG,EAAHA,GAAG;MACHiuB,OAAO,EAAPA;IACF,CAAC,GAAGN,SAAS;IACbtb,SAAS,GAAG,IAAI;IAChBkb,YAAY,GAAGriC,CAAC,CAAChK,MAAM,KAAK+sC,OAAO,CAAC,CAAC,CAAC,IAAI/iC,CAAC,CAAChK,MAAM,KAAK+sC,OAAO,GAAGI,kBAAkB,CAACnjC,CAAC,CAAC,GAAGA,CAAC,CAAChK,MAAM,CAACgN,qBAAqB,CAAC,CAAC,CAACsM,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,MAAM,GAAG,KAAK,CAAC,GAAG,IAAI;IACxK/V,CAAC,CAAC2oB,cAAc,CAAC,CAAC;IAClB3oB,CAAC,CAACqqB,eAAe,CAAC,CAAC;IACnBrV,UAAU,CAAC1V,UAAU,CAAC,GAAG,CAAC;IAC1ByjC,OAAO,CAACzjC,UAAU,CAAC,GAAG,CAAC;IACvBgkC,eAAe,CAACtjC,CAAC,CAAC;IAClB1G,YAAY,CAAC8oC,WAAW,CAAC;IACzBttB,GAAG,CAACxV,UAAU,CAAC,CAAC,CAAC;IAEjB,IAAIiJ,MAAM,CAAC9E,IAAI,EAAE;MACfqR,GAAG,CAACzS,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC;IACvB;IAEA,IAAIiN,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzBjJ,MAAM,CAAC0F,UAAU,CAAC3S,GAAG,CAAC,kBAAkB,EAAE,MAAM,CAAC;IACnD;IAEAuQ,IAAI,CAAC,oBAAoB,EAAE5S,CAAC,CAAC;EAC/B;EAEA,SAASyjC,UAAUA,CAACzjC,CAAC,EAAE;IACrB,MAAM;MACJyiC,SAAS,EAATA,SAAS;MACTztB,UAAU,EAAVA;IACF,CAAC,GAAG1F,MAAM;IACV,MAAM;MACJwF,GAAG,EAAHA,GAAG;MACHiuB,OAAO,EAAPA;IACF,CAAC,GAAGN,SAAS;IACb,IAAI,CAACtb,SAAS,EAAE;IAChB,IAAInnB,CAAC,CAAC2oB,cAAc,EAAE3oB,CAAC,CAAC2oB,cAAc,CAAC,CAAC,CAAC,KAAK3oB,CAAC,CAACy6B,WAAW,GAAG,KAAK;IACnE6I,eAAe,CAACtjC,CAAC,CAAC;IAClBgV,UAAU,CAAC1V,UAAU,CAAC,CAAC,CAAC;IACxBwV,GAAG,CAACxV,UAAU,CAAC,CAAC,CAAC;IACjByjC,OAAO,CAACzjC,UAAU,CAAC,CAAC,CAAC;IACrBsT,IAAI,CAAC,mBAAmB,EAAE5S,CAAC,CAAC;EAC9B;EAEA,SAAS0jC,SAASA,CAAC1jC,CAAC,EAAE;IACpB,MAAMuI,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACk6B,SAAS;IACtC,MAAM;MACJA,SAAS,EAATA,SAAS;MACTztB,UAAU,EAAVA;IACF,CAAC,GAAG1F,MAAM;IACV,MAAM;MACJwF,GAAG,EAAHA;IACF,CAAC,GAAG2tB,SAAS;IACb,IAAI,CAACtb,SAAS,EAAE;IAChBA,SAAS,GAAG,KAAK;IAEjB,IAAI7X,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzBjJ,MAAM,CAAC0F,UAAU,CAAC3S,GAAG,CAAC,kBAAkB,EAAE,EAAE,CAAC;MAC7C2S,UAAU,CAAC1V,UAAU,CAAC,EAAE,CAAC;IAC3B;IAEA,IAAIiJ,MAAM,CAAC9E,IAAI,EAAE;MACfnK,YAAY,CAAC8oC,WAAW,CAAC;MACzBA,WAAW,GAAG,IAAAt1B,eAAQ,EAAC,MAAM;QAC3BgI,GAAG,CAACzS,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC;QACrByS,GAAG,CAACxV,UAAU,CAAC,GAAG,CAAC;MACrB,CAAC,EAAE,IAAI,CAAC;IACV;IAEAsT,IAAI,CAAC,kBAAkB,EAAE5S,CAAC,CAAC;IAE3B,IAAIuI,MAAM,CAACo6B,aAAa,EAAE;MACxBrzB,MAAM,CAACyU,cAAc,CAAC,CAAC;IACzB;EACF;EAEA,SAAStjB,MAAMA,CAAC6U,MAAM,EAAE;IACtB,MAAM;MACJmtB,SAAS,EAATA,SAAS;MACT/N,gBAAgB,EAAhBA,gBAAgB;MAChBC,kBAAkB,EAAlBA,kBAAkB;MAClBpsB,MAAM,EAANA,MAAM;MACN6H,OAAO,EAAPA;IACF,CAAC,GAAGd,MAAM;IACV,MAAMwF,GAAG,GAAG2tB,SAAS,CAAC3tB,GAAG;IACzB,IAAI,CAACA,GAAG,EAAE;IACV,MAAM9e,MAAM,GAAG8e,GAAG,CAAC,CAAC,CAAC;IACrB,MAAM6uB,cAAc,GAAGvzB,OAAO,CAACM,eAAe,IAAInI,MAAM,CAACmlB,gBAAgB,GAAG;MAC1EC,OAAO,EAAE,KAAK;MACd7tB,OAAO,EAAE;IACX,CAAC,GAAG,KAAK;IACT,MAAM4Q,eAAe,GAAGN,OAAO,CAACM,eAAe,IAAInI,MAAM,CAACmlB,gBAAgB,GAAG;MAC3EC,OAAO,EAAE,IAAI;MACb7tB,OAAO,EAAE;IACX,CAAC,GAAG,KAAK;IACT,IAAI,CAAC9J,MAAM,EAAE;IACb,MAAM4tC,WAAW,GAAGtuB,MAAM,KAAK,IAAI,GAAG,kBAAkB,GAAG,qBAAqB;IAEhF,IAAI,CAAClF,OAAO,CAACI,KAAK,EAAE;MAClBxa,MAAM,CAAC4tC,WAAW,CAAC,CAACjP,kBAAkB,CAACpH,KAAK,EAAEiW,WAAW,EAAEG,cAAc,CAAC;MAC1ErrC,QAAQ,CAACsrC,WAAW,CAAC,CAACjP,kBAAkB,CAACnH,IAAI,EAAEiW,UAAU,EAAEE,cAAc,CAAC;MAC1ErrC,QAAQ,CAACsrC,WAAW,CAAC,CAACjP,kBAAkB,CAAClH,GAAG,EAAEiW,SAAS,EAAEhzB,eAAe,CAAC;IAC3E,CAAC,MAAM;MACL1a,MAAM,CAAC4tC,WAAW,CAAC,CAAClP,gBAAgB,CAACnH,KAAK,EAAEiW,WAAW,EAAEG,cAAc,CAAC;MACxE3tC,MAAM,CAAC4tC,WAAW,CAAC,CAAClP,gBAAgB,CAAClH,IAAI,EAAEiW,UAAU,EAAEE,cAAc,CAAC;MACtE3tC,MAAM,CAAC4tC,WAAW,CAAC,CAAClP,gBAAgB,CAACjH,GAAG,EAAEiW,SAAS,EAAEhzB,eAAe,CAAC;IACvE;EACF;EAEA,SAASmzB,eAAeA,CAAA,EAAG;IACzB,IAAI,CAACv0B,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAAC3nC,EAAE,IAAI,CAACwU,MAAM,CAACmzB,SAAS,CAAC3nC,EAAE,EAAE;IACzD2F,MAAM,CAAC,IAAI,CAAC;EACd;EAEA,SAASqjC,gBAAgBA,CAAA,EAAG;IAC1B,IAAI,CAACx0B,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAAC3nC,EAAE,IAAI,CAACwU,MAAM,CAACmzB,SAAS,CAAC3nC,EAAE,EAAE;IACzD2F,MAAM,CAAC,KAAK,CAAC;EACf;EAEA,SAASkU,IAAIA,CAAA,EAAG;IACd,MAAM;MACJ8tB,SAAS,EAATA,SAAS;MACT3tB,GAAG,EAAEivB;IACP,CAAC,GAAGz0B,MAAM;IACVA,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,GAAG,IAAA9E,kCAAyB,EAACruB,MAAM,EAAEA,MAAM,CAACkf,cAAc,CAACiU,SAAS,EAAEnzB,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,EAAE;MACpH3nC,EAAE,EAAE;IACN,CAAC,CAAC;IACF,MAAMyN,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACk6B,SAAS;IACtC,IAAI,CAACl6B,MAAM,CAACzN,EAAE,EAAE;IAChB,IAAIga,GAAG,GAAG,IAAA1Y,YAAC,EAACmM,MAAM,CAACzN,EAAE,CAAC;IAEtB,IAAIwU,MAAM,CAAC/G,MAAM,CAAC0pB,iBAAiB,IAAI,OAAO1pB,MAAM,CAACzN,EAAE,KAAK,QAAQ,IAAIga,GAAG,CAACze,MAAM,GAAG,CAAC,IAAI0tC,SAAS,CAAC39B,IAAI,CAACmC,MAAM,CAACzN,EAAE,CAAC,CAACzE,MAAM,KAAK,CAAC,EAAE;MAChIye,GAAG,GAAGivB,SAAS,CAAC39B,IAAI,CAACmC,MAAM,CAACzN,EAAE,CAAC;IACjC;IAEAga,GAAG,CAAClY,QAAQ,CAAC0S,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGxN,MAAM,CAACi4B,eAAe,GAAGj4B,MAAM,CAACk4B,aAAa,CAAC;IACnF,IAAIsC,OAAO,GAAGjuB,GAAG,CAAC1O,IAAI,KAAA6L,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACG,SAAS,CAAE,CAAC;IAE/D,IAAIG,OAAO,CAAC1sC,MAAM,KAAK,CAAC,EAAE;MACxB0sC,OAAO,GAAG,IAAA3mC,YAAC,kBAAA6V,MAAA,CAAgB3C,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACG,SAAS,cAAU,CAAC;MACvE9tB,GAAG,CAACrQ,MAAM,CAACs+B,OAAO,CAAC;IACrB;IAEAjtC,MAAM,CAACwS,MAAM,CAACm6B,SAAS,EAAE;MACvB3tB,GAAG,EAAHA,GAAG;MACHha,EAAE,EAAEga,GAAG,CAAC,CAAC,CAAC;MACViuB,OAAO,EAAPA,OAAO;MACPD,MAAM,EAAEC,OAAO,CAAC,CAAC;IACnB,CAAC,CAAC;IAEF,IAAIx6B,MAAM,CAACm6B,SAAS,EAAE;MACpBmB,eAAe,CAAC,CAAC;IACnB;IAEA,IAAI/uB,GAAG,EAAE;MACPA,GAAG,CAACxF,MAAM,CAAC0H,OAAO,GAAG,aAAa,GAAG,UAAU,CAAC,CAAC1H,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACvE,SAAS,CAAC;IACrF;EACF;EAEA,SAASjpB,OAAOA,CAAA,EAAG;IACjB,MAAM1M,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACk6B,SAAS;IACtC,MAAM3tB,GAAG,GAAGxF,MAAM,CAACmzB,SAAS,CAAC3tB,GAAG;IAEhC,IAAIA,GAAG,EAAE;MACPA,GAAG,CAAC1X,WAAW,CAACkS,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGxN,MAAM,CAACi4B,eAAe,GAAGj4B,MAAM,CAACk4B,aAAa,CAAC;IACxF;IAEAqD,gBAAgB,CAAC,CAAC;EACpB;EAEArkC,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACzrB,OAAO,KAAK,KAAK,EAAE;MAC7C;MACAgY,OAAO,CAAC,CAAC;IACX,CAAC,MAAM;MACLra,IAAI,CAAC,CAAC;MACNiB,UAAU,CAAC,CAAC;MACZoK,YAAY,CAAC,CAAC;IAChB;EACF,CAAC,CAAC;EACFvgB,EAAE,CAAC,0CAA0C,EAAE,MAAM;IACnDmW,UAAU,CAAC,CAAC;EACd,CAAC,CAAC;EACFnW,EAAE,CAAC,cAAc,EAAE,MAAM;IACvBugB,YAAY,CAAC,CAAC;EAChB,CAAC,CAAC;EACFvgB,EAAE,CAAC,eAAe,EAAE,CAACm/B,EAAE,EAAEr/B,QAAQ,KAAK;IACpCqc,aAAa,CAACrc,QAAQ,CAAC;EACzB,CAAC,CAAC;EACFE,EAAE,CAAC,gBAAgB,EAAE,MAAM;IACzB,MAAM;MACJqV,GAAG,EAAHA;IACF,CAAC,GAAGxF,MAAM,CAACmzB,SAAS;IAEpB,IAAI3tB,GAAG,EAAE;MACPA,GAAG,CAACxF,MAAM,CAAC0H,OAAO,GAAG,aAAa,GAAG,UAAU,CAAC,CAAC1H,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACvE,SAAS,CAAC;IACrF;EACF,CAAC,CAAC;EACFz+B,EAAE,CAAC,SAAS,EAAE,MAAM;IAClBwV,OAAO,CAAC,CAAC;EACX,CAAC,CAAC;EAEF,MAAMga,MAAM,GAAGA,CAAA,KAAM;IACnB3f,MAAM,CAACwF,GAAG,CAAC1X,WAAW,CAACkS,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACI,sBAAsB,CAAC;IAEtE,IAAIvzB,MAAM,CAACmzB,SAAS,CAAC3tB,GAAG,EAAE;MACxBxF,MAAM,CAACmzB,SAAS,CAAC3tB,GAAG,CAAC1X,WAAW,CAACkS,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACI,sBAAsB,CAAC;IAClF;IAEAluB,IAAI,CAAC,CAAC;IACNiB,UAAU,CAAC,CAAC;IACZoK,YAAY,CAAC,CAAC;EAChB,CAAC;EAED,MAAMgP,OAAO,GAAGA,CAAA,KAAM;IACpB1f,MAAM,CAACwF,GAAG,CAAClY,QAAQ,CAAC0S,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACI,sBAAsB,CAAC;IAEnE,IAAIvzB,MAAM,CAACmzB,SAAS,CAAC3tB,GAAG,EAAE;MACxBxF,MAAM,CAACmzB,SAAS,CAAC3tB,GAAG,CAAClY,QAAQ,CAAC0S,MAAM,CAAC/G,MAAM,CAACk6B,SAAS,CAACI,sBAAsB,CAAC;IAC/E;IAEA5tB,OAAO,CAAC,CAAC;EACX,CAAC;EAEDnf,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACmzB,SAAS,EAAE;IAC9BxT,MAAM,EAANA,MAAM;IACND,OAAO,EAAPA,OAAO;IACPpZ,UAAU,EAAVA,UAAU;IACVoK,YAAY,EAAZA,YAAY;IACZrL,IAAI,EAAJA,IAAI;IACJM,OAAO,EAAPA;EACF,CAAC,CAAC;AACJ;;;;;;;;AClZA,IAAAzJ,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAASouC,QAAQA,CAAC;EAC/B10B,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACXgwB,QAAQ,EAAE;MACRjtB,OAAO,EAAE;IACX;EACF,CAAC,CAAC;EAEF,MAAMktB,YAAY,GAAGA,CAACppC,EAAE,EAAEiN,QAAQ,KAAK;IACrC,MAAM;MACJ6O,GAAG,EAAHA;IACF,CAAC,GAAGtH,MAAM;IACV,MAAMwF,GAAG,GAAG,IAAA1Y,YAAC,EAACtB,EAAE,CAAC;IACjB,MAAMmiC,SAAS,GAAGrmB,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;IAC9B,MAAMutB,CAAC,GAAGrvB,GAAG,CAACnX,IAAI,CAAC,sBAAsB,CAAC,IAAI,GAAG;IACjD,IAAIuiB,CAAC,GAAGpL,GAAG,CAACnX,IAAI,CAAC,wBAAwB,CAAC;IAC1C,IAAIwiB,CAAC,GAAGrL,GAAG,CAACnX,IAAI,CAAC,wBAAwB,CAAC;IAC1C,MAAMmkC,KAAK,GAAGhtB,GAAG,CAACnX,IAAI,CAAC,4BAA4B,CAAC;IACpD,MAAMulC,OAAO,GAAGpuB,GAAG,CAACnX,IAAI,CAAC,8BAA8B,CAAC;IAExD,IAAIuiB,CAAC,IAAIC,CAAC,EAAE;MACVD,CAAC,GAAGA,CAAC,IAAI,GAAG;MACZC,CAAC,GAAGA,CAAC,IAAI,GAAG;IACd,CAAC,MAAM,IAAI7Q,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;MAChCmK,CAAC,GAAGikB,CAAC;MACLhkB,CAAC,GAAG,GAAG;IACT,CAAC,MAAM;MACLA,CAAC,GAAGgkB,CAAC;MACLjkB,CAAC,GAAG,GAAG;IACT;IAEA,IAAIA,CAAC,CAAC1kB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACvB0kB,CAAC,MAAAjO,MAAA,CAAMgE,QAAQ,CAACiK,CAAC,EAAE,EAAE,CAAC,GAAGnY,QAAQ,GAAGk1B,SAAS,MAAG;IAClD,CAAC,MAAM;MACL/c,CAAC,MAAAjO,MAAA,CAAMiO,CAAC,GAAGnY,QAAQ,GAAGk1B,SAAS,OAAI;IACrC;IAEA,IAAI9c,CAAC,CAAC3kB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACvB2kB,CAAC,MAAAlO,MAAA,CAAMgE,QAAQ,CAACkK,CAAC,EAAE,EAAE,CAAC,GAAGpY,QAAQ,MAAG;IACtC,CAAC,MAAM;MACLoY,CAAC,MAAAlO,MAAA,CAAMkO,CAAC,GAAGpY,QAAQ,OAAI;IACzB;IAEA,IAAI,OAAOm7B,OAAO,KAAK,WAAW,IAAIA,OAAO,KAAK,IAAI,EAAE;MACtD,MAAMkB,cAAc,GAAGlB,OAAO,GAAG,CAACA,OAAO,GAAG,CAAC,KAAK,CAAC,GAAG37B,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC,CAAC;MACzE+M,GAAG,CAAC,CAAC,CAAC,CAACzd,KAAK,CAAC6rC,OAAO,GAAGkB,cAAc;IACvC;IAEA,IAAI,OAAOtC,KAAK,KAAK,WAAW,IAAIA,KAAK,KAAK,IAAI,EAAE;MAClDhtB,GAAG,CAACzV,SAAS,gBAAA4S,MAAA,CAAgBiO,CAAC,QAAAjO,MAAA,CAAKkO,CAAC,WAAQ,CAAC;IAC/C,CAAC,MAAM;MACL,MAAMkkB,YAAY,GAAGvC,KAAK,GAAG,CAACA,KAAK,GAAG,CAAC,KAAK,CAAC,GAAGv6B,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC,CAAC;MACnE+M,GAAG,CAACzV,SAAS,gBAAA4S,MAAA,CAAgBiO,CAAC,QAAAjO,MAAA,CAAKkO,CAAC,mBAAAlO,MAAA,CAAgBoyB,YAAY,MAAG,CAAC;IACtE;EACF,CAAC;EAED,MAAMrkB,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAM;MACJlL,GAAG,EAAHA,GAAG;MACHoC,MAAM,EAANA,MAAM;MACNnP,QAAQ,EAARA,QAAQ;MACRsP,QAAQ,EAARA;IACF,CAAC,GAAG/H,MAAM;IACVwF,GAAG,CAAC3d,QAAQ,CAAC,0IAA0I,CAAC,CAACyM,IAAI,CAAC9I,EAAE,IAAI;MAClKopC,YAAY,CAACppC,EAAE,EAAEiN,QAAQ,CAAC;IAC5B,CAAC,CAAC;IACFmP,MAAM,CAACtT,IAAI,CAAC,CAACqxB,OAAO,EAAE7a,UAAU,KAAK;MACnC,IAAIqC,aAAa,GAAGwY,OAAO,CAACltB,QAAQ;MAEpC,IAAIuH,MAAM,CAAC/G,MAAM,CAACqR,cAAc,GAAG,CAAC,IAAItK,MAAM,CAAC/G,MAAM,CAACuQ,aAAa,KAAK,MAAM,EAAE;QAC9E2D,aAAa,IAAIlV,IAAI,CAACwU,IAAI,CAAC3B,UAAU,GAAG,CAAC,CAAC,GAAGrS,QAAQ,IAAIsP,QAAQ,CAAChhB,MAAM,GAAG,CAAC,CAAC;MAC/E;MAEAomB,aAAa,GAAGlV,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAACiV,aAAa,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACxD,IAAArgB,YAAC,EAAC64B,OAAO,CAAC,CAAC7uB,IAAI,CAAC,0IAA0I,CAAC,CAACxC,IAAI,CAAC9I,EAAE,IAAI;QACrKopC,YAAY,CAACppC,EAAE,EAAE2hB,aAAa,CAAC;MACjC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,MAAMb,aAAa,GAAGA,CAACrc,QAAQ,GAAG+P,MAAM,CAAC/G,MAAM,CAACoH,KAAK,KAAK;IACxD,MAAM;MACJmF,GAAG,EAAHA;IACF,CAAC,GAAGxF,MAAM;IACVwF,GAAG,CAAC1O,IAAI,CAAC,0IAA0I,CAAC,CAACxC,IAAI,CAAC0gC,UAAU,IAAI;MACtK,MAAMC,WAAW,GAAG,IAAAnoC,YAAC,EAACkoC,UAAU,CAAC;MACjC,IAAIE,gBAAgB,GAAGvuB,QAAQ,CAACsuB,WAAW,CAAC5mC,IAAI,CAAC,+BAA+B,CAAC,EAAE,EAAE,CAAC,IAAI4B,QAAQ;MAClG,IAAIA,QAAQ,KAAK,CAAC,EAAEilC,gBAAgB,GAAG,CAAC;MACxCD,WAAW,CAACjlC,UAAU,CAACklC,gBAAgB,CAAC;IAC1C,CAAC,CAAC;EACJ,CAAC;EAED/kC,EAAE,CAAC,YAAY,EAAE,MAAM;IACrB,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC07B,QAAQ,CAACjtB,OAAO,EAAE;IACrC1H,MAAM,CAAC/G,MAAM,CAAC2S,mBAAmB,GAAG,IAAI;IACxC5L,MAAM,CAACkf,cAAc,CAACtT,mBAAmB,GAAG,IAAI;EAClD,CAAC,CAAC;EACFzb,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC07B,QAAQ,CAACjtB,OAAO,EAAE;IACrCgJ,YAAY,CAAC,CAAC;EAChB,CAAC,CAAC;EACFvgB,EAAE,CAAC,cAAc,EAAE,MAAM;IACvB,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC07B,QAAQ,CAACjtB,OAAO,EAAE;IACrCgJ,YAAY,CAAC,CAAC;EAChB,CAAC,CAAC;EACFvgB,EAAE,CAAC,eAAe,EAAE,CAACglC,OAAO,EAAEllC,QAAQ,KAAK;IACzC,IAAI,CAAC+P,MAAM,CAAC/G,MAAM,CAAC07B,QAAQ,CAACjtB,OAAO,EAAE;IACrC4E,aAAa,CAACrc,QAAQ,CAAC;EACzB,CAAC,CAAC;AACJ;;;;;;;;ACjHA,IAAAxF,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AAAqD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACtC,SAAS8uC,IAAIA,CAAC;EAC3Bp1B,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,MAAM9Y,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1Bqa,YAAY,CAAC;IACX0wB,IAAI,EAAE;MACJ3tB,OAAO,EAAE,KAAK;MACd4tB,QAAQ,EAAE,CAAC;MACXlV,QAAQ,EAAE,CAAC;MACXlyB,MAAM,EAAE,IAAI;MACZqnC,cAAc,EAAE,uBAAuB;MACvCC,gBAAgB,EAAE;IACpB;EACF,CAAC,CAAC;EACFx1B,MAAM,CAACq1B,IAAI,GAAG;IACZ3tB,OAAO,EAAE;EACX,CAAC;EACD,IAAIqtB,YAAY,GAAG,CAAC;EACpB,IAAIU,SAAS,GAAG,KAAK;EACrB,IAAIC,eAAe;EACnB,IAAIC,kBAAkB;EACtB,IAAIC,gBAAgB;EACpB,MAAMC,OAAO,GAAG;IACd7N,QAAQ,EAAEv5B,SAAS;IACnBqnC,UAAU,EAAErnC,SAAS;IACrBsnC,WAAW,EAAEtnC,SAAS;IACtBunC,QAAQ,EAAEvnC,SAAS;IACnBwnC,YAAY,EAAExnC,SAAS;IACvB6mC,QAAQ,EAAE;EACZ,CAAC;EACD,MAAM9T,KAAK,GAAG;IACZ3J,SAAS,EAAEppB,SAAS;IACpBqpB,OAAO,EAAErpB,SAAS;IAClBiqB,QAAQ,EAAEjqB,SAAS;IACnBoqB,QAAQ,EAAEpqB,SAAS;IACnBynC,IAAI,EAAEznC,SAAS;IACf0nC,IAAI,EAAE1nC,SAAS;IACf2nC,IAAI,EAAE3nC,SAAS;IACf4nC,IAAI,EAAE5nC,SAAS;IACfoE,KAAK,EAAEpE,SAAS;IAChB2E,MAAM,EAAE3E,SAAS;IACjBsqB,MAAM,EAAEtqB,SAAS;IACjBuqB,MAAM,EAAEvqB,SAAS;IACjB6nC,YAAY,EAAE,CAAC,CAAC;IAChBC,cAAc,EAAE,CAAC;EACnB,CAAC;EACD,MAAMrR,QAAQ,GAAG;IACftU,CAAC,EAAEniB,SAAS;IACZoiB,CAAC,EAAEpiB,SAAS;IACZ+nC,aAAa,EAAE/nC,SAAS;IACxBgoC,aAAa,EAAEhoC,SAAS;IACxBioC,QAAQ,EAAEjoC;EACZ,CAAC;EACD,IAAI+jC,KAAK,GAAG,CAAC;EACbhsC,MAAM,CAACsE,cAAc,CAACkV,MAAM,CAACq1B,IAAI,EAAE,OAAO,EAAE;IAC1CtqC,GAAG,WAAAA,CAAA,EAAG;MACJ,OAAOynC,KAAK;IACd,CAAC;IAEDxnC,GAAG,WAAAA,CAACC,KAAK,EAAE;MACT,IAAIunC,KAAK,KAAKvnC,KAAK,EAAE;QACnB,MAAMm2B,OAAO,GAAGyU,OAAO,CAACG,QAAQ,GAAGH,OAAO,CAACG,QAAQ,CAAC,CAAC,CAAC,GAAGvnC,SAAS;QAClE,MAAMk3B,OAAO,GAAGkQ,OAAO,CAAC7N,QAAQ,GAAG6N,OAAO,CAAC7N,QAAQ,CAAC,CAAC,CAAC,GAAGv5B,SAAS;QAClE6U,IAAI,CAAC,YAAY,EAAErY,KAAK,EAAEm2B,OAAO,EAAEuE,OAAO,CAAC;MAC7C;MAEA6M,KAAK,GAAGvnC,KAAK;IACf;EAEF,CAAC,CAAC;EAEF,SAAS0rC,yBAAyBA,CAACjmC,CAAC,EAAE;IACpC,IAAIA,CAAC,CAACioB,aAAa,CAAC5xB,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC;IACxC,MAAM6vC,EAAE,GAAGlmC,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACC,KAAK;IACnC,MAAMie,EAAE,GAAGnmC,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACG,KAAK;IACnC,MAAMge,EAAE,GAAGpmC,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACC,KAAK;IACnC,MAAMme,EAAE,GAAGrmC,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACG,KAAK;IACnC,MAAMke,QAAQ,GAAG/+B,IAAI,CAACyiB,IAAI,CAAC,CAACoc,EAAE,GAAGF,EAAE,KAAK,CAAC,GAAG,CAACG,EAAE,GAAGF,EAAE,KAAK,CAAC,CAAC;IAC3D,OAAOG,QAAQ;EACjB,CAAC,CAAC;;EAGF,SAASC,cAAcA,CAACvmC,CAAC,EAAE;IACzB,MAAMoQ,OAAO,GAAGd,MAAM,CAACc,OAAO;IAC9B,MAAM7H,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACo8B,IAAI;IACjCM,kBAAkB,GAAG,KAAK;IAC1BC,gBAAgB,GAAG,KAAK;IAExB,IAAI,CAAC90B,OAAO,CAACU,QAAQ,EAAE;MACrB,IAAI9Q,CAAC,CAACgnB,IAAI,KAAK,YAAY,IAAIhnB,CAAC,CAACgnB,IAAI,KAAK,YAAY,IAAIhnB,CAAC,CAACioB,aAAa,CAAC5xB,MAAM,GAAG,CAAC,EAAE;QACpF;MACF;MAEA4uC,kBAAkB,GAAG,IAAI;MACzBE,OAAO,CAACqB,UAAU,GAAGP,yBAAyB,CAACjmC,CAAC,CAAC;IACnD;IAEA,IAAI,CAACmlC,OAAO,CAAC7N,QAAQ,IAAI,CAAC6N,OAAO,CAAC7N,QAAQ,CAACjhC,MAAM,EAAE;MACjD8uC,OAAO,CAAC7N,QAAQ,GAAG,IAAAl7B,YAAC,EAAC4D,CAAC,CAAChK,MAAM,CAAC,CAACmQ,OAAO,KAAA8L,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,CAAE,CAAC;MACtE,IAAIguB,OAAO,CAAC7N,QAAQ,CAACjhC,MAAM,KAAK,CAAC,EAAE8uC,OAAO,CAAC7N,QAAQ,GAAGhoB,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC+K,MAAM,CAAC0M,WAAW,CAAC;MAC1FmpB,OAAO,CAACG,QAAQ,GAAGH,OAAO,CAAC7N,QAAQ,CAAClxB,IAAI,KAAA6L,MAAA,CAAK1J,MAAM,CAACs8B,cAAc,CAAE,CAAC,CAACtgC,EAAE,CAAC,CAAC,CAAC,CAAC6B,IAAI,CAAC,gDAAgD,CAAC,CAAC7B,EAAE,CAAC,CAAC,CAAC;MACxI4gC,OAAO,CAACI,YAAY,GAAGJ,OAAO,CAACG,QAAQ,CAACtgC,MAAM,KAAAiN,MAAA,CAAK1J,MAAM,CAACs8B,cAAc,CAAE,CAAC;MAC3EM,OAAO,CAACP,QAAQ,GAAGO,OAAO,CAACI,YAAY,CAAC5nC,IAAI,CAAC,kBAAkB,CAAC,IAAI4K,MAAM,CAACq8B,QAAQ;MAEnF,IAAIO,OAAO,CAACI,YAAY,CAAClvC,MAAM,KAAK,CAAC,EAAE;QACrC8uC,OAAO,CAACG,QAAQ,GAAGvnC,SAAS;QAC5B;MACF;IACF;IAEA,IAAIonC,OAAO,CAACG,QAAQ,EAAE;MACpBH,OAAO,CAACG,QAAQ,CAAChmC,UAAU,CAAC,CAAC,CAAC;IAChC;IAEAylC,SAAS,GAAG,IAAI;EAClB;EAEA,SAAS0B,eAAeA,CAACzmC,CAAC,EAAE;IAC1B,MAAMoQ,OAAO,GAAGd,MAAM,CAACc,OAAO;IAC9B,MAAM7H,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACo8B,IAAI;IACjC,MAAMA,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IAExB,IAAI,CAACv0B,OAAO,CAACU,QAAQ,EAAE;MACrB,IAAI9Q,CAAC,CAACgnB,IAAI,KAAK,WAAW,IAAIhnB,CAAC,CAACgnB,IAAI,KAAK,WAAW,IAAIhnB,CAAC,CAACioB,aAAa,CAAC5xB,MAAM,GAAG,CAAC,EAAE;QAClF;MACF;MAEA6uC,gBAAgB,GAAG,IAAI;MACvBC,OAAO,CAACuB,SAAS,GAAGT,yBAAyB,CAACjmC,CAAC,CAAC;IAClD;IAEA,IAAI,CAACmlC,OAAO,CAACG,QAAQ,IAAIH,OAAO,CAACG,QAAQ,CAACjvC,MAAM,KAAK,CAAC,EAAE;MACtD,IAAI2J,CAAC,CAACgnB,IAAI,KAAK,eAAe,EAAEuf,cAAc,CAACvmC,CAAC,CAAC;MACjD;IACF;IAEA,IAAIoQ,OAAO,CAACU,QAAQ,EAAE;MACpB6zB,IAAI,CAAC7C,KAAK,GAAG9hC,CAAC,CAAC8hC,KAAK,GAAGuC,YAAY;IACrC,CAAC,MAAM;MACLM,IAAI,CAAC7C,KAAK,GAAGqD,OAAO,CAACuB,SAAS,GAAGvB,OAAO,CAACqB,UAAU,GAAGnC,YAAY;IACpE;IAEA,IAAIM,IAAI,CAAC7C,KAAK,GAAGqD,OAAO,CAACP,QAAQ,EAAE;MACjCD,IAAI,CAAC7C,KAAK,GAAGqD,OAAO,CAACP,QAAQ,GAAG,CAAC,GAAG,CAACD,IAAI,CAAC7C,KAAK,GAAGqD,OAAO,CAACP,QAAQ,GAAG,CAAC,KAAK,GAAG;IAChF;IAEA,IAAID,IAAI,CAAC7C,KAAK,GAAGv5B,MAAM,CAACmnB,QAAQ,EAAE;MAChCiV,IAAI,CAAC7C,KAAK,GAAGv5B,MAAM,CAACmnB,QAAQ,GAAG,CAAC,GAAG,CAACnnB,MAAM,CAACmnB,QAAQ,GAAGiV,IAAI,CAAC7C,KAAK,GAAG,CAAC,KAAK,GAAG;IAC9E;IAEAqD,OAAO,CAACG,QAAQ,CAACjmC,SAAS,6BAAA4S,MAAA,CAA6B0yB,IAAI,CAAC7C,KAAK,MAAG,CAAC;EACvE;EAEA,SAAS6E,YAAYA,CAAC3mC,CAAC,EAAE;IACvB,MAAMsR,MAAM,GAAGhC,MAAM,CAACgC,MAAM;IAC5B,MAAMlB,OAAO,GAAGd,MAAM,CAACc,OAAO;IAC9B,MAAM7H,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACo8B,IAAI;IACjC,MAAMA,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IAExB,IAAI,CAACv0B,OAAO,CAACU,QAAQ,EAAE;MACrB,IAAI,CAACm0B,kBAAkB,IAAI,CAACC,gBAAgB,EAAE;QAC5C;MACF;MAEA,IAAIllC,CAAC,CAACgnB,IAAI,KAAK,UAAU,IAAIhnB,CAAC,CAACgnB,IAAI,KAAK,UAAU,IAAIhnB,CAAC,CAAC2pB,cAAc,CAACtzB,MAAM,GAAG,CAAC,IAAI,CAACib,MAAM,CAACE,OAAO,EAAE;QACpG;MACF;MAEAyzB,kBAAkB,GAAG,KAAK;MAC1BC,gBAAgB,GAAG,KAAK;IAC1B;IAEA,IAAI,CAACC,OAAO,CAACG,QAAQ,IAAIH,OAAO,CAACG,QAAQ,CAACjvC,MAAM,KAAK,CAAC,EAAE;IACxDsuC,IAAI,CAAC7C,KAAK,GAAGv6B,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACk9B,IAAI,CAAC7C,KAAK,EAAEqD,OAAO,CAACP,QAAQ,CAAC,EAAEr8B,MAAM,CAACmnB,QAAQ,CAAC;IAC9EyV,OAAO,CAACG,QAAQ,CAAChmC,UAAU,CAACgQ,MAAM,CAAC/G,MAAM,CAACoH,KAAK,CAAC,CAACtQ,SAAS,6BAAA4S,MAAA,CAA6B0yB,IAAI,CAAC7C,KAAK,MAAG,CAAC;IACrGuC,YAAY,GAAGM,IAAI,CAAC7C,KAAK;IACzBiD,SAAS,GAAG,KAAK;IACjB,IAAIJ,IAAI,CAAC7C,KAAK,KAAK,CAAC,EAAEqD,OAAO,CAAC7N,QAAQ,GAAGv5B,SAAS;EACpD;EAEA,SAAS2oB,YAAYA,CAAC1mB,CAAC,EAAE;IACvB,MAAMsR,MAAM,GAAGhC,MAAM,CAACgC,MAAM;IAC5B,IAAI,CAAC6zB,OAAO,CAACG,QAAQ,IAAIH,OAAO,CAACG,QAAQ,CAACjvC,MAAM,KAAK,CAAC,EAAE;IACxD,IAAIy6B,KAAK,CAAC3J,SAAS,EAAE;IACrB,IAAI7V,MAAM,CAACE,OAAO,IAAIxR,CAAC,CAAC4B,UAAU,EAAE5B,CAAC,CAAC2oB,cAAc,CAAC,CAAC;IACtDmI,KAAK,CAAC3J,SAAS,GAAG,IAAI;IACtB2J,KAAK,CAAC8U,YAAY,CAAC1lB,CAAC,GAAGlgB,CAAC,CAACgnB,IAAI,KAAK,YAAY,GAAGhnB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACC,KAAK,GAAGloB,CAAC,CAACkoB,KAAK;IACnF4I,KAAK,CAAC8U,YAAY,CAACzlB,CAAC,GAAGngB,CAAC,CAACgnB,IAAI,KAAK,YAAY,GAAGhnB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACG,KAAK,GAAGpoB,CAAC,CAACooB,KAAK;EACrF;EAEA,SAASqB,WAAWA,CAACzpB,CAAC,EAAE;IACtB,MAAM2kC,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IACxB,IAAI,CAACQ,OAAO,CAACG,QAAQ,IAAIH,OAAO,CAACG,QAAQ,CAACjvC,MAAM,KAAK,CAAC,EAAE;IACxDiZ,MAAM,CAACwY,UAAU,GAAG,KAAK;IACzB,IAAI,CAACgJ,KAAK,CAAC3J,SAAS,IAAI,CAACge,OAAO,CAAC7N,QAAQ,EAAE;IAE3C,IAAI,CAACxG,KAAK,CAAC1J,OAAO,EAAE;MAClB0J,KAAK,CAAC3uB,KAAK,GAAGgjC,OAAO,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC7iC,WAAW;MAC7CquB,KAAK,CAACpuB,MAAM,GAAGyiC,OAAO,CAACG,QAAQ,CAAC,CAAC,CAAC,CAACziC,YAAY;MAC/CiuB,KAAK,CAACzI,MAAM,GAAG,IAAAnb,mBAAY,EAACi4B,OAAO,CAACI,YAAY,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9DzU,KAAK,CAACxI,MAAM,GAAG,IAAApb,mBAAY,EAACi4B,OAAO,CAACI,YAAY,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC;MAC9DJ,OAAO,CAACC,UAAU,GAAGD,OAAO,CAAC7N,QAAQ,CAAC,CAAC,CAAC,CAAC70B,WAAW;MACpD0iC,OAAO,CAACE,WAAW,GAAGF,OAAO,CAAC7N,QAAQ,CAAC,CAAC,CAAC,CAACz0B,YAAY;MACtDsiC,OAAO,CAACI,YAAY,CAACjmC,UAAU,CAAC,CAAC,CAAC;IACpC,CAAC,CAAC;;IAGF,MAAMsnC,WAAW,GAAG9V,KAAK,CAAC3uB,KAAK,GAAGwiC,IAAI,CAAC7C,KAAK;IAC5C,MAAM+E,YAAY,GAAG/V,KAAK,CAACpuB,MAAM,GAAGiiC,IAAI,CAAC7C,KAAK;IAC9C,IAAI8E,WAAW,GAAGzB,OAAO,CAACC,UAAU,IAAIyB,YAAY,GAAG1B,OAAO,CAACE,WAAW,EAAE;IAC5EvU,KAAK,CAAC0U,IAAI,GAAGj+B,IAAI,CAACE,GAAG,CAAC09B,OAAO,CAACC,UAAU,GAAG,CAAC,GAAGwB,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC;IAClE9V,KAAK,CAAC4U,IAAI,GAAG,CAAC5U,KAAK,CAAC0U,IAAI;IACxB1U,KAAK,CAAC2U,IAAI,GAAGl+B,IAAI,CAACE,GAAG,CAAC09B,OAAO,CAACE,WAAW,GAAG,CAAC,GAAGwB,YAAY,GAAG,CAAC,EAAE,CAAC,CAAC;IACpE/V,KAAK,CAAC6U,IAAI,GAAG,CAAC7U,KAAK,CAAC2U,IAAI;IACxB3U,KAAK,CAAC+U,cAAc,CAAC3lB,CAAC,GAAGlgB,CAAC,CAACgnB,IAAI,KAAK,WAAW,GAAGhnB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACC,KAAK,GAAGloB,CAAC,CAACkoB,KAAK;IACpF4I,KAAK,CAAC+U,cAAc,CAAC1lB,CAAC,GAAGngB,CAAC,CAACgnB,IAAI,KAAK,WAAW,GAAGhnB,CAAC,CAACioB,aAAa,CAAC,CAAC,CAAC,CAACG,KAAK,GAAGpoB,CAAC,CAACooB,KAAK;IAEpF,IAAI,CAAC0I,KAAK,CAAC1J,OAAO,IAAI,CAAC2d,SAAS,EAAE;MAChC,IAAIz1B,MAAM,CAACyG,YAAY,CAAC,CAAC,KAAKxO,IAAI,CAACkS,KAAK,CAACqX,KAAK,CAAC0U,IAAI,CAAC,KAAKj+B,IAAI,CAACkS,KAAK,CAACqX,KAAK,CAACzI,MAAM,CAAC,IAAIyI,KAAK,CAAC+U,cAAc,CAAC3lB,CAAC,GAAG4Q,KAAK,CAAC8U,YAAY,CAAC1lB,CAAC,IAAI3Y,IAAI,CAACkS,KAAK,CAACqX,KAAK,CAAC4U,IAAI,CAAC,KAAKn+B,IAAI,CAACkS,KAAK,CAACqX,KAAK,CAACzI,MAAM,CAAC,IAAIyI,KAAK,CAAC+U,cAAc,CAAC3lB,CAAC,GAAG4Q,KAAK,CAAC8U,YAAY,CAAC1lB,CAAC,CAAC,EAAE;QAC3O4Q,KAAK,CAAC3J,SAAS,GAAG,KAAK;QACvB;MACF;MAEA,IAAI,CAAC7X,MAAM,CAACyG,YAAY,CAAC,CAAC,KAAKxO,IAAI,CAACkS,KAAK,CAACqX,KAAK,CAAC2U,IAAI,CAAC,KAAKl+B,IAAI,CAACkS,KAAK,CAACqX,KAAK,CAACxI,MAAM,CAAC,IAAIwI,KAAK,CAAC+U,cAAc,CAAC1lB,CAAC,GAAG2Q,KAAK,CAAC8U,YAAY,CAACzlB,CAAC,IAAI5Y,IAAI,CAACkS,KAAK,CAACqX,KAAK,CAAC6U,IAAI,CAAC,KAAKp+B,IAAI,CAACkS,KAAK,CAACqX,KAAK,CAACxI,MAAM,CAAC,IAAIwI,KAAK,CAAC+U,cAAc,CAAC1lB,CAAC,GAAG2Q,KAAK,CAAC8U,YAAY,CAACzlB,CAAC,CAAC,EAAE;QAC5O2Q,KAAK,CAAC3J,SAAS,GAAG,KAAK;QACvB;MACF;IACF;IAEA,IAAInnB,CAAC,CAAC4B,UAAU,EAAE;MAChB5B,CAAC,CAAC2oB,cAAc,CAAC,CAAC;IACpB;IAEA3oB,CAAC,CAACqqB,eAAe,CAAC,CAAC;IACnByG,KAAK,CAAC1J,OAAO,GAAG,IAAI;IACpB0J,KAAK,CAAC9I,QAAQ,GAAG8I,KAAK,CAAC+U,cAAc,CAAC3lB,CAAC,GAAG4Q,KAAK,CAAC8U,YAAY,CAAC1lB,CAAC,GAAG4Q,KAAK,CAACzI,MAAM;IAC7EyI,KAAK,CAAC3I,QAAQ,GAAG2I,KAAK,CAAC+U,cAAc,CAAC1lB,CAAC,GAAG2Q,KAAK,CAAC8U,YAAY,CAACzlB,CAAC,GAAG2Q,KAAK,CAACxI,MAAM;IAE7E,IAAIwI,KAAK,CAAC9I,QAAQ,GAAG8I,KAAK,CAAC0U,IAAI,EAAE;MAC/B1U,KAAK,CAAC9I,QAAQ,GAAG8I,KAAK,CAAC0U,IAAI,GAAG,CAAC,GAAG,CAAC1U,KAAK,CAAC0U,IAAI,GAAG1U,KAAK,CAAC9I,QAAQ,GAAG,CAAC,KAAK,GAAG;IAC5E;IAEA,IAAI8I,KAAK,CAAC9I,QAAQ,GAAG8I,KAAK,CAAC4U,IAAI,EAAE;MAC/B5U,KAAK,CAAC9I,QAAQ,GAAG8I,KAAK,CAAC4U,IAAI,GAAG,CAAC,GAAG,CAAC5U,KAAK,CAAC9I,QAAQ,GAAG8I,KAAK,CAAC4U,IAAI,GAAG,CAAC,KAAK,GAAG;IAC5E;IAEA,IAAI5U,KAAK,CAAC3I,QAAQ,GAAG2I,KAAK,CAAC2U,IAAI,EAAE;MAC/B3U,KAAK,CAAC3I,QAAQ,GAAG2I,KAAK,CAAC2U,IAAI,GAAG,CAAC,GAAG,CAAC3U,KAAK,CAAC2U,IAAI,GAAG3U,KAAK,CAAC3I,QAAQ,GAAG,CAAC,KAAK,GAAG;IAC5E;IAEA,IAAI2I,KAAK,CAAC3I,QAAQ,GAAG2I,KAAK,CAAC6U,IAAI,EAAE;MAC/B7U,KAAK,CAAC3I,QAAQ,GAAG2I,KAAK,CAAC6U,IAAI,GAAG,CAAC,GAAG,CAAC7U,KAAK,CAAC3I,QAAQ,GAAG2I,KAAK,CAAC6U,IAAI,GAAG,CAAC,KAAK,GAAG;IAC5E,CAAC,CAAC;;IAGF,IAAI,CAACnR,QAAQ,CAACsR,aAAa,EAAEtR,QAAQ,CAACsR,aAAa,GAAGhV,KAAK,CAAC+U,cAAc,CAAC3lB,CAAC;IAC5E,IAAI,CAACsU,QAAQ,CAACuR,aAAa,EAAEvR,QAAQ,CAACuR,aAAa,GAAGjV,KAAK,CAAC+U,cAAc,CAAC1lB,CAAC;IAC5E,IAAI,CAACqU,QAAQ,CAACwR,QAAQ,EAAExR,QAAQ,CAACwR,QAAQ,GAAG7sC,IAAI,CAAC6T,GAAG,CAAC,CAAC;IACtDwnB,QAAQ,CAACtU,CAAC,GAAG,CAAC4Q,KAAK,CAAC+U,cAAc,CAAC3lB,CAAC,GAAGsU,QAAQ,CAACsR,aAAa,KAAK3sC,IAAI,CAAC6T,GAAG,CAAC,CAAC,GAAGwnB,QAAQ,CAACwR,QAAQ,CAAC,GAAG,CAAC;IACrGxR,QAAQ,CAACrU,CAAC,GAAG,CAAC2Q,KAAK,CAAC+U,cAAc,CAAC1lB,CAAC,GAAGqU,QAAQ,CAACuR,aAAa,KAAK5sC,IAAI,CAAC6T,GAAG,CAAC,CAAC,GAAGwnB,QAAQ,CAACwR,QAAQ,CAAC,GAAG,CAAC;IACrG,IAAIz+B,IAAI,CAACoS,GAAG,CAACmX,KAAK,CAAC+U,cAAc,CAAC3lB,CAAC,GAAGsU,QAAQ,CAACsR,aAAa,CAAC,GAAG,CAAC,EAAEtR,QAAQ,CAACtU,CAAC,GAAG,CAAC;IACjF,IAAI3Y,IAAI,CAACoS,GAAG,CAACmX,KAAK,CAAC+U,cAAc,CAAC1lB,CAAC,GAAGqU,QAAQ,CAACuR,aAAa,CAAC,GAAG,CAAC,EAAEvR,QAAQ,CAACrU,CAAC,GAAG,CAAC;IACjFqU,QAAQ,CAACsR,aAAa,GAAGhV,KAAK,CAAC+U,cAAc,CAAC3lB,CAAC;IAC/CsU,QAAQ,CAACuR,aAAa,GAAGjV,KAAK,CAAC+U,cAAc,CAAC1lB,CAAC;IAC/CqU,QAAQ,CAACwR,QAAQ,GAAG7sC,IAAI,CAAC6T,GAAG,CAAC,CAAC;IAC9Bm4B,OAAO,CAACI,YAAY,CAAClmC,SAAS,gBAAA4S,MAAA,CAAgB6e,KAAK,CAAC9I,QAAQ,UAAA/V,MAAA,CAAO6e,KAAK,CAAC3I,QAAQ,UAAO,CAAC;EAC3F;EAEA,SAAS2C,UAAUA,CAAA,EAAG;IACpB,MAAM6Z,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IACxB,IAAI,CAACQ,OAAO,CAACG,QAAQ,IAAIH,OAAO,CAACG,QAAQ,CAACjvC,MAAM,KAAK,CAAC,EAAE;IAExD,IAAI,CAACy6B,KAAK,CAAC3J,SAAS,IAAI,CAAC2J,KAAK,CAAC1J,OAAO,EAAE;MACtC0J,KAAK,CAAC3J,SAAS,GAAG,KAAK;MACvB2J,KAAK,CAAC1J,OAAO,GAAG,KAAK;MACrB;IACF;IAEA0J,KAAK,CAAC3J,SAAS,GAAG,KAAK;IACvB2J,KAAK,CAAC1J,OAAO,GAAG,KAAK;IACrB,IAAI0f,iBAAiB,GAAG,GAAG;IAC3B,IAAIC,iBAAiB,GAAG,GAAG;IAC3B,MAAMC,iBAAiB,GAAGxS,QAAQ,CAACtU,CAAC,GAAG4mB,iBAAiB;IACxD,MAAMG,YAAY,GAAGnW,KAAK,CAAC9I,QAAQ,GAAGgf,iBAAiB;IACvD,MAAME,iBAAiB,GAAG1S,QAAQ,CAACrU,CAAC,GAAG4mB,iBAAiB;IACxD,MAAMI,YAAY,GAAGrW,KAAK,CAAC3I,QAAQ,GAAG+e,iBAAiB,CAAC,CAAC;;IAEzD,IAAI1S,QAAQ,CAACtU,CAAC,KAAK,CAAC,EAAE4mB,iBAAiB,GAAGv/B,IAAI,CAACoS,GAAG,CAAC,CAACstB,YAAY,GAAGnW,KAAK,CAAC9I,QAAQ,IAAIwM,QAAQ,CAACtU,CAAC,CAAC;IAChG,IAAIsU,QAAQ,CAACrU,CAAC,KAAK,CAAC,EAAE4mB,iBAAiB,GAAGx/B,IAAI,CAACoS,GAAG,CAAC,CAACwtB,YAAY,GAAGrW,KAAK,CAAC3I,QAAQ,IAAIqM,QAAQ,CAACrU,CAAC,CAAC;IAChG,MAAMinB,gBAAgB,GAAG7/B,IAAI,CAACC,GAAG,CAACs/B,iBAAiB,EAAEC,iBAAiB,CAAC;IACvEjW,KAAK,CAAC9I,QAAQ,GAAGif,YAAY;IAC7BnW,KAAK,CAAC3I,QAAQ,GAAGgf,YAAY,CAAC,CAAC;;IAE/B,MAAMP,WAAW,GAAG9V,KAAK,CAAC3uB,KAAK,GAAGwiC,IAAI,CAAC7C,KAAK;IAC5C,MAAM+E,YAAY,GAAG/V,KAAK,CAACpuB,MAAM,GAAGiiC,IAAI,CAAC7C,KAAK;IAC9ChR,KAAK,CAAC0U,IAAI,GAAGj+B,IAAI,CAACE,GAAG,CAAC09B,OAAO,CAACC,UAAU,GAAG,CAAC,GAAGwB,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC;IAClE9V,KAAK,CAAC4U,IAAI,GAAG,CAAC5U,KAAK,CAAC0U,IAAI;IACxB1U,KAAK,CAAC2U,IAAI,GAAGl+B,IAAI,CAACE,GAAG,CAAC09B,OAAO,CAACE,WAAW,GAAG,CAAC,GAAGwB,YAAY,GAAG,CAAC,EAAE,CAAC,CAAC;IACpE/V,KAAK,CAAC6U,IAAI,GAAG,CAAC7U,KAAK,CAAC2U,IAAI;IACxB3U,KAAK,CAAC9I,QAAQ,GAAGzgB,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACqpB,KAAK,CAAC9I,QAAQ,EAAE8I,KAAK,CAAC4U,IAAI,CAAC,EAAE5U,KAAK,CAAC0U,IAAI,CAAC;IAC3E1U,KAAK,CAAC3I,QAAQ,GAAG5gB,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACqpB,KAAK,CAAC3I,QAAQ,EAAE2I,KAAK,CAAC6U,IAAI,CAAC,EAAE7U,KAAK,CAAC2U,IAAI,CAAC;IAC3EN,OAAO,CAACI,YAAY,CAACjmC,UAAU,CAAC8nC,gBAAgB,CAAC,CAAC/nC,SAAS,gBAAA4S,MAAA,CAAgB6e,KAAK,CAAC9I,QAAQ,UAAA/V,MAAA,CAAO6e,KAAK,CAAC3I,QAAQ,UAAO,CAAC;EACxH;EAEA,SAASkf,eAAeA,CAAA,EAAG;IACzB,MAAM1C,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IAExB,IAAIQ,OAAO,CAAC7N,QAAQ,IAAIhoB,MAAM,CAACmP,aAAa,KAAKnP,MAAM,CAAC0M,WAAW,EAAE;MACnE,IAAImpB,OAAO,CAACG,QAAQ,EAAE;QACpBH,OAAO,CAACG,QAAQ,CAACjmC,SAAS,CAAC,6BAA6B,CAAC;MAC3D;MAEA,IAAI8lC,OAAO,CAACI,YAAY,EAAE;QACxBJ,OAAO,CAACI,YAAY,CAAClmC,SAAS,CAAC,oBAAoB,CAAC;MACtD;MAEAslC,IAAI,CAAC7C,KAAK,GAAG,CAAC;MACduC,YAAY,GAAG,CAAC;MAChBc,OAAO,CAAC7N,QAAQ,GAAGv5B,SAAS;MAC5BonC,OAAO,CAACG,QAAQ,GAAGvnC,SAAS;MAC5BonC,OAAO,CAACI,YAAY,GAAGxnC,SAAS;IAClC;EACF;EAEA,SAASupC,MAAMA,CAACtnC,CAAC,EAAE;IACjB,MAAM2kC,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IACxB,MAAMp8B,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACo8B,IAAI;IAEjC,IAAI,CAACQ,OAAO,CAAC7N,QAAQ,EAAE;MACrB,IAAIt3B,CAAC,IAAIA,CAAC,CAAChK,MAAM,EAAE;QACjBmvC,OAAO,CAAC7N,QAAQ,GAAG,IAAAl7B,YAAC,EAAC4D,CAAC,CAAChK,MAAM,CAAC,CAACmQ,OAAO,KAAA8L,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,CAAE,CAAC;MACxE;MAEA,IAAI,CAACguB,OAAO,CAAC7N,QAAQ,EAAE;QACrB,IAAIhoB,MAAM,CAAC/G,MAAM,CAACwO,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,IAAI1H,MAAM,CAACyH,OAAO,EAAE;UAC5EouB,OAAO,CAAC7N,QAAQ,GAAGhoB,MAAM,CAAC0F,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAACoV,gBAAgB,CAAE,CAAC;QACrF,CAAC,MAAM;UACLwnB,OAAO,CAAC7N,QAAQ,GAAGhoB,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC+K,MAAM,CAAC0M,WAAW,CAAC;QACzD;MACF;MAEAmpB,OAAO,CAACG,QAAQ,GAAGH,OAAO,CAAC7N,QAAQ,CAAClxB,IAAI,KAAA6L,MAAA,CAAK1J,MAAM,CAACs8B,cAAc,CAAE,CAAC,CAACtgC,EAAE,CAAC,CAAC,CAAC,CAAC6B,IAAI,CAAC,gDAAgD,CAAC,CAAC7B,EAAE,CAAC,CAAC,CAAC;MACxI4gC,OAAO,CAACI,YAAY,GAAGJ,OAAO,CAACG,QAAQ,CAACtgC,MAAM,KAAAiN,MAAA,CAAK1J,MAAM,CAACs8B,cAAc,CAAE,CAAC;IAC7E;IAEA,IAAI,CAACM,OAAO,CAACG,QAAQ,IAAIH,OAAO,CAACG,QAAQ,CAACjvC,MAAM,KAAK,CAAC,IAAI,CAAC8uC,OAAO,CAACI,YAAY,IAAIJ,OAAO,CAACI,YAAY,CAAClvC,MAAM,KAAK,CAAC,EAAE;IAEtH,IAAIiZ,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzBjJ,MAAM,CAACM,SAAS,CAACvY,KAAK,CAAC8Y,QAAQ,GAAG,QAAQ;MAC1Cb,MAAM,CAACM,SAAS,CAACvY,KAAK,CAACkwC,WAAW,GAAG,MAAM;IAC7C;IAEApC,OAAO,CAAC7N,QAAQ,CAAC16B,QAAQ,IAAAqV,MAAA,CAAI1J,MAAM,CAACu8B,gBAAgB,CAAE,CAAC;IACvD,IAAI0C,MAAM;IACV,IAAIC,MAAM;IACV,IAAIC,OAAO;IACX,IAAIC,OAAO;IACX,IAAI7d,KAAK;IACT,IAAIC,KAAK;IACT,IAAI6d,UAAU;IACd,IAAIC,UAAU;IACd,IAAIC,UAAU;IACd,IAAIC,WAAW;IACf,IAAInB,WAAW;IACf,IAAIC,YAAY;IAChB,IAAImB,aAAa;IACjB,IAAIC,aAAa;IACjB,IAAIC,aAAa;IACjB,IAAIC,aAAa;IACjB,IAAI/C,UAAU;IACd,IAAIC,WAAW;IAEf,IAAI,OAAOvU,KAAK,CAAC8U,YAAY,CAAC1lB,CAAC,KAAK,WAAW,IAAIlgB,CAAC,EAAE;MACpDwnC,MAAM,GAAGxnC,CAAC,CAACgnB,IAAI,KAAK,UAAU,GAAGhnB,CAAC,CAAC2pB,cAAc,CAAC,CAAC,CAAC,CAACzB,KAAK,GAAGloB,CAAC,CAACkoB,KAAK;MACpEuf,MAAM,GAAGznC,CAAC,CAACgnB,IAAI,KAAK,UAAU,GAAGhnB,CAAC,CAAC2pB,cAAc,CAAC,CAAC,CAAC,CAACvB,KAAK,GAAGpoB,CAAC,CAACooB,KAAK;IACtE,CAAC,MAAM;MACLof,MAAM,GAAG1W,KAAK,CAAC8U,YAAY,CAAC1lB,CAAC;MAC7BunB,MAAM,GAAG3W,KAAK,CAAC8U,YAAY,CAACzlB,CAAC;IAC/B;IAEAwkB,IAAI,CAAC7C,KAAK,GAAGqD,OAAO,CAACI,YAAY,CAAC5nC,IAAI,CAAC,kBAAkB,CAAC,IAAI4K,MAAM,CAACq8B,QAAQ;IAC7EP,YAAY,GAAGc,OAAO,CAACI,YAAY,CAAC5nC,IAAI,CAAC,kBAAkB,CAAC,IAAI4K,MAAM,CAACq8B,QAAQ;IAE/E,IAAI5kC,CAAC,EAAE;MACLolC,UAAU,GAAGD,OAAO,CAAC7N,QAAQ,CAAC,CAAC,CAAC,CAAC70B,WAAW;MAC5C4iC,WAAW,GAAGF,OAAO,CAAC7N,QAAQ,CAAC,CAAC,CAAC,CAACz0B,YAAY;MAC9C6kC,OAAO,GAAGvC,OAAO,CAAC7N,QAAQ,CAACx0B,MAAM,CAAC,CAAC,CAACU,IAAI,GAAG1J,MAAM,CAACwJ,OAAO;MACzDqkC,OAAO,GAAGxC,OAAO,CAAC7N,QAAQ,CAACx0B,MAAM,CAAC,CAAC,CAACS,GAAG,GAAGzJ,MAAM,CAACsJ,OAAO;MACxD0mB,KAAK,GAAG4d,OAAO,GAAGtC,UAAU,GAAG,CAAC,GAAGoC,MAAM;MACzCzd,KAAK,GAAG4d,OAAO,GAAGtC,WAAW,GAAG,CAAC,GAAGoC,MAAM;MAC1CK,UAAU,GAAG3C,OAAO,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC7iC,WAAW;MAC5CslC,WAAW,GAAG5C,OAAO,CAACG,QAAQ,CAAC,CAAC,CAAC,CAACziC,YAAY;MAC9C+jC,WAAW,GAAGkB,UAAU,GAAGnD,IAAI,CAAC7C,KAAK;MACrC+E,YAAY,GAAGkB,WAAW,GAAGpD,IAAI,CAAC7C,KAAK;MACvCkG,aAAa,GAAGzgC,IAAI,CAACE,GAAG,CAAC29B,UAAU,GAAG,CAAC,GAAGwB,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC;MAC7DqB,aAAa,GAAG1gC,IAAI,CAACE,GAAG,CAAC49B,WAAW,GAAG,CAAC,GAAGwB,YAAY,GAAG,CAAC,EAAE,CAAC,CAAC;MAC/DqB,aAAa,GAAG,CAACF,aAAa;MAC9BG,aAAa,GAAG,CAACF,aAAa;MAC9BL,UAAU,GAAG9d,KAAK,GAAG6a,IAAI,CAAC7C,KAAK;MAC/B+F,UAAU,GAAG9d,KAAK,GAAG4a,IAAI,CAAC7C,KAAK;MAE/B,IAAI8F,UAAU,GAAGI,aAAa,EAAE;QAC9BJ,UAAU,GAAGI,aAAa;MAC5B;MAEA,IAAIJ,UAAU,GAAGM,aAAa,EAAE;QAC9BN,UAAU,GAAGM,aAAa;MAC5B;MAEA,IAAIL,UAAU,GAAGI,aAAa,EAAE;QAC9BJ,UAAU,GAAGI,aAAa;MAC5B;MAEA,IAAIJ,UAAU,GAAGM,aAAa,EAAE;QAC9BN,UAAU,GAAGM,aAAa;MAC5B;IACF,CAAC,MAAM;MACLP,UAAU,GAAG,CAAC;MACdC,UAAU,GAAG,CAAC;IAChB;IAEA1C,OAAO,CAACI,YAAY,CAACjmC,UAAU,CAAC,GAAG,CAAC,CAACD,SAAS,gBAAA4S,MAAA,CAAgB21B,UAAU,UAAA31B,MAAA,CAAO41B,UAAU,UAAO,CAAC;IACjG1C,OAAO,CAACG,QAAQ,CAAChmC,UAAU,CAAC,GAAG,CAAC,CAACD,SAAS,6BAAA4S,MAAA,CAA6B0yB,IAAI,CAAC7C,KAAK,MAAG,CAAC;EACvF;EAEA,SAASsG,OAAOA,CAAA,EAAG;IACjB,MAAMzD,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IACxB,MAAMp8B,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACo8B,IAAI;IAEjC,IAAI,CAACQ,OAAO,CAAC7N,QAAQ,EAAE;MACrB,IAAIhoB,MAAM,CAAC/G,MAAM,CAACwO,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,IAAI1H,MAAM,CAACyH,OAAO,EAAE;QAC5EouB,OAAO,CAAC7N,QAAQ,GAAGhoB,MAAM,CAAC0F,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAACoV,gBAAgB,CAAE,CAAC;MACrF,CAAC,MAAM;QACLwnB,OAAO,CAAC7N,QAAQ,GAAGhoB,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC+K,MAAM,CAAC0M,WAAW,CAAC;MACzD;MAEAmpB,OAAO,CAACG,QAAQ,GAAGH,OAAO,CAAC7N,QAAQ,CAAClxB,IAAI,KAAA6L,MAAA,CAAK1J,MAAM,CAACs8B,cAAc,CAAE,CAAC,CAACtgC,EAAE,CAAC,CAAC,CAAC,CAAC6B,IAAI,CAAC,gDAAgD,CAAC,CAAC7B,EAAE,CAAC,CAAC,CAAC;MACxI4gC,OAAO,CAACI,YAAY,GAAGJ,OAAO,CAACG,QAAQ,CAACtgC,MAAM,KAAAiN,MAAA,CAAK1J,MAAM,CAACs8B,cAAc,CAAE,CAAC;IAC7E;IAEA,IAAI,CAACM,OAAO,CAACG,QAAQ,IAAIH,OAAO,CAACG,QAAQ,CAACjvC,MAAM,KAAK,CAAC,IAAI,CAAC8uC,OAAO,CAACI,YAAY,IAAIJ,OAAO,CAACI,YAAY,CAAClvC,MAAM,KAAK,CAAC,EAAE;IAEtH,IAAIiZ,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACzBjJ,MAAM,CAACM,SAAS,CAACvY,KAAK,CAAC8Y,QAAQ,GAAG,EAAE;MACpCb,MAAM,CAACM,SAAS,CAACvY,KAAK,CAACkwC,WAAW,GAAG,EAAE;IACzC;IAEA5C,IAAI,CAAC7C,KAAK,GAAG,CAAC;IACduC,YAAY,GAAG,CAAC;IAChBc,OAAO,CAACI,YAAY,CAACjmC,UAAU,CAAC,GAAG,CAAC,CAACD,SAAS,CAAC,oBAAoB,CAAC;IACpE8lC,OAAO,CAACG,QAAQ,CAAChmC,UAAU,CAAC,GAAG,CAAC,CAACD,SAAS,CAAC,6BAA6B,CAAC;IACzE8lC,OAAO,CAAC7N,QAAQ,CAACl6B,WAAW,IAAA6U,MAAA,CAAI1J,MAAM,CAACu8B,gBAAgB,CAAE,CAAC;IAC1DK,OAAO,CAAC7N,QAAQ,GAAGv5B,SAAS;EAC9B,CAAC,CAAC;;EAGF,SAASsqC,UAAUA,CAACroC,CAAC,EAAE;IACrB,MAAM2kC,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IAExB,IAAIA,IAAI,CAAC7C,KAAK,IAAI6C,IAAI,CAAC7C,KAAK,KAAK,CAAC,EAAE;MAClC;MACAsG,OAAO,CAAC,CAAC;IACX,CAAC,MAAM;MACL;MACAd,MAAM,CAACtnC,CAAC,CAAC;IACX;EACF;EAEA,SAASsoC,YAAYA,CAAA,EAAG;IACtB,MAAMl4B,OAAO,GAAGd,MAAM,CAACc,OAAO;IAC9B,MAAMM,eAAe,GAAGpB,MAAM,CAAC8d,WAAW,CAACG,KAAK,KAAK,YAAY,IAAInd,OAAO,CAACM,eAAe,IAAIpB,MAAM,CAAC/G,MAAM,CAACmlB,gBAAgB,GAAG;MAC/HC,OAAO,EAAE,IAAI;MACb7tB,OAAO,EAAE;IACX,CAAC,GAAG,KAAK;IACT,MAAMyoC,yBAAyB,GAAGn4B,OAAO,CAACM,eAAe,GAAG;MAC1Did,OAAO,EAAE,KAAK;MACd7tB,OAAO,EAAE;IACX,CAAC,GAAG,IAAI;IACR,OAAO;MACL4Q,eAAe,EAAfA,eAAe;MACf63B,yBAAyB,EAAzBA;IACF,CAAC;EACH;EAEA,SAASC,gBAAgBA,CAAA,EAAG;IAC1B,WAAAv2B,MAAA,CAAW3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU;EACrC;EAEA,SAASsxB,cAAcA,CAACnzB,MAAM,EAAE;IAC9B,MAAM;MACJ5E,eAAe,EAAfA;IACF,CAAC,GAAG43B,YAAY,CAAC,CAAC;IAClB,MAAMI,aAAa,GAAGF,gBAAgB,CAAC,CAAC;IACxCl5B,MAAM,CAAC0F,UAAU,CAACM,MAAM,CAAC,CAAC,cAAc,EAAEozB,aAAa,EAAEnC,cAAc,EAAE71B,eAAe,CAAC;IACzFpB,MAAM,CAAC0F,UAAU,CAACM,MAAM,CAAC,CAAC,eAAe,EAAEozB,aAAa,EAAEjC,eAAe,EAAE/1B,eAAe,CAAC;IAC3FpB,MAAM,CAAC0F,UAAU,CAACM,MAAM,CAAC,CAAC,YAAY,EAAEozB,aAAa,EAAE/B,YAAY,EAAEj2B,eAAe,CAAC;EACvF;EAEA,SAASi4B,cAAcA,CAAA,EAAG;IACxB,IAAI3D,eAAe,EAAE;IACrBA,eAAe,GAAG,IAAI;IACtByD,cAAc,CAAC,IAAI,CAAC;EACtB;EAEA,SAASG,eAAeA,CAAA,EAAG;IACzB,IAAI,CAAC5D,eAAe,EAAE;IACtBA,eAAe,GAAG,KAAK;IACvByD,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC,CAAC;;EAGF,SAASxZ,MAAMA,CAAA,EAAG;IAChB,MAAM0V,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IACxB,IAAIA,IAAI,CAAC3tB,OAAO,EAAE;IAClB2tB,IAAI,CAAC3tB,OAAO,GAAG,IAAI;IACnB,MAAM5G,OAAO,GAAGd,MAAM,CAACc,OAAO;IAC9B,MAAM;MACJM,eAAe,EAAfA,eAAe;MACf63B,yBAAyB,EAAzBA;IACF,CAAC,GAAGD,YAAY,CAAC,CAAC;IAClB,MAAMI,aAAa,GAAGF,gBAAgB,CAAC,CAAC,CAAC,CAAC;;IAE1C,IAAIp4B,OAAO,CAACU,QAAQ,EAAE;MACpBxB,MAAM,CAAC0F,UAAU,CAACvV,EAAE,CAAC6P,MAAM,CAAC8d,WAAW,CAACG,KAAK,EAAEob,cAAc,EAAEj4B,eAAe,CAAC;MAC/EpB,MAAM,CAAC0F,UAAU,CAACvV,EAAE,CAAC6P,MAAM,CAAC8d,WAAW,CAACK,GAAG,EAAEmb,eAAe,EAAEl4B,eAAe,CAAC;IAChF,CAAC,MAAM,IAAIpB,MAAM,CAAC8d,WAAW,CAACG,KAAK,KAAK,YAAY,EAAE;MACpDje,MAAM,CAAC0F,UAAU,CAACvV,EAAE,CAAC6P,MAAM,CAAC8d,WAAW,CAACG,KAAK,EAAEmb,aAAa,EAAEnC,cAAc,EAAE71B,eAAe,CAAC;MAC9FpB,MAAM,CAAC0F,UAAU,CAACvV,EAAE,CAAC6P,MAAM,CAAC8d,WAAW,CAACI,IAAI,EAAEkb,aAAa,EAAEjC,eAAe,EAAE8B,yBAAyB,CAAC;MACxGj5B,MAAM,CAAC0F,UAAU,CAACvV,EAAE,CAAC6P,MAAM,CAAC8d,WAAW,CAACK,GAAG,EAAEib,aAAa,EAAE/B,YAAY,EAAEj2B,eAAe,CAAC;MAE1F,IAAIpB,MAAM,CAAC8d,WAAW,CAACQ,MAAM,EAAE;QAC7Bte,MAAM,CAAC0F,UAAU,CAACvV,EAAE,CAAC6P,MAAM,CAAC8d,WAAW,CAACQ,MAAM,EAAE8a,aAAa,EAAE/B,YAAY,EAAEj2B,eAAe,CAAC;MAC/F;IACF,CAAC,CAAC;;IAGFpB,MAAM,CAAC0F,UAAU,CAACvV,EAAE,CAAC6P,MAAM,CAAC8d,WAAW,CAACI,IAAI,MAAAvb,MAAA,CAAM3C,MAAM,CAAC/G,MAAM,CAACo8B,IAAI,CAACE,cAAc,GAAIpb,WAAW,EAAE8e,yBAAyB,CAAC;EAChI;EAEA,SAASvZ,OAAOA,CAAA,EAAG;IACjB,MAAM2V,IAAI,GAAGr1B,MAAM,CAACq1B,IAAI;IACxB,IAAI,CAACA,IAAI,CAAC3tB,OAAO,EAAE;IACnB,MAAM5G,OAAO,GAAGd,MAAM,CAACc,OAAO;IAC9Bu0B,IAAI,CAAC3tB,OAAO,GAAG,KAAK;IACpB,MAAM;MACJtG,eAAe,EAAfA,eAAe;MACf63B,yBAAyB,EAAzBA;IACF,CAAC,GAAGD,YAAY,CAAC,CAAC;IAClB,MAAMI,aAAa,GAAGF,gBAAgB,CAAC,CAAC,CAAC,CAAC;;IAE1C,IAAIp4B,OAAO,CAACU,QAAQ,EAAE;MACpBxB,MAAM,CAAC0F,UAAU,CAAClU,GAAG,CAACwO,MAAM,CAAC8d,WAAW,CAACG,KAAK,EAAEob,cAAc,EAAEj4B,eAAe,CAAC;MAChFpB,MAAM,CAAC0F,UAAU,CAAClU,GAAG,CAACwO,MAAM,CAAC8d,WAAW,CAACK,GAAG,EAAEmb,eAAe,EAAEl4B,eAAe,CAAC;IACjF,CAAC,MAAM,IAAIpB,MAAM,CAAC8d,WAAW,CAACG,KAAK,KAAK,YAAY,EAAE;MACpDje,MAAM,CAAC0F,UAAU,CAAClU,GAAG,CAACwO,MAAM,CAAC8d,WAAW,CAACG,KAAK,EAAEmb,aAAa,EAAEnC,cAAc,EAAE71B,eAAe,CAAC;MAC/FpB,MAAM,CAAC0F,UAAU,CAAClU,GAAG,CAACwO,MAAM,CAAC8d,WAAW,CAACI,IAAI,EAAEkb,aAAa,EAAEjC,eAAe,EAAE8B,yBAAyB,CAAC;MACzGj5B,MAAM,CAAC0F,UAAU,CAAClU,GAAG,CAACwO,MAAM,CAAC8d,WAAW,CAACK,GAAG,EAAEib,aAAa,EAAE/B,YAAY,EAAEj2B,eAAe,CAAC;MAE3F,IAAIpB,MAAM,CAAC8d,WAAW,CAACQ,MAAM,EAAE;QAC7Bte,MAAM,CAAC0F,UAAU,CAAClU,GAAG,CAACwO,MAAM,CAAC8d,WAAW,CAACQ,MAAM,EAAE8a,aAAa,EAAE/B,YAAY,EAAEj2B,eAAe,CAAC;MAChG;IACF,CAAC,CAAC;;IAGFpB,MAAM,CAAC0F,UAAU,CAAClU,GAAG,CAACwO,MAAM,CAAC8d,WAAW,CAACI,IAAI,MAAAvb,MAAA,CAAM3C,MAAM,CAAC/G,MAAM,CAACo8B,IAAI,CAACE,cAAc,GAAIpb,WAAW,EAAE8e,yBAAyB,CAAC;EACjI;EAEA9oC,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAACo8B,IAAI,CAAC3tB,OAAO,EAAE;MAC9BiY,MAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACFxvB,EAAE,CAAC,SAAS,EAAE,MAAM;IAClBuvB,OAAO,CAAC,CAAC;EACX,CAAC,CAAC;EACFvvB,EAAE,CAAC,YAAY,EAAE,CAACm/B,EAAE,EAAE5+B,CAAC,KAAK;IAC1B,IAAI,CAACsP,MAAM,CAACq1B,IAAI,CAAC3tB,OAAO,EAAE;IAC1B0P,YAAY,CAAC1mB,CAAC,CAAC;EACjB,CAAC,CAAC;EACFP,EAAE,CAAC,UAAU,EAAE,CAACm/B,EAAE,EAAE5+B,CAAC,KAAK;IACxB,IAAI,CAACsP,MAAM,CAACq1B,IAAI,CAAC3tB,OAAO,EAAE;IAC1B8T,UAAU,CAAC9qB,CAAC,CAAC;EACf,CAAC,CAAC;EACFP,EAAE,CAAC,WAAW,EAAE,CAACm/B,EAAE,EAAE5+B,CAAC,KAAK;IACzB,IAAI,CAACsP,MAAM,CAAC7G,SAAS,IAAI6G,MAAM,CAAC/G,MAAM,CAACo8B,IAAI,CAAC3tB,OAAO,IAAI1H,MAAM,CAACq1B,IAAI,CAAC3tB,OAAO,IAAI1H,MAAM,CAAC/G,MAAM,CAACo8B,IAAI,CAACnnC,MAAM,EAAE;MACvG6qC,UAAU,CAACroC,CAAC,CAAC;IACf;EACF,CAAC,CAAC;EACFP,EAAE,CAAC,eAAe,EAAE,MAAM;IACxB,IAAI6P,MAAM,CAACq1B,IAAI,CAAC3tB,OAAO,IAAI1H,MAAM,CAAC/G,MAAM,CAACo8B,IAAI,CAAC3tB,OAAO,EAAE;MACrDqwB,eAAe,CAAC,CAAC;IACnB;EACF,CAAC,CAAC;EACF5nC,EAAE,CAAC,aAAa,EAAE,MAAM;IACtB,IAAI6P,MAAM,CAACq1B,IAAI,CAAC3tB,OAAO,IAAI1H,MAAM,CAAC/G,MAAM,CAACo8B,IAAI,CAAC3tB,OAAO,IAAI1H,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MAC9E8uB,eAAe,CAAC,CAAC;IACnB;EACF,CAAC,CAAC;EACFvxC,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACq1B,IAAI,EAAE;IACzB1V,MAAM,EAANA,MAAM;IACND,OAAO,EAAPA,OAAO;IACP6Z,EAAE,EAAEvB,MAAM;IACVwB,GAAG,EAAEV,OAAO;IACZ5qC,MAAM,EAAE6qC;EACV,CAAC,CAAC;AACJ;;;;;;;;ACnmBA,IAAAtuC,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAASmzC,IAAIA,CAAC;EAC3Bz5B,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACDqB,YAAY,CAAC;IACX+jB,IAAI,EAAE;MACJgR,WAAW,EAAE,KAAK;MAClBhyB,OAAO,EAAE,KAAK;MACdiyB,YAAY,EAAE,KAAK;MACnBC,kBAAkB,EAAE,CAAC;MACrBC,qBAAqB,EAAE,KAAK;MAC5BC,gBAAgB,EAAE,EAAE;MACpBC,YAAY,EAAE,aAAa;MAC3BC,YAAY,EAAE,qBAAqB;MACnCC,WAAW,EAAE,oBAAoB;MACjCC,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;EACFl6B,MAAM,CAAC0oB,IAAI,GAAG,CAAC,CAAC;EAChB,IAAIyR,qBAAqB,GAAG,KAAK;EACjC,IAAIC,kBAAkB,GAAG,KAAK;EAE9B,SAASC,WAAWA,CAAC9lC,KAAK,EAAE+lC,eAAe,GAAG,IAAI,EAAE;IAClD,MAAMrhC,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACyvB,IAAI;IACjC,IAAI,OAAOn0B,KAAK,KAAK,WAAW,EAAE;IAClC,IAAIyL,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,KAAK,CAAC,EAAE;IAChC,MAAMygB,SAAS,GAAGxH,MAAM,CAACyH,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO;IACjE,MAAMsgB,QAAQ,GAAGxgB,SAAS,GAAGxH,MAAM,CAAC0F,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,iCAAAlF,MAAA,CAA6BpO,KAAK,QAAI,CAAC,GAAGyL,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAACV,KAAK,CAAC;IACrJ,MAAMgmC,OAAO,GAAGvS,QAAQ,CAAClxB,IAAI,KAAA6L,MAAA,CAAK1J,MAAM,CAAC8gC,YAAY,YAAAp3B,MAAA,CAAS1J,MAAM,CAACghC,WAAW,aAAAt3B,MAAA,CAAU1J,MAAM,CAAC+gC,YAAY,MAAG,CAAC;IAEjH,IAAIhS,QAAQ,CAAC75B,QAAQ,CAAC8K,MAAM,CAAC8gC,YAAY,CAAC,IAAI,CAAC/R,QAAQ,CAAC75B,QAAQ,CAAC8K,MAAM,CAACghC,WAAW,CAAC,IAAI,CAACjS,QAAQ,CAAC75B,QAAQ,CAAC8K,MAAM,CAAC+gC,YAAY,CAAC,EAAE;MAC/HO,OAAO,CAAC7uC,IAAI,CAACs8B,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC3B;IAEA,IAAIuS,OAAO,CAACxzC,MAAM,KAAK,CAAC,EAAE;IAC1BwzC,OAAO,CAACjmC,IAAI,CAAC8sB,OAAO,IAAI;MACtB,MAAM4U,QAAQ,GAAG,IAAAlpC,YAAC,EAACs0B,OAAO,CAAC;MAC3B4U,QAAQ,CAAC1oC,QAAQ,CAAC2L,MAAM,CAAC+gC,YAAY,CAAC;MACtC,MAAMQ,UAAU,GAAGxE,QAAQ,CAAC3nC,IAAI,CAAC,iBAAiB,CAAC;MACnD,MAAM1H,GAAG,GAAGqvC,QAAQ,CAAC3nC,IAAI,CAAC,UAAU,CAAC;MACrC,MAAMgzB,MAAM,GAAG2U,QAAQ,CAAC3nC,IAAI,CAAC,aAAa,CAAC;MAC3C,MAAMizB,KAAK,GAAG0U,QAAQ,CAAC3nC,IAAI,CAAC,YAAY,CAAC;MACzC,MAAMosC,UAAU,GAAGzE,QAAQ,CAACtgC,MAAM,CAAC,SAAS,CAAC;MAC7CsK,MAAM,CAACmhB,SAAS,CAAC6U,QAAQ,CAAC,CAAC,CAAC,EAAErvC,GAAG,IAAI6zC,UAAU,EAAEnZ,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,MAAM;QAC3E,IAAI,OAAOthB,MAAM,KAAK,WAAW,IAAIA,MAAM,KAAK,IAAI,IAAI,CAACA,MAAM,IAAIA,MAAM,IAAI,CAACA,MAAM,CAAC/G,MAAM,IAAI+G,MAAM,CAAC0D,SAAS,EAAE;QAEjH,IAAI82B,UAAU,EAAE;UACdxE,QAAQ,CAACjjC,GAAG,CAAC,kBAAkB,WAAA4P,MAAA,CAAU63B,UAAU,QAAI,CAAC;UACxDxE,QAAQ,CAACrnC,UAAU,CAAC,iBAAiB,CAAC;QACxC,CAAC,MAAM;UACL,IAAI0yB,MAAM,EAAE;YACV2U,QAAQ,CAAC3nC,IAAI,CAAC,QAAQ,EAAEgzB,MAAM,CAAC;YAC/B2U,QAAQ,CAACrnC,UAAU,CAAC,aAAa,CAAC;UACpC;UAEA,IAAI2yB,KAAK,EAAE;YACT0U,QAAQ,CAAC3nC,IAAI,CAAC,OAAO,EAAEizB,KAAK,CAAC;YAC7B0U,QAAQ,CAACrnC,UAAU,CAAC,YAAY,CAAC;UACnC;UAEA,IAAI8rC,UAAU,CAAC1zC,MAAM,EAAE;YACrB0zC,UAAU,CAAC5yC,QAAQ,CAAC,QAAQ,CAAC,CAACyM,IAAI,CAAComC,QAAQ,IAAI;cAC7C,MAAMC,OAAO,GAAG,IAAA7tC,YAAC,EAAC4tC,QAAQ,CAAC;cAE3B,IAAIC,OAAO,CAACtsC,IAAI,CAAC,aAAa,CAAC,EAAE;gBAC/BssC,OAAO,CAACtsC,IAAI,CAAC,QAAQ,EAAEssC,OAAO,CAACtsC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACnDssC,OAAO,CAAChsC,UAAU,CAAC,aAAa,CAAC;cACnC;YACF,CAAC,CAAC;UACJ;UAEA,IAAIhI,GAAG,EAAE;YACPqvC,QAAQ,CAAC3nC,IAAI,CAAC,KAAK,EAAE1H,GAAG,CAAC;YACzBqvC,QAAQ,CAACrnC,UAAU,CAAC,UAAU,CAAC;UACjC;QACF;QAEAqnC,QAAQ,CAAC1oC,QAAQ,CAAC2L,MAAM,CAACghC,WAAW,CAAC,CAACnsC,WAAW,CAACmL,MAAM,CAAC+gC,YAAY,CAAC;QACtEhS,QAAQ,CAAClxB,IAAI,KAAA6L,MAAA,CAAK1J,MAAM,CAACihC,cAAc,CAAE,CAAC,CAACnsC,MAAM,CAAC,CAAC;QAEnD,IAAIiS,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,IAAI0rB,eAAe,EAAE;UACzC,MAAMM,kBAAkB,GAAG5S,QAAQ,CAAC35B,IAAI,CAAC,yBAAyB,CAAC;UAEnE,IAAI25B,QAAQ,CAAC75B,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAAC4V,mBAAmB,CAAC,EAAE;YACxD,MAAMgsB,aAAa,GAAG76B,MAAM,CAAC0F,UAAU,CAAC7d,QAAQ,+BAAA8a,MAAA,CAA8Bi4B,kBAAkB,eAAAj4B,MAAA,CAAW3C,MAAM,CAAC/G,MAAM,CAAC4V,mBAAmB,MAAG,CAAC;YAChJwrB,WAAW,CAACQ,aAAa,CAACtmC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC;UAC3C,CAAC,MAAM;YACL,MAAMumC,eAAe,GAAG96B,MAAM,CAAC0F,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4V,mBAAmB,iCAAAlM,MAAA,CAA6Bi4B,kBAAkB,QAAI,CAAC;YAC5IP,WAAW,CAACS,eAAe,CAACvmC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC;UAC7C;QACF;QAEA+O,IAAI,CAAC,gBAAgB,EAAE0kB,QAAQ,CAAC,CAAC,CAAC,EAAEgO,QAAQ,CAAC,CAAC,CAAC,CAAC;QAEhD,IAAIh2B,MAAM,CAAC/G,MAAM,CAACiV,UAAU,EAAE;UAC5BlO,MAAM,CAACoM,gBAAgB,CAAC,CAAC;QAC3B;MACF,CAAC,CAAC;MACF9I,IAAI,CAAC,eAAe,EAAE0kB,QAAQ,CAAC,CAAC,CAAC,EAAEgO,QAAQ,CAAC,CAAC,CAAC,CAAC;IACjD,CAAC,CAAC;EACJ;EAEA,SAASrN,IAAIA,CAAA,EAAG;IACd,MAAM;MACJjjB,UAAU,EAAVA,UAAU;MACVzM,MAAM,EAAE8rB,YAAY;MACpBnd,MAAM,EAANA,MAAM;MACN8E,WAAW,EAAXA;IACF,CAAC,GAAG1M,MAAM;IACV,MAAMwH,SAAS,GAAGxH,MAAM,CAACyH,OAAO,IAAIsd,YAAY,CAACtd,OAAO,CAACC,OAAO;IAChE,MAAMzO,MAAM,GAAG8rB,YAAY,CAAC2D,IAAI;IAChC,IAAIlf,aAAa,GAAGub,YAAY,CAACvb,aAAa;IAE9C,IAAIA,aAAa,KAAK,MAAM,EAAE;MAC5BA,aAAa,GAAG,CAAC;IACnB;IAEA,SAASuxB,UAAUA,CAACxmC,KAAK,EAAE;MACzB,IAAIiT,SAAS,EAAE;QACb,IAAI9B,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAKoiB,YAAY,CAACld,UAAU,iCAAAlF,MAAA,CAA6BpO,KAAK,QAAI,CAAC,CAACxN,MAAM,EAAE;UACjG,OAAO,IAAI;QACb;MACF,CAAC,MAAM,IAAI6gB,MAAM,CAACrT,KAAK,CAAC,EAAE,OAAO,IAAI;MAErC,OAAO,KAAK;IACd;IAEA,SAASuW,UAAUA,CAAC6a,OAAO,EAAE;MAC3B,IAAIne,SAAS,EAAE;QACb,OAAO,IAAA1a,YAAC,EAAC64B,OAAO,CAAC,CAACt3B,IAAI,CAAC,yBAAyB,CAAC;MACnD;MAEA,OAAO,IAAAvB,YAAC,EAAC64B,OAAO,CAAC,CAACpxB,KAAK,CAAC,CAAC;IAC3B;IAEA,IAAI,CAAC6lC,kBAAkB,EAAEA,kBAAkB,GAAG,IAAI;IAElD,IAAIp6B,MAAM,CAAC/G,MAAM,CAAC2S,mBAAmB,EAAE;MACrClG,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAKoiB,YAAY,CAAC/X,iBAAiB,CAAE,CAAC,CAAC1Y,IAAI,CAACqxB,OAAO,IAAI;QACxE,MAAMpxB,KAAK,GAAGiT,SAAS,GAAG,IAAA1a,YAAC,EAAC64B,OAAO,CAAC,CAACt3B,IAAI,CAAC,yBAAyB,CAAC,GAAG,IAAAvB,YAAC,EAAC64B,OAAO,CAAC,CAACpxB,KAAK,CAAC,CAAC;QACzF8lC,WAAW,CAAC9lC,KAAK,CAAC;MACpB,CAAC,CAAC;IACJ,CAAC,MAAM,IAAIiV,aAAa,GAAG,CAAC,EAAE;MAC5B,KAAK,IAAIvd,CAAC,GAAGygB,WAAW,EAAEzgB,CAAC,GAAGygB,WAAW,GAAGlD,aAAa,EAAEvd,CAAC,IAAI,CAAC,EAAE;QACjE,IAAI8uC,UAAU,CAAC9uC,CAAC,CAAC,EAAEouC,WAAW,CAACpuC,CAAC,CAAC;MACnC;IACF,CAAC,MAAM;MACLouC,WAAW,CAAC3tB,WAAW,CAAC;IAC1B;IAEA,IAAIzT,MAAM,CAAC0gC,YAAY,EAAE;MACvB,IAAInwB,aAAa,GAAG,CAAC,IAAIvQ,MAAM,CAAC2gC,kBAAkB,IAAI3gC,MAAM,CAAC2gC,kBAAkB,GAAG,CAAC,EAAE;QACnF,MAAMoB,MAAM,GAAG/hC,MAAM,CAAC2gC,kBAAkB;QACxC,MAAM7T,GAAG,GAAG9tB,IAAI,CAACwU,IAAI,CAACjD,aAAa,CAAC;QACpC,MAAMyxB,QAAQ,GAAGhjC,IAAI,CAACE,GAAG,CAACuU,WAAW,GAAGqZ,GAAG,GAAG9tB,IAAI,CAACC,GAAG,CAAC8iC,MAAM,EAAEjV,GAAG,CAAC,EAAEne,MAAM,CAAC7gB,MAAM,CAAC;QACnF,MAAMm0C,QAAQ,GAAGjjC,IAAI,CAACC,GAAG,CAACwU,WAAW,GAAGzU,IAAI,CAACC,GAAG,CAAC6tB,GAAG,EAAEiV,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;QAEnE,KAAK,IAAI/uC,CAAC,GAAGygB,WAAW,GAAGqZ,GAAG,EAAE95B,CAAC,GAAGgvC,QAAQ,EAAEhvC,CAAC,IAAI,CAAC,EAAE;UACpD,IAAI8uC,UAAU,CAAC9uC,CAAC,CAAC,EAAEouC,WAAW,CAACpuC,CAAC,CAAC;QACnC,CAAC,CAAC;;QAGF,KAAK,IAAIA,CAAC,GAAGivC,QAAQ,EAAEjvC,CAAC,GAAGygB,WAAW,EAAEzgB,CAAC,IAAI,CAAC,EAAE;UAC9C,IAAI8uC,UAAU,CAAC9uC,CAAC,CAAC,EAAEouC,WAAW,CAACpuC,CAAC,CAAC;QACnC;MACF,CAAC,MAAM;QACL,MAAM6iB,SAAS,GAAGpJ,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAKoiB,YAAY,CAACzW,cAAc,CAAE,CAAC;QACxE,IAAIQ,SAAS,CAAC/nB,MAAM,GAAG,CAAC,EAAEszC,WAAW,CAACvvB,UAAU,CAACgE,SAAS,CAAC,CAAC;QAC5D,MAAMC,SAAS,GAAGrJ,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAKoiB,YAAY,CAACxW,cAAc,CAAE,CAAC;QACxE,IAAIQ,SAAS,CAAChoB,MAAM,GAAG,CAAC,EAAEszC,WAAW,CAACvvB,UAAU,CAACiE,SAAS,CAAC,CAAC;MAC9D;IACF;EACF;EAEA,SAASosB,iBAAiBA,CAAA,EAAG;IAC3B,MAAM3wC,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;IAC1B,IAAI,CAAC0V,MAAM,IAAIA,MAAM,CAAC0D,SAAS,EAAE;IACjC,MAAM03B,cAAc,GAAGp7B,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACoR,gBAAgB,GAAG,IAAAhtC,YAAC,EAACkT,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACoR,gBAAgB,CAAC,GAAG,IAAAhtC,YAAC,EAACtC,MAAM,CAAC;IAC/G,MAAM6wC,QAAQ,GAAGD,cAAc,CAAC,CAAC,CAAC,KAAK5wC,MAAM;IAC7C,MAAM8wC,kBAAkB,GAAGD,QAAQ,GAAG7wC,MAAM,CAACsI,UAAU,GAAGsoC,cAAc,CAAC,CAAC,CAAC,CAACjoC,WAAW;IACvF,MAAMooC,mBAAmB,GAAGF,QAAQ,GAAG7wC,MAAM,CAAC6I,WAAW,GAAG+nC,cAAc,CAAC,CAAC,CAAC,CAAC7nC,YAAY;IAC1F,MAAM03B,YAAY,GAAGjrB,MAAM,CAACwF,GAAG,CAAChS,MAAM,CAAC,CAAC;IACxC,MAAM;MACJ6T,YAAY,EAAEC;IAChB,CAAC,GAAGtH,MAAM;IACV,IAAI4qB,MAAM,GAAG,KAAK;IAClB,IAAItjB,GAAG,EAAE2jB,YAAY,CAAC/2B,IAAI,IAAI8L,MAAM,CAACwF,GAAG,CAAC,CAAC,CAAC,CAACzR,UAAU;IACtD,MAAMm3B,WAAW,GAAG,CAAC,CAACD,YAAY,CAAC/2B,IAAI,EAAE+2B,YAAY,CAACh3B,GAAG,CAAC,EAAE,CAACg3B,YAAY,CAAC/2B,IAAI,GAAG8L,MAAM,CAACnN,KAAK,EAAEo4B,YAAY,CAACh3B,GAAG,CAAC,EAAE,CAACg3B,YAAY,CAAC/2B,IAAI,EAAE+2B,YAAY,CAACh3B,GAAG,GAAG+L,MAAM,CAAC5M,MAAM,CAAC,EAAE,CAAC63B,YAAY,CAAC/2B,IAAI,GAAG8L,MAAM,CAACnN,KAAK,EAAEo4B,YAAY,CAACh3B,GAAG,GAAG+L,MAAM,CAAC5M,MAAM,CAAC,CAAC;IAE9O,KAAK,IAAInH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGi/B,WAAW,CAACnkC,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAC9C,MAAMk0B,KAAK,GAAG+K,WAAW,CAACj/B,CAAC,CAAC;MAE5B,IAAIk0B,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAImb,kBAAkB,IAAInb,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAIob,mBAAmB,EAAE;QACvG,IAAIpb,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC;;QAEhDyK,MAAM,GAAG,IAAI;MACf;IACF;IAEA,MAAMxpB,eAAe,GAAGpB,MAAM,CAAC8d,WAAW,CAACG,KAAK,KAAK,YAAY,IAAIje,MAAM,CAACc,OAAO,CAACM,eAAe,IAAIpB,MAAM,CAAC/G,MAAM,CAACmlB,gBAAgB,GAAG;MACtIC,OAAO,EAAE,IAAI;MACb7tB,OAAO,EAAE;IACX,CAAC,GAAG,KAAK;IAET,IAAIo6B,MAAM,EAAE;MACVjC,IAAI,CAAC,CAAC;MACNyS,cAAc,CAAC5pC,GAAG,CAAC,QAAQ,EAAE2pC,iBAAiB,EAAE/5B,eAAe,CAAC;IAClE,CAAC,MAAM,IAAI,CAAC+4B,qBAAqB,EAAE;MACjCA,qBAAqB,GAAG,IAAI;MAC5BiB,cAAc,CAACjrC,EAAE,CAAC,QAAQ,EAAEgrC,iBAAiB,EAAE/5B,eAAe,CAAC;IACjE;EACF;EAEAjR,EAAE,CAAC,YAAY,EAAE,MAAM;IACrB,IAAI6P,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAAChhB,OAAO,IAAI1H,MAAM,CAAC/G,MAAM,CAAC4oB,aAAa,EAAE;MAC7D7hB,MAAM,CAAC/G,MAAM,CAAC4oB,aAAa,GAAG,KAAK;IACrC;EACF,CAAC,CAAC;EACF1xB,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAAChhB,OAAO,EAAE;MAC9B,IAAI1H,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACgR,WAAW,EAAE;QAClCyB,iBAAiB,CAAC,CAAC;MACrB,CAAC,MAAM;QACLxS,IAAI,CAAC,CAAC;MACR;IACF;EACF,CAAC,CAAC;EACFx4B,EAAE,CAAC,QAAQ,EAAE,MAAM;IACjB,IAAI6P,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,IAAIla,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,CAACxS,OAAO,IAAI,CAAC1H,MAAM,CAAC/G,MAAM,CAACihB,QAAQ,CAAC+T,MAAM,EAAE;MAC9FtF,IAAI,CAAC,CAAC;IACR;EACF,CAAC,CAAC;EACFx4B,EAAE,CAAC,qDAAqD,EAAE,MAAM;IAC9D,IAAI6P,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAAChhB,OAAO,EAAE;MAC9B,IAAI1H,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACgR,WAAW,EAAE;QAClCyB,iBAAiB,CAAC,CAAC;MACrB,CAAC,MAAM;QACLxS,IAAI,CAAC,CAAC;MACR;IACF;EACF,CAAC,CAAC;EACFx4B,EAAE,CAAC,iBAAiB,EAAE,MAAM;IAC1B,IAAI6P,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAAChhB,OAAO,EAAE;MAC9B,IAAI1H,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACmR,qBAAqB,IAAI,CAAC75B,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACmR,qBAAqB,IAAI,CAACO,kBAAkB,EAAE;QAChH,IAAIp6B,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACgR,WAAW,EAAE;UAClCyB,iBAAiB,CAAC,CAAC;QACrB,CAAC,MAAM;UACLxS,IAAI,CAAC,CAAC;QACR;MACF;IACF;EACF,CAAC,CAAC;EACFx4B,EAAE,CAAC,eAAe,EAAE,MAAM;IACxB,IAAI6P,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAAChhB,OAAO,IAAI,CAAC1H,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACmR,qBAAqB,EAAE;MAC3E,IAAI75B,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACgR,WAAW,EAAE;QAClCyB,iBAAiB,CAAC,CAAC;MACrB,CAAC,MAAM;QACLxS,IAAI,CAAC,CAAC;MACR;IACF;EACF,CAAC,CAAC;EACFx4B,EAAE,CAAC,aAAa,EAAE,MAAM;IACtB,MAAM;MACJu4B,IAAI,EAAJA,IAAI;MACJzf,OAAO,EAAPA,OAAO;MACP2C,mBAAmB,EAAnBA,mBAAmB;MACnB2O,mBAAmB,EAAnBA,mBAAmB;MACnBc,eAAe,EAAfA;IACF,CAAC,GAAGrb,MAAM,CAAC/G,MAAM;IAEjB,IAAIyvB,IAAI,CAAChhB,OAAO,KAAKuB,OAAO,IAAI2C,mBAAmB,KAAK2O,mBAAmB,IAAIc,eAAe,KAAK,CAAC,CAAC,CAAC,EAAE;MACtGsN,IAAI,CAAC,CAAC;IACR;EACF,CAAC,CAAC;EACFx4B,EAAE,CAAC,SAAS,EAAE,MAAM;IAClB,IAAI,CAAC6P,MAAM,CAACwF,GAAG,EAAE;IACjBxF,MAAM,CAACwF,GAAG,CAAC1O,IAAI,KAAA6L,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACsR,YAAY,CAAE,CAAC,CAAClsC,WAAW,CAACkS,MAAM,CAAC/G,MAAM,CAACyvB,IAAI,CAACsR,YAAY,CAAC;EACrG,CAAC,CAAC;EACFxzC,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAAC0oB,IAAI,EAAE;IACzBC,IAAI,EAAJA,IAAI;IACJ0R,WAAW,EAAXA;EACF,CAAC,CAAC;AACJ;;;;;;;;AC7RA,IAAAvzB,MAAA,GAAApc,OAAA;AADA;;AAEe,SAAS8wC,UAAUA,CAAC;EACjCx7B,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACX82B,UAAU,EAAE;MACVC,OAAO,EAAEjtC,SAAS;MAClBktC,OAAO,EAAE,KAAK;MACdC,EAAE,EAAE,OAAO,CAAC;IAEd;EACF,CAAC,CAAC;;EACF57B,MAAM,CAACy7B,UAAU,GAAG;IAClBC,OAAO,EAAEjtC;EACX,CAAC;EAED,SAASotC,YAAYA,CAACjrB,CAAC,EAAEC,CAAC,EAAE;IAC1B,MAAMirB,YAAY,GAAG,SAASlzC,MAAMA,CAAA,EAAG;MACrC,IAAIqyC,QAAQ;MACZ,IAAIC,QAAQ;MACZ,IAAIa,KAAK;MACT,OAAO,CAACC,KAAK,EAAExsC,GAAG,KAAK;QACrB0rC,QAAQ,GAAG,CAAC,CAAC;QACbD,QAAQ,GAAGe,KAAK,CAACj1C,MAAM;QAEvB,OAAOk0C,QAAQ,GAAGC,QAAQ,GAAG,CAAC,EAAE;UAC9Ba,KAAK,GAAGd,QAAQ,GAAGC,QAAQ,IAAI,CAAC;UAEhC,IAAIc,KAAK,CAACD,KAAK,CAAC,IAAIvsC,GAAG,EAAE;YACvB0rC,QAAQ,GAAGa,KAAK;UAClB,CAAC,MAAM;YACLd,QAAQ,GAAGc,KAAK;UAClB;QACF;QAEA,OAAOd,QAAQ;MACjB,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,IAAI,CAACrqB,CAAC,GAAGA,CAAC;IACV,IAAI,CAACC,CAAC,GAAGA,CAAC;IACV,IAAI,CAAC0D,SAAS,GAAG3D,CAAC,CAAC7pB,MAAM,GAAG,CAAC,CAAC,CAAC;IAC/B;IACA;;IAEA,IAAIk1C,EAAE;IACN,IAAIC,EAAE;IAEN,IAAI,CAACC,WAAW,GAAG,SAASA,WAAWA,CAACrF,EAAE,EAAE;MAC1C,IAAI,CAACA,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;;MAEnBoF,EAAE,GAAGJ,YAAY,CAAC,IAAI,CAAClrB,CAAC,EAAEkmB,EAAE,CAAC;MAC7BmF,EAAE,GAAGC,EAAE,GAAG,CAAC,CAAC,CAAC;MACb;;MAEA,OAAO,CAACpF,EAAE,GAAG,IAAI,CAAClmB,CAAC,CAACqrB,EAAE,CAAC,KAAK,IAAI,CAACprB,CAAC,CAACqrB,EAAE,CAAC,GAAG,IAAI,CAACrrB,CAAC,CAACorB,EAAE,CAAC,CAAC,IAAI,IAAI,CAACrrB,CAAC,CAACsrB,EAAE,CAAC,GAAG,IAAI,CAACtrB,CAAC,CAACqrB,EAAE,CAAC,CAAC,GAAG,IAAI,CAACprB,CAAC,CAACorB,EAAE,CAAC;IAC/F,CAAC;IAED,OAAO,IAAI;EACb,CAAC,CAAC;;EAGF,SAASG,sBAAsBA,CAAC1uC,CAAC,EAAE;IACjC,IAAI,CAACsS,MAAM,CAACy7B,UAAU,CAACY,MAAM,EAAE;MAC7Br8B,MAAM,CAACy7B,UAAU,CAACY,MAAM,GAAGr8B,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,GAAG,IAAIitB,YAAY,CAAC77B,MAAM,CAACgI,UAAU,EAAEta,CAAC,CAACsa,UAAU,CAAC,GAAG,IAAI6zB,YAAY,CAAC77B,MAAM,CAAC+H,QAAQ,EAAEra,CAAC,CAACqa,QAAQ,CAAC;IACnJ;EACF;EAEA,SAAS2I,YAAYA,CAAC4rB,EAAE,EAAE3rB,YAAY,EAAE;IACtC,MAAM4rB,UAAU,GAAGv8B,MAAM,CAACy7B,UAAU,CAACC,OAAO;IAC5C,IAAI/tB,UAAU;IACd,IAAI6uB,mBAAmB;IACvB,MAAM/X,MAAM,GAAGzkB,MAAM,CAACzZ,WAAW;IAEjC,SAASk2C,sBAAsBA,CAAC/uC,CAAC,EAAE;MACjC;MACA;MACA;MACA;MACA,MAAM0S,SAAS,GAAGJ,MAAM,CAACqH,YAAY,GAAG,CAACrH,MAAM,CAACI,SAAS,GAAGJ,MAAM,CAACI,SAAS;MAE5E,IAAIJ,MAAM,CAAC/G,MAAM,CAACwiC,UAAU,CAACG,EAAE,KAAK,OAAO,EAAE;QAC3CQ,sBAAsB,CAAC1uC,CAAC,CAAC,CAAC,CAAC;QAC3B;;QAEA8uC,mBAAmB,GAAG,CAACx8B,MAAM,CAACy7B,UAAU,CAACY,MAAM,CAACF,WAAW,CAAC,CAAC/7B,SAAS,CAAC;MACzE;MAEA,IAAI,CAACo8B,mBAAmB,IAAIx8B,MAAM,CAAC/G,MAAM,CAACwiC,UAAU,CAACG,EAAE,KAAK,WAAW,EAAE;QACvEjuB,UAAU,GAAG,CAACjgB,CAAC,CAACmgB,YAAY,CAAC,CAAC,GAAGngB,CAAC,CAAC0f,YAAY,CAAC,CAAC,KAAKpN,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG7N,MAAM,CAACoN,YAAY,CAAC,CAAC,CAAC;QACpGovB,mBAAmB,GAAG,CAACp8B,SAAS,GAAGJ,MAAM,CAACoN,YAAY,CAAC,CAAC,IAAIO,UAAU,GAAGjgB,CAAC,CAAC0f,YAAY,CAAC,CAAC;MAC3F;MAEA,IAAIpN,MAAM,CAAC/G,MAAM,CAACwiC,UAAU,CAACE,OAAO,EAAE;QACpCa,mBAAmB,GAAG9uC,CAAC,CAACmgB,YAAY,CAAC,CAAC,GAAG2uB,mBAAmB;MAC9D;MAEA9uC,CAAC,CAACggB,cAAc,CAAC8uB,mBAAmB,CAAC;MACrC9uC,CAAC,CAACgjB,YAAY,CAAC8rB,mBAAmB,EAAEx8B,MAAM,CAAC;MAC3CtS,CAAC,CAACuhB,iBAAiB,CAAC,CAAC;MACrBvhB,CAAC,CAACygB,mBAAmB,CAAC,CAAC;IACzB;IAEA,IAAIhjB,KAAK,CAACM,OAAO,CAAC8wC,UAAU,CAAC,EAAE;MAC7B,KAAK,IAAItwC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGswC,UAAU,CAACx1C,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QAC7C,IAAIswC,UAAU,CAACtwC,CAAC,CAAC,KAAK0kB,YAAY,IAAI4rB,UAAU,CAACtwC,CAAC,CAAC,YAAYw4B,MAAM,EAAE;UACrEgY,sBAAsB,CAACF,UAAU,CAACtwC,CAAC,CAAC,CAAC;QACvC;MACF;IACF,CAAC,MAAM,IAAIswC,UAAU,YAAY9X,MAAM,IAAI9T,YAAY,KAAK4rB,UAAU,EAAE;MACtEE,sBAAsB,CAACF,UAAU,CAAC;IACpC;EACF;EAEA,SAASjwB,aAAaA,CAACrc,QAAQ,EAAE0gB,YAAY,EAAE;IAC7C,MAAM8T,MAAM,GAAGzkB,MAAM,CAACzZ,WAAW;IACjC,MAAMg2C,UAAU,GAAGv8B,MAAM,CAACy7B,UAAU,CAACC,OAAO;IAC5C,IAAIzvC,CAAC;IAEL,SAASywC,uBAAuBA,CAAChvC,CAAC,EAAE;MAClCA,CAAC,CAAC4e,aAAa,CAACrc,QAAQ,EAAE+P,MAAM,CAAC;MAEjC,IAAI/P,QAAQ,KAAK,CAAC,EAAE;QAClBvC,CAAC,CAAC+E,eAAe,CAAC,CAAC;QAEnB,IAAI/E,CAAC,CAACuL,MAAM,CAACiV,UAAU,EAAE;UACvB,IAAA1Q,eAAQ,EAAC,MAAM;YACb9P,CAAC,CAAC0e,gBAAgB,CAAC,CAAC;UACtB,CAAC,CAAC;QACJ;QAEA1e,CAAC,CAACgY,UAAU,CAAC/S,aAAa,CAAC,MAAM;UAC/B,IAAI,CAAC4pC,UAAU,EAAE;UAEjB,IAAI7uC,CAAC,CAACuL,MAAM,CAAC2V,IAAI,IAAI5O,MAAM,CAAC/G,MAAM,CAACwiC,UAAU,CAACG,EAAE,KAAK,OAAO,EAAE;YAC5DluC,CAAC,CAAComB,OAAO,CAAC,CAAC;UACb;UAEApmB,CAAC,CAACiF,aAAa,CAAC,CAAC;QACnB,CAAC,CAAC;MACJ;IACF;IAEA,IAAIxH,KAAK,CAACM,OAAO,CAAC8wC,UAAU,CAAC,EAAE;MAC7B,KAAKtwC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGswC,UAAU,CAACx1C,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACzC,IAAIswC,UAAU,CAACtwC,CAAC,CAAC,KAAK0kB,YAAY,IAAI4rB,UAAU,CAACtwC,CAAC,CAAC,YAAYw4B,MAAM,EAAE;UACrEiY,uBAAuB,CAACH,UAAU,CAACtwC,CAAC,CAAC,CAAC;QACxC;MACF;IACF,CAAC,MAAM,IAAIswC,UAAU,YAAY9X,MAAM,IAAI9T,YAAY,KAAK4rB,UAAU,EAAE;MACtEG,uBAAuB,CAACH,UAAU,CAAC;IACrC;EACF;EAEA,SAASI,YAAYA,CAAA,EAAG;IACtB,IAAI,CAAC38B,MAAM,CAACy7B,UAAU,CAACC,OAAO,EAAE;IAEhC,IAAI17B,MAAM,CAACy7B,UAAU,CAACY,MAAM,EAAE;MAC5Br8B,MAAM,CAACy7B,UAAU,CAACY,MAAM,GAAG5tC,SAAS;MACpC,OAAOuR,MAAM,CAACy7B,UAAU,CAACY,MAAM;IACjC;EACF;EAEAlsC,EAAE,CAAC,YAAY,EAAE,MAAM;IACrB6P,MAAM,CAACy7B,UAAU,CAACC,OAAO,GAAG17B,MAAM,CAAC/G,MAAM,CAACwiC,UAAU,CAACC,OAAO;EAC9D,CAAC,CAAC;EACFvrC,EAAE,CAAC,QAAQ,EAAE,MAAM;IACjBwsC,YAAY,CAAC,CAAC;EAChB,CAAC,CAAC;EACFxsC,EAAE,CAAC,QAAQ,EAAE,MAAM;IACjBwsC,YAAY,CAAC,CAAC;EAChB,CAAC,CAAC;EACFxsC,EAAE,CAAC,gBAAgB,EAAE,MAAM;IACzBwsC,YAAY,CAAC,CAAC;EAChB,CAAC,CAAC;EACFxsC,EAAE,CAAC,cAAc,EAAE,CAACm/B,EAAE,EAAElvB,SAAS,EAAEuQ,YAAY,KAAK;IAClD,IAAI,CAAC3Q,MAAM,CAACy7B,UAAU,CAACC,OAAO,EAAE;IAChC17B,MAAM,CAACy7B,UAAU,CAAC/qB,YAAY,CAACtQ,SAAS,EAAEuQ,YAAY,CAAC;EACzD,CAAC,CAAC;EACFxgB,EAAE,CAAC,eAAe,EAAE,CAACm/B,EAAE,EAAEr/B,QAAQ,EAAE0gB,YAAY,KAAK;IAClD,IAAI,CAAC3Q,MAAM,CAACy7B,UAAU,CAACC,OAAO,EAAE;IAChC17B,MAAM,CAACy7B,UAAU,CAACnvB,aAAa,CAACrc,QAAQ,EAAE0gB,YAAY,CAAC;EACzD,CAAC,CAAC;EACFnqB,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACy7B,UAAU,EAAE;IAC/B/qB,YAAY,EAAZA,YAAY;IACZpE,aAAa,EAAbA;EACF,CAAC,CAAC;AACJ;;;;;;;;AC9LA,IAAAsjB,kBAAA,GAAA1jB,sBAAA,CAAAxhB,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAASs2C,IAAIA,CAAC;EAC3B58B,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACXk4B,IAAI,EAAE;MACJn1B,OAAO,EAAE,IAAI;MACbo1B,iBAAiB,EAAE,qBAAqB;MACxCC,gBAAgB,EAAE,gBAAgB;MAClCC,gBAAgB,EAAE,YAAY;MAC9BC,iBAAiB,EAAE,yBAAyB;MAC5CC,gBAAgB,EAAE,wBAAwB;MAC1CC,uBAAuB,EAAE,uBAAuB;MAChDC,iBAAiB,EAAE,8BAA8B;MACjDC,gBAAgB,EAAE,IAAI;MACtBC,+BAA+B,EAAE,IAAI;MACrCC,0BAA0B,EAAE,IAAI;MAChCC,SAAS,EAAE,OAAO;MAClBnzC,EAAE,EAAE;IACN;EACF,CAAC,CAAC;EACF2V,MAAM,CAAC68B,IAAI,GAAG;IACZY,OAAO,EAAE;EACX,CAAC;EACD,IAAIC,UAAU,GAAG,IAAI;EAErB,SAASC,MAAMA,CAACC,OAAO,EAAE;IACvB,MAAMC,YAAY,GAAGH,UAAU;IAC/B,IAAIG,YAAY,CAAC92C,MAAM,KAAK,CAAC,EAAE;IAC/B82C,YAAY,CAAC9wC,IAAI,CAAC,EAAE,CAAC;IACrB8wC,YAAY,CAAC9wC,IAAI,CAAC6wC,OAAO,CAAC;EAC5B;EAEA,SAASE,eAAeA,CAACj3B,IAAI,GAAG,EAAE,EAAE;IAClC,MAAMk3B,UAAU,GAAGA,CAAA,KAAM9lC,IAAI,CAAC+lC,KAAK,CAAC,EAAE,GAAG/lC,IAAI,CAACgmC,MAAM,CAAC,CAAC,CAAC,CAACx/B,QAAQ,CAAC,EAAE,CAAC;IAEpE,OAAO,GAAG,CAACy/B,MAAM,CAACr3B,IAAI,CAAC,CAACva,OAAO,CAAC,IAAI,EAAEyxC,UAAU,CAAC;EACnD;EAEA,SAASI,eAAeA,CAAC34B,GAAG,EAAE;IAC5BA,GAAG,CAACnX,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC;EAC3B;EAEA,SAAS+vC,kBAAkBA,CAAC54B,GAAG,EAAE;IAC/BA,GAAG,CAACnX,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;EAC5B;EAEA,SAASgwC,SAASA,CAAC74B,GAAG,EAAE84B,IAAI,EAAE;IAC5B94B,GAAG,CAACnX,IAAI,CAAC,MAAM,EAAEiwC,IAAI,CAAC;EACxB;EAEA,SAASC,oBAAoBA,CAAC/4B,GAAG,EAAEg5B,WAAW,EAAE;IAC9Ch5B,GAAG,CAACnX,IAAI,CAAC,sBAAsB,EAAEmwC,WAAW,CAAC;EAC/C;EAEA,SAASC,aAAaA,CAACj5B,GAAG,EAAEk5B,QAAQ,EAAE;IACpCl5B,GAAG,CAACnX,IAAI,CAAC,eAAe,EAAEqwC,QAAQ,CAAC;EACrC;EAEA,SAASC,UAAUA,CAACn5B,GAAG,EAAE2B,KAAK,EAAE;IAC9B3B,GAAG,CAACnX,IAAI,CAAC,YAAY,EAAE8Y,KAAK,CAAC;EAC/B;EAEA,SAASy3B,OAAOA,CAACp5B,GAAG,EAAEnb,EAAE,EAAE;IACxBmb,GAAG,CAACnX,IAAI,CAAC,IAAI,EAAEhE,EAAE,CAAC;EACpB;EAEA,SAASw0C,SAASA,CAACr5B,GAAG,EAAEs5B,IAAI,EAAE;IAC5Bt5B,GAAG,CAACnX,IAAI,CAAC,WAAW,EAAEywC,IAAI,CAAC;EAC7B;EAEA,SAASC,SAASA,CAACv5B,GAAG,EAAE;IACtBA,GAAG,CAACnX,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC;EACjC;EAEA,SAAS2wC,QAAQA,CAACx5B,GAAG,EAAE;IACrBA,GAAG,CAACnX,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC;EAClC;EAEA,SAAS4wC,iBAAiBA,CAACvuC,CAAC,EAAE;IAC5B,IAAIA,CAAC,CAACs5B,OAAO,KAAK,EAAE,IAAIt5B,CAAC,CAACs5B,OAAO,KAAK,EAAE,EAAE;IAC1C,MAAM/wB,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI;IACjC,MAAMrlB,SAAS,GAAG,IAAA1qB,YAAC,EAAC4D,CAAC,CAAChK,MAAM,CAAC;IAE7B,IAAIsZ,MAAM,CAACwc,UAAU,IAAIxc,MAAM,CAACwc,UAAU,CAACsS,OAAO,IAAItX,SAAS,CAAC1mB,EAAE,CAACkP,MAAM,CAACwc,UAAU,CAACsS,OAAO,CAAC,EAAE;MAC7F,IAAI,EAAE9uB,MAAM,CAAC+N,KAAK,IAAI,CAAC/N,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,CAAC,EAAE;QAC1C5O,MAAM,CAACwT,SAAS,CAAC,CAAC;MACpB;MAEA,IAAIxT,MAAM,CAAC+N,KAAK,EAAE;QAChB4vB,MAAM,CAAC1kC,MAAM,CAACikC,gBAAgB,CAAC;MACjC,CAAC,MAAM;QACLS,MAAM,CAAC1kC,MAAM,CAAC+jC,gBAAgB,CAAC;MACjC;IACF;IAEA,IAAIh9B,MAAM,CAACwc,UAAU,IAAIxc,MAAM,CAACwc,UAAU,CAACuS,OAAO,IAAIvX,SAAS,CAAC1mB,EAAE,CAACkP,MAAM,CAACwc,UAAU,CAACuS,OAAO,CAAC,EAAE;MAC7F,IAAI,EAAE/uB,MAAM,CAAC8N,WAAW,IAAI,CAAC9N,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,CAAC,EAAE;QAChD5O,MAAM,CAACiU,SAAS,CAAC,CAAC;MACpB;MAEA,IAAIjU,MAAM,CAAC8N,WAAW,EAAE;QACtB6vB,MAAM,CAAC1kC,MAAM,CAACgkC,iBAAiB,CAAC;MAClC,CAAC,MAAM;QACLU,MAAM,CAAC1kC,MAAM,CAAC8jC,gBAAgB,CAAC;MACjC;IACF;IAEA,IAAI/8B,MAAM,CAACwvB,UAAU,IAAIhY,SAAS,CAAC1mB,EAAE,CAAC,IAAA6+B,0BAAiB,EAAC3vB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACkB,WAAW,CAAC,CAAC,EAAE;MAC9FlZ,SAAS,CAAC,CAAC,CAAC,CAAC7c,KAAK,CAAC,CAAC;IACtB;EACF;EAEA,SAASukC,gBAAgBA,CAAA,EAAG;IAC1B,IAAIl/B,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,IAAI5O,MAAM,CAAC/G,MAAM,CAAC+a,MAAM,IAAI,CAAChU,MAAM,CAACwc,UAAU,EAAE;IACtE,MAAM;MACJsS,OAAO,EAAPA,OAAO;MACPC,OAAO,EAAPA;IACF,CAAC,GAAG/uB,MAAM,CAACwc,UAAU;IAErB,IAAIuS,OAAO,IAAIA,OAAO,CAAChoC,MAAM,GAAG,CAAC,EAAE;MACjC,IAAIiZ,MAAM,CAAC8N,WAAW,EAAE;QACtBixB,SAAS,CAAChQ,OAAO,CAAC;QAClBqP,kBAAkB,CAACrP,OAAO,CAAC;MAC7B,CAAC,MAAM;QACLiQ,QAAQ,CAACjQ,OAAO,CAAC;QACjBoP,eAAe,CAACpP,OAAO,CAAC;MAC1B;IACF;IAEA,IAAID,OAAO,IAAIA,OAAO,CAAC/nC,MAAM,GAAG,CAAC,EAAE;MACjC,IAAIiZ,MAAM,CAAC+N,KAAK,EAAE;QAChBgxB,SAAS,CAACjQ,OAAO,CAAC;QAClBsP,kBAAkB,CAACtP,OAAO,CAAC;MAC7B,CAAC,MAAM;QACLkQ,QAAQ,CAAClQ,OAAO,CAAC;QACjBqP,eAAe,CAACrP,OAAO,CAAC;MAC1B;IACF;EACF;EAEA,SAASqQ,aAAaA,CAAA,EAAG;IACvB,OAAOn/B,MAAM,CAACwvB,UAAU,IAAIxvB,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,IAAIrxB,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,CAACtqC,MAAM;EAC3F;EAEA,SAASq4C,sBAAsBA,CAAA,EAAG;IAChC,OAAOD,aAAa,CAAC,CAAC,IAAIn/B,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACC,SAAS;EAC9D;EAEA,SAAS4P,gBAAgBA,CAAA,EAAG;IAC1B,MAAMpmC,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI;IACjC,IAAI,CAACsC,aAAa,CAAC,CAAC,EAAE;IACtBn/B,MAAM,CAACwvB,UAAU,CAAC6B,OAAO,CAAC/8B,IAAI,CAACgrC,QAAQ,IAAI;MACzC,MAAM5N,SAAS,GAAG,IAAA5kC,YAAC,EAACwyC,QAAQ,CAAC;MAE7B,IAAIt/B,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACC,SAAS,EAAE;QACtC0O,eAAe,CAACzM,SAAS,CAAC;QAE1B,IAAI,CAAC1xB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACQ,YAAY,EAAE;UAC1CqO,SAAS,CAAC3M,SAAS,EAAE,QAAQ,CAAC;UAC9BiN,UAAU,CAACjN,SAAS,EAAEz4B,MAAM,CAACkkC,uBAAuB,CAAC7wC,OAAO,CAAC,eAAe,EAAEolC,SAAS,CAACn9B,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACvG;MACF;MAEA,IAAIm9B,SAAS,CAAC5gC,EAAE,KAAA6R,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACmB,iBAAiB,CAAE,CAAC,EAAE;QAClEe,SAAS,CAACrjC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC;MACxC,CAAC,MAAM;QACLqjC,SAAS,CAAC/iC,UAAU,CAAC,cAAc,CAAC;MACtC;IACF,CAAC,CAAC;EACJ;EAEA,MAAM4wC,SAAS,GAAGA,CAAC/5B,GAAG,EAAEg6B,SAAS,EAAE5B,OAAO,KAAK;IAC7CO,eAAe,CAAC34B,GAAG,CAAC;IAEpB,IAAIA,GAAG,CAAC,CAAC,CAAC,CAAC2pB,OAAO,KAAK,QAAQ,EAAE;MAC/BkP,SAAS,CAAC74B,GAAG,EAAE,QAAQ,CAAC;MACxBA,GAAG,CAACrV,EAAE,CAAC,SAAS,EAAE8uC,iBAAiB,CAAC;IACtC;IAEAN,UAAU,CAACn5B,GAAG,EAAEo4B,OAAO,CAAC;IACxBa,aAAa,CAACj5B,GAAG,EAAEg6B,SAAS,CAAC;EAC/B,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC9Bz/B,MAAM,CAAC68B,IAAI,CAACY,OAAO,GAAG,IAAI;EAC5B,CAAC;EAED,MAAMiC,eAAe,GAAGA,CAAA,KAAM;IAC5Bx1C,qBAAqB,CAAC,MAAM;MAC1BA,qBAAqB,CAAC,MAAM;QAC1B,IAAI,CAAC8V,MAAM,CAAC0D,SAAS,EAAE;UACrB1D,MAAM,CAAC68B,IAAI,CAACY,OAAO,GAAG,KAAK;QAC7B;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,MAAMkC,WAAW,GAAGjvC,CAAC,IAAI;IACvB,IAAIsP,MAAM,CAAC68B,IAAI,CAACY,OAAO,EAAE;IACzB,MAAM9X,OAAO,GAAGj1B,CAAC,CAAChK,MAAM,CAACmQ,OAAO,KAAA8L,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,CAAE,CAAC;IAChE,IAAI,CAAC8d,OAAO,IAAI,CAAC3lB,MAAM,CAAC4H,MAAM,CAACg4B,QAAQ,CAACja,OAAO,CAAC,EAAE;IAClD,MAAMka,QAAQ,GAAG7/B,MAAM,CAAC4H,MAAM,CAAC1b,OAAO,CAACy5B,OAAO,CAAC,KAAK3lB,MAAM,CAAC0M,WAAW;IACtE,MAAMc,SAAS,GAAGxN,MAAM,CAAC/G,MAAM,CAAC2S,mBAAmB,IAAI5L,MAAM,CAACwM,aAAa,IAAIxM,MAAM,CAACwM,aAAa,CAACozB,QAAQ,CAACja,OAAO,CAAC;IACrH,IAAIka,QAAQ,IAAIryB,SAAS,EAAE;IAC3B,IAAI9c,CAAC,CAACovC,kBAAkB,IAAIpvC,CAAC,CAACovC,kBAAkB,CAACC,gBAAgB,EAAE;IAEnE,IAAI//B,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;MACzBzG,MAAM,CAACxU,EAAE,CAACuI,UAAU,GAAG,CAAC;IAC1B,CAAC,MAAM;MACLiM,MAAM,CAACxU,EAAE,CAACqI,SAAS,GAAG,CAAC;IACzB;IAEAmM,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC4H,MAAM,CAAC1b,OAAO,CAACy5B,OAAO,CAAC,EAAE,CAAC,CAAC;EACnD,CAAC;EAED,MAAMtc,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMpQ,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI;IAEjC,IAAI5jC,MAAM,CAACskC,0BAA0B,EAAE;MACrCgB,oBAAoB,CAAC,IAAAzxC,YAAC,EAACkT,MAAM,CAAC4H,MAAM,CAAC,EAAE3O,MAAM,CAACskC,0BAA0B,CAAC;IAC3E;IAEA,IAAItkC,MAAM,CAACukC,SAAS,EAAE;MACpBa,SAAS,CAAC,IAAAvxC,YAAC,EAACkT,MAAM,CAAC4H,MAAM,CAAC,EAAE3O,MAAM,CAACukC,SAAS,CAAC;IAC/C;IAEA,MAAM11B,YAAY,GAAG9H,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,GAAG5O,MAAM,CAAC4H,MAAM,CAAC/b,MAAM,CAACL,EAAE,IAAI,CAACA,EAAE,CAACoC,SAAS,CAACQ,QAAQ,CAAC4R,MAAM,CAAC/G,MAAM,CAAC4V,mBAAmB,CAAC,CAAC,CAAC9nB,MAAM,GAAGiZ,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM;IAE7J,IAAIkS,MAAM,CAACmkC,iBAAiB,EAAE;MAC5Bp9B,MAAM,CAAC4H,MAAM,CAACtT,IAAI,CAAC,CAACqxB,OAAO,EAAEpxB,KAAK,KAAK;QACrC,MAAMyzB,QAAQ,GAAG,IAAAl7B,YAAC,EAAC64B,OAAO,CAAC;QAC3B,MAAM7a,UAAU,GAAG9K,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,GAAGjI,QAAQ,CAACqhB,QAAQ,CAAC35B,IAAI,CAAC,yBAAyB,CAAC,EAAE,EAAE,CAAC,GAAGkG,KAAK;QACtG,MAAMyrC,gBAAgB,GAAG/mC,MAAM,CAACmkC,iBAAiB,CAAC9wC,OAAO,CAAC,eAAe,EAAEwe,UAAU,GAAG,CAAC,CAAC,CAACxe,OAAO,CAAC,sBAAsB,EAAEwb,YAAY,CAAC;QACxI62B,UAAU,CAAC3W,QAAQ,EAAEgY,gBAAgB,CAAC;MACxC,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAM36B,IAAI,GAAGA,CAAA,KAAM;IACjB,MAAMpM,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI;IACjC78B,MAAM,CAACwF,GAAG,CAACrQ,MAAM,CAACuoC,UAAU,CAAC,CAAC,CAAC;;IAE/B,MAAMuC,YAAY,GAAGjgC,MAAM,CAACwF,GAAG;IAE/B,IAAIvM,MAAM,CAACqkC,+BAA+B,EAAE;MAC1CiB,oBAAoB,CAAC0B,YAAY,EAAEhnC,MAAM,CAACqkC,+BAA+B,CAAC;IAC5E;IAEA,IAAIrkC,MAAM,CAACokC,gBAAgB,EAAE;MAC3BsB,UAAU,CAACsB,YAAY,EAAEhnC,MAAM,CAACokC,gBAAgB,CAAC;IACnD,CAAC,CAAC;;IAGF,MAAM33B,UAAU,GAAG1F,MAAM,CAAC0F,UAAU;IACpC,MAAM85B,SAAS,GAAGvmC,MAAM,CAAC5O,EAAE,IAAIqb,UAAU,CAACrX,IAAI,CAAC,IAAI,CAAC,sBAAAsU,MAAA,CAAsBm7B,eAAe,CAAC,EAAE,CAAC,CAAE;IAC/F,MAAMgB,IAAI,GAAG9+B,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,IAAI7c,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAACnV,OAAO,GAAG,KAAK,GAAG,QAAQ;IACxFk3B,OAAO,CAACl5B,UAAU,EAAE85B,SAAS,CAAC;IAC9BX,SAAS,CAACn5B,UAAU,EAAEo5B,IAAI,CAAC,CAAC,CAAC;;IAE7Bz1B,UAAU,CAAC,CAAC,CAAC,CAAC;;IAEd,IAAIylB,OAAO;IACX,IAAIC,OAAO;IAEX,IAAI/uB,MAAM,CAACwc,UAAU,IAAIxc,MAAM,CAACwc,UAAU,CAACsS,OAAO,EAAE;MAClDA,OAAO,GAAG9uB,MAAM,CAACwc,UAAU,CAACsS,OAAO;IACrC;IAEA,IAAI9uB,MAAM,CAACwc,UAAU,IAAIxc,MAAM,CAACwc,UAAU,CAACuS,OAAO,EAAE;MAClDA,OAAO,GAAG/uB,MAAM,CAACwc,UAAU,CAACuS,OAAO;IACrC;IAEA,IAAID,OAAO,IAAIA,OAAO,CAAC/nC,MAAM,EAAE;MAC7Bw4C,SAAS,CAACzQ,OAAO,EAAE0Q,SAAS,EAAEvmC,MAAM,CAAC+jC,gBAAgB,CAAC;IACxD;IAEA,IAAIjO,OAAO,IAAIA,OAAO,CAAChoC,MAAM,EAAE;MAC7Bw4C,SAAS,CAACxQ,OAAO,EAAEyQ,SAAS,EAAEvmC,MAAM,CAAC8jC,gBAAgB,CAAC;IACxD,CAAC,CAAC;;IAGF,IAAIqC,sBAAsB,CAAC,CAAC,EAAE;MAC5Bp/B,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,CAACrV,EAAE,CAAC,SAAS,EAAE,IAAAw/B,0BAAiB,EAAC3vB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACkB,WAAW,CAAC,EAAEuO,iBAAiB,CAAC;IACjH,CAAC,CAAC;;IAGFj/B,MAAM,CAACwF,GAAG,CAACrV,EAAE,CAAC,OAAO,EAAEwvC,WAAW,EAAE,IAAI,CAAC;IACzC3/B,MAAM,CAACwF,GAAG,CAACrV,EAAE,CAAC,aAAa,EAAEsvC,iBAAiB,EAAE,IAAI,CAAC;IACrDz/B,MAAM,CAACwF,GAAG,CAACrV,EAAE,CAAC,WAAW,EAAEuvC,eAAe,EAAE,IAAI,CAAC;EACnD,CAAC;EAED,SAAS/5B,OAAOA,CAAA,EAAG;IACjB,IAAI+3B,UAAU,IAAIA,UAAU,CAAC32C,MAAM,GAAG,CAAC,EAAE22C,UAAU,CAAC3vC,MAAM,CAAC,CAAC;IAC5D,IAAI+gC,OAAO;IACX,IAAIC,OAAO;IAEX,IAAI/uB,MAAM,CAACwc,UAAU,IAAIxc,MAAM,CAACwc,UAAU,CAACsS,OAAO,EAAE;MAClDA,OAAO,GAAG9uB,MAAM,CAACwc,UAAU,CAACsS,OAAO;IACrC;IAEA,IAAI9uB,MAAM,CAACwc,UAAU,IAAIxc,MAAM,CAACwc,UAAU,CAACuS,OAAO,EAAE;MAClDA,OAAO,GAAG/uB,MAAM,CAACwc,UAAU,CAACuS,OAAO;IACrC;IAEA,IAAID,OAAO,EAAE;MACXA,OAAO,CAACt9B,GAAG,CAAC,SAAS,EAAEytC,iBAAiB,CAAC;IAC3C;IAEA,IAAIlQ,OAAO,EAAE;MACXA,OAAO,CAACv9B,GAAG,CAAC,SAAS,EAAEytC,iBAAiB,CAAC;IAC3C,CAAC,CAAC;;IAGF,IAAIG,sBAAsB,CAAC,CAAC,EAAE;MAC5Bp/B,MAAM,CAACwvB,UAAU,CAAChqB,GAAG,CAAChU,GAAG,CAAC,SAAS,EAAE,IAAAm+B,0BAAiB,EAAC3vB,MAAM,CAAC/G,MAAM,CAACu2B,UAAU,CAACkB,WAAW,CAAC,EAAEuO,iBAAiB,CAAC;IAClH,CAAC,CAAC;;IAGFj/B,MAAM,CAACwF,GAAG,CAAChU,GAAG,CAAC,OAAO,EAAEmuC,WAAW,EAAE,IAAI,CAAC;IAC1C3/B,MAAM,CAACwF,GAAG,CAAChU,GAAG,CAAC,aAAa,EAAEiuC,iBAAiB,EAAE,IAAI,CAAC;IACtDz/B,MAAM,CAACwF,GAAG,CAAChU,GAAG,CAAC,WAAW,EAAEkuC,eAAe,EAAE,IAAI,CAAC;EACpD;EAEAvvC,EAAE,CAAC,YAAY,EAAE,MAAM;IACrButC,UAAU,GAAG,IAAA5wC,YAAC,mBAAA6V,MAAA,CAAiB3C,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI,CAACC,iBAAiB,4DAAoD,CAAC;EAC1H,CAAC,CAAC;EACF3sC,EAAE,CAAC,WAAW,EAAE,MAAM;IACpB,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI,CAACn1B,OAAO,EAAE;IACjCrC,IAAI,CAAC,CAAC;EACR,CAAC,CAAC;EACFlV,EAAE,CAAC,gEAAgE,EAAE,MAAM;IACzE,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI,CAACn1B,OAAO,EAAE;IACjC2B,UAAU,CAAC,CAAC;EACd,CAAC,CAAC;EACFlZ,EAAE,CAAC,uCAAuC,EAAE,MAAM;IAChD,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI,CAACn1B,OAAO,EAAE;IACjCw3B,gBAAgB,CAAC,CAAC;EACpB,CAAC,CAAC;EACF/uC,EAAE,CAAC,kBAAkB,EAAE,MAAM;IAC3B,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI,CAACn1B,OAAO,EAAE;IACjC23B,gBAAgB,CAAC,CAAC;EACpB,CAAC,CAAC;EACFlvC,EAAE,CAAC,SAAS,EAAE,MAAM;IAClB,IAAI,CAAC6P,MAAM,CAAC/G,MAAM,CAAC4jC,IAAI,CAACn1B,OAAO,EAAE;IACjC/B,OAAO,CAAC,CAAC;EACX,CAAC,CAAC;AACJ;;;;;;;;AC9VA,IAAAlb,UAAA,GAAAC,OAAA;AACe,SAASw1C,OAAOA,CAAC;EAC9BlgC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACXvb,OAAO,EAAE;MACPse,OAAO,EAAE,KAAK;MACdy4B,IAAI,EAAE,EAAE;MACR92C,YAAY,EAAE,KAAK;MACnBvC,GAAG,EAAE,QAAQ;MACbs5C,SAAS,EAAE;IACb;EACF,CAAC,CAAC;EACF,IAAIz8B,WAAW,GAAG,KAAK;EACvB,IAAI08B,KAAK,GAAG,CAAC,CAAC;EAEd,MAAMC,OAAO,GAAG7rC,IAAI,IAAI;IACtB,OAAOA,IAAI,CAACgK,QAAQ,CAAC,CAAC,CAACnS,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EAChI,CAAC;EAED,MAAMi0C,aAAa,GAAGC,WAAW,IAAI;IACnC,MAAMh2C,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;IAC1B,IAAIlC,QAAQ;IAEZ,IAAIo4C,WAAW,EAAE;MACfp4C,QAAQ,GAAG,IAAIq4C,GAAG,CAACD,WAAW,CAAC;IACjC,CAAC,MAAM;MACLp4C,QAAQ,GAAGoC,MAAM,CAACpC,QAAQ;IAC5B;IAEA,MAAMs4C,SAAS,GAAGt4C,QAAQ,CAACM,QAAQ,CAACmW,KAAK,CAAC,CAAC,CAAC,CAAClR,KAAK,CAAC,GAAG,CAAC,CAAC9B,MAAM,CAAC80C,IAAI,IAAIA,IAAI,KAAK,EAAE,CAAC;IACnF,MAAMhP,KAAK,GAAG+O,SAAS,CAAC35C,MAAM;IAC9B,MAAMD,GAAG,GAAG45C,SAAS,CAAC/O,KAAK,GAAG,CAAC,CAAC;IAChC,MAAM1mC,KAAK,GAAGy1C,SAAS,CAAC/O,KAAK,GAAG,CAAC,CAAC;IAClC,OAAO;MACL7qC,GAAG,EAAHA,GAAG;MACHmE,KAAK,EAALA;IACF,CAAC;EACH,CAAC;EAED,MAAM21C,UAAU,GAAGA,CAAC95C,GAAG,EAAEyN,KAAK,KAAK;IACjC,MAAM/J,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;IAC1B,IAAI,CAACqZ,WAAW,IAAI,CAAC3D,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACse,OAAO,EAAE;IACpD,IAAItf,QAAQ;IAEZ,IAAI4X,MAAM,CAAC/G,MAAM,CAACypB,GAAG,EAAE;MACrBt6B,QAAQ,GAAG,IAAIq4C,GAAG,CAACzgC,MAAM,CAAC/G,MAAM,CAACypB,GAAG,CAAC;IACvC,CAAC,MAAM;MACLt6B,QAAQ,GAAGoC,MAAM,CAACpC,QAAQ;IAC5B;IAEA,MAAMshB,KAAK,GAAG1J,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAACV,KAAK,CAAC;IACrC,IAAItJ,KAAK,GAAGq1C,OAAO,CAAC52B,KAAK,CAACrb,IAAI,CAAC,cAAc,CAAC,CAAC;IAE/C,IAAI2R,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAAC+2C,IAAI,CAACp5C,MAAM,GAAG,CAAC,EAAE;MACzC,IAAIo5C,IAAI,GAAGngC,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAAC+2C,IAAI;MACrC,IAAIA,IAAI,CAACA,IAAI,CAACp5C,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAEo5C,IAAI,GAAGA,IAAI,CAACthC,KAAK,CAAC,CAAC,EAAEshC,IAAI,CAACp5C,MAAM,GAAG,CAAC,CAAC;MACxEkE,KAAK,MAAA0X,MAAA,CAAMw9B,IAAI,OAAAx9B,MAAA,CAAI7b,GAAG,OAAA6b,MAAA,CAAI1X,KAAK,CAAE;IACnC,CAAC,MAAM,IAAI,CAAC7C,QAAQ,CAACM,QAAQ,CAACk3C,QAAQ,CAAC94C,GAAG,CAAC,EAAE;MAC3CmE,KAAK,MAAA0X,MAAA,CAAM7b,GAAG,OAAA6b,MAAA,CAAI1X,KAAK,CAAE;IAC3B;IAEA,IAAI+U,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACg3C,SAAS,EAAE;MACnCn1C,KAAK,IAAI7C,QAAQ,CAACQ,MAAM;IAC1B;IAEA,MAAMi4C,YAAY,GAAGr2C,MAAM,CAACpB,OAAO,CAAC03C,KAAK;IAEzC,IAAID,YAAY,IAAIA,YAAY,CAAC51C,KAAK,KAAKA,KAAK,EAAE;MAChD;IACF;IAEA,IAAI+U,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACC,YAAY,EAAE;MACtCmB,MAAM,CAACpB,OAAO,CAACC,YAAY,CAAC;QAC1B4B,KAAK,EAALA;MACF,CAAC,EAAE,IAAI,EAAEA,KAAK,CAAC;IACjB,CAAC,MAAM;MACLT,MAAM,CAACpB,OAAO,CAACE,SAAS,CAAC;QACvB2B,KAAK,EAALA;MACF,CAAC,EAAE,IAAI,EAAEA,KAAK,CAAC;IACjB;EACF,CAAC;EAED,MAAM81C,aAAa,GAAGA,CAAC1gC,KAAK,EAAEpV,KAAK,EAAEimB,YAAY,KAAK;IACpD,IAAIjmB,KAAK,EAAE;MACT,KAAK,IAAIgB,CAAC,GAAG,CAAC,EAAElF,MAAM,GAAGiZ,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,GAAGlF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACjE,MAAMyd,KAAK,GAAG1J,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;QACjC,MAAM+0C,YAAY,GAAGV,OAAO,CAAC52B,KAAK,CAACrb,IAAI,CAAC,cAAc,CAAC,CAAC;QAExD,IAAI2yC,YAAY,KAAK/1C,KAAK,IAAI,CAACye,KAAK,CAACvb,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAAC4V,mBAAmB,CAAC,EAAE;UAChF,MAAMta,KAAK,GAAGmV,KAAK,CAACnV,KAAK,CAAC,CAAC;UAC3ByL,MAAM,CAACsS,OAAO,CAAC/d,KAAK,EAAE8L,KAAK,EAAE6Q,YAAY,CAAC;QAC5C;MACF;IACF,CAAC,MAAM;MACLlR,MAAM,CAACsS,OAAO,CAAC,CAAC,EAAEjS,KAAK,EAAE6Q,YAAY,CAAC;IACxC;EACF,CAAC;EAED,MAAM+vB,kBAAkB,GAAGA,CAAA,KAAM;IAC/BZ,KAAK,GAAGE,aAAa,CAACvgC,MAAM,CAAC/G,MAAM,CAACypB,GAAG,CAAC;IACxCqe,aAAa,CAAC/gC,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAEggC,KAAK,CAACp1C,KAAK,EAAE,KAAK,CAAC;EACxD,CAAC;EAED,MAAMoa,IAAI,GAAGA,CAAA,KAAM;IACjB,MAAM7a,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;IAC1B,IAAI,CAAC0V,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,EAAE;IAE5B,IAAI,CAACoB,MAAM,CAACpB,OAAO,IAAI,CAACoB,MAAM,CAACpB,OAAO,CAACE,SAAS,EAAE;MAChD0W,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACse,OAAO,GAAG,KAAK;MACrC1H,MAAM,CAAC/G,MAAM,CAACioC,cAAc,CAACx5B,OAAO,GAAG,IAAI;MAC3C;IACF;IAEA/D,WAAW,GAAG,IAAI;IAClB08B,KAAK,GAAGE,aAAa,CAACvgC,MAAM,CAAC/G,MAAM,CAACypB,GAAG,CAAC;IACxC,IAAI,CAAC2d,KAAK,CAACv5C,GAAG,IAAI,CAACu5C,KAAK,CAACp1C,KAAK,EAAE;IAChC81C,aAAa,CAAC,CAAC,EAAEV,KAAK,CAACp1C,KAAK,EAAE+U,MAAM,CAAC/G,MAAM,CAACuW,kBAAkB,CAAC;IAE/D,IAAI,CAACxP,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACC,YAAY,EAAE;MACvCmB,MAAM,CAACtD,gBAAgB,CAAC,UAAU,EAAE+5C,kBAAkB,CAAC;IACzD;EACF,CAAC;EAED,MAAMt7B,OAAO,GAAGA,CAAA,KAAM;IACpB,MAAMnb,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;IAE1B,IAAI,CAAC0V,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACC,YAAY,EAAE;MACvCmB,MAAM,CAACrD,mBAAmB,CAAC,UAAU,EAAE85C,kBAAkB,CAAC;IAC5D;EACF,CAAC;EAED9wC,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACse,OAAO,EAAE;MACjCrC,IAAI,CAAC,CAAC;IACR;EACF,CAAC,CAAC;EACFlV,EAAE,CAAC,SAAS,EAAE,MAAM;IAClB,IAAI6P,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACse,OAAO,EAAE;MACjC/B,OAAO,CAAC,CAAC;IACX;EACF,CAAC,CAAC;EACFxV,EAAE,CAAC,0CAA0C,EAAE,MAAM;IACnD,IAAIwT,WAAW,EAAE;MACfi9B,UAAU,CAAC5gC,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACtC,GAAG,EAAEkZ,MAAM,CAAC0M,WAAW,CAAC;IAC3D;EACF,CAAC,CAAC;EACFvc,EAAE,CAAC,aAAa,EAAE,MAAM;IACtB,IAAIwT,WAAW,IAAI3D,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACxC23B,UAAU,CAAC5gC,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACtC,GAAG,EAAEkZ,MAAM,CAAC0M,WAAW,CAAC;IAC3D;EACF,CAAC,CAAC;AACJ;;;;;;;;AC1JA,IAAAjiB,UAAA,GAAAC,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAAS66C,cAAcA,CAAC;EACrCnhC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZrB,IAAI,EAAJA,IAAI;EACJnT,EAAE,EAAFA;AACF,CAAC,EAAE;EACD,IAAIwT,WAAW,GAAG,KAAK;EACvB,MAAM3a,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;EAC9B,MAAM0B,MAAM,GAAG,IAAAF,oBAAS,EAAC,CAAC;EAC1Bqa,YAAY,CAAC;IACXu8B,cAAc,EAAE;MACdx5B,OAAO,EAAE,KAAK;MACdre,YAAY,EAAE,KAAK;MACnB+3C,UAAU,EAAE;IACd;EACF,CAAC,CAAC;EAEF,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB/9B,IAAI,CAAC,YAAY,CAAC;IAClB,MAAMg+B,OAAO,GAAGt4C,QAAQ,CAACZ,QAAQ,CAACC,IAAI,CAACiE,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;IACvD,MAAMi1C,eAAe,GAAGvhC,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC+K,MAAM,CAAC0M,WAAW,CAAC,CAACre,IAAI,CAAC,WAAW,CAAC;IAE9E,IAAIizC,OAAO,KAAKC,eAAe,EAAE;MAC/B,MAAMjuB,QAAQ,GAAGtT,MAAM,CAAC0F,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK3C,MAAM,CAAC/G,MAAM,CAAC4O,UAAU,mBAAAlF,MAAA,CAAe2+B,OAAO,QAAI,CAAC,CAAC/sC,KAAK,CAAC,CAAC;MAC3G,IAAI,OAAO+e,QAAQ,KAAK,WAAW,EAAE;MACrCtT,MAAM,CAACsS,OAAO,CAACgB,QAAQ,CAAC;IAC1B;EACF,CAAC;EAED,MAAMkuB,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAI,CAAC79B,WAAW,IAAI,CAAC3D,MAAM,CAAC/G,MAAM,CAACioC,cAAc,CAACx5B,OAAO,EAAE;IAE3D,IAAI1H,MAAM,CAAC/G,MAAM,CAACioC,cAAc,CAAC73C,YAAY,IAAImB,MAAM,CAACpB,OAAO,IAAIoB,MAAM,CAACpB,OAAO,CAACC,YAAY,EAAE;MAC9FmB,MAAM,CAACpB,OAAO,CAACC,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,IAAAsZ,MAAA,CAAI3C,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC+K,MAAM,CAAC0M,WAAW,CAAC,CAACre,IAAI,CAAC,WAAW,CAAC,KAAM,EAAE,CAAC;MAC3GiV,IAAI,CAAC,SAAS,CAAC;IACjB,CAAC,MAAM;MACL,MAAMoG,KAAK,GAAG1J,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC+K,MAAM,CAAC0M,WAAW,CAAC;MAClD,MAAMrkB,IAAI,GAAGqhB,KAAK,CAACrb,IAAI,CAAC,WAAW,CAAC,IAAIqb,KAAK,CAACrb,IAAI,CAAC,cAAc,CAAC;MAClErF,QAAQ,CAACZ,QAAQ,CAACC,IAAI,GAAGA,IAAI,IAAI,EAAE;MACnCib,IAAI,CAAC,SAAS,CAAC;IACjB;EACF,CAAC;EAED,MAAM+B,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAI,CAACrF,MAAM,CAAC/G,MAAM,CAACioC,cAAc,CAACx5B,OAAO,IAAI1H,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,IAAI4W,MAAM,CAAC/G,MAAM,CAAC7P,OAAO,CAACse,OAAO,EAAE;IACrG/D,WAAW,GAAG,IAAI;IAClB,MAAMtb,IAAI,GAAGW,QAAQ,CAACZ,QAAQ,CAACC,IAAI,CAACiE,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;IAEpD,IAAIjE,IAAI,EAAE;MACR,MAAMgY,KAAK,GAAG,CAAC;MAEf,KAAK,IAAIpU,CAAC,GAAG,CAAC,EAAElF,MAAM,GAAGiZ,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,GAAGlF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QACjE,MAAMyd,KAAK,GAAG1J,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;QACjC,MAAMw1C,SAAS,GAAG/3B,KAAK,CAACrb,IAAI,CAAC,WAAW,CAAC,IAAIqb,KAAK,CAACrb,IAAI,CAAC,cAAc,CAAC;QAEvE,IAAIozC,SAAS,KAAKp5C,IAAI,IAAI,CAACqhB,KAAK,CAACvb,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAAC4V,mBAAmB,CAAC,EAAE;UAC5E,MAAMta,KAAK,GAAGmV,KAAK,CAACnV,KAAK,CAAC,CAAC;UAC3ByL,MAAM,CAACsS,OAAO,CAAC/d,KAAK,EAAE8L,KAAK,EAAEL,MAAM,CAAC/G,MAAM,CAACuW,kBAAkB,EAAE,IAAI,CAAC;QACtE;MACF;IACF;IAEA,IAAIxP,MAAM,CAAC/G,MAAM,CAACioC,cAAc,CAACE,UAAU,EAAE;MAC3C,IAAAt0C,YAAC,EAACtC,MAAM,CAAC,CAAC2F,EAAE,CAAC,YAAY,EAAEkxC,YAAY,CAAC;IAC1C;EACF,CAAC;EAED,MAAM17B,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAI3F,MAAM,CAAC/G,MAAM,CAACioC,cAAc,CAACE,UAAU,EAAE;MAC3C,IAAAt0C,YAAC,EAACtC,MAAM,CAAC,CAACgH,GAAG,CAAC,YAAY,EAAE6vC,YAAY,CAAC;IAC3C;EACF,CAAC;EAEDlxC,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAACioC,cAAc,CAACx5B,OAAO,EAAE;MACxCrC,IAAI,CAAC,CAAC;IACR;EACF,CAAC,CAAC;EACFlV,EAAE,CAAC,SAAS,EAAE,MAAM;IAClB,IAAI6P,MAAM,CAAC/G,MAAM,CAACioC,cAAc,CAACx5B,OAAO,EAAE;MACxC/B,OAAO,CAAC,CAAC;IACX;EACF,CAAC,CAAC;EACFxV,EAAE,CAAC,0CAA0C,EAAE,MAAM;IACnD,IAAIwT,WAAW,EAAE;MACf69B,OAAO,CAAC,CAAC;IACX;EACF,CAAC,CAAC;EACFrxC,EAAE,CAAC,aAAa,EAAE,MAAM;IACtB,IAAIwT,WAAW,IAAI3D,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;MACxCu4B,OAAO,CAAC,CAAC;IACX;EACF,CAAC,CAAC;AACJ;;;;;;;;AC5FA,IAAA/2C,UAAA,GAAAC,OAAA;AACA,IAAAoc,MAAA,GAAApc,OAAA;AAJA;;AAEA;;AAGe,SAASg3C,QAAQA,CAAC;EAC/B1hC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA,EAAE;EACFmT,IAAI,EAAJA;AACF,CAAC,EAAE;EACD,IAAIuoB,OAAO;EACX7rB,MAAM,CAAC6c,QAAQ,GAAG;IAChBC,OAAO,EAAE,KAAK;IACdC,MAAM,EAAE;EACV,CAAC;EACDpY,YAAY,CAAC;IACXkY,QAAQ,EAAE;MACRnV,OAAO,EAAE,KAAK;MACdjK,KAAK,EAAE,IAAI;MACXkkC,iBAAiB,EAAE,IAAI;MACvBC,oBAAoB,EAAE,IAAI;MAC1BC,eAAe,EAAE,KAAK;MACtBC,gBAAgB,EAAE,KAAK;MACvBC,iBAAiB,EAAE;IACrB;EACF,CAAC,CAAC;EAEF,SAAS/kB,GAAGA,CAAA,EAAG;IACb,IAAI,CAAChd,MAAM,CAAC6G,IAAI,EAAE;MAChB7G,MAAM,CAAC6c,QAAQ,CAACC,OAAO,GAAG,KAAK;MAC/B9c,MAAM,CAAC6c,QAAQ,CAACE,MAAM,GAAG,KAAK;MAC9B;IACF;IAEA,MAAMilB,cAAc,GAAGhiC,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC+K,MAAM,CAAC0M,WAAW,CAAC;IAC3D,IAAIjP,KAAK,GAAGuC,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAACpf,KAAK;IAExC,IAAIukC,cAAc,CAAC3zC,IAAI,CAAC,sBAAsB,CAAC,EAAE;MAC/CoP,KAAK,GAAGukC,cAAc,CAAC3zC,IAAI,CAAC,sBAAsB,CAAC,IAAI2R,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAACpf,KAAK;IACrF;IAEAzT,YAAY,CAAC6hC,OAAO,CAAC;IACrBA,OAAO,GAAG,IAAAruB,eAAQ,EAAC,MAAM;MACvB,IAAIykC,cAAc;MAElB,IAAIjiC,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAACilB,gBAAgB,EAAE;QAC3C,IAAI9hC,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;UACtB5O,MAAM,CAAC8T,OAAO,CAAC,CAAC;UAChBmuB,cAAc,GAAGjiC,MAAM,CAACiU,SAAS,CAACjU,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;UAClEiD,IAAI,CAAC,UAAU,CAAC;QAClB,CAAC,MAAM,IAAI,CAACtD,MAAM,CAAC8N,WAAW,EAAE;UAC9Bm0B,cAAc,GAAGjiC,MAAM,CAACiU,SAAS,CAACjU,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;UAClEiD,IAAI,CAAC,UAAU,CAAC;QAClB,CAAC,MAAM,IAAI,CAACtD,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAACglB,eAAe,EAAE;UAClDI,cAAc,GAAGjiC,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAG,CAAC,EAAEiZ,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;UAC1FiD,IAAI,CAAC,UAAU,CAAC;QAClB,CAAC,MAAM;UACLhK,IAAI,CAAC,CAAC;QACR;MACF,CAAC,MAAM,IAAI0G,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;QAC7B5O,MAAM,CAAC8T,OAAO,CAAC,CAAC;QAChBmuB,cAAc,GAAGjiC,MAAM,CAACwT,SAAS,CAACxT,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;QAClEiD,IAAI,CAAC,UAAU,CAAC;MAClB,CAAC,MAAM,IAAI,CAACtD,MAAM,CAAC+N,KAAK,EAAE;QACxBk0B,cAAc,GAAGjiC,MAAM,CAACwT,SAAS,CAACxT,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;QAClEiD,IAAI,CAAC,UAAU,CAAC;MAClB,CAAC,MAAM,IAAI,CAACtD,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAACglB,eAAe,EAAE;QAClDI,cAAc,GAAGjiC,MAAM,CAACsS,OAAO,CAAC,CAAC,EAAEtS,MAAM,CAAC/G,MAAM,CAACoH,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;QACnEiD,IAAI,CAAC,UAAU,CAAC;MAClB,CAAC,MAAM;QACLhK,IAAI,CAAC,CAAC;MACR;MAEA,IAAI0G,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,IAAIjJ,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAEE,GAAG,CAAC,CAAC,CAAC,KAAK,IAAIilB,cAAc,KAAK,KAAK,EAAE;QAC7FjlB,GAAG,CAAC,CAAC;MACP;IACF,CAAC,EAAEvf,KAAK,CAAC;EACX;EAEA,SAASwgB,KAAKA,CAAA,EAAG;IACf,IAAI,OAAO4N,OAAO,KAAK,WAAW,EAAE,OAAO,KAAK;IAChD,IAAI7rB,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAE,OAAO,KAAK;IACzC9c,MAAM,CAAC6c,QAAQ,CAACC,OAAO,GAAG,IAAI;IAC9BxZ,IAAI,CAAC,eAAe,CAAC;IACrB0Z,GAAG,CAAC,CAAC;IACL,OAAO,IAAI;EACb;EAEA,SAAS1jB,IAAIA,CAAA,EAAG;IACd,IAAI,CAAC0G,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAE,OAAO,KAAK;IAC1C,IAAI,OAAO+O,OAAO,KAAK,WAAW,EAAE,OAAO,KAAK;IAEhD,IAAIA,OAAO,EAAE;MACX7hC,YAAY,CAAC6hC,OAAO,CAAC;MACrBA,OAAO,GAAGp9B,SAAS;IACrB;IAEAuR,MAAM,CAAC6c,QAAQ,CAACC,OAAO,GAAG,KAAK;IAC/BxZ,IAAI,CAAC,cAAc,CAAC;IACpB,OAAO,IAAI;EACb;EAEA,SAAS4+B,KAAKA,CAAC7hC,KAAK,EAAE;IACpB,IAAI,CAACL,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAE;IAC9B,IAAI9c,MAAM,CAAC6c,QAAQ,CAACE,MAAM,EAAE;IAC5B,IAAI8O,OAAO,EAAE7hC,YAAY,CAAC6hC,OAAO,CAAC;IAClC7rB,MAAM,CAAC6c,QAAQ,CAACE,MAAM,GAAG,IAAI;IAE7B,IAAI1c,KAAK,KAAK,CAAC,IAAI,CAACL,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAAC8kB,iBAAiB,EAAE;MAC5D3hC,MAAM,CAAC6c,QAAQ,CAACE,MAAM,GAAG,KAAK;MAC9BC,GAAG,CAAC,CAAC;IACP,CAAC,MAAM;MACL,CAAC,eAAe,EAAE,qBAAqB,CAAC,CAACn2B,OAAO,CAACuK,KAAK,IAAI;QACxD4O,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACxe,gBAAgB,CAACkK,KAAK,EAAE2mC,eAAe,CAAC;MAC/D,CAAC,CAAC;IACJ;EACF;EAEA,SAASoK,kBAAkBA,CAAA,EAAG;IAC5B,MAAMn5C,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;IAE9B,IAAIE,QAAQ,CAACo5C,eAAe,KAAK,QAAQ,IAAIpiC,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAE;MACpEolB,KAAK,CAAC,CAAC;IACT;IAEA,IAAIl5C,QAAQ,CAACo5C,eAAe,KAAK,SAAS,IAAIpiC,MAAM,CAAC6c,QAAQ,CAACE,MAAM,EAAE;MACpEC,GAAG,CAAC,CAAC;MACLhd,MAAM,CAAC6c,QAAQ,CAACE,MAAM,GAAG,KAAK;IAChC;EACF;EAEA,SAASgb,eAAeA,CAACrnC,CAAC,EAAE;IAC1B,IAAI,CAACsP,MAAM,IAAIA,MAAM,CAAC0D,SAAS,IAAI,CAAC1D,MAAM,CAAC0F,UAAU,EAAE;IACvD,IAAIhV,CAAC,CAAChK,MAAM,KAAKsZ,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,EAAE;IACvC,CAAC,eAAe,EAAE,qBAAqB,CAAC,CAAC7e,OAAO,CAACuK,KAAK,IAAI;MACxD4O,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACve,mBAAmB,CAACiK,KAAK,EAAE2mC,eAAe,CAAC;IAClE,CAAC,CAAC;IACF/3B,MAAM,CAAC6c,QAAQ,CAACE,MAAM,GAAG,KAAK;IAE9B,IAAI,CAAC/c,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAE;MAC5BxjB,IAAI,CAAC,CAAC;IACR,CAAC,MAAM;MACL0jB,GAAG,CAAC,CAAC;IACP;EACF;EAEA,SAASqlB,YAAYA,CAAA,EAAG;IACtB,IAAIriC,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAAC+kB,oBAAoB,EAAE;MAC/CtoC,IAAI,CAAC,CAAC;IACR,CAAC,MAAM;MACLgK,IAAI,CAAC,eAAe,CAAC;MACrB4+B,KAAK,CAAC,CAAC;IACT;IAEA,CAAC,eAAe,EAAE,qBAAqB,CAAC,CAACr7C,OAAO,CAACuK,KAAK,IAAI;MACxD4O,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAACve,mBAAmB,CAACiK,KAAK,EAAE2mC,eAAe,CAAC;IAClE,CAAC,CAAC;EACJ;EAEA,SAASuK,YAAYA,CAAA,EAAG;IACtB,IAAItiC,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAAC+kB,oBAAoB,EAAE;MAC/C;IACF;IAEA5hC,MAAM,CAAC6c,QAAQ,CAACE,MAAM,GAAG,KAAK;IAC9BzZ,IAAI,CAAC,gBAAgB,CAAC;IACtB0Z,GAAG,CAAC,CAAC;EACP;EAEA,SAASulB,iBAAiBA,CAAA,EAAG;IAC3B,IAAIviC,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAACklB,iBAAiB,EAAE;MAC5C/hC,MAAM,CAACwF,GAAG,CAACrV,EAAE,CAAC,YAAY,EAAEkyC,YAAY,CAAC;MACzCriC,MAAM,CAACwF,GAAG,CAACrV,EAAE,CAAC,YAAY,EAAEmyC,YAAY,CAAC;IAC3C;EACF;EAEA,SAASE,iBAAiBA,CAAA,EAAG;IAC3BxiC,MAAM,CAACwF,GAAG,CAAChU,GAAG,CAAC,YAAY,EAAE6wC,YAAY,CAAC;IAC1CriC,MAAM,CAACwF,GAAG,CAAChU,GAAG,CAAC,YAAY,EAAE8wC,YAAY,CAAC;EAC5C;EAEAnyC,EAAE,CAAC,MAAM,EAAE,MAAM;IACf,IAAI6P,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAACnV,OAAO,EAAE;MAClCuW,KAAK,CAAC,CAAC;MACP,MAAMj1B,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;MAC9BE,QAAQ,CAAC9B,gBAAgB,CAAC,kBAAkB,EAAEi7C,kBAAkB,CAAC;MACjEI,iBAAiB,CAAC,CAAC;IACrB;EACF,CAAC,CAAC;EACFpyC,EAAE,CAAC,uBAAuB,EAAE,CAACm/B,EAAE,EAAEjvB,KAAK,EAAE+Q,QAAQ,KAAK;IACnD,IAAIpR,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAE;MAC3B,IAAI1L,QAAQ,IAAI,CAACpR,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAAC+kB,oBAAoB,EAAE;QAC5D5hC,MAAM,CAAC6c,QAAQ,CAACqlB,KAAK,CAAC7hC,KAAK,CAAC;MAC9B,CAAC,MAAM;QACL/G,IAAI,CAAC,CAAC;MACR;IACF;EACF,CAAC,CAAC;EACFnJ,EAAE,CAAC,iBAAiB,EAAE,MAAM;IAC1B,IAAI6P,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAE;MAC3B,IAAI9c,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAAC+kB,oBAAoB,EAAE;QAC/CtoC,IAAI,CAAC,CAAC;MACR,CAAC,MAAM;QACL4oC,KAAK,CAAC,CAAC;MACT;IACF;EACF,CAAC,CAAC;EACF/xC,EAAE,CAAC,UAAU,EAAE,MAAM;IACnB,IAAI6P,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,IAAIjJ,MAAM,CAAC6c,QAAQ,CAACE,MAAM,IAAI,CAAC/c,MAAM,CAAC/G,MAAM,CAAC4jB,QAAQ,CAAC+kB,oBAAoB,EAAE;MACnG5kB,GAAG,CAAC,CAAC;IACP;EACF,CAAC,CAAC;EACF7sB,EAAE,CAAC,SAAS,EAAE,MAAM;IAClBqyC,iBAAiB,CAAC,CAAC;IAEnB,IAAIxiC,MAAM,CAAC6c,QAAQ,CAACC,OAAO,EAAE;MAC3BxjB,IAAI,CAAC,CAAC;IACR;IAEA,MAAMtQ,QAAQ,GAAG,IAAAF,sBAAW,EAAC,CAAC;IAC9BE,QAAQ,CAAC7B,mBAAmB,CAAC,kBAAkB,EAAEg7C,kBAAkB,CAAC;EACtE,CAAC,CAAC;EACF37C,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAAC6c,QAAQ,EAAE;IAC7BqlB,KAAK,EAALA,KAAK;IACLllB,GAAG,EAAHA,GAAG;IACHiB,KAAK,EAALA,KAAK;IACL3kB,IAAI,EAAJA;EACF,CAAC,CAAC;AACJ;;;;;;;;ACrOA,IAAAwN,MAAA,GAAApc,OAAA;AACA,IAAAwR,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAoC,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACrB,SAASm8C,KAAKA,CAAC;EAC5BziC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACX+9B,MAAM,EAAE;MACN1iC,MAAM,EAAE,IAAI;MACZ2iC,oBAAoB,EAAE,IAAI;MAC1BC,gBAAgB,EAAE,CAAC;MACnBC,qBAAqB,EAAE,2BAA2B;MAClDC,oBAAoB,EAAE;IACxB;EACF,CAAC,CAAC;EACF,IAAIn/B,WAAW,GAAG,KAAK;EACvB,IAAIo/B,aAAa,GAAG,KAAK;EACzB/iC,MAAM,CAAC0iC,MAAM,GAAG;IACd1iC,MAAM,EAAE;EACV,CAAC;EAED,SAASgjC,YAAYA,CAAA,EAAG;IACtB,MAAMC,YAAY,GAAGjjC,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM;IACzC,IAAI,CAACijC,YAAY,IAAIA,YAAY,CAACv/B,SAAS,EAAE;IAC7C,MAAMkM,YAAY,GAAGqzB,YAAY,CAACrzB,YAAY;IAC9C,MAAMD,YAAY,GAAGszB,YAAY,CAACtzB,YAAY;IAC9C,IAAIA,YAAY,IAAI,IAAA7iB,YAAC,EAAC6iB,YAAY,CAAC,CAACxhB,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAACypC,MAAM,CAACG,qBAAqB,CAAC,EAAE;IAC1F,IAAI,OAAOjzB,YAAY,KAAK,WAAW,IAAIA,YAAY,KAAK,IAAI,EAAE;IAClE,IAAIiF,YAAY;IAEhB,IAAIouB,YAAY,CAAChqC,MAAM,CAAC2V,IAAI,EAAE;MAC5BiG,YAAY,GAAGlO,QAAQ,CAAC,IAAA7Z,YAAC,EAACm2C,YAAY,CAACtzB,YAAY,CAAC,CAACthB,IAAI,CAAC,yBAAyB,CAAC,EAAE,EAAE,CAAC;IAC3F,CAAC,MAAM;MACLwmB,YAAY,GAAGjF,YAAY;IAC7B;IAEA,IAAI5P,MAAM,CAAC/G,MAAM,CAAC2V,IAAI,EAAE;MACtB,IAAIs0B,YAAY,GAAGljC,MAAM,CAAC0M,WAAW;MAErC,IAAI1M,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAACiuC,YAAY,CAAC,CAAC/0C,QAAQ,CAAC6R,MAAM,CAAC/G,MAAM,CAAC4V,mBAAmB,CAAC,EAAE;QAC9E7O,MAAM,CAAC8T,OAAO,CAAC,CAAC,CAAC,CAAC;;QAElB9T,MAAM,CAAC+T,WAAW,GAAG/T,MAAM,CAAC0F,UAAU,CAAC,CAAC,CAAC,CAAC9R,UAAU;QACpDsvC,YAAY,GAAGljC,MAAM,CAAC0M,WAAW;MACnC;MAEA,MAAM4H,SAAS,GAAGtU,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAACiuC,YAAY,CAAC,CAACxsC,OAAO,+BAAAiM,MAAA,CAA8BkS,YAAY,QAAI,CAAC,CAAC5f,EAAE,CAAC,CAAC,CAAC,CAACV,KAAK,CAAC,CAAC;MACrH,MAAM8K,SAAS,GAAGW,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAACiuC,YAAY,CAAC,CAAC5sC,OAAO,+BAAAqM,MAAA,CAA8BkS,YAAY,QAAI,CAAC,CAAC5f,EAAE,CAAC,CAAC,CAAC,CAACV,KAAK,CAAC,CAAC;MACrH,IAAI,OAAO+f,SAAS,KAAK,WAAW,EAAEO,YAAY,GAAGxV,SAAS,CAAC,KAAK,IAAI,OAAOA,SAAS,KAAK,WAAW,EAAEwV,YAAY,GAAGP,SAAS,CAAC,KAAK,IAAIjV,SAAS,GAAG6jC,YAAY,GAAGA,YAAY,GAAG5uB,SAAS,EAAEO,YAAY,GAAGxV,SAAS,CAAC,KAAKwV,YAAY,GAAGP,SAAS;IACzP;IAEAtU,MAAM,CAACsS,OAAO,CAACuC,YAAY,CAAC;EAC9B;EAEA,SAASxP,IAAIA,CAAA,EAAG;IACd,MAAM;MACJq9B,MAAM,EAAES;IACV,CAAC,GAAGnjC,MAAM,CAAC/G,MAAM;IACjB,IAAI0K,WAAW,EAAE,OAAO,KAAK;IAC7BA,WAAW,GAAG,IAAI;IAClB,MAAMy/B,WAAW,GAAGpjC,MAAM,CAACzZ,WAAW;IAEtC,IAAI48C,YAAY,CAACnjC,MAAM,YAAYojC,WAAW,EAAE;MAC9CpjC,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM,GAAGmjC,YAAY,CAACnjC,MAAM;MAC1CxZ,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM,CAACkf,cAAc,EAAE;QACjDtT,mBAAmB,EAAE,IAAI;QACzBiE,mBAAmB,EAAE;MACvB,CAAC,CAAC;MACFrpB,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM,CAAC/G,MAAM,EAAE;QACzC2S,mBAAmB,EAAE,IAAI;QACzBiE,mBAAmB,EAAE;MACvB,CAAC,CAAC;IACJ,CAAC,MAAM,IAAI,IAAAxpB,eAAQ,EAAC88C,YAAY,CAACnjC,MAAM,CAAC,EAAE;MACxC,MAAMqjC,kBAAkB,GAAG78C,MAAM,CAACwS,MAAM,CAAC,CAAC,CAAC,EAAEmqC,YAAY,CAACnjC,MAAM,CAAC;MACjExZ,MAAM,CAACwS,MAAM,CAACqqC,kBAAkB,EAAE;QAChCz3B,mBAAmB,EAAE,IAAI;QACzBiE,mBAAmB,EAAE;MACvB,CAAC,CAAC;MACF7P,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM,GAAG,IAAIojC,WAAW,CAACC,kBAAkB,CAAC;MAC1DN,aAAa,GAAG,IAAI;IACtB;IAEA/iC,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM,CAACwF,GAAG,CAAClY,QAAQ,CAAC0S,MAAM,CAAC/G,MAAM,CAACypC,MAAM,CAACI,oBAAoB,CAAC;IAC5E9iC,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM,CAAC7P,EAAE,CAAC,KAAK,EAAE6yC,YAAY,CAAC;IAC5C,OAAO,IAAI;EACb;EAEA,SAAS/gB,MAAMA,CAAC1P,OAAO,EAAE;IACvB,MAAM0wB,YAAY,GAAGjjC,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM;IACzC,IAAI,CAACijC,YAAY,IAAIA,YAAY,CAACv/B,SAAS,EAAE;IAC7C,MAAM8F,aAAa,GAAGy5B,YAAY,CAAChqC,MAAM,CAACuQ,aAAa,KAAK,MAAM,GAAGy5B,YAAY,CAACtvB,oBAAoB,CAAC,CAAC,GAAGsvB,YAAY,CAAChqC,MAAM,CAACuQ,aAAa,CAAC,CAAC;;IAE9I,IAAI85B,gBAAgB,GAAG,CAAC;IACxB,MAAMC,gBAAgB,GAAGvjC,MAAM,CAAC/G,MAAM,CAACypC,MAAM,CAACG,qBAAqB;IAEnE,IAAI7iC,MAAM,CAAC/G,MAAM,CAACuQ,aAAa,GAAG,CAAC,IAAI,CAACxJ,MAAM,CAAC/G,MAAM,CAAC+P,cAAc,EAAE;MACpEs6B,gBAAgB,GAAGtjC,MAAM,CAAC/G,MAAM,CAACuQ,aAAa;IAChD;IAEA,IAAI,CAACxJ,MAAM,CAAC/G,MAAM,CAACypC,MAAM,CAACC,oBAAoB,EAAE;MAC9CW,gBAAgB,GAAG,CAAC;IACtB;IAEAA,gBAAgB,GAAGrrC,IAAI,CAACkS,KAAK,CAACm5B,gBAAgB,CAAC;IAC/CL,YAAY,CAACr7B,MAAM,CAAC9Z,WAAW,CAACy1C,gBAAgB,CAAC;IAEjD,IAAIN,YAAY,CAAChqC,MAAM,CAAC2V,IAAI,IAAIq0B,YAAY,CAAChqC,MAAM,CAACwO,OAAO,IAAIw7B,YAAY,CAAChqC,MAAM,CAACwO,OAAO,CAACC,OAAO,EAAE;MAClG,KAAK,IAAIzb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGq3C,gBAAgB,EAAEr3C,CAAC,IAAI,CAAC,EAAE;QAC5Cg3C,YAAY,CAACv9B,UAAU,CAAC7d,QAAQ,+BAAA8a,MAAA,CAA8B3C,MAAM,CAACoO,SAAS,GAAGniB,CAAC,QAAI,CAAC,CAACqB,QAAQ,CAACi2C,gBAAgB,CAAC;MACpH;IACF,CAAC,MAAM;MACL,KAAK,IAAIt3C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGq3C,gBAAgB,EAAEr3C,CAAC,IAAI,CAAC,EAAE;QAC5Cg3C,YAAY,CAACr7B,MAAM,CAAC3S,EAAE,CAAC+K,MAAM,CAACoO,SAAS,GAAGniB,CAAC,CAAC,CAACqB,QAAQ,CAACi2C,gBAAgB,CAAC;MACzE;IACF;IAEA,MAAMX,gBAAgB,GAAG5iC,MAAM,CAAC/G,MAAM,CAACypC,MAAM,CAACE,gBAAgB;IAC9D,MAAMY,SAAS,GAAGZ,gBAAgB,IAAI,CAACK,YAAY,CAAChqC,MAAM,CAAC2V,IAAI;IAE/D,IAAI5O,MAAM,CAACoO,SAAS,KAAK60B,YAAY,CAAC70B,SAAS,IAAIo1B,SAAS,EAAE;MAC5D,IAAIC,kBAAkB,GAAGR,YAAY,CAACv2B,WAAW;MACjD,IAAIg3B,cAAc;MAClB,IAAI1xB,SAAS;MAEb,IAAIixB,YAAY,CAAChqC,MAAM,CAAC2V,IAAI,EAAE;QAC5B,IAAIq0B,YAAY,CAACr7B,MAAM,CAAC3S,EAAE,CAACwuC,kBAAkB,CAAC,CAACt1C,QAAQ,CAAC80C,YAAY,CAAChqC,MAAM,CAAC4V,mBAAmB,CAAC,EAAE;UAChGo0B,YAAY,CAACnvB,OAAO,CAAC,CAAC,CAAC,CAAC;;UAExBmvB,YAAY,CAAClvB,WAAW,GAAGkvB,YAAY,CAACv9B,UAAU,CAAC,CAAC,CAAC,CAAC9R,UAAU;UAChE6vC,kBAAkB,GAAGR,YAAY,CAACv2B,WAAW;QAC/C,CAAC,CAAC;;QAGF,MAAMi3B,eAAe,GAAGV,YAAY,CAACr7B,MAAM,CAAC3S,EAAE,CAACwuC,kBAAkB,CAAC,CAAC/sC,OAAO,+BAAAiM,MAAA,CAA8B3C,MAAM,CAACoO,SAAS,QAAI,CAAC,CAACnZ,EAAE,CAAC,CAAC,CAAC,CAACV,KAAK,CAAC,CAAC;QAC3I,MAAMqvC,eAAe,GAAGX,YAAY,CAACr7B,MAAM,CAAC3S,EAAE,CAACwuC,kBAAkB,CAAC,CAACntC,OAAO,+BAAAqM,MAAA,CAA8B3C,MAAM,CAACoO,SAAS,QAAI,CAAC,CAACnZ,EAAE,CAAC,CAAC,CAAC,CAACV,KAAK,CAAC,CAAC;QAE3I,IAAI,OAAOovC,eAAe,KAAK,WAAW,EAAE;UAC1CD,cAAc,GAAGE,eAAe;QAClC,CAAC,MAAM,IAAI,OAAOA,eAAe,KAAK,WAAW,EAAE;UACjDF,cAAc,GAAGC,eAAe;QAClC,CAAC,MAAM,IAAIC,eAAe,GAAGH,kBAAkB,KAAKA,kBAAkB,GAAGE,eAAe,EAAE;UACxFD,cAAc,GAAGT,YAAY,CAAChqC,MAAM,CAACqR,cAAc,GAAG,CAAC,GAAGs5B,eAAe,GAAGH,kBAAkB;QAChG,CAAC,MAAM,IAAIG,eAAe,GAAGH,kBAAkB,GAAGA,kBAAkB,GAAGE,eAAe,EAAE;UACtFD,cAAc,GAAGE,eAAe;QAClC,CAAC,MAAM;UACLF,cAAc,GAAGC,eAAe;QAClC;QAEA3xB,SAAS,GAAGhS,MAAM,CAAC0M,WAAW,GAAG1M,MAAM,CAACmP,aAAa,GAAG,MAAM,GAAG,MAAM;MACzE,CAAC,MAAM;QACLu0B,cAAc,GAAG1jC,MAAM,CAACoO,SAAS;QACjC4D,SAAS,GAAG0xB,cAAc,GAAG1jC,MAAM,CAACmP,aAAa,GAAG,MAAM,GAAG,MAAM;MACrE;MAEA,IAAIq0B,SAAS,EAAE;QACbE,cAAc,IAAI1xB,SAAS,KAAK,MAAM,GAAG4wB,gBAAgB,GAAG,CAAC,CAAC,GAAGA,gBAAgB;MACnF;MAEA,IAAIK,YAAY,CAACh2B,oBAAoB,IAAIg2B,YAAY,CAACh2B,oBAAoB,CAAC/gB,OAAO,CAACw3C,cAAc,CAAC,GAAG,CAAC,EAAE;QACtG,IAAIT,YAAY,CAAChqC,MAAM,CAAC+P,cAAc,EAAE;UACtC,IAAI06B,cAAc,GAAGD,kBAAkB,EAAE;YACvCC,cAAc,GAAGA,cAAc,GAAGzrC,IAAI,CAACkS,KAAK,CAACX,aAAa,GAAG,CAAC,CAAC,GAAG,CAAC;UACrE,CAAC,MAAM;YACLk6B,cAAc,GAAGA,cAAc,GAAGzrC,IAAI,CAACkS,KAAK,CAACX,aAAa,GAAG,CAAC,CAAC,GAAG,CAAC;UACrE;QACF,CAAC,MAAM,IAAIk6B,cAAc,GAAGD,kBAAkB,IAAIR,YAAY,CAAChqC,MAAM,CAACqR,cAAc,KAAK,CAAC,EAAE,CAAC;QAAA;QAG7F24B,YAAY,CAAC3wB,OAAO,CAACoxB,cAAc,EAAEnxB,OAAO,GAAG,CAAC,GAAG9jB,SAAS,CAAC;MAC/D;IACF;EACF;EAEA0B,EAAE,CAAC,YAAY,EAAE,MAAM;IACrB,MAAM;MACJuyC,MAAM,EAANA;IACF,CAAC,GAAG1iC,MAAM,CAAC/G,MAAM;IACjB,IAAI,CAACypC,MAAM,IAAI,CAACA,MAAM,CAAC1iC,MAAM,EAAE;IAC/BqF,IAAI,CAAC,CAAC;IACN4c,MAAM,CAAC,IAAI,CAAC;EACd,CAAC,CAAC;EACF9xB,EAAE,CAAC,0CAA0C,EAAE,MAAM;IACnD8xB,MAAM,CAAC,CAAC;EACV,CAAC,CAAC;EACF9xB,EAAE,CAAC,eAAe,EAAE,CAACm/B,EAAE,EAAEr/B,QAAQ,KAAK;IACpC,MAAMgzC,YAAY,GAAGjjC,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM;IACzC,IAAI,CAACijC,YAAY,IAAIA,YAAY,CAACv/B,SAAS,EAAE;IAC7Cu/B,YAAY,CAAC32B,aAAa,CAACrc,QAAQ,CAAC;EACtC,CAAC,CAAC;EACFE,EAAE,CAAC,eAAe,EAAE,MAAM;IACxB,MAAM8yC,YAAY,GAAGjjC,MAAM,CAAC0iC,MAAM,CAAC1iC,MAAM;IACzC,IAAI,CAACijC,YAAY,IAAIA,YAAY,CAACv/B,SAAS,EAAE;IAE7C,IAAIq/B,aAAa,EAAE;MACjBE,YAAY,CAACt9B,OAAO,CAAC,CAAC;IACxB;EACF,CAAC,CAAC;EACFnf,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAAC0iC,MAAM,EAAE;IAC3Br9B,IAAI,EAAJA,IAAI;IACJ4c,MAAM,EAANA;EACF,CAAC,CAAC;AACJ;;;;;;;;AC1MA,IAAAnb,MAAA,GAAApc,OAAA;AACe,SAASwvB,QAAQA,CAAC;EAC/Bla,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZrB,IAAI,EAAJA,IAAI;EACJzR,IAAI,EAAJA;AACF,CAAC,EAAE;EACD8S,YAAY,CAAC;IACXuV,QAAQ,EAAE;MACRxS,OAAO,EAAE,KAAK;MACdm8B,QAAQ,EAAE,IAAI;MACdC,aAAa,EAAE,CAAC;MAChBC,cAAc,EAAE,IAAI;MACpBC,mBAAmB,EAAE,CAAC;MACtBC,qBAAqB,EAAE,CAAC;MACxBhW,MAAM,EAAE,KAAK;MACbiW,eAAe,EAAE;IACnB;EACF,CAAC,CAAC;EAEF,SAAS9sB,YAAYA,CAAA,EAAG;IACtB,MAAMhX,SAAS,GAAGJ,MAAM,CAACpC,YAAY,CAAC,CAAC;IACvCoC,MAAM,CAAC0Q,YAAY,CAACtQ,SAAS,CAAC;IAC9BJ,MAAM,CAACsM,aAAa,CAAC,CAAC,CAAC;IACvBtM,MAAM,CAACqX,eAAe,CAACkO,UAAU,CAACx+B,MAAM,GAAG,CAAC;IAC5CiZ,MAAM,CAACka,QAAQ,CAACsB,UAAU,CAAC;MACzBK,UAAU,EAAE7b,MAAM,CAACsH,GAAG,GAAGtH,MAAM,CAACI,SAAS,GAAG,CAACJ,MAAM,CAACI;IACtD,CAAC,CAAC;EACJ;EAEA,SAAS+Z,WAAWA,CAAA,EAAG;IACrB,MAAM;MACJ9C,eAAe,EAAEroB,IAAI;MACrBsoB,OAAO,EAAPA;IACF,CAAC,GAAGtX,MAAM,CAAC,CAAC;;IAEZ,IAAIhR,IAAI,CAACu2B,UAAU,CAACx+B,MAAM,KAAK,CAAC,EAAE;MAChCiI,IAAI,CAACu2B,UAAU,CAAC75B,IAAI,CAAC;QACnBsiC,QAAQ,EAAE1W,OAAO,CAACtX,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,QAAQ,GAAG,QAAQ,CAAC;QAC9DlO,IAAI,EAAEvJ,IAAI,CAACyqB;MACb,CAAC,CAAC;IACJ;IAEAzqB,IAAI,CAACu2B,UAAU,CAAC75B,IAAI,CAAC;MACnBsiC,QAAQ,EAAE1W,OAAO,CAACtX,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,UAAU,GAAG,UAAU,CAAC;MAClElO,IAAI,EAAE,IAAAmF,UAAG,EAAC;IACZ,CAAC,CAAC;EACJ;EAEA,SAAS8d,UAAUA,CAAC;IAClBK,UAAU,EAAVA;EACF,CAAC,EAAE;IACD,MAAM;MACJ5iB,MAAM,EAANA,MAAM;MACNyM,UAAU,EAAVA,UAAU;MACV2B,YAAY,EAAEC,GAAG;MACjBS,QAAQ,EAARA,QAAQ;MACRsP,eAAe,EAAEroB;IACnB,CAAC,GAAGgR,MAAM,CAAC,CAAC;;IAEZ,MAAMyb,YAAY,GAAG,IAAA/d,UAAG,EAAC,CAAC;IAC1B,MAAMge,QAAQ,GAAGD,YAAY,GAAGzsB,IAAI,CAACyqB,cAAc;IAEnD,IAAIoC,UAAU,GAAG,CAAC7b,MAAM,CAACoN,YAAY,CAAC,CAAC,EAAE;MACvCpN,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC0M,WAAW,CAAC;MAClC;IACF;IAEA,IAAImP,UAAU,GAAG,CAAC7b,MAAM,CAAC6N,YAAY,CAAC,CAAC,EAAE;MACvC,IAAI7N,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAGghB,QAAQ,CAAChhB,MAAM,EAAE;QAC1CiZ,MAAM,CAACsS,OAAO,CAACvK,QAAQ,CAAChhB,MAAM,GAAG,CAAC,CAAC;MACrC,CAAC,MAAM;QACLiZ,MAAM,CAACsS,OAAO,CAACtS,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,GAAG,CAAC,CAAC;MAC1C;MAEA;IACF;IAEA,IAAIkS,MAAM,CAACihB,QAAQ,CAAC2pB,QAAQ,EAAE;MAC5B,IAAI70C,IAAI,CAACu2B,UAAU,CAACx+B,MAAM,GAAG,CAAC,EAAE;QAC9B,MAAMo9C,aAAa,GAAGn1C,IAAI,CAACu2B,UAAU,CAAC6e,GAAG,CAAC,CAAC;QAC3C,MAAMC,aAAa,GAAGr1C,IAAI,CAACu2B,UAAU,CAAC6e,GAAG,CAAC,CAAC;QAC3C,MAAMpN,QAAQ,GAAGmN,aAAa,CAACnW,QAAQ,GAAGqW,aAAa,CAACrW,QAAQ;QAChE,MAAMz1B,IAAI,GAAG4rC,aAAa,CAAC5rC,IAAI,GAAG8rC,aAAa,CAAC9rC,IAAI;QACpDyH,MAAM,CAACklB,QAAQ,GAAG8R,QAAQ,GAAGz+B,IAAI;QACjCyH,MAAM,CAACklB,QAAQ,IAAI,CAAC;QAEpB,IAAIjtB,IAAI,CAACoS,GAAG,CAACrK,MAAM,CAACklB,QAAQ,CAAC,GAAGjsB,MAAM,CAACihB,QAAQ,CAACgqB,eAAe,EAAE;UAC/DlkC,MAAM,CAACklB,QAAQ,GAAG,CAAC;QACrB,CAAC,CAAC;QACF;;QAGA,IAAI3sB,IAAI,GAAG,GAAG,IAAI,IAAAmF,UAAG,EAAC,CAAC,GAAGymC,aAAa,CAAC5rC,IAAI,GAAG,GAAG,EAAE;UAClDyH,MAAM,CAACklB,QAAQ,GAAG,CAAC;QACrB;MACF,CAAC,MAAM;QACLllB,MAAM,CAACklB,QAAQ,GAAG,CAAC;MACrB;MAEAllB,MAAM,CAACklB,QAAQ,IAAIjsB,MAAM,CAACihB,QAAQ,CAAC+pB,qBAAqB;MACxDj1C,IAAI,CAACu2B,UAAU,CAACx+B,MAAM,GAAG,CAAC;MAC1B,IAAI+wC,gBAAgB,GAAG,IAAI,GAAG7+B,MAAM,CAACihB,QAAQ,CAAC4pB,aAAa;MAC3D,MAAMQ,gBAAgB,GAAGtkC,MAAM,CAACklB,QAAQ,GAAG4S,gBAAgB;MAC3D,IAAIyM,WAAW,GAAGvkC,MAAM,CAACI,SAAS,GAAGkkC,gBAAgB;MACrD,IAAIh9B,GAAG,EAAEi9B,WAAW,GAAG,CAACA,WAAW;MACnC,IAAIC,QAAQ,GAAG,KAAK;MACpB,IAAIC,mBAAmB;MACvB,MAAMC,YAAY,GAAGzsC,IAAI,CAACoS,GAAG,CAACrK,MAAM,CAACklB,QAAQ,CAAC,GAAG,EAAE,GAAGjsB,MAAM,CAACihB,QAAQ,CAAC8pB,mBAAmB;MACzF,IAAIW,YAAY;MAEhB,IAAIJ,WAAW,GAAGvkC,MAAM,CAAC6N,YAAY,CAAC,CAAC,EAAE;QACvC,IAAI5U,MAAM,CAACihB,QAAQ,CAAC6pB,cAAc,EAAE;UAClC,IAAIQ,WAAW,GAAGvkC,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG,CAAC62B,YAAY,EAAE;YACvDH,WAAW,GAAGvkC,MAAM,CAAC6N,YAAY,CAAC,CAAC,GAAG62B,YAAY;UACpD;UAEAD,mBAAmB,GAAGzkC,MAAM,CAAC6N,YAAY,CAAC,CAAC;UAC3C22B,QAAQ,GAAG,IAAI;UACfx1C,IAAI,CAACisB,mBAAmB,GAAG,IAAI;QACjC,CAAC,MAAM;UACLspB,WAAW,GAAGvkC,MAAM,CAAC6N,YAAY,CAAC,CAAC;QACrC;QAEA,IAAI5U,MAAM,CAAC2V,IAAI,IAAI3V,MAAM,CAAC+P,cAAc,EAAE27B,YAAY,GAAG,IAAI;MAC/D,CAAC,MAAM,IAAIJ,WAAW,GAAGvkC,MAAM,CAACoN,YAAY,CAAC,CAAC,EAAE;QAC9C,IAAInU,MAAM,CAACihB,QAAQ,CAAC6pB,cAAc,EAAE;UAClC,IAAIQ,WAAW,GAAGvkC,MAAM,CAACoN,YAAY,CAAC,CAAC,GAAGs3B,YAAY,EAAE;YACtDH,WAAW,GAAGvkC,MAAM,CAACoN,YAAY,CAAC,CAAC,GAAGs3B,YAAY;UACpD;UAEAD,mBAAmB,GAAGzkC,MAAM,CAACoN,YAAY,CAAC,CAAC;UAC3Co3B,QAAQ,GAAG,IAAI;UACfx1C,IAAI,CAACisB,mBAAmB,GAAG,IAAI;QACjC,CAAC,MAAM;UACLspB,WAAW,GAAGvkC,MAAM,CAACoN,YAAY,CAAC,CAAC;QACrC;QAEA,IAAInU,MAAM,CAAC2V,IAAI,IAAI3V,MAAM,CAAC+P,cAAc,EAAE27B,YAAY,GAAG,IAAI;MAC/D,CAAC,MAAM,IAAI1rC,MAAM,CAACihB,QAAQ,CAAC+T,MAAM,EAAE;QACjC,IAAInf,SAAS;QAEb,KAAK,IAAIlf,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmY,QAAQ,CAAChhB,MAAM,EAAE6I,CAAC,IAAI,CAAC,EAAE;UAC3C,IAAImY,QAAQ,CAACnY,CAAC,CAAC,GAAG,CAAC20C,WAAW,EAAE;YAC9Bz1B,SAAS,GAAGlf,CAAC;YACb;UACF;QACF;QAEA,IAAIqI,IAAI,CAACoS,GAAG,CAACtC,QAAQ,CAAC+G,SAAS,CAAC,GAAGy1B,WAAW,CAAC,GAAGtsC,IAAI,CAACoS,GAAG,CAACtC,QAAQ,CAAC+G,SAAS,GAAG,CAAC,CAAC,GAAGy1B,WAAW,CAAC,IAAIvkC,MAAM,CAAC0Z,cAAc,KAAK,MAAM,EAAE;UACrI6qB,WAAW,GAAGx8B,QAAQ,CAAC+G,SAAS,CAAC;QACnC,CAAC,MAAM;UACLy1B,WAAW,GAAGx8B,QAAQ,CAAC+G,SAAS,GAAG,CAAC,CAAC;QACvC;QAEAy1B,WAAW,GAAG,CAACA,WAAW;MAC5B;MAEA,IAAII,YAAY,EAAE;QAChB9yC,IAAI,CAAC,eAAe,EAAE,MAAM;UAC1BmO,MAAM,CAAC8T,OAAO,CAAC,CAAC;QAClB,CAAC,CAAC;MACJ,CAAC,CAAC;;MAGF,IAAI9T,MAAM,CAACklB,QAAQ,KAAK,CAAC,EAAE;QACzB,IAAI5d,GAAG,EAAE;UACPwwB,gBAAgB,GAAG7/B,IAAI,CAACoS,GAAG,CAAC,CAAC,CAACk6B,WAAW,GAAGvkC,MAAM,CAACI,SAAS,IAAIJ,MAAM,CAACklB,QAAQ,CAAC;QAClF,CAAC,MAAM;UACL4S,gBAAgB,GAAG7/B,IAAI,CAACoS,GAAG,CAAC,CAACk6B,WAAW,GAAGvkC,MAAM,CAACI,SAAS,IAAIJ,MAAM,CAACklB,QAAQ,CAAC;QACjF;QAEA,IAAIjsB,MAAM,CAACihB,QAAQ,CAAC+T,MAAM,EAAE;UAC1B;UACA;UACA;UACA;UACA;UACA;UACA;UACA,MAAM2W,YAAY,GAAG3sC,IAAI,CAACoS,GAAG,CAAC,CAAC/C,GAAG,GAAG,CAACi9B,WAAW,GAAGA,WAAW,IAAIvkC,MAAM,CAACI,SAAS,CAAC;UACpF,MAAMykC,gBAAgB,GAAG7kC,MAAM,CAACiI,eAAe,CAACjI,MAAM,CAAC0M,WAAW,CAAC;UAEnE,IAAIk4B,YAAY,GAAGC,gBAAgB,EAAE;YACnC/M,gBAAgB,GAAG7+B,MAAM,CAACoH,KAAK;UACjC,CAAC,MAAM,IAAIukC,YAAY,GAAG,CAAC,GAAGC,gBAAgB,EAAE;YAC9C/M,gBAAgB,GAAG7+B,MAAM,CAACoH,KAAK,GAAG,GAAG;UACvC,CAAC,MAAM;YACLy3B,gBAAgB,GAAG7+B,MAAM,CAACoH,KAAK,GAAG,GAAG;UACvC;QACF;MACF,CAAC,MAAM,IAAIpH,MAAM,CAACihB,QAAQ,CAAC+T,MAAM,EAAE;QACjCjuB,MAAM,CAACyU,cAAc,CAAC,CAAC;QACvB;MACF;MAEA,IAAIxb,MAAM,CAACihB,QAAQ,CAAC6pB,cAAc,IAAIS,QAAQ,EAAE;QAC9CxkC,MAAM,CAAC0N,cAAc,CAAC+2B,mBAAmB,CAAC;QAC1CzkC,MAAM,CAACsM,aAAa,CAACwrB,gBAAgB,CAAC;QACtC93B,MAAM,CAAC0Q,YAAY,CAAC6zB,WAAW,CAAC;QAChCvkC,MAAM,CAACvN,eAAe,CAAC,IAAI,EAAEuN,MAAM,CAAC0Z,cAAc,CAAC;QACnD1Z,MAAM,CAAC7G,SAAS,GAAG,IAAI;QACvBuM,UAAU,CAAC/S,aAAa,CAAC,MAAM;UAC7B,IAAI,CAACqN,MAAM,IAAIA,MAAM,CAAC0D,SAAS,IAAI,CAAC1U,IAAI,CAACisB,mBAAmB,EAAE;UAC9D3X,IAAI,CAAC,gBAAgB,CAAC;UACtBtD,MAAM,CAACsM,aAAa,CAACrT,MAAM,CAACoH,KAAK,CAAC;UAClCtW,UAAU,CAAC,MAAM;YACfiW,MAAM,CAAC0Q,YAAY,CAAC+zB,mBAAmB,CAAC;YACxC/+B,UAAU,CAAC/S,aAAa,CAAC,MAAM;cAC7B,IAAI,CAACqN,MAAM,IAAIA,MAAM,CAAC0D,SAAS,EAAE;cACjC1D,MAAM,CAACrN,aAAa,CAAC,CAAC;YACxB,CAAC,CAAC;UACJ,CAAC,EAAE,CAAC,CAAC;QACP,CAAC,CAAC;MACJ,CAAC,MAAM,IAAIqN,MAAM,CAACklB,QAAQ,EAAE;QAC1B5hB,IAAI,CAAC,4BAA4B,CAAC;QAClCtD,MAAM,CAAC0N,cAAc,CAAC62B,WAAW,CAAC;QAClCvkC,MAAM,CAACsM,aAAa,CAACwrB,gBAAgB,CAAC;QACtC93B,MAAM,CAAC0Q,YAAY,CAAC6zB,WAAW,CAAC;QAChCvkC,MAAM,CAACvN,eAAe,CAAC,IAAI,EAAEuN,MAAM,CAAC0Z,cAAc,CAAC;QAEnD,IAAI,CAAC1Z,MAAM,CAAC7G,SAAS,EAAE;UACrB6G,MAAM,CAAC7G,SAAS,GAAG,IAAI;UACvBuM,UAAU,CAAC/S,aAAa,CAAC,MAAM;YAC7B,IAAI,CAACqN,MAAM,IAAIA,MAAM,CAAC0D,SAAS,EAAE;YACjC1D,MAAM,CAACrN,aAAa,CAAC,CAAC;UACxB,CAAC,CAAC;QACJ;MACF,CAAC,MAAM;QACLqN,MAAM,CAAC0N,cAAc,CAAC62B,WAAW,CAAC;MACpC;MAEAvkC,MAAM,CAACiP,iBAAiB,CAAC,CAAC;MAC1BjP,MAAM,CAACmO,mBAAmB,CAAC,CAAC;IAC9B,CAAC,MAAM,IAAIlV,MAAM,CAACihB,QAAQ,CAAC+T,MAAM,EAAE;MACjCjuB,MAAM,CAACyU,cAAc,CAAC,CAAC;MACvB;IACF,CAAC,MAAM,IAAIxb,MAAM,CAACihB,QAAQ,EAAE;MAC1B5W,IAAI,CAAC,4BAA4B,CAAC;IACpC;IAEA,IAAI,CAACrK,MAAM,CAACihB,QAAQ,CAAC2pB,QAAQ,IAAInoB,QAAQ,IAAIziB,MAAM,CAACkjB,YAAY,EAAE;MAChEnc,MAAM,CAAC0N,cAAc,CAAC,CAAC;MACvB1N,MAAM,CAACiP,iBAAiB,CAAC,CAAC;MAC1BjP,MAAM,CAACmO,mBAAmB,CAAC,CAAC;IAC9B;EACF;EAEA3nB,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;IACpBka,QAAQ,EAAE;MACR9C,YAAY,EAAZA,YAAY;MACZ+C,WAAW,EAAXA,WAAW;MACXqB,UAAU,EAAVA;IACF;EACF,CAAC,CAAC;AACJ;;;;;;;;;;;;AC/Pe,SAASspB,IAAIA,CAAC;EAC3B9kC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA;AACF,CAAC,EAAE;EACDA,YAAY,CAAC;IACXwE,IAAI,EAAE;MACJC,IAAI,EAAE,CAAC;MACPmW,IAAI,EAAE;IACR;EACF,CAAC,CAAC;EACF,IAAIwlB,sBAAsB;EAC1B,IAAIC,YAAY;EAChB,IAAIC,cAAc;EAElB,MAAM57B,UAAU,GAAGvB,YAAY,IAAI;IACjC,MAAM;MACJ0B,aAAa,EAAbA;IACF,CAAC,GAAGxJ,MAAM,CAAC/G,MAAM;IACjB,MAAM;MACJmQ,IAAI,EAAJA,IAAI;MACJmW,IAAI,EAAJA;IACF,CAAC,GAAGvf,MAAM,CAAC/G,MAAM,CAACkQ,IAAI;IACtB67B,YAAY,GAAGD,sBAAsB,GAAG37B,IAAI;IAC5C67B,cAAc,GAAGhtC,IAAI,CAACkS,KAAK,CAACrC,YAAY,GAAGsB,IAAI,CAAC;IAEhD,IAAInR,IAAI,CAACkS,KAAK,CAACrC,YAAY,GAAGsB,IAAI,CAAC,KAAKtB,YAAY,GAAGsB,IAAI,EAAE;MAC3D27B,sBAAsB,GAAGj9B,YAAY;IACvC,CAAC,MAAM;MACLi9B,sBAAsB,GAAG9sC,IAAI,CAACwU,IAAI,CAAC3E,YAAY,GAAGsB,IAAI,CAAC,GAAGA,IAAI;IAChE;IAEA,IAAII,aAAa,KAAK,MAAM,IAAI+V,IAAI,KAAK,KAAK,EAAE;MAC9CwlB,sBAAsB,GAAG9sC,IAAI,CAACC,GAAG,CAAC6sC,sBAAsB,EAAEv7B,aAAa,GAAGJ,IAAI,CAAC;IACjF;EACF,CAAC;EAED,MAAMO,WAAW,GAAGA,CAAC1d,CAAC,EAAEyd,KAAK,EAAE5B,YAAY,EAAEd,iBAAiB,KAAK;IACjE,MAAM;MACJsD,cAAc,EAAdA,cAAc;MACd9B,YAAY,EAAZA;IACF,CAAC,GAAGxI,MAAM,CAAC/G,MAAM;IACjB,MAAM;MACJmQ,IAAI,EAAJA,IAAI;MACJmW,IAAI,EAAJA;IACF,CAAC,GAAGvf,MAAM,CAAC/G,MAAM,CAACkQ,IAAI,CAAC,CAAC;;IAExB,IAAI+7B,kBAAkB;IACtB,IAAIC,MAAM;IACV,IAAIC,GAAG;IAEP,IAAI7lB,IAAI,KAAK,KAAK,IAAIjV,cAAc,GAAG,CAAC,EAAE;MACxC,MAAM+6B,UAAU,GAAGptC,IAAI,CAACkS,KAAK,CAACle,CAAC,IAAIqe,cAAc,GAAGlB,IAAI,CAAC,CAAC;MAC1D,MAAMk8B,iBAAiB,GAAGr5C,CAAC,GAAGmd,IAAI,GAAGkB,cAAc,GAAG+6B,UAAU;MAChE,MAAME,cAAc,GAAGF,UAAU,KAAK,CAAC,GAAG/6B,cAAc,GAAGrS,IAAI,CAACE,GAAG,CAACF,IAAI,CAACwU,IAAI,CAAC,CAAC3E,YAAY,GAAGu9B,UAAU,GAAGj8B,IAAI,GAAGkB,cAAc,IAAIlB,IAAI,CAAC,EAAEkB,cAAc,CAAC;MAC1J86B,GAAG,GAAGntC,IAAI,CAACkS,KAAK,CAACm7B,iBAAiB,GAAGC,cAAc,CAAC;MACpDJ,MAAM,GAAGG,iBAAiB,GAAGF,GAAG,GAAGG,cAAc,GAAGF,UAAU,GAAG/6B,cAAc;MAC/E46B,kBAAkB,GAAGC,MAAM,GAAGC,GAAG,GAAGL,sBAAsB,GAAG37B,IAAI;MACjEM,KAAK,CAAC3W,GAAG,CAAC;QACR,eAAe,EAAEmyC,kBAAkB;QACnCM,KAAK,EAAEN;MACT,CAAC,CAAC;IACJ,CAAC,MAAM,IAAI3lB,IAAI,KAAK,QAAQ,EAAE;MAC5B4lB,MAAM,GAAGltC,IAAI,CAACkS,KAAK,CAACle,CAAC,GAAGmd,IAAI,CAAC;MAC7Bg8B,GAAG,GAAGn5C,CAAC,GAAGk5C,MAAM,GAAG/7B,IAAI;MAEvB,IAAI+7B,MAAM,GAAGF,cAAc,IAAIE,MAAM,KAAKF,cAAc,IAAIG,GAAG,KAAKh8B,IAAI,GAAG,CAAC,EAAE;QAC5Eg8B,GAAG,IAAI,CAAC;QAER,IAAIA,GAAG,IAAIh8B,IAAI,EAAE;UACfg8B,GAAG,GAAG,CAAC;UACPD,MAAM,IAAI,CAAC;QACb;MACF;IACF,CAAC,MAAM;MACLC,GAAG,GAAGntC,IAAI,CAACkS,KAAK,CAACle,CAAC,GAAG+4C,YAAY,CAAC;MAClCG,MAAM,GAAGl5C,CAAC,GAAGm5C,GAAG,GAAGJ,YAAY;IACjC;IAEAt7B,KAAK,CAAC3W,GAAG,CAACiU,iBAAiB,CAAC,YAAY,CAAC,EAAEo+B,GAAG,KAAK,CAAC,GAAG58B,YAAY,OAAA7F,MAAA,CAAO6F,YAAY,OAAI,GAAG,EAAE,CAAC;EAClG,CAAC;EAED,MAAMkC,iBAAiB,GAAGA,CAACpB,SAAS,EAAEvB,QAAQ,EAAEf,iBAAiB,KAAK;IACpE,MAAM;MACJwB,YAAY,EAAZA,YAAY;MACZQ,cAAc,EAAdA,cAAc;MACde,YAAY,EAAZA;IACF,CAAC,GAAG/J,MAAM,CAAC/G,MAAM;IACjB,MAAM;MACJmQ,IAAI,EAAJA;IACF,CAAC,GAAGpJ,MAAM,CAAC/G,MAAM,CAACkQ,IAAI;IACtBnJ,MAAM,CAAC2I,WAAW,GAAG,CAACW,SAAS,GAAGd,YAAY,IAAIu8B,sBAAsB;IACxE/kC,MAAM,CAAC2I,WAAW,GAAG1Q,IAAI,CAACwU,IAAI,CAACzM,MAAM,CAAC2I,WAAW,GAAGS,IAAI,CAAC,GAAGZ,YAAY;IACxExI,MAAM,CAAC0F,UAAU,CAAC3S,GAAG,CAAAuJ,eAAA,KAClB0K,iBAAiB,CAAC,OAAO,CAAC,KAAArE,MAAA,CAAM3C,MAAM,CAAC2I,WAAW,GAAGH,YAAY,QACnE,CAAC;IAEF,IAAIQ,cAAc,EAAE;MAClBjB,QAAQ,CAACpW,MAAM,CAAC,CAAC,EAAEoW,QAAQ,CAAChhB,MAAM,CAAC;MACnC,MAAM4jB,aAAa,GAAG,EAAE;MAExB,KAAK,IAAI1e,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8b,QAAQ,CAAChhB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QAC3C,IAAI2e,cAAc,GAAG7C,QAAQ,CAAC9b,CAAC,CAAC;QAChC,IAAI8d,YAAY,EAAEa,cAAc,GAAG3S,IAAI,CAACkS,KAAK,CAACS,cAAc,CAAC;QAC7D,IAAI7C,QAAQ,CAAC9b,CAAC,CAAC,GAAG+T,MAAM,CAAC2I,WAAW,GAAGZ,QAAQ,CAAC,CAAC,CAAC,EAAE4C,aAAa,CAACjf,IAAI,CAACkf,cAAc,CAAC;MACxF;MAEA7C,QAAQ,CAACrc,IAAI,CAAC,GAAGif,aAAa,CAAC;IACjC;EACF,CAAC;EAED3K,MAAM,CAACmJ,IAAI,GAAG;IACZE,UAAU,EAAVA,UAAU;IACVM,WAAW,EAAXA,WAAW;IACXe,iBAAiB,EAAjBA;EACF,CAAC;AACH;;;;;;;;;ACnHe,SAASse,WAAWA,CAACphB,MAAM,EAAE;EAC1C,MAAM5H,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ0F,UAAU,EAAVA,UAAU;IACVzM,MAAM,EAANA;EACF,CAAC,GAAG+G,MAAM;EAEV,IAAI/G,MAAM,CAAC2V,IAAI,EAAE;IACf5O,MAAM,CAACkW,WAAW,CAAC,CAAC;EACtB;EAEA,IAAItZ,OAAA,CAAOgL,MAAM,MAAK,QAAQ,IAAI,QAAQ,IAAIA,MAAM,EAAE;IACpD,KAAK,IAAI3b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,IAAI2b,MAAM,CAAC3b,CAAC,CAAC,EAAEyZ,UAAU,CAACvQ,MAAM,CAACyS,MAAM,CAAC3b,CAAC,CAAC,CAAC;IAC7C;EACF,CAAC,MAAM;IACLyZ,UAAU,CAACvQ,MAAM,CAACyS,MAAM,CAAC;EAC3B;EAEA,IAAI3O,MAAM,CAAC2V,IAAI,EAAE;IACf5O,MAAM,CAACqV,UAAU,CAAC,CAAC;EACrB;EAEA,IAAI,CAACpc,MAAM,CAACsK,QAAQ,EAAE;IACpBvD,MAAM,CAACiiB,MAAM,CAAC,CAAC;EACjB;AACF;;;;;;;;;AC1Be,SAASgH,YAAYA,CAACrhB,MAAM,EAAE;EAC3C,MAAM5H,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA,MAAM;IACNyM,UAAU,EAAVA,UAAU;IACVgH,WAAW,EAAXA;EACF,CAAC,GAAG1M,MAAM;EAEV,IAAI/G,MAAM,CAAC2V,IAAI,EAAE;IACf5O,MAAM,CAACkW,WAAW,CAAC,CAAC;EACtB;EAEA,IAAIhH,cAAc,GAAGxC,WAAW,GAAG,CAAC;EAEpC,IAAI9P,OAAA,CAAOgL,MAAM,MAAK,QAAQ,IAAI,QAAQ,IAAIA,MAAM,EAAE;IACpD,KAAK,IAAI3b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,IAAI2b,MAAM,CAAC3b,CAAC,CAAC,EAAEyZ,UAAU,CAAC/P,OAAO,CAACiS,MAAM,CAAC3b,CAAC,CAAC,CAAC;IAC9C;IAEAijB,cAAc,GAAGxC,WAAW,GAAG9E,MAAM,CAAC7gB,MAAM;EAC9C,CAAC,MAAM;IACL2e,UAAU,CAAC/P,OAAO,CAACiS,MAAM,CAAC;EAC5B;EAEA,IAAI3O,MAAM,CAAC2V,IAAI,EAAE;IACf5O,MAAM,CAACqV,UAAU,CAAC,CAAC;EACrB;EAEA,IAAI,CAACpc,MAAM,CAACsK,QAAQ,EAAE;IACpBvD,MAAM,CAACiiB,MAAM,CAAC,CAAC;EACjB;EAEAjiB,MAAM,CAACsS,OAAO,CAACpD,cAAc,EAAE,CAAC,EAAE,KAAK,CAAC;AAC1C;;;;;;;;;ACjCe,SAASu2B,QAAQA,CAAClxC,KAAK,EAAEqT,MAAM,EAAE;EAC9C,MAAM5H,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ0F,UAAU,EAAVA,UAAU;IACVzM,MAAM,EAANA,MAAM;IACNyT,WAAW,EAAXA;EACF,CAAC,GAAG1M,MAAM;EACV,IAAI0lC,iBAAiB,GAAGh5B,WAAW;EAEnC,IAAIzT,MAAM,CAAC2V,IAAI,EAAE;IACf82B,iBAAiB,IAAI1lC,MAAM,CAACuT,YAAY;IACxCvT,MAAM,CAACkW,WAAW,CAAC,CAAC;IACpBlW,MAAM,CAAC4H,MAAM,GAAGlC,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,CAAE,CAAC;EAC9D;EAEA,MAAM89B,UAAU,GAAG3lC,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM;EAEvC,IAAIwN,KAAK,IAAI,CAAC,EAAE;IACdyL,MAAM,CAACipB,YAAY,CAACrhB,MAAM,CAAC;IAC3B;EACF;EAEA,IAAIrT,KAAK,IAAIoxC,UAAU,EAAE;IACvB3lC,MAAM,CAACgpB,WAAW,CAACphB,MAAM,CAAC;IAC1B;EACF;EAEA,IAAIsH,cAAc,GAAGw2B,iBAAiB,GAAGnxC,KAAK,GAAGmxC,iBAAiB,GAAG,CAAC,GAAGA,iBAAiB;EAC1F,MAAME,YAAY,GAAG,EAAE;EAEvB,KAAK,IAAI35C,CAAC,GAAG05C,UAAU,GAAG,CAAC,EAAE15C,CAAC,IAAIsI,KAAK,EAAEtI,CAAC,IAAI,CAAC,EAAE;IAC/C,MAAM45C,YAAY,GAAG7lC,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;IACxC45C,YAAY,CAAC93C,MAAM,CAAC,CAAC;IACrB63C,YAAY,CAAC/0C,OAAO,CAACg1C,YAAY,CAAC;EACpC;EAEA,IAAIjpC,OAAA,CAAOgL,MAAM,MAAK,QAAQ,IAAI,QAAQ,IAAIA,MAAM,EAAE;IACpD,KAAK,IAAI3b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,IAAI2b,MAAM,CAAC3b,CAAC,CAAC,EAAEyZ,UAAU,CAACvQ,MAAM,CAACyS,MAAM,CAAC3b,CAAC,CAAC,CAAC;IAC7C;IAEAijB,cAAc,GAAGw2B,iBAAiB,GAAGnxC,KAAK,GAAGmxC,iBAAiB,GAAG99B,MAAM,CAAC7gB,MAAM,GAAG2+C,iBAAiB;EACpG,CAAC,MAAM;IACLhgC,UAAU,CAACvQ,MAAM,CAACyS,MAAM,CAAC;EAC3B;EAEA,KAAK,IAAI3b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG25C,YAAY,CAAC7+C,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IAC/CyZ,UAAU,CAACvQ,MAAM,CAACywC,YAAY,CAAC35C,CAAC,CAAC,CAAC;EACpC;EAEA,IAAIgN,MAAM,CAAC2V,IAAI,EAAE;IACf5O,MAAM,CAACqV,UAAU,CAAC,CAAC;EACrB;EAEA,IAAI,CAACpc,MAAM,CAACsK,QAAQ,EAAE;IACpBvD,MAAM,CAACiiB,MAAM,CAAC,CAAC;EACjB;EAEA,IAAIhpB,MAAM,CAAC2V,IAAI,EAAE;IACf5O,MAAM,CAACsS,OAAO,CAACpD,cAAc,GAAGlP,MAAM,CAACuT,YAAY,EAAE,CAAC,EAAE,KAAK,CAAC;EAChE,CAAC,MAAM;IACLvT,MAAM,CAACsS,OAAO,CAACpD,cAAc,EAAE,CAAC,EAAE,KAAK,CAAC;EAC1C;AACF;;;;;;;;;AC/De,SAASqa,WAAWA,CAACC,aAAa,EAAE;EACjD,MAAMxpB,MAAM,GAAG,IAAI;EACnB,MAAM;IACJ/G,MAAM,EAANA,MAAM;IACNyM,UAAU,EAAVA,UAAU;IACVgH,WAAW,EAAXA;EACF,CAAC,GAAG1M,MAAM;EACV,IAAI0lC,iBAAiB,GAAGh5B,WAAW;EAEnC,IAAIzT,MAAM,CAAC2V,IAAI,EAAE;IACf82B,iBAAiB,IAAI1lC,MAAM,CAACuT,YAAY;IACxCvT,MAAM,CAACkW,WAAW,CAAC,CAAC;IACpBlW,MAAM,CAAC4H,MAAM,GAAGlC,UAAU,CAAC7d,QAAQ,KAAA8a,MAAA,CAAK1J,MAAM,CAAC4O,UAAU,CAAE,CAAC;EAC9D;EAEA,IAAIqH,cAAc,GAAGw2B,iBAAiB;EACtC,IAAII,aAAa;EAEjB,IAAIlpC,OAAA,CAAO4sB,aAAa,MAAK,QAAQ,IAAI,QAAQ,IAAIA,aAAa,EAAE;IAClE,KAAK,IAAIv9B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGu9B,aAAa,CAACziC,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAChD65C,aAAa,GAAGtc,aAAa,CAACv9B,CAAC,CAAC;MAChC,IAAI+T,MAAM,CAAC4H,MAAM,CAACk+B,aAAa,CAAC,EAAE9lC,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC6wC,aAAa,CAAC,CAAC/3C,MAAM,CAAC,CAAC;MAC1E,IAAI+3C,aAAa,GAAG52B,cAAc,EAAEA,cAAc,IAAI,CAAC;IACzD;IAEAA,cAAc,GAAGjX,IAAI,CAACC,GAAG,CAACgX,cAAc,EAAE,CAAC,CAAC;EAC9C,CAAC,MAAM;IACL42B,aAAa,GAAGtc,aAAa;IAC7B,IAAIxpB,MAAM,CAAC4H,MAAM,CAACk+B,aAAa,CAAC,EAAE9lC,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAC6wC,aAAa,CAAC,CAAC/3C,MAAM,CAAC,CAAC;IAC1E,IAAI+3C,aAAa,GAAG52B,cAAc,EAAEA,cAAc,IAAI,CAAC;IACvDA,cAAc,GAAGjX,IAAI,CAACC,GAAG,CAACgX,cAAc,EAAE,CAAC,CAAC;EAC9C;EAEA,IAAIjW,MAAM,CAAC2V,IAAI,EAAE;IACf5O,MAAM,CAACqV,UAAU,CAAC,CAAC;EACrB;EAEA,IAAI,CAACpc,MAAM,CAACsK,QAAQ,EAAE;IACpBvD,MAAM,CAACiiB,MAAM,CAAC,CAAC;EACjB;EAEA,IAAIhpB,MAAM,CAAC2V,IAAI,EAAE;IACf5O,MAAM,CAACsS,OAAO,CAACpD,cAAc,GAAGlP,MAAM,CAACuT,YAAY,EAAE,CAAC,EAAE,KAAK,CAAC;EAChE,CAAC,MAAM;IACLvT,MAAM,CAACsS,OAAO,CAACpD,cAAc,EAAE,CAAC,EAAE,KAAK,CAAC;EAC1C;AACF;;;;;;;;AC9Ce,SAASua,eAAeA,CAAA,EAAG;EACxC,MAAMzpB,MAAM,GAAG,IAAI;EACnB,MAAMwpB,aAAa,GAAG,EAAE;EAExB,KAAK,IAAIv9B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+T,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;IAChDu9B,aAAa,CAAC99B,IAAI,CAACO,CAAC,CAAC;EACvB;EAEA+T,MAAM,CAACupB,WAAW,CAACC,aAAa,CAAC;AACnC;;;;;;;;ACTA,IAAAuc,YAAA,GAAA75B,sBAAA,CAAAxhB,OAAA;AACA,IAAAs7C,aAAA,GAAA95B,sBAAA,CAAAxhB,OAAA;AACA,IAAAu7C,SAAA,GAAA/5B,sBAAA,CAAAxhB,OAAA;AACA,IAAAw7C,YAAA,GAAAh6B,sBAAA,CAAAxhB,OAAA;AACA,IAAAy7C,gBAAA,GAAAj6B,sBAAA,CAAAxhB,OAAA;AAA2D,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAC5C,SAAS8/C,YAAYA,CAAC;EACnCpmC,MAAM,EAANA;AACF,CAAC,EAAE;EACDxZ,MAAM,CAACwS,MAAM,CAACgH,MAAM,EAAE;IACpBgpB,WAAW,EAAEA,oBAAW,CAACvK,IAAI,CAACze,MAAM,CAAC;IACrCipB,YAAY,EAAEA,qBAAY,CAACxK,IAAI,CAACze,MAAM,CAAC;IACvCylC,QAAQ,EAAEA,iBAAQ,CAAChnB,IAAI,CAACze,MAAM,CAAC;IAC/BupB,WAAW,EAAEA,oBAAW,CAAC9K,IAAI,CAACze,MAAM,CAAC;IACrCypB,eAAe,EAAEA,wBAAe,CAAChL,IAAI,CAACze,MAAM;EAC9C,CAAC,CAAC;AACJ;;;;;;;;ACfe,SAASqmC,UAAUA,CAACptC,MAAM,EAAE;EACzC,MAAM;IACJuR,MAAM,EAANA,MAAM;IACNxK,MAAM,EAANA,MAAM;IACN7P,EAAE,EAAFA,EAAE;IACFugB,YAAY,EAAZA,YAAY;IACZpE,aAAa,EAAbA,aAAa;IACbg6B,eAAe,EAAfA,eAAe;IACfC,WAAW,EAAXA,WAAW;IACXC,eAAe,EAAfA,eAAe;IACfC,eAAe,EAAfA;EACF,CAAC,GAAGxtC,MAAM;EACV9I,EAAE,CAAC,YAAY,EAAE,MAAM;IACrB,IAAI6P,MAAM,CAAC/G,MAAM,CAACuR,MAAM,KAAKA,MAAM,EAAE;IACrCxK,MAAM,CAACxS,UAAU,CAAC9B,IAAI,IAAAiX,MAAA,CAAI3C,MAAM,CAAC/G,MAAM,CAAC8S,sBAAsB,EAAApJ,MAAA,CAAG6H,MAAM,CAAE,CAAC;IAE1E,IAAI+7B,WAAW,IAAIA,WAAW,CAAC,CAAC,EAAE;MAChCvmC,MAAM,CAACxS,UAAU,CAAC9B,IAAI,IAAAiX,MAAA,CAAI3C,MAAM,CAAC/G,MAAM,CAAC8S,sBAAsB,OAAI,CAAC;IACrE;IAEA,MAAM26B,qBAAqB,GAAGJ,eAAe,GAAGA,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC;IACtE9/C,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAAC/G,MAAM,EAAEytC,qBAAqB,CAAC;IACnDlgD,MAAM,CAACwS,MAAM,CAACgH,MAAM,CAACkf,cAAc,EAAEwnB,qBAAqB,CAAC;EAC7D,CAAC,CAAC;EACFv2C,EAAE,CAAC,cAAc,EAAE,MAAM;IACvB,IAAI6P,MAAM,CAAC/G,MAAM,CAACuR,MAAM,KAAKA,MAAM,EAAE;IACrCkG,YAAY,CAAC,CAAC;EAChB,CAAC,CAAC;EACFvgB,EAAE,CAAC,eAAe,EAAE,CAACm/B,EAAE,EAAEr/B,QAAQ,KAAK;IACpC,IAAI+P,MAAM,CAAC/G,MAAM,CAACuR,MAAM,KAAKA,MAAM,EAAE;IACrC8B,aAAa,CAACrc,QAAQ,CAAC;EACzB,CAAC,CAAC;EACFE,EAAE,CAAC,eAAe,EAAE,MAAM;IACxB,IAAI6P,MAAM,CAAC/G,MAAM,CAACuR,MAAM,KAAKA,MAAM,EAAE;IAErC,IAAIg8B,eAAe,EAAE;MACnB,IAAI,CAACC,eAAe,IAAI,CAACA,eAAe,CAAC,CAAC,CAACE,YAAY,EAAE,OAAO,CAAC;;MAEjE3mC,MAAM,CAAC4H,MAAM,CAACtT,IAAI,CAACqxB,OAAO,IAAI;QAC5B,MAAMqC,QAAQ,GAAGhoB,MAAM,CAAClT,CAAC,CAAC64B,OAAO,CAAC;QAClCqC,QAAQ,CAAClxB,IAAI,CAAC,8GAA8G,CAAC,CAAC/I,MAAM,CAAC,CAAC;MACxI,CAAC,CAAC,CAAC,CAAC;;MAEJy4C,eAAe,CAAC,CAAC;IACnB;EACF,CAAC,CAAC;EACF,IAAII,sBAAsB;EAC1Bz2C,EAAE,CAAC,eAAe,EAAE,MAAM;IACxB,IAAI6P,MAAM,CAAC/G,MAAM,CAACuR,MAAM,KAAKA,MAAM,EAAE;IAErC,IAAI,CAACxK,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,EAAE;MACzB6/C,sBAAsB,GAAG,IAAI;IAC/B;IAEA18C,qBAAqB,CAAC,MAAM;MAC1B,IAAI08C,sBAAsB,IAAI5mC,MAAM,CAAC4H,MAAM,IAAI5H,MAAM,CAAC4H,MAAM,CAAC7gB,MAAM,EAAE;QACnE2pB,YAAY,CAAC,CAAC;QACdk2B,sBAAsB,GAAG,KAAK;MAChC;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;;;;;;;;AC7De,SAASC,YAAYA,CAACC,YAAY,EAAE9e,QAAQ,EAAE;EAC3D,IAAI8e,YAAY,CAACC,WAAW,EAAE;IAC5B,OAAO/e,QAAQ,CAAClxB,IAAI,CAACgwC,YAAY,CAACC,WAAW,CAAC,CAACh0C,GAAG,CAAC;MACjD,qBAAqB,EAAE,QAAQ;MAC/B,6BAA6B,EAAE;IACjC,CAAC,CAAC;EACJ;EAEA,OAAOi1B,QAAQ;AACjB;;;;;;;;ACTe,SAASgf,0BAA0BA,CAAC;EACjDhnC,MAAM,EAANA,MAAM;EACN/P,QAAQ,EAARA,QAAQ;EACR82C,WAAW,EAAXA,WAAW;EACXE,SAAS,EAATA;AACF,CAAC,EAAE;EACD,MAAM;IACJr/B,MAAM,EAANA,MAAM;IACN8E,WAAW,EAAXA,WAAW;IACXhH,UAAU,EAAVA;EACF,CAAC,GAAG1F,MAAM;EAEV,IAAIA,MAAM,CAAC/G,MAAM,CAACuX,gBAAgB,IAAIvgB,QAAQ,KAAK,CAAC,EAAE;IACpD,IAAIi3C,cAAc,GAAG,KAAK;IAC1B,IAAIC,oBAAoB;IAExB,IAAIF,SAAS,EAAE;MACbE,oBAAoB,GAAGJ,WAAW,GAAGn/B,MAAM,CAAC9Q,IAAI,CAACiwC,WAAW,CAAC,GAAGn/B,MAAM;IACxE,CAAC,MAAM;MACLu/B,oBAAoB,GAAGJ,WAAW,GAAGn/B,MAAM,CAAC3S,EAAE,CAACyX,WAAW,CAAC,CAAC5V,IAAI,CAACiwC,WAAW,CAAC,GAAGn/B,MAAM,CAAC3S,EAAE,CAACyX,WAAW,CAAC;IACxG;IAEAy6B,oBAAoB,CAACx0C,aAAa,CAAC,MAAM;MACvC,IAAIu0C,cAAc,EAAE;MACpB,IAAI,CAAClnC,MAAM,IAAIA,MAAM,CAAC0D,SAAS,EAAE;MACjCwjC,cAAc,GAAG,IAAI;MACrBlnC,MAAM,CAAC7G,SAAS,GAAG,KAAK;MACxB,MAAMiuC,aAAa,GAAG,CAAC,qBAAqB,EAAE,eAAe,CAAC;MAE9D,KAAK,IAAIn7C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGm7C,aAAa,CAACrgD,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;QAChDyZ,UAAU,CAACxT,OAAO,CAACk1C,aAAa,CAACn7C,CAAC,CAAC,CAAC;MACtC;IACF,CAAC,CAAC;EACJ;AACF;;;;;;;;AClCA,IAAAo7C,WAAA,GAAAn7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA48C,aAAA,GAAAp7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA68C,2BAAA,GAAAr7B,sBAAA,CAAAxhB,OAAA;AAAuF,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACxE,SAASkhD,UAAUA,CAAC;EACjCxnC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACX8iC,UAAU,EAAE;MACVC,SAAS,EAAE,KAAK;MAChBX,WAAW,EAAE;IACf;EACF,CAAC,CAAC;EAEF,MAAMr2B,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAM;MACJ9I,MAAM,EAANA;IACF,CAAC,GAAG5H,MAAM;IACV,MAAM/G,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACwuC,UAAU;IAEvC,KAAK,IAAIx7C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,MAAM+7B,QAAQ,GAAGhoB,MAAM,CAAC4H,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;MACpC,MAAMuH,MAAM,GAAGw0B,QAAQ,CAAC,CAAC,CAAC,CAACrb,iBAAiB;MAC5C,IAAIg7B,EAAE,GAAG,CAACn0C,MAAM;MAChB,IAAI,CAACwM,MAAM,CAAC/G,MAAM,CAACuX,gBAAgB,EAAEm3B,EAAE,IAAI3nC,MAAM,CAACI,SAAS;MAC3D,IAAIwnC,EAAE,GAAG,CAAC;MAEV,IAAI,CAAC5nC,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;QAC1BmhC,EAAE,GAAGD,EAAE;QACPA,EAAE,GAAG,CAAC;MACR;MAEA,MAAME,YAAY,GAAG7nC,MAAM,CAAC/G,MAAM,CAACwuC,UAAU,CAACC,SAAS,GAAGzvC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGD,IAAI,CAACoS,GAAG,CAAC2d,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAGR,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAAC8vB,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MAC/J,MAAM+e,SAAS,GAAG,IAAAqvB,qBAAY,EAAC5tC,MAAM,EAAE+uB,QAAQ,CAAC;MAChDxQ,SAAS,CAACzkB,GAAG,CAAC;QACZ6gC,OAAO,EAAEiU;MACX,CAAC,CAAC,CAAC93C,SAAS,gBAAA4S,MAAA,CAAgBglC,EAAE,UAAAhlC,MAAA,CAAOilC,EAAE,aAAU,CAAC;IACpD;EACF,CAAC;EAED,MAAMt7B,aAAa,GAAGrc,QAAQ,IAAI;IAChC,MAAM;MACJ82C,WAAW,EAAXA;IACF,CAAC,GAAG/mC,MAAM,CAAC/G,MAAM,CAACwuC,UAAU;IAC5B,MAAMK,mBAAmB,GAAGf,WAAW,GAAG/mC,MAAM,CAAC4H,MAAM,CAAC9Q,IAAI,CAACiwC,WAAW,CAAC,GAAG/mC,MAAM,CAAC4H,MAAM;IACzFkgC,mBAAmB,CAAC93C,UAAU,CAACC,QAAQ,CAAC;IACxC,IAAA+2C,mCAA0B,EAAC;MACzBhnC,MAAM,EAANA,MAAM;MACN/P,QAAQ,EAARA,QAAQ;MACR82C,WAAW,EAAXA,WAAW;MACXE,SAAS,EAAE;IACb,CAAC,CAAC;EACJ,CAAC;EAED,IAAAZ,mBAAU,EAAC;IACT77B,MAAM,EAAE,MAAM;IACdxK,MAAM,EAANA,MAAM;IACN7P,EAAE,EAAFA,EAAE;IACFugB,YAAY,EAAZA,YAAY;IACZpE,aAAa,EAAbA,aAAa;IACbg6B,eAAe,EAAEA,CAAA,MAAO;MACtB98B,aAAa,EAAE,CAAC;MAChBc,cAAc,EAAE,CAAC;MACjBsB,mBAAmB,EAAE,IAAI;MACzBpD,YAAY,EAAE,CAAC;MACfgI,gBAAgB,EAAE,CAACxQ,MAAM,CAAC/G,MAAM,CAACgQ;IACnC,CAAC;EACH,CAAC,CAAC;AACJ;;;;;;;;ACrEA,IAAA/M,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAA28C,WAAA,GAAAn7B,sBAAA,CAAAxhB,OAAA;AAAqD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACtC,SAASyhD,UAAUA,CAAC;EACjC/nC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACXqjC,UAAU,EAAE;MACVrB,YAAY,EAAE,IAAI;MAClBsB,MAAM,EAAE,IAAI;MACZC,YAAY,EAAE,EAAE;MAChBC,WAAW,EAAE;IACf;EACF,CAAC,CAAC;EAEF,MAAMC,kBAAkB,GAAGA,CAACpgB,QAAQ,EAAEvvB,QAAQ,EAAEgO,YAAY,KAAK;IAC/D,IAAI4hC,YAAY,GAAG5hC,YAAY,GAAGuhB,QAAQ,CAAClxB,IAAI,CAAC,2BAA2B,CAAC,GAAGkxB,QAAQ,CAAClxB,IAAI,CAAC,0BAA0B,CAAC;IACxH,IAAIwxC,WAAW,GAAG7hC,YAAY,GAAGuhB,QAAQ,CAAClxB,IAAI,CAAC,4BAA4B,CAAC,GAAGkxB,QAAQ,CAAClxB,IAAI,CAAC,6BAA6B,CAAC;IAE3H,IAAIuxC,YAAY,CAACthD,MAAM,KAAK,CAAC,EAAE;MAC7BshD,YAAY,GAAG,IAAAv7C,YAAC,sCAAA6V,MAAA,CAAoC8D,YAAY,GAAG,MAAM,GAAG,KAAK,cAAU,CAAC;MAC5FuhB,QAAQ,CAAC7yB,MAAM,CAACkzC,YAAY,CAAC;IAC/B;IAEA,IAAIC,WAAW,CAACvhD,MAAM,KAAK,CAAC,EAAE;MAC5BuhD,WAAW,GAAG,IAAAx7C,YAAC,sCAAA6V,MAAA,CAAoC8D,YAAY,GAAG,OAAO,GAAG,QAAQ,cAAU,CAAC;MAC/FuhB,QAAQ,CAAC7yB,MAAM,CAACmzC,WAAW,CAAC;IAC9B;IAEA,IAAID,YAAY,CAACthD,MAAM,EAAEshD,YAAY,CAAC,CAAC,CAAC,CAACtgD,KAAK,CAAC6rC,OAAO,GAAG37B,IAAI,CAACC,GAAG,CAAC,CAACO,QAAQ,EAAE,CAAC,CAAC;IAC/E,IAAI6vC,WAAW,CAACvhD,MAAM,EAAEuhD,WAAW,CAAC,CAAC,CAAC,CAACvgD,KAAK,CAAC6rC,OAAO,GAAG37B,IAAI,CAACC,GAAG,CAACO,QAAQ,EAAE,CAAC,CAAC;EAC9E,CAAC;EAED,MAAM+tC,eAAe,GAAGA,CAAA,KAAM;IAC5B;IACA,MAAM//B,YAAY,GAAGzG,MAAM,CAACyG,YAAY,CAAC,CAAC;IAC1CzG,MAAM,CAAC4H,MAAM,CAACtT,IAAI,CAACqxB,OAAO,IAAI;MAC5B,MAAMltB,QAAQ,GAAGR,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACwtB,OAAO,CAACltB,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAC5D2vC,kBAAkB,CAAC,IAAAt7C,YAAC,EAAC64B,OAAO,CAAC,EAAEltB,QAAQ,EAAEgO,YAAY,CAAC;IACxD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMiK,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAM;MACJlL,GAAG,EAAHA,GAAG;MACHE,UAAU,EAAVA,UAAU;MACVkC,MAAM,EAANA,MAAM;MACN/U,KAAK,EAAEg4B,WAAW;MAClBz3B,MAAM,EAAE03B,YAAY;MACpBzjB,YAAY,EAAEC,GAAG;MACjBT,IAAI,EAAEO,UAAU;MAChBrE,OAAO,EAAPA;IACF,CAAC,GAAG/C,MAAM;IACV,MAAM/G,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAAC+uC,UAAU;IACvC,MAAMvhC,YAAY,GAAGzG,MAAM,CAACyG,YAAY,CAAC,CAAC;IAC1C,MAAMe,SAAS,GAAGxH,MAAM,CAACyH,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO;IACjE,IAAI6gC,aAAa,GAAG,CAAC;IACrB,IAAIC,aAAa;IAEjB,IAAIvvC,MAAM,CAACgvC,MAAM,EAAE;MACjB,IAAIxhC,YAAY,EAAE;QAChB+hC,aAAa,GAAG9iC,UAAU,CAAC5O,IAAI,CAAC,qBAAqB,CAAC;QAEtD,IAAI0xC,aAAa,CAACzhD,MAAM,KAAK,CAAC,EAAE;UAC9ByhD,aAAa,GAAG,IAAA17C,YAAC,EAAC,wCAAwC,CAAC;UAC3D4Y,UAAU,CAACvQ,MAAM,CAACqzC,aAAa,CAAC;QAClC;QAEAA,aAAa,CAACz1C,GAAG,CAAC;UAChBK,MAAM,KAAAuP,MAAA,CAAKkoB,WAAW;QACxB,CAAC,CAAC;MACJ,CAAC,MAAM;QACL2d,aAAa,GAAGhjC,GAAG,CAAC1O,IAAI,CAAC,qBAAqB,CAAC;QAE/C,IAAI0xC,aAAa,CAACzhD,MAAM,KAAK,CAAC,EAAE;UAC9ByhD,aAAa,GAAG,IAAA17C,YAAC,EAAC,wCAAwC,CAAC;UAC3D0Y,GAAG,CAACrQ,MAAM,CAACqzC,aAAa,CAAC;QAC3B;MACF;IACF;IAEA,KAAK,IAAIv8C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,MAAM+7B,QAAQ,GAAGpgB,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;MAC7B,IAAI6e,UAAU,GAAG7e,CAAC;MAElB,IAAIub,SAAS,EAAE;QACbsD,UAAU,GAAGnE,QAAQ,CAACqhB,QAAQ,CAAC35B,IAAI,CAAC,yBAAyB,CAAC,EAAE,EAAE,CAAC;MACrE;MAEA,IAAIo6C,UAAU,GAAG39B,UAAU,GAAG,EAAE;MAChC,IAAIkzB,KAAK,GAAG/lC,IAAI,CAACkS,KAAK,CAACs+B,UAAU,GAAG,GAAG,CAAC;MAExC,IAAInhC,GAAG,EAAE;QACPmhC,UAAU,GAAG,CAACA,UAAU;QACxBzK,KAAK,GAAG/lC,IAAI,CAACkS,KAAK,CAAC,CAACs+B,UAAU,GAAG,GAAG,CAAC;MACvC;MAEA,MAAMhwC,QAAQ,GAAGR,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC6vB,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAChE,IAAIkvC,EAAE,GAAG,CAAC;MACV,IAAIC,EAAE,GAAG,CAAC;MACV,IAAIc,EAAE,GAAG,CAAC;MAEV,IAAI59B,UAAU,GAAG,CAAC,KAAK,CAAC,EAAE;QACxB68B,EAAE,GAAG,CAAC3J,KAAK,GAAG,CAAC,GAAG52B,UAAU;QAC5BshC,EAAE,GAAG,CAAC;MACR,CAAC,MAAM,IAAI,CAAC59B,UAAU,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACrC68B,EAAE,GAAG,CAAC;QACNe,EAAE,GAAG,CAAC1K,KAAK,GAAG,CAAC,GAAG52B,UAAU;MAC9B,CAAC,MAAM,IAAI,CAAC0D,UAAU,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACrC68B,EAAE,GAAGvgC,UAAU,GAAG42B,KAAK,GAAG,CAAC,GAAG52B,UAAU;QACxCshC,EAAE,GAAGthC,UAAU;MACjB,CAAC,MAAM,IAAI,CAAC0D,UAAU,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACrC68B,EAAE,GAAG,CAACvgC,UAAU;QAChBshC,EAAE,GAAG,CAAC,GAAGthC,UAAU,GAAGA,UAAU,GAAG,CAAC,GAAG42B,KAAK;MAC9C;MAEA,IAAI12B,GAAG,EAAE;QACPqgC,EAAE,GAAG,CAACA,EAAE;MACV;MAEA,IAAI,CAAClhC,YAAY,EAAE;QACjBmhC,EAAE,GAAGD,EAAE;QACPA,EAAE,GAAG,CAAC;MACR;MAEA,MAAM53C,SAAS,cAAA4S,MAAA,CAAc8D,YAAY,GAAG,CAAC,GAAG,CAACgiC,UAAU,mBAAA9lC,MAAA,CAAgB8D,YAAY,GAAGgiC,UAAU,GAAG,CAAC,uBAAA9lC,MAAA,CAAoBglC,EAAE,UAAAhlC,MAAA,CAAOilC,EAAE,UAAAjlC,MAAA,CAAO+lC,EAAE,QAAK;MAErJ,IAAIjwC,QAAQ,IAAI,CAAC,IAAIA,QAAQ,GAAG,CAAC,CAAC,EAAE;QAClC8vC,aAAa,GAAGz9B,UAAU,GAAG,EAAE,GAAGrS,QAAQ,GAAG,EAAE;QAC/C,IAAI6O,GAAG,EAAEihC,aAAa,GAAG,CAACz9B,UAAU,GAAG,EAAE,GAAGrS,QAAQ,GAAG,EAAE;MAC3D;MAEAuvB,QAAQ,CAACj4B,SAAS,CAACA,SAAS,CAAC;MAE7B,IAAIkJ,MAAM,CAAC0tC,YAAY,EAAE;QACvByB,kBAAkB,CAACpgB,QAAQ,EAAEvvB,QAAQ,EAAEgO,YAAY,CAAC;MACtD;IACF;IAEAf,UAAU,CAAC3S,GAAG,CAAC;MACb,0BAA0B,cAAA4P,MAAA,CAAcyE,UAAU,GAAG,CAAC,OAAI;MAC1D,kBAAkB,cAAAzE,MAAA,CAAcyE,UAAU,GAAG,CAAC;IAChD,CAAC,CAAC;IAEF,IAAInO,MAAM,CAACgvC,MAAM,EAAE;MACjB,IAAIxhC,YAAY,EAAE;QAChB+hC,aAAa,CAACz4C,SAAS,qBAAA4S,MAAA,CAAqBkoB,WAAW,GAAG,CAAC,GAAG5xB,MAAM,CAACivC,YAAY,UAAAvlC,MAAA,CAAO,CAACkoB,WAAW,GAAG,CAAC,6CAAAloB,MAAA,CAA0C1J,MAAM,CAACkvC,WAAW,MAAG,CAAC;MAC1K,CAAC,MAAM;QACL,MAAMQ,WAAW,GAAG1wC,IAAI,CAACoS,GAAG,CAACk+B,aAAa,CAAC,GAAGtwC,IAAI,CAACkS,KAAK,CAAClS,IAAI,CAACoS,GAAG,CAACk+B,aAAa,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE;QAC3F,MAAM56B,UAAU,GAAG,GAAG,IAAI1V,IAAI,CAAC2wC,GAAG,CAACD,WAAW,GAAG,CAAC,GAAG1wC,IAAI,CAACW,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,GAAGX,IAAI,CAACU,GAAG,CAACgwC,WAAW,GAAG,CAAC,GAAG1wC,IAAI,CAACW,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;QACxH,MAAMiwC,MAAM,GAAG5vC,MAAM,CAACkvC,WAAW;QACjC,MAAMW,MAAM,GAAG7vC,MAAM,CAACkvC,WAAW,GAAGx6B,UAAU;QAC9C,MAAMna,MAAM,GAAGyF,MAAM,CAACivC,YAAY;QAClCM,aAAa,CAACz4C,SAAS,YAAA4S,MAAA,CAAYkmC,MAAM,WAAAlmC,MAAA,CAAQmmC,MAAM,yBAAAnmC,MAAA,CAAsBmoB,YAAY,GAAG,CAAC,GAAGt3B,MAAM,UAAAmP,MAAA,CAAO,CAACmoB,YAAY,GAAG,CAAC,GAAGge,MAAM,wBAAqB,CAAC;MAC/J;IACF;IAEA,MAAMC,OAAO,GAAGhmC,OAAO,CAACE,QAAQ,IAAIF,OAAO,CAACG,SAAS,GAAG,CAACkE,UAAU,GAAG,CAAC,GAAG,CAAC;IAC3E1B,UAAU,CAAC3V,SAAS,sBAAA4S,MAAA,CAAsBomC,OAAO,kBAAApmC,MAAA,CAAe3C,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,CAAC,GAAG8hC,aAAa,mBAAA5lC,MAAA,CAAgB3C,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,CAAC8hC,aAAa,GAAG,CAAC,SAAM,CAAC;IAC1K7iC,UAAU,CAAC,CAAC,CAAC,CAAC3d,KAAK,CAAC+X,WAAW,CAAC,2BAA2B,KAAA6C,MAAA,CAAKomC,OAAO,OAAI,CAAC;EAC9E,CAAC;EAED,MAAMz8B,aAAa,GAAGrc,QAAQ,IAAI;IAChC,MAAM;MACJuV,GAAG,EAAHA,GAAG;MACHoC,MAAM,EAANA;IACF,CAAC,GAAG5H,MAAM;IACV4H,MAAM,CAAC5X,UAAU,CAACC,QAAQ,CAAC,CAAC6G,IAAI,CAAC,8GAA8G,CAAC,CAAC9G,UAAU,CAACC,QAAQ,CAAC;IAErK,IAAI+P,MAAM,CAAC/G,MAAM,CAAC+uC,UAAU,CAACC,MAAM,IAAI,CAACjoC,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;MAC7DjB,GAAG,CAAC1O,IAAI,CAAC,qBAAqB,CAAC,CAAC9G,UAAU,CAACC,QAAQ,CAAC;IACtD;EACF,CAAC;EAED,IAAAo2C,mBAAU,EAAC;IACT77B,MAAM,EAAE,MAAM;IACdxK,MAAM,EAANA,MAAM;IACN7P,EAAE,EAAFA,EAAE;IACFugB,YAAY,EAAZA,YAAY;IACZpE,aAAa,EAAbA,aAAa;IACbk6B,eAAe,EAAfA,eAAe;IACfC,eAAe,EAAEA,CAAA,KAAMzmC,MAAM,CAAC/G,MAAM,CAAC+uC,UAAU;IAC/CzB,WAAW,EAAEA,CAAA,KAAM,IAAI;IACvBD,eAAe,EAAEA,CAAA,MAAO;MACtB98B,aAAa,EAAE,CAAC;MAChBc,cAAc,EAAE,CAAC;MACjBsB,mBAAmB,EAAE,IAAI;MACzByP,eAAe,EAAE,CAAC;MAClB7S,YAAY,EAAE,CAAC;MACfQ,cAAc,EAAE,KAAK;MACrBwH,gBAAgB,EAAE;IACpB,CAAC;EACH,CAAC,CAAC;AACJ;;;;;;;;AClMA,IAAAtU,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AAAyB,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACV,SAAS0iD,YAAYA,CAAC/vC,MAAM,EAAE+uB,QAAQ,EAAE9nB,IAAI,EAAE;EAC3D,MAAM+oC,WAAW,yBAAAtmC,MAAA,CAAyBzC,IAAI,OAAAyC,MAAA,CAAOzC,IAAI,IAAK,EAAE,CAAE;EAClE,MAAMgpC,gBAAgB,GAAGjwC,MAAM,CAAC8tC,WAAW,GAAG/e,QAAQ,CAAClxB,IAAI,CAACmC,MAAM,CAAC8tC,WAAW,CAAC,GAAG/e,QAAQ;EAC1F,IAAImhB,SAAS,GAAGD,gBAAgB,CAACrhD,QAAQ,KAAA8a,MAAA,CAAKsmC,WAAW,CAAE,CAAC;EAE5D,IAAI,CAACE,SAAS,CAACpiD,MAAM,EAAE;IACrBoiD,SAAS,GAAG,IAAAr8C,YAAC,qCAAA6V,MAAA,CAAmCzC,IAAI,OAAAyC,MAAA,CAAOzC,IAAI,IAAK,EAAE,cAAU,CAAC;IACjFgpC,gBAAgB,CAAC/zC,MAAM,CAACg0C,SAAS,CAAC;EACpC;EAEA,OAAOA,SAAS;AAClB;;;;;;;;ACZA,IAAAjtC,IAAA,GAAAgQ,sBAAA,CAAAxhB,OAAA;AACA,IAAA0+C,aAAA,GAAAl9B,sBAAA,CAAAxhB,OAAA;AACA,IAAA28C,WAAA,GAAAn7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA48C,aAAA,GAAAp7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA68C,2BAAA,GAAAr7B,sBAAA,CAAAxhB,OAAA;AAAuF,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACxE,SAAS+iD,UAAUA,CAAC;EACjCrpC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACX2kC,UAAU,EAAE;MACV3C,YAAY,EAAE,IAAI;MAClB4C,aAAa,EAAE,IAAI;MACnBxC,WAAW,EAAE;IACf;EACF,CAAC,CAAC;EAEF,MAAMqB,kBAAkB,GAAGA,CAACpgB,QAAQ,EAAEvvB,QAAQ,EAAEQ,MAAM,KAAK;IACzD,IAAIovC,YAAY,GAAGroC,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGuhB,QAAQ,CAAClxB,IAAI,CAAC,2BAA2B,CAAC,GAAGkxB,QAAQ,CAAClxB,IAAI,CAAC,0BAA0B,CAAC;IACjI,IAAIwxC,WAAW,GAAGtoC,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAGuhB,QAAQ,CAAClxB,IAAI,CAAC,4BAA4B,CAAC,GAAGkxB,QAAQ,CAAClxB,IAAI,CAAC,6BAA6B,CAAC;IAEpI,IAAIuxC,YAAY,CAACthD,MAAM,KAAK,CAAC,EAAE;MAC7BshD,YAAY,GAAG,IAAAW,qBAAY,EAAC/vC,MAAM,EAAE+uB,QAAQ,EAAEhoB,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,MAAM,GAAG,KAAK,CAAC;IACvF;IAEA,IAAI6hC,WAAW,CAACvhD,MAAM,KAAK,CAAC,EAAE;MAC5BuhD,WAAW,GAAG,IAAAU,qBAAY,EAAC/vC,MAAM,EAAE+uB,QAAQ,EAAEhoB,MAAM,CAACyG,YAAY,CAAC,CAAC,GAAG,OAAO,GAAG,QAAQ,CAAC;IAC1F;IAEA,IAAI4hC,YAAY,CAACthD,MAAM,EAAEshD,YAAY,CAAC,CAAC,CAAC,CAACtgD,KAAK,CAAC6rC,OAAO,GAAG37B,IAAI,CAACC,GAAG,CAAC,CAACO,QAAQ,EAAE,CAAC,CAAC;IAC/E,IAAI6vC,WAAW,CAACvhD,MAAM,EAAEuhD,WAAW,CAAC,CAAC,CAAC,CAACvgD,KAAK,CAAC6rC,OAAO,GAAG37B,IAAI,CAACC,GAAG,CAACO,QAAQ,EAAE,CAAC,CAAC;EAC9E,CAAC;EAED,MAAM+tC,eAAe,GAAGA,CAAA,KAAM;IAC5B;IACA,MAAMvtC,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACqwC,UAAU;IACvCtpC,MAAM,CAAC4H,MAAM,CAACtT,IAAI,CAACqxB,OAAO,IAAI;MAC5B,MAAMqC,QAAQ,GAAG,IAAAl7B,YAAC,EAAC64B,OAAO,CAAC;MAC3B,IAAIltB,QAAQ,GAAGuvB,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ;MAEnC,IAAIuH,MAAM,CAAC/G,MAAM,CAACqwC,UAAU,CAACC,aAAa,EAAE;QAC1C9wC,QAAQ,GAAGR,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACwtB,OAAO,CAACltB,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MACxD;MAEA2vC,kBAAkB,CAACpgB,QAAQ,EAAEvvB,QAAQ,EAAEQ,MAAM,CAAC;IAChD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMyX,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAM;MACJ9I,MAAM,EAANA,MAAM;MACNP,YAAY,EAAEC;IAChB,CAAC,GAAGtH,MAAM;IACV,MAAM/G,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACqwC,UAAU;IAEvC,KAAK,IAAIr9C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,MAAM+7B,QAAQ,GAAGpgB,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;MAC7B,IAAIwM,QAAQ,GAAGuvB,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ;MAEnC,IAAIuH,MAAM,CAAC/G,MAAM,CAACqwC,UAAU,CAACC,aAAa,EAAE;QAC1C9wC,QAAQ,GAAGR,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAC6vB,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAC5D;MAEA,MAAMjF,MAAM,GAAGw0B,QAAQ,CAAC,CAAC,CAAC,CAACrb,iBAAiB;MAC5C,MAAM68B,MAAM,GAAG,CAAC,GAAG,GAAG/wC,QAAQ;MAC9B,IAAIgxC,OAAO,GAAGD,MAAM;MACpB,IAAIE,OAAO,GAAG,CAAC;MACf,IAAI/B,EAAE,GAAG3nC,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,GAAG,CAACzV,MAAM,GAAGwM,MAAM,CAACI,SAAS,GAAG,CAAC5M,MAAM;MACrE,IAAIo0C,EAAE,GAAG,CAAC;MAEV,IAAI,CAAC5nC,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;QAC1BmhC,EAAE,GAAGD,EAAE;QACPA,EAAE,GAAG,CAAC;QACN+B,OAAO,GAAG,CAACD,OAAO;QAClBA,OAAO,GAAG,CAAC;MACb,CAAC,MAAM,IAAIniC,GAAG,EAAE;QACdmiC,OAAO,GAAG,CAACA,OAAO;MACpB;MAEAzhB,QAAQ,CAAC,CAAC,CAAC,CAACjgC,KAAK,CAAC4hD,MAAM,GAAG,CAAC1xC,IAAI,CAACoS,GAAG,CAACpS,IAAI,CAAC+lC,KAAK,CAACvlC,QAAQ,CAAC,CAAC,GAAGmP,MAAM,CAAC7gB,MAAM;MAE1E,IAAIkS,MAAM,CAAC0tC,YAAY,EAAE;QACvByB,kBAAkB,CAACpgB,QAAQ,EAAEvvB,QAAQ,EAAEQ,MAAM,CAAC;MAChD;MAEA,MAAMlJ,SAAS,kBAAA4S,MAAA,CAAkBglC,EAAE,UAAAhlC,MAAA,CAAOilC,EAAE,uBAAAjlC,MAAA,CAAoB+mC,OAAO,mBAAA/mC,MAAA,CAAgB8mC,OAAO,SAAM;MACpG,MAAMjyB,SAAS,GAAG,IAAAqvB,qBAAY,EAAC5tC,MAAM,EAAE+uB,QAAQ,CAAC;MAChDxQ,SAAS,CAACznB,SAAS,CAACA,SAAS,CAAC;IAChC;EACF,CAAC;EAED,MAAMuc,aAAa,GAAGrc,QAAQ,IAAI;IAChC,MAAM;MACJ82C,WAAW,EAAXA;IACF,CAAC,GAAG/mC,MAAM,CAAC/G,MAAM,CAACqwC,UAAU;IAC5B,MAAMxB,mBAAmB,GAAGf,WAAW,GAAG/mC,MAAM,CAAC4H,MAAM,CAAC9Q,IAAI,CAACiwC,WAAW,CAAC,GAAG/mC,MAAM,CAAC4H,MAAM;IACzFkgC,mBAAmB,CAAC93C,UAAU,CAACC,QAAQ,CAAC,CAAC6G,IAAI,CAAC,8GAA8G,CAAC,CAAC9G,UAAU,CAACC,QAAQ,CAAC;IAClL,IAAA+2C,mCAA0B,EAAC;MACzBhnC,MAAM,EAANA,MAAM;MACN/P,QAAQ,EAARA,QAAQ;MACR82C,WAAW,EAAXA;IACF,CAAC,CAAC;EACJ,CAAC;EAED,IAAAV,mBAAU,EAAC;IACT77B,MAAM,EAAE,MAAM;IACdxK,MAAM,EAANA,MAAM;IACN7P,EAAE,EAAFA,EAAE;IACFugB,YAAY,EAAZA,YAAY;IACZpE,aAAa,EAAbA,aAAa;IACbk6B,eAAe,EAAfA,eAAe;IACfC,eAAe,EAAEA,CAAA,KAAMzmC,MAAM,CAAC/G,MAAM,CAACqwC,UAAU;IAC/C/C,WAAW,EAAEA,CAAA,KAAM,IAAI;IACvBD,eAAe,EAAEA,CAAA,MAAO;MACtB98B,aAAa,EAAE,CAAC;MAChBc,cAAc,EAAE,CAAC;MACjBsB,mBAAmB,EAAE,IAAI;MACzBpD,YAAY,EAAE,CAAC;MACfgI,gBAAgB,EAAE,CAACxQ,MAAM,CAAC/G,MAAM,CAACgQ;IACnC,CAAC;EACH,CAAC,CAAC;AACJ;;;;;;;;AC1HA,IAAAmgC,aAAA,GAAAl9B,sBAAA,CAAAxhB,OAAA;AACA,IAAA28C,WAAA,GAAAn7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA48C,aAAA,GAAAp7B,sBAAA,CAAAxhB,OAAA;AAAyD,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAC1C,SAASsjD,eAAeA,CAAC;EACtC5pC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACXklC,eAAe,EAAE;MACfL,MAAM,EAAE,EAAE;MACVM,OAAO,EAAE,CAAC;MACVC,KAAK,EAAE,GAAG;MACVvX,KAAK,EAAE,CAAC;MACRwX,QAAQ,EAAE,CAAC;MACXrD,YAAY,EAAE,IAAI;MAClBI,WAAW,EAAE;IACf;EACF,CAAC,CAAC;EAEF,MAAMr2B,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAM;MACJ7d,KAAK,EAAEg4B,WAAW;MAClBz3B,MAAM,EAAE03B,YAAY;MACpBljB,MAAM,EAANA,MAAM;MACNK,eAAe,EAAfA;IACF,CAAC,GAAGjI,MAAM;IACV,MAAM/G,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAAC4wC,eAAe;IAC5C,MAAMpjC,YAAY,GAAGzG,MAAM,CAACyG,YAAY,CAAC,CAAC;IAC1C,MAAM1W,SAAS,GAAGiQ,MAAM,CAACI,SAAS;IAClC,MAAM6pC,MAAM,GAAGxjC,YAAY,GAAG,CAAC1W,SAAS,GAAG86B,WAAW,GAAG,CAAC,GAAG,CAAC96B,SAAS,GAAG+6B,YAAY,GAAG,CAAC;IAC1F,MAAM0e,MAAM,GAAG/iC,YAAY,GAAGxN,MAAM,CAACuwC,MAAM,GAAG,CAACvwC,MAAM,CAACuwC,MAAM;IAC5D,MAAMppC,SAAS,GAAGnH,MAAM,CAAC8wC,KAAK,CAAC,CAAC;;IAEhC,KAAK,IAAI99C,CAAC,GAAG,CAAC,EAAElF,MAAM,GAAG6gB,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,GAAGlF,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MAC1D,MAAM+7B,QAAQ,GAAGpgB,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;MAC7B,MAAMqd,SAAS,GAAGrB,eAAe,CAAChc,CAAC,CAAC;MACpC,MAAMihB,WAAW,GAAG8a,QAAQ,CAAC,CAAC,CAAC,CAACrb,iBAAiB;MACjD,MAAMu9B,YAAY,GAAG,CAACD,MAAM,GAAG/8B,WAAW,GAAG5D,SAAS,GAAG,CAAC,IAAIA,SAAS;MACvE,MAAM6gC,gBAAgB,GAAG,OAAOlxC,MAAM,CAAC+wC,QAAQ,KAAK,UAAU,GAAG/wC,MAAM,CAAC+wC,QAAQ,CAACE,YAAY,CAAC,GAAGA,YAAY,GAAGjxC,MAAM,CAAC+wC,QAAQ;MAC/H,IAAIP,OAAO,GAAGhjC,YAAY,GAAG+iC,MAAM,GAAGW,gBAAgB,GAAG,CAAC;MAC1D,IAAIT,OAAO,GAAGjjC,YAAY,GAAG,CAAC,GAAG+iC,MAAM,GAAGW,gBAAgB,CAAC,CAAC;;MAE5D,IAAIC,UAAU,GAAG,CAAChqC,SAAS,GAAGnI,IAAI,CAACoS,GAAG,CAAC8/B,gBAAgB,CAAC;MACxD,IAAIL,OAAO,GAAG7wC,MAAM,CAAC6wC,OAAO,CAAC,CAAC;;MAE9B,IAAI,OAAOA,OAAO,KAAK,QAAQ,IAAIA,OAAO,CAAC59C,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;QAC9D49C,OAAO,GAAGv6C,UAAU,CAAC0J,MAAM,CAAC6wC,OAAO,CAAC,GAAG,GAAG,GAAGxgC,SAAS;MACxD;MAEA,IAAIivB,UAAU,GAAG9xB,YAAY,GAAG,CAAC,GAAGqjC,OAAO,GAAGK,gBAAgB;MAC9D,IAAI7R,UAAU,GAAG7xB,YAAY,GAAGqjC,OAAO,GAAGK,gBAAgB,GAAG,CAAC;MAC9D,IAAI3X,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,GAAGv5B,MAAM,CAACu5B,KAAK,IAAIv6B,IAAI,CAACoS,GAAG,CAAC8/B,gBAAgB,CAAC,CAAC,CAAC;;MAEjE,IAAIlyC,IAAI,CAACoS,GAAG,CAACiuB,UAAU,CAAC,GAAG,KAAK,EAAEA,UAAU,GAAG,CAAC;MAChD,IAAIrgC,IAAI,CAACoS,GAAG,CAACkuB,UAAU,CAAC,GAAG,KAAK,EAAEA,UAAU,GAAG,CAAC;MAChD,IAAItgC,IAAI,CAACoS,GAAG,CAAC+/B,UAAU,CAAC,GAAG,KAAK,EAAEA,UAAU,GAAG,CAAC;MAChD,IAAInyC,IAAI,CAACoS,GAAG,CAACo/B,OAAO,CAAC,GAAG,KAAK,EAAEA,OAAO,GAAG,CAAC;MAC1C,IAAIxxC,IAAI,CAACoS,GAAG,CAACq/B,OAAO,CAAC,GAAG,KAAK,EAAEA,OAAO,GAAG,CAAC;MAC1C,IAAIzxC,IAAI,CAACoS,GAAG,CAACmoB,KAAK,CAAC,GAAG,KAAK,EAAEA,KAAK,GAAG,CAAC;MACtC,MAAM6X,cAAc,kBAAA1nC,MAAA,CAAkB21B,UAAU,SAAA31B,MAAA,CAAM41B,UAAU,SAAA51B,MAAA,CAAMynC,UAAU,mBAAAznC,MAAA,CAAgB+mC,OAAO,mBAAA/mC,MAAA,CAAgB8mC,OAAO,iBAAA9mC,MAAA,CAAc6vB,KAAK,MAAG;MACpJ,MAAMhb,SAAS,GAAG,IAAAqvB,qBAAY,EAAC5tC,MAAM,EAAE+uB,QAAQ,CAAC;MAChDxQ,SAAS,CAACznB,SAAS,CAACs6C,cAAc,CAAC;MACnCriB,QAAQ,CAAC,CAAC,CAAC,CAACjgC,KAAK,CAAC4hD,MAAM,GAAG,CAAC1xC,IAAI,CAACoS,GAAG,CAACpS,IAAI,CAAC+lC,KAAK,CAACmM,gBAAgB,CAAC,CAAC,GAAG,CAAC;MAEtE,IAAIlxC,MAAM,CAAC0tC,YAAY,EAAE;QACvB;QACA,IAAI2D,eAAe,GAAG7jC,YAAY,GAAGuhB,QAAQ,CAAClxB,IAAI,CAAC,2BAA2B,CAAC,GAAGkxB,QAAQ,CAAClxB,IAAI,CAAC,0BAA0B,CAAC;QAC3H,IAAIyzC,cAAc,GAAG9jC,YAAY,GAAGuhB,QAAQ,CAAClxB,IAAI,CAAC,4BAA4B,CAAC,GAAGkxB,QAAQ,CAAClxB,IAAI,CAAC,6BAA6B,CAAC;QAE9H,IAAIwzC,eAAe,CAACvjD,MAAM,KAAK,CAAC,EAAE;UAChCujD,eAAe,GAAG,IAAAtB,qBAAY,EAAC/vC,MAAM,EAAE+uB,QAAQ,EAAEvhB,YAAY,GAAG,MAAM,GAAG,KAAK,CAAC;QACjF;QAEA,IAAI8jC,cAAc,CAACxjD,MAAM,KAAK,CAAC,EAAE;UAC/BwjD,cAAc,GAAG,IAAAvB,qBAAY,EAAC/vC,MAAM,EAAE+uB,QAAQ,EAAEvhB,YAAY,GAAG,OAAO,GAAG,QAAQ,CAAC;QACpF;QAEA,IAAI6jC,eAAe,CAACvjD,MAAM,EAAEujD,eAAe,CAAC,CAAC,CAAC,CAACviD,KAAK,CAAC6rC,OAAO,GAAGuW,gBAAgB,GAAG,CAAC,GAAGA,gBAAgB,GAAG,CAAC;QAC1G,IAAII,cAAc,CAACxjD,MAAM,EAAEwjD,cAAc,CAAC,CAAC,CAAC,CAACxiD,KAAK,CAAC6rC,OAAO,GAAG,CAACuW,gBAAgB,GAAG,CAAC,GAAG,CAACA,gBAAgB,GAAG,CAAC;MAC5G;IACF;EACF,CAAC;EAED,MAAM79B,aAAa,GAAGrc,QAAQ,IAAI;IAChC,MAAM;MACJ82C,WAAW,EAAXA;IACF,CAAC,GAAG/mC,MAAM,CAAC/G,MAAM,CAAC4wC,eAAe;IACjC,MAAM/B,mBAAmB,GAAGf,WAAW,GAAG/mC,MAAM,CAAC4H,MAAM,CAAC9Q,IAAI,CAACiwC,WAAW,CAAC,GAAG/mC,MAAM,CAAC4H,MAAM;IACzFkgC,mBAAmB,CAAC93C,UAAU,CAACC,QAAQ,CAAC,CAAC6G,IAAI,CAAC,8GAA8G,CAAC,CAAC9G,UAAU,CAACC,QAAQ,CAAC;EACpL,CAAC;EAED,IAAAo2C,mBAAU,EAAC;IACT77B,MAAM,EAAE,WAAW;IACnBxK,MAAM,EAANA,MAAM;IACN7P,EAAE,EAAFA,EAAE;IACFugB,YAAY,EAAZA,YAAY;IACZpE,aAAa,EAAbA,aAAa;IACbi6B,WAAW,EAAEA,CAAA,KAAM,IAAI;IACvBD,eAAe,EAAEA,CAAA,MAAO;MACtB16B,mBAAmB,EAAE;IACvB,CAAC;EACH,CAAC,CAAC;AACJ;;;;;;;;ACvGA,IAAAw9B,aAAA,GAAAl9B,sBAAA,CAAAxhB,OAAA;AACA,IAAA28C,WAAA,GAAAn7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA48C,aAAA,GAAAp7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA68C,2BAAA,GAAAr7B,sBAAA,CAAAxhB,OAAA;AAAuF,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACxE,SAASkkD,cAAcA,CAAC;EACrCxqC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACX8lC,cAAc,EAAE;MACd1D,WAAW,EAAE,IAAI;MACjB2D,aAAa,EAAE,CAAC;MAChBC,iBAAiB,EAAE,KAAK;MACxBC,kBAAkB,EAAE,CAAC;MACrBrE,WAAW,EAAE,IAAI;MACjB/vC,IAAI,EAAE;QACJ4J,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACpBopC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjB5V,OAAO,EAAE,CAAC;QACVpB,KAAK,EAAE;MACT,CAAC;MACDp8B,IAAI,EAAE;QACJgK,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACpBopC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjB5V,OAAO,EAAE,CAAC;QACVpB,KAAK,EAAE;MACT;IACF;EACF,CAAC,CAAC;EAEF,MAAMqY,iBAAiB,GAAG5/C,KAAK,IAAI;IACjC,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAOA,KAAK;IAC3C,UAAA0X,MAAA,CAAU1X,KAAK;EACjB,CAAC;EAED,MAAMylB,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAM;MACJ9I,MAAM,EAANA,MAAM;MACNlC,UAAU,EAAVA,UAAU;MACVuC,eAAe,EAAfA;IACF,CAAC,GAAGjI,MAAM;IACV,MAAM/G,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACwxC,cAAc;IAC3C,MAAM;MACJG,kBAAkB,EAAEj9B;IACtB,CAAC,GAAG1U,MAAM;IACV,MAAM6xC,gBAAgB,GAAG9qC,MAAM,CAAC/G,MAAM,CAAC+P,cAAc;IAErD,IAAI8hC,gBAAgB,EAAE;MACpB,MAAMC,MAAM,GAAG9iC,eAAe,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGjI,MAAM,CAAC/G,MAAM,CAACkP,kBAAkB,IAAI,CAAC;MAC7EzC,UAAU,CAAC3V,SAAS,0BAAA4S,MAAA,CAA0BooC,MAAM,SAAM,CAAC;IAC7D;IAEA,KAAK,IAAI9+C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,MAAM+7B,QAAQ,GAAGpgB,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;MAC7B,MAAMkhB,aAAa,GAAG6a,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ;MAC1C,MAAMA,QAAQ,GAAGR,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAAC8vB,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ,EAAE,CAACQ,MAAM,CAACyxC,aAAa,CAAC,EAAEzxC,MAAM,CAACyxC,aAAa,CAAC;MACtG,IAAIj9B,gBAAgB,GAAGhV,QAAQ;MAE/B,IAAI,CAACqyC,gBAAgB,EAAE;QACrBr9B,gBAAgB,GAAGxV,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAAC8vB,QAAQ,CAAC,CAAC,CAAC,CAACva,gBAAgB,EAAE,CAACxU,MAAM,CAACyxC,aAAa,CAAC,EAAEzxC,MAAM,CAACyxC,aAAa,CAAC;MAClH;MAEA,MAAMl3C,MAAM,GAAGw0B,QAAQ,CAAC,CAAC,CAAC,CAACrb,iBAAiB;MAC5C,MAAMsG,CAAC,GAAG,CAACjT,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,GAAG,CAACzV,MAAM,GAAGwM,MAAM,CAACI,SAAS,GAAG,CAAC5M,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;MAC9E,MAAMw3C,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;MACnB,IAAIC,MAAM,GAAG,KAAK;MAElB,IAAI,CAACjrC,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;QAC1BwM,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;QACXA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;MACV;MAEA,IAAIjkB,IAAI,GAAG;QACToR,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACpBopC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjBhX,KAAK,EAAE,CAAC;QACRoB,OAAO,EAAE;MACX,CAAC;MAED,IAAIn7B,QAAQ,GAAG,CAAC,EAAE;QAChBzJ,IAAI,GAAGiK,MAAM,CAAC7C,IAAI;QAClB60C,MAAM,GAAG,IAAI;MACf,CAAC,MAAM,IAAIxyC,QAAQ,GAAG,CAAC,EAAE;QACvBzJ,IAAI,GAAGiK,MAAM,CAACzC,IAAI;QAClBy0C,MAAM,GAAG,IAAI;MACf,CAAC,CAAC;;MAGFh4B,CAAC,CAACpsB,OAAO,CAAC,CAACoE,KAAK,EAAEsJ,KAAK,KAAK;QAC1B0e,CAAC,CAAC1e,KAAK,CAAC,WAAAoO,MAAA,CAAW1X,KAAK,YAAA0X,MAAA,CAASkoC,iBAAiB,CAAC77C,IAAI,CAACoR,SAAS,CAAC7L,KAAK,CAAC,CAAC,SAAAoO,MAAA,CAAM1K,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,GAAGkV,UAAU,CAAC,OAAI;MACpH,CAAC,CAAC,CAAC,CAAC;;MAEJq9B,CAAC,CAACnkD,OAAO,CAAC,CAACoE,KAAK,EAAEsJ,KAAK,KAAK;QAC1By2C,CAAC,CAACz2C,KAAK,CAAC,GAAGvF,IAAI,CAACw6C,MAAM,CAACj1C,KAAK,CAAC,GAAG0D,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,GAAGkV,UAAU,CAAC;MACjE,CAAC,CAAC;MACFqa,QAAQ,CAAC,CAAC,CAAC,CAACjgC,KAAK,CAAC4hD,MAAM,GAAG,CAAC1xC,IAAI,CAACoS,GAAG,CAACpS,IAAI,CAAC+lC,KAAK,CAAC7wB,aAAa,CAAC,CAAC,GAAGvF,MAAM,CAAC7gB,MAAM;MAC/E,MAAMmkD,eAAe,GAAGj4B,CAAC,CAAC7U,IAAI,CAAC,IAAI,CAAC;MACpC,MAAM+sC,YAAY,cAAAxoC,MAAA,CAAcqoC,CAAC,CAAC,CAAC,CAAC,mBAAAroC,MAAA,CAAgBqoC,CAAC,CAAC,CAAC,CAAC,mBAAAroC,MAAA,CAAgBqoC,CAAC,CAAC,CAAC,CAAC,SAAM;MAClF,MAAMI,WAAW,GAAG39B,gBAAgB,GAAG,CAAC,YAAA9K,MAAA,CAAY,CAAC,GAAG,CAAC,CAAC,GAAG3T,IAAI,CAACwjC,KAAK,IAAI/kB,gBAAgB,GAAGE,UAAU,kBAAAhL,MAAA,CAAe,CAAC,GAAG,CAAC,CAAC,GAAG3T,IAAI,CAACwjC,KAAK,IAAI/kB,gBAAgB,GAAGE,UAAU,MAAG;MAC9K,MAAM09B,aAAa,GAAG59B,gBAAgB,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAGze,IAAI,CAAC4kC,OAAO,IAAInmB,gBAAgB,GAAGE,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG3e,IAAI,CAAC4kC,OAAO,IAAInmB,gBAAgB,GAAGE,UAAU;MAC5J,MAAM5d,SAAS,kBAAA4S,MAAA,CAAkBuoC,eAAe,QAAAvoC,MAAA,CAAKwoC,YAAY,OAAAxoC,MAAA,CAAIyoC,WAAW,CAAE,CAAC,CAAC;;MAEpF,IAAIH,MAAM,IAAIj8C,IAAI,CAACi5C,MAAM,IAAI,CAACgD,MAAM,EAAE;QACpC,IAAI9B,SAAS,GAAGnhB,QAAQ,CAACngC,QAAQ,CAAC,sBAAsB,CAAC;QAEzD,IAAIshD,SAAS,CAACpiD,MAAM,KAAK,CAAC,IAAIiI,IAAI,CAACi5C,MAAM,EAAE;UACzCkB,SAAS,GAAG,IAAAH,qBAAY,EAAC/vC,MAAM,EAAE+uB,QAAQ,CAAC;QAC5C;QAEA,IAAImhB,SAAS,CAACpiD,MAAM,EAAE;UACpB,MAAMukD,aAAa,GAAGryC,MAAM,CAAC0xC,iBAAiB,GAAGlyC,QAAQ,IAAI,CAAC,GAAGQ,MAAM,CAACyxC,aAAa,CAAC,GAAGjyC,QAAQ;UACjG0wC,SAAS,CAAC,CAAC,CAAC,CAACphD,KAAK,CAAC6rC,OAAO,GAAG37B,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAACD,IAAI,CAACoS,GAAG,CAACihC,aAAa,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAChF;MACF;MAEA,MAAM9zB,SAAS,GAAG,IAAAqvB,qBAAY,EAAC5tC,MAAM,EAAE+uB,QAAQ,CAAC;MAChDxQ,SAAS,CAACznB,SAAS,CAACA,SAAS,CAAC,CAACgD,GAAG,CAAC;QACjC6gC,OAAO,EAAEyX;MACX,CAAC,CAAC;MAEF,IAAIr8C,IAAI,CAACvG,MAAM,EAAE;QACf+uB,SAAS,CAACzkB,GAAG,CAAC,kBAAkB,EAAE/D,IAAI,CAACvG,MAAM,CAAC;MAChD;IACF;EACF,CAAC;EAED,MAAM6jB,aAAa,GAAGrc,QAAQ,IAAI;IAChC,MAAM;MACJ82C,WAAW,EAAXA;IACF,CAAC,GAAG/mC,MAAM,CAAC/G,MAAM,CAACwxC,cAAc;IAChC,MAAM3C,mBAAmB,GAAGf,WAAW,GAAG/mC,MAAM,CAAC4H,MAAM,CAAC9Q,IAAI,CAACiwC,WAAW,CAAC,GAAG/mC,MAAM,CAAC4H,MAAM;IACzFkgC,mBAAmB,CAAC93C,UAAU,CAACC,QAAQ,CAAC,CAAC6G,IAAI,CAAC,sBAAsB,CAAC,CAAC9G,UAAU,CAACC,QAAQ,CAAC;IAC1F,IAAA+2C,mCAA0B,EAAC;MACzBhnC,MAAM,EAANA,MAAM;MACN/P,QAAQ,EAARA,QAAQ;MACR82C,WAAW,EAAXA,WAAW;MACXE,SAAS,EAAE;IACb,CAAC,CAAC;EACJ,CAAC;EAED,IAAAZ,mBAAU,EAAC;IACT77B,MAAM,EAAE,UAAU;IAClBxK,MAAM,EAANA,MAAM;IACN7P,EAAE,EAAFA,EAAE;IACFugB,YAAY,EAAZA,YAAY;IACZpE,aAAa,EAAbA,aAAa;IACbi6B,WAAW,EAAEA,CAAA,KAAMvmC,MAAM,CAAC/G,MAAM,CAACwxC,cAAc,CAAClE,WAAW;IAC3DD,eAAe,EAAEA,CAAA,MAAO;MACtB16B,mBAAmB,EAAE,IAAI;MACzB4E,gBAAgB,EAAE,CAACxQ,MAAM,CAAC/G,MAAM,CAACgQ;IACnC,CAAC;EACH,CAAC,CAAC;AACJ;;;;;;;;ACzJA,IAAAmgC,aAAA,GAAAl9B,sBAAA,CAAAxhB,OAAA;AACA,IAAA28C,WAAA,GAAAn7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA48C,aAAA,GAAAp7B,sBAAA,CAAAxhB,OAAA;AACA,IAAA68C,2BAAA,GAAAr7B,sBAAA,CAAAxhB,OAAA;AAAuF,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AACxE,SAASilD,WAAWA,CAAC;EAClCvrC,MAAM,EAANA,MAAM;EACN2E,YAAY,EAAZA,YAAY;EACZxU,EAAE,EAAFA;AACF,CAAC,EAAE;EACDwU,YAAY,CAAC;IACX6mC,WAAW,EAAE;MACX7E,YAAY,EAAE,IAAI;MAClBI,WAAW,EAAE,IAAI;MACjByC,MAAM,EAAE,IAAI;MACZiC,cAAc,EAAE,CAAC;MACjBC,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;EAEF,MAAMh7B,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAM;MACJ9I,MAAM,EAANA,MAAM;MACN8E,WAAW,EAAXA;IACF,CAAC,GAAG1M,MAAM;IACV,MAAM/G,MAAM,GAAG+G,MAAM,CAAC/G,MAAM,CAACuyC,WAAW;IACxC,MAAM;MACJxwB,cAAc,EAAdA,cAAc;MACdnD,SAAS,EAATA;IACF,CAAC,GAAG7X,MAAM,CAACqX,eAAe;IAC1B,MAAM5G,gBAAgB,GAAGzQ,MAAM,CAACI,SAAS;IAEzC,KAAK,IAAInU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2b,MAAM,CAAC7gB,MAAM,EAAEkF,CAAC,IAAI,CAAC,EAAE;MACzC,MAAM+7B,QAAQ,GAAGpgB,MAAM,CAAC3S,EAAE,CAAChJ,CAAC,CAAC;MAC7B,MAAMkhB,aAAa,GAAG6a,QAAQ,CAAC,CAAC,CAAC,CAACvvB,QAAQ;MAC1C,MAAMA,QAAQ,GAAGR,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAACiV,aAAa,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACzD,IAAI3Z,MAAM,GAAGw0B,QAAQ,CAAC,CAAC,CAAC,CAACrb,iBAAiB;MAE1C,IAAI3M,MAAM,CAAC/G,MAAM,CAAC+P,cAAc,IAAI,CAAChJ,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;QAC1DjJ,MAAM,CAAC0F,UAAU,CAAC3V,SAAS,eAAA4S,MAAA,CAAe3C,MAAM,CAACoN,YAAY,CAAC,CAAC,QAAK,CAAC;MACvE;MAEA,IAAIpN,MAAM,CAAC/G,MAAM,CAAC+P,cAAc,IAAIhJ,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,EAAE;QACzDzV,MAAM,IAAIoU,MAAM,CAAC,CAAC,CAAC,CAAC+E,iBAAiB;MACvC;MAEA,IAAIg/B,EAAE,GAAG3rC,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,GAAG,CAACzV,MAAM,GAAGwM,MAAM,CAACI,SAAS,GAAG,CAAC5M,MAAM;MACrE,IAAIo4C,EAAE,GAAG,CAAC;MACV,MAAMC,EAAE,GAAG,CAAC,GAAG,GAAG5zC,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC;MACpC,IAAI+5B,KAAK,GAAG,CAAC;MACb,IAAIgX,MAAM,GAAG,CAACvwC,MAAM,CAACwyC,cAAc,GAAGhzC,QAAQ;MAC9C,IAAIqzC,KAAK,GAAG7yC,MAAM,CAACyyC,cAAc,GAAGzzC,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC,GAAG,IAAI;MAC7D,MAAMqS,UAAU,GAAG9K,MAAM,CAACyH,OAAO,IAAIzH,MAAM,CAAC/G,MAAM,CAACwO,OAAO,CAACC,OAAO,GAAG1H,MAAM,CAACyH,OAAO,CAACsgB,IAAI,GAAG97B,CAAC,GAAGA,CAAC;MAChG,MAAM8/C,aAAa,GAAG,CAACjhC,UAAU,KAAK4B,WAAW,IAAI5B,UAAU,KAAK4B,WAAW,GAAG,CAAC,KAAKjU,QAAQ,GAAG,CAAC,IAAIA,QAAQ,GAAG,CAAC,KAAKof,SAAS,IAAI7X,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,CAAC,IAAIwH,gBAAgB,GAAGuK,cAAc;MACjM,MAAMgxB,aAAa,GAAG,CAAClhC,UAAU,KAAK4B,WAAW,IAAI5B,UAAU,KAAK4B,WAAW,GAAG,CAAC,KAAKjU,QAAQ,GAAG,CAAC,IAAIA,QAAQ,GAAG,CAAC,CAAC,KAAKof,SAAS,IAAI7X,MAAM,CAAC/G,MAAM,CAACgQ,OAAO,CAAC,IAAIwH,gBAAgB,GAAGuK,cAAc;MAElM,IAAI+wB,aAAa,IAAIC,aAAa,EAAE;QAClC,MAAMC,WAAW,GAAG,CAAC,CAAC,GAAGh0C,IAAI,CAACoS,GAAG,CAAC,CAACpS,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,KAAK,GAAG;QAC3E+wC,MAAM,IAAI,CAAC,EAAE,GAAG/wC,QAAQ,GAAGwzC,WAAW;QACtCzZ,KAAK,IAAI,CAAC,GAAG,GAAGyZ,WAAW;QAC3BH,KAAK,IAAI,EAAE,GAAGG,WAAW;QACzBL,EAAE,MAAAjpC,MAAA,CAAM,CAAC,EAAE,GAAGspC,WAAW,GAAGh0C,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC,MAAG;MACnD;MAEA,IAAIA,QAAQ,GAAG,CAAC,EAAE;QAChB;QACAkzC,EAAE,WAAAhpC,MAAA,CAAWgpC,EAAE,YAAAhpC,MAAA,CAASmpC,KAAK,GAAG7zC,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC,QAAK;MACzD,CAAC,MAAM,IAAIA,QAAQ,GAAG,CAAC,EAAE;QACvB;QACAkzC,EAAE,WAAAhpC,MAAA,CAAWgpC,EAAE,aAAAhpC,MAAA,CAAUmpC,KAAK,GAAG7zC,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC,QAAK;MAC1D,CAAC,MAAM;QACLkzC,EAAE,MAAAhpC,MAAA,CAAMgpC,EAAE,OAAI;MAChB;MAEA,IAAI,CAAC3rC,MAAM,CAACyG,YAAY,CAAC,CAAC,EAAE;QAC1B,MAAMylC,KAAK,GAAGN,EAAE;QAChBA,EAAE,GAAGD,EAAE;QACPA,EAAE,GAAGO,KAAK;MACZ;MAEA,MAAMd,WAAW,GAAG3yC,QAAQ,GAAG,CAAC,MAAAkK,MAAA,CAAM,CAAC,GAAG,CAAC,CAAC,GAAG6vB,KAAK,IAAI/5B,QAAQ,OAAAkK,MAAA,CAAQ,CAAC,GAAG,CAAC,CAAC,GAAG6vB,KAAK,IAAI/5B,QAAQ,CAAE;MACpG,MAAM1I,SAAS,4BAAA4S,MAAA,CACCgpC,EAAE,QAAAhpC,MAAA,CAAKipC,EAAE,QAAAjpC,MAAA,CAAKkpC,EAAE,2BAAAlpC,MAAA,CACpB1J,MAAM,CAACuwC,MAAM,GAAGA,MAAM,GAAG,CAAC,0BAAA7mC,MAAA,CAC5ByoC,WAAW,cACpB;MAED,IAAInyC,MAAM,CAAC0tC,YAAY,EAAE;QACvB;QACA,IAAIwC,SAAS,GAAGnhB,QAAQ,CAAClxB,IAAI,CAAC,sBAAsB,CAAC;QAErD,IAAIqyC,SAAS,CAACpiD,MAAM,KAAK,CAAC,EAAE;UAC1BoiD,SAAS,GAAG,IAAAH,qBAAY,EAAC/vC,MAAM,EAAE+uB,QAAQ,CAAC;QAC5C;QAEA,IAAImhB,SAAS,CAACpiD,MAAM,EAAEoiD,SAAS,CAAC,CAAC,CAAC,CAACphD,KAAK,CAAC6rC,OAAO,GAAG37B,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAAC,CAACD,IAAI,CAACoS,GAAG,CAAC5R,QAAQ,CAAC,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MAC/G;MAEAuvB,QAAQ,CAAC,CAAC,CAAC,CAACjgC,KAAK,CAAC4hD,MAAM,GAAG,CAAC1xC,IAAI,CAACoS,GAAG,CAACpS,IAAI,CAAC+lC,KAAK,CAAC7wB,aAAa,CAAC,CAAC,GAAGvF,MAAM,CAAC7gB,MAAM;MAC/E,MAAMywB,SAAS,GAAG,IAAAqvB,qBAAY,EAAC5tC,MAAM,EAAE+uB,QAAQ,CAAC;MAChDxQ,SAAS,CAACznB,SAAS,CAACA,SAAS,CAAC;IAChC;EACF,CAAC;EAED,MAAMuc,aAAa,GAAGrc,QAAQ,IAAI;IAChC,MAAM;MACJ82C,WAAW,EAAXA;IACF,CAAC,GAAG/mC,MAAM,CAAC/G,MAAM,CAACuyC,WAAW;IAC7B,MAAM1D,mBAAmB,GAAGf,WAAW,GAAG/mC,MAAM,CAAC4H,MAAM,CAAC9Q,IAAI,CAACiwC,WAAW,CAAC,GAAG/mC,MAAM,CAAC4H,MAAM;IACzFkgC,mBAAmB,CAAC93C,UAAU,CAACC,QAAQ,CAAC,CAAC6G,IAAI,CAAC,sBAAsB,CAAC,CAAC9G,UAAU,CAACC,QAAQ,CAAC;IAC1F,IAAA+2C,mCAA0B,EAAC;MACzBhnC,MAAM,EAANA,MAAM;MACN/P,QAAQ,EAARA,QAAQ;MACR82C,WAAW,EAAXA;IACF,CAAC,CAAC;EACJ,CAAC;EAED,IAAAV,mBAAU,EAAC;IACT77B,MAAM,EAAE,OAAO;IACfxK,MAAM,EAANA,MAAM;IACN7P,EAAE,EAAFA,EAAE;IACFugB,YAAY,EAAZA,YAAY;IACZpE,aAAa,EAAbA,aAAa;IACbi6B,WAAW,EAAEA,CAAA,KAAM,IAAI;IACvBD,eAAe,EAAEA,CAAA,MAAO;MACtB16B,mBAAmB,EAAE,IAAI;MACzB4E,gBAAgB,EAAE,CAACxQ,MAAM,CAAC/G,MAAM,CAACgQ;IACnC,CAAC;EACH,CAAC,CAAC;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpHA,IAAAkjC,KAAA,GAAAjgC,sBAAA,CAAAxhB,OAAA;AACA,IAAA0hD,QAAA,GAAAlgC,sBAAA,CAAAxhB,OAAA;AACA,IAAA2hD,SAAA,GAAAngC,sBAAA,CAAAxhB,OAAA;AACA,IAAA4hD,WAAA,GAAApgC,sBAAA,CAAAxhB,OAAA;AACA,IAAA6hD,WAAA,GAAArgC,sBAAA,CAAAxhB,OAAA;AACA,IAAA8hD,WAAA,GAAAtgC,sBAAA,CAAAxhB,OAAA;AACA,IAAA+hD,UAAA,GAAAvgC,sBAAA,CAAAxhB,OAAA;AACA,IAAAgiD,SAAA,GAAAxgC,sBAAA,CAAAxhB,OAAA;AACA,IAAAiiD,KAAA,GAAAzgC,sBAAA,CAAAxhB,OAAA;AACA,IAAAkiD,KAAA,GAAA1gC,sBAAA,CAAAxhB,OAAA;AACA,IAAAmiD,WAAA,GAAA3gC,sBAAA,CAAAxhB,OAAA;AACA,IAAAoiD,KAAA,GAAA5gC,sBAAA,CAAAxhB,OAAA;AACA,IAAAqiD,QAAA,GAAA7gC,sBAAA,CAAAxhB,OAAA;AACA,IAAAsiD,eAAA,GAAA9gC,sBAAA,CAAAxhB,OAAA;AACA,IAAAuiD,SAAA,GAAA/gC,sBAAA,CAAAxhB,OAAA;AACA,IAAAwiD,OAAA,GAAAhhC,sBAAA,CAAAxhB,OAAA;AACA,IAAAyiD,SAAA,GAAAjhC,sBAAA,CAAAxhB,OAAA;AACA,IAAA0iD,KAAA,GAAAlhC,sBAAA,CAAAxhB,OAAA;AACA,IAAA2iD,aAAA,GAAAnhC,sBAAA,CAAAxhB,OAAA;AACA,IAAA4iD,WAAA,GAAAphC,sBAAA,CAAAxhB,OAAA;AACA,IAAA6iD,WAAA,GAAArhC,sBAAA,CAAAxhB,OAAA;AACA,IAAA8iD,WAAA,GAAAthC,sBAAA,CAAAxhB,OAAA;AACA,IAAA+iD,gBAAA,GAAAvhC,sBAAA,CAAAxhB,OAAA;AACA,IAAAgjD,eAAA,GAAAxhC,sBAAA,CAAAxhB,OAAA;AACA,IAAAijD,YAAA,GAAAzhC,sBAAA,CAAAxhB,OAAA;AAAgF,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpChF,4DAA4D;AAC5D,kCAAkC;AAClC,iDAQyB;AACzB,+BAAiC;AACjC,iDASyB;AACzB,uCAA4C;AAC5C,iCAAyD;AACzD,qCAAoC;AACpC,iCAUgB;AAChB,+BAAiC;AACjC,mCAA0C;AAE1C,sGAAsG;AACtG,wBAAwB;AAExB;IAAkC,gCAAS;IAA3C;;IAoEA,CAAC;IAnEG,gBAAgB;IACN,qCAAc,GAAxB,UAAyB,MAAgC;QACrD,iBAAM,cAAc,YAAC,MAAM,CAAC,CAAC;QAE7B,kEAAkE;QAClE,MAAM,CAAC,MAAM,CAAC,yBAAS,CAAC,aAAa,CAAC,CAAC;QACvC,MAAM,CAAC,MAAM,CAAC,yBAAS,CAAC,aAAa,CAAC,CAAC;QACvC,MAAM,CAAC,MAAM,CAAC,yBAAS,CAAC,iBAAiB,CAAC,CAAC;IAC/C,CAAC;IACD,YAAY;IAEF,qCAAc,GAAxB;QACI,IAAM,aAAa,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjE,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;QAC3E,oFAAoF;QACpF,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;QACxB,IAAM,eAAe,GAAG,iBAAM,cAAc,WAAE,CAAC;QAC/C,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;QAClD,OAAO,aAAa,CAAC;IACzB,CAAC;IAED,8CAAuB,GAAvB;QACI,OAAO,CAAC,8BAAc,EAAE,sCAAsB,CAAC,CAAC;IACpD,CAAC;IAED,gDAAyB,GAAzB;QACI,OAAO,IAAI,CAAC,sBAAsB,EAAE,CAAC;IACzC,CAAC;IAES,6CAAsB,GAAhC;QACI;YACI,sCAAsB,CAAC,YAAY;YACnC,8BAAc,CAAC,YAAY;YAC3B,OAAO;YACP,WAAW;YACX,YAAY;YACZ,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,iBAAiB;YACjB,cAAc;YACd,UAAU;WACP,iBAAM,sBAAsB,WAAE,QACnC;IACN,CAAC;IAES,oCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAES,sCAAe,GAAzB,UAA0B,QAA8B;QACpD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,sCAAe,GAAf;QACI,OAAO,cAAc,CAAC;IAC1B,CAAC;IAED,sBAAI,sCAAY;aAAhB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAED,sBAAI,6CAAmB;aAAvB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IACL,mBAAC;AAAD,CApEA,AAoEC,CApEiC,yBAAS,GAoE1C;AApEY,oCAAY;AAsEzB;IAA8B,4BAAS;IAAvC;QAAA,qEAunBC;QArkBG,kBAAY,GAAY,IAAI,CAAC;QAS7B,yBAAmB,GAAsB,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;QA+B9D,YAAM,GAAmB,EAAE,CAAC;QAI5B,mBAAa,GAAW,CAAC,CAAC;QAC1B,wBAAkB,GAAmC,KAAK,CAAC,wBAAwB,CAAC,UAAU,CAAC;;IAwhB3G,CAAC;IAtnBG,gBAAgB;IACN,iCAAc,GAAxB,UAAyB,MAAgC;QACrD,iBAAM,cAAc,YAAC,MAAM,CAAC,CAAC;QAE7B,8DAA8D;QAC9D,MAAM,CAAC,MAAM,CAAC,yBAAS,CAAC,aAAa,CAAC,CAAC;QACvC,MAAM,CAAC,MAAM,CAAC,yBAAS,CAAC,aAAa,CAAC,CAAC;QACvC,MAAM,CAAC,MAAM,CAAC,yBAAS,CAAC,iBAAiB,CAAC,CAAC;IAC/C,CAAC;IAID,sBAAI,2BAAK;aAAT;YACI,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;YAElD,IAAI,KAAK,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,EAAE;gBAC5D,OAAO,CAAC,IAAI,CAAC,iBAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;gBAChD,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,CAAC;aACrD;YAED,OAAO,KAAK,CAAC;QACjB,CAAC;aAED,UAAU,KAAyB;YAC/B,IAAI,KAAK,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,EAAE;gBAC5D,OAAO,CAAC,IAAI,CAAC,iBAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;gBAChD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;aACpF;iBAAM;gBACH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;aAChD;QACL,CAAC;;;OATA;IAaD,sBAAI,sCAAgB;aAApB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;QACvD,CAAC;aAED,UAAqB,KAAa;YAC9B,IAAI,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,EAAE;gBACpC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;aACtD;iBAAM;gBACH,OAAO,CAAC,IAAI,CAAC,iBAAO,CAAC,MAAM,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC5D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC;aAClD;QACL,CAAC;;;OATA;IA+BO,yCAAsB,GAA9B,UAA+B,KAAa;QACxC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IAClF,CAAC;IAEO,2CAAwB,GAAhC,UAAiC,KAAa;QAC1C,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IAClG,CAAC;IAEO,mCAAgB,GAAxB,UAAyB,KAAa,EAAE,cAAsB;QAC1D,OAAO,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,KAAK,GAAG,cAAc,CAAC,CAAC;IACxE,CAAC;IAID,sBAAI,uCAAiB;QAFrB,YAAY;aAEZ;YACI,OAAO,IAAI,CAAC,kBAAkB,CAAC;QACnC,CAAC;aAED,UAAsB,SAAyC;YAC3D,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC;QACxC,CAAC;;;OAJA;IAeD,8EAA8E;IACpE,yCAAsB,GAAhC;QACI;YACI,sCAAsB,CAAC,YAAY;YACnC,8BAAc,CAAC,YAAY;YAC3B,OAAO;YACP,WAAW;YACX,YAAY;YACZ,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,iBAAiB;YACjB,cAAc;WACX,iBAAM,sBAAsB,WAAE,QACnC;IACN,CAAC;IAES,4CAAyB,GAAnC,UAAoC,eAA4B;QAC5D,iBAAM,yBAAyB,YAAC,eAAe,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,IAAI,IAAI,CAAC,qBAAqB,KAAK,SAAS,EAAE;YACtE,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;SACpD;QAED,+DAA+D;QAC/D,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SACzE;IACL,CAAC;IAED,kCAAe,GAAf;QACI,OAAO,UAAU,CAAC;IACtB,CAAC;IAED,+BAAY,GAAZ;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC9B,CAAC;IAED,4BAAS,GAAT,UAAU,KAAa;QACnB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,0BAAO,GAAP,UAAQ,IAAkB;QACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED,6BAAU,GAAV,UAAW,IAAiB;QACxB,IAAI,IAAI,YAAY,YAAY,EAAE;YAC9B,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAE5C,IAAI,SAAS,IAAI,CAAC,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBAEjC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAE1B,IAAI,CAAC,YAAY,EAAE,CAAC;gBAEpB,OAAO,IAAI,CAAC;aACf;SACJ;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,8CAA2B,GAA3B;;QACI,IAAI,IAAI,CAAC,eAAe,IAAI,CAAA,MAAA,IAAI,CAAC,cAAc,0CAAE,MAAM,IAAG,CAAC,EAAE;YACzD,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;SACjC;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAED,6CAA0B,GAA1B;;QACI,IAAI,IAAI,CAAC,eAAe,IAAI,CAAA,MAAA,IAAI,CAAC,cAAc,0CAAE,MAAM,IAAG,CAAC,EAAE;YACzD,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SAC9D;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAED,sBAAI,mCAAa;aAAjB;;YACI,IAAI,MAAA,MAAA,IAAI,CAAC,SAAS,0CAAE,MAAM,0CAAE,MAAM,EAAE;gBAChC,IAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAgB,CAAC;gBACrF,OAAO,WAAW,CAAC,EAAE,CAAC;aACzB;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;;;OAAA;IAED,sBAAI,sCAAgB;aAApB;;YACI,OAAO,MAAA,IAAI,CAAC,SAAS,0CAAE,SAAS,CAAC;QACrC,CAAC;;;OAAA;IAES,gCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QAEjB,IAAM,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;QAClC,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAC1B,KAAmB,UAAS,EAAT,uBAAS,EAAT,uBAAS,EAAT,IAAS,EAAE;gBAAzB,IAAM,IAAI,kBAAA;gBACX,IAAM,IAAI,GAAG,IAAI,CAAC,0BAA0B,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;gBAC5D,IAAI,IAAI,EAAE;oBACN,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC1B;aACJ;SACJ;QAED,yDAAyD;QACzD,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAEO,kCAAe,GAAvB,UAAwB,OAA6B;QACjD,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;YACrD,OAAO,CAAC,aAAa,CACjB,IAAI,EACJ,KAAK,CAAC,eAAe,CAAC,oBAAoB,EAC1C,iBAAO,CAAC,MAAM,CAAC,uBAAuB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAChE,CAAC;SACL;IACL,CAAC;IAES,iCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACzD,CAAC;IAES,iCAAc,GAAxB;;QACI,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QAEzB,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;YACzB,OAAO,SAAS,CAAC;SACpB;QAED,IAAI,CAAC,6BAA6B,EAAE,CAAC;QAErC,IAAM,kBAAkB,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACtE,kBAAkB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;QAEpG,IAAM,iBAAiB,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACrE,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;QACxF,IAAI,CAAC,sBAAsB,GAAG,iBAAiB,CAAC;QAEhD,IAAM,oBAAoB,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxE,oBAAoB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;QAC3F,IAAI,CAAC,qBAAqB,GAAG,oBAAoB,CAAC;QAElD,kBAAkB,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC;QAErD,IAAM,mBAAmB,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACvE,mBAAmB,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;QAC3F,oBAAoB,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;QAEtD,IAAM,eAAe,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACnE,eAAe,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACxD,gBAAgB,EAChB,4BAA4B,CAC/B,CAAC;QACF,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAEvC,QAAQ,IAAI,CAAC,oCAAoC,EAAE,EAAE;YACjD,KAAK,KAAK,CAAC,iBAAiB,CAAC,GAAG;gBAC5B,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,YAAY,CAAC;gBAChD,MAAM;YACV,KAAK,KAAK,CAAC,iBAAiB,CAAC,MAAM;gBAC/B,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;gBAC9C,MAAM;YACV;gBACI,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;gBAC5C,MAAM;SACb;QAED,IAAI,uBAAc,CAAC,+BAA+B,EAAE;YAChD,8DAA8D;YAC9D,EAAE;YACF,+DAA+D;YAC/D,gEAAgE;YAChE,iEAAiE;YACjE,mEAAmE;YACnE,mEAAmE;YACnE,+BAA+B;YAC/B,EAAE;YACF,4DAA4D;YAC5D,6FAA6F;YAC7F,eAAe,CAAC,KAAK,CAAC,SAAS,GAAG,qBAAqB,CAAC;SAC3D;QAED,IAAM,cAAc,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClE,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACvD,oBAAoB,CACvB,CAAC;QAEF,IAAM,cAAc,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClE,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACvD,oBAAoB,CACvB,CAAC;QAEF,IAAI,IAAI,CAAC,mBAAmB,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE;YAC3D,IAAI,CAAC,8BAA8B,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;SACvE;aAAM;YACH,IAAI,CAAC,4BAA4B,CAAC,mBAAmB,EAAE,cAAc,EAAE,cAAc,CAAC,CAAC;SAC1F;QAED,IAAM,UAAU,GAAgB,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9D,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACnD,mBAAmB,EACnB,wBAAwB,CAC3B,CAAC;QAEF,mBAAmB,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAChD,KAAK,CAAC,iCAAiC,CAAC,cAAc,CAAC,CAAC;QAExD,mBAAmB,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QAC5C,KAAK,CAAC,iCAAiC,CAAC,UAAU,CAAC,CAAC;QAEpD,mBAAmB,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAChD,KAAK,CAAC,iCAAiC,CAAC,cAAc,CAAC,CAAC;QAExD,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;YACrB,uFAAuF;YACvF,cAAc,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACnC,cAAc,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACnC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;SAClC;QAED,IAAM,sBAAsB,GAAW,IAAI,CAAC,GAAG,CAC3C,IAAI,CAAC,MAAM,CAAC,MAAM,EAClB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,CAC5C,CAAC;QACF,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAChE,OAAO,CAAC,IAAI,CAAC,iBAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;SACrD;QAED,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,sBAAsB,EAAE,CAAC,EAAE,EAAE;gBAC7C,IAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC7E,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;gBAChD,MAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,QAAQ,CAAC,CAAC,CAAC,0CAAE,SAAS,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;gBAEvE,IAAI,YAAY,EAAE;oBACd,KAAK,CAAC,WAAW,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;oBACjD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAClC;aACJ;SACJ;QAED,iBAAiB,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;QAE/C,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE1D,oBAAoB,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;QAEpD,oFAAoF;QACpF,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAE1B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE;YACtB,IAAI,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;gBACtD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC;aAC9C;iBAAM;gBACH,OAAO,CAAC,IAAI,CAAC,iBAAO,CAAC,MAAM,CAAC,uBAAuB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBAC5E,IAAI,CAAC,aAAa,GAAG,CAAC,CAAA;aACzB;SACJ;QAED,IAAI,CAAC,yBAAyB,CAC1B,iBAAiB,EACjB,cAAc,EACd,cAAc,EACd,UAAU,EACV,IAAI,CAAC,GAAG,CACX,CAAC;QAEF,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,SAAS,CAAC;IAC3E,CAAC;IAED,2BAAQ,GAAR,UAAS,UAAuB;QAC5B,iBAAM,QAAQ,YAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAC5C,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACrD,4BAA4B,CAC/B,CAAC,CAAC;SACN;IACL,CAAC;IAED,gDAA6B,GAA7B;QACI,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;SAC3D;IACL,CAAC;IAED,iDAA8B,GAA9B,UACI,cAA2B,EAC3B,cAA2B;QAE3B,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACzD,kBAAkB,CACrB,CAAC,CAAC;QACH,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACzD,mBAAmB,CACtB,CAAC,CAAC;IACP,CAAC;IAED,+CAA4B,GAA5B,UACI,mBAAgC,EAChC,cAA2B,EAC3B,cAA2B;QAE3B,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACrE,gCAAgC,CACnC,CAAC,CAAC;QACH,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAC9D,iCAAiC,CACpC,CAAC,CAAA;QAEF,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACzD,gBAAgB,CACnB,CAAC,CAAC;QACH,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACzD,kBAAkB,CACrB,CAAC,CAAC;IACP,CAAC;IAEO,4CAAyB,GAAjC,UACI,iBAA8B,EAC9B,WAAwB,EACxB,WAAwB,EACxB,iBAA8B,EAC9B,GAAwB;QAL5B,iBA8FC;;QAtFG,IAAM,yBAAyB,GAAG,CAAC,GAAG,KAAK,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;QAC1F,IAAM,yBAAyB,GAAG,CAAC,GAAG,KAAK,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;QAE1F,IAAM,iCAAiC,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,KAAK,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC,WAAW,CAAC;QAChJ,IAAM,iCAAiC,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,KAAK,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC,WAAW,CAAC;QAEhJ,IAAM,aAAa,GAAkB;YACjC,IAAI,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,IAAI,CAAC,YAAY;YAC/C,OAAO,EAAE,CAAC,mBAAU,EAAE,mBAAU,EAAE,kBAAS,EAAE,aAAI,EAAE,gBAAO,EAAE,iBAAQ,CAAC;YACrE,UAAU,EAAE;gBACR,EAAE,EAAE,iBAAiB;gBACrB,SAAS,EAAE,IAAI;aAClB;YACD,UAAU,EAAE;gBACR,MAAM,EAAE,iCAAiC;gBACzC,MAAM,EAAE,iCAAiC;aAC5C;YACD,IAAI,EAAE;gBACF,OAAO,EAAE,IAAI;aAChB;YACD,QAAQ,EAAE;gBACN,OAAO,EAAE,KAAK;gBACd,cAAc,EAAE,IAAI;aACvB;YACD,SAAS,EAAE,IAAI,CAAC,mBAAmB,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,UAAU;YAChG,cAAc,EAAE,KAAK;YACrB,YAAY,EAAE,IAAI,CAAC,aAAa;SACnC,CAAC;QAEF,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE;YACpC,MAAA,aAAa,CAAC,OAAO,0CAAE,IAAI,CAAC,iBAAQ,CAAC,CAAC;YACtC,aAAa,CAAC,QAAQ,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC;SAC3E;QAED,IAAM,QAAQ,GAAW,IAAI,eAAM,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;QAEtE,iEAAiE;QACjE,oEAAoE;QAEpE,iBAAiB,CAAC,gBAAgB,CAAC,YAAY,EAAE,UAAU,MAAM;;YAC7D,MAAA,QAAQ,CAAC,QAAQ,0CAAE,IAAI,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC;QAEH,iBAAiB,CAAC,gBAAgB,CAAC,YAAY,EAAE,UAAU,MAAM;;YAC7D,MAAA,QAAQ,CAAC,QAAQ,0CAAE,KAAK,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,EAAE,CAAC,gBAAgB,EAAG,UAAC,MAAc;YAC1C,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,wBAAwB,CAAC,cAAc,CAAC,CAAC;QAC3E,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,EAAE,CAAC,gBAAgB,EAAG,UAAC,MAAc;YAC1C,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,CAAC;QAC/E,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,EAAE,CAAC,0BAA0B,EAAG,UAAC,MAAc;YACpD,KAAI,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC;YACrC,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,wBAAwB,CAAC,UAAU,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,EAAE,CAAC,UAAU,EAAG;YACrB,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,EAAE,CAAC,kBAAkB,EAAE,UAAC,MAAM,EAAE,YAAY;YACjD,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE,KAAK;gBAC5C,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAS,KAAqB;oBAC9D,IAAI,KAAK,CAAC,GAAG,IAAI,OAAO,EAAE;wBACtB,KAAK,CAAC,cAAc,EAAE,CAAC;wBACvB,MAAM,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;qBAC7B;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,EAAE,CAAC,SAAS,EAAE;YACnB,KAAI,CAAC,qBAAqB,EAAE,CAAC;QACjC,CAAC,CAAC,CAAC;QAEH,WAAW,CAAC,KAAK,GAAG,MAAA,WAAW,CAAC,SAAS,mCAAI,iBAAO,CAAC,QAAQ,CAAC,iCAAiC,EAAE,CAAC;QAElG,WAAW,CAAC,KAAK,GAAG,MAAA,WAAW,CAAC,SAAS,mCAAI,iBAAO,CAAC,QAAQ,CAAC,6BAA6B,EAAE,CAAC;QAE9F,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAE1B,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,6CAA0B,GAAlC,UACI,MAAW,EACX,OAA6B;QAE7B,OAAO,OAAO,CAAC,eAAe,CAC1B,IAAI,EACJ,MAAM,EACN,IAAI,CAAC,sBAAsB,EAAE,EAC7B,CAAC,IAAI,CAAC,YAAY,EAAE,EACpB,UAAC,QAAgB;YACb,OAAO,CAAC,QAAQ,IAAI,QAAQ,KAAK,cAAc,CAAC,CAAC,CAAC,IAAI,YAAY,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QACrF,CAAC,EACD,UAAC,QAAgB,EAAE,UAAyB;YACxC,OAAO,CAAC,aAAa,CACjB,SAAS,EACT,uBAAe,CAAC,qBAAqB,EACrC,iBAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CACjD,CAAC;QACN,CAAC,CACJ,CAAC;IACN,CAAC;IAED,0BAAO,GAAP,UAAQ,KAAa;;QACjB,MAAA,IAAI,CAAC,SAAS,0CAAE,OAAO,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,sBAAI,2CAAqB;aAAzB;YACI,OAAO,IAAI,CAAC,sBAAsB,CAAC;QACvC,CAAC;;;OAAA;IAED,sBAAI,kCAAY;aAAhB;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;aAED,UAAiB,YAAoB;YACjC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QACtC,CAAC;;;OAJA;IAMO,sCAAmB,GAA3B,UAA6B,IAAqC;QAE9D,IAAI,aAAkC,CAAC;QACvC,IAAI,IAAI,CAAC,gBAAgB,IAAI,SAAS,EAAE;YACpC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC;SAC5D;QACD,OAAO,IAAI,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,aAAa,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAClF,CAAC;IAEO,qCAAkB,GAA1B,UAA2B,SAA0C;QACjE,IAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAE,IAAI,CAAC,MAAM,CAAC,cAAc,EAAmB,CAAC,CAAC,CAAC,SAAS,CAAC;QACtF,IAAM,sBAAsB,GACxB,IAAI,IAAI,IAAI,CAAC,eAAe;YACxB,CAAC,CAAC,IAAI,CAAC,eAAe;YACtB,CAAC,CAAC,4BAAY,CAAC,eAAe,CAAC;QACvC,+DAA+D;QAC/D,IAAI,sBAAsB,IAAI,SAAS,IAAI,KAAK,CAAC,wBAAwB,CAAC,UAAU,EAAE;YACtF,sDAAsD;YAClD,sBAAsB,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;SAC5E;QACD,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;IACvC,CAAC;IAED,mFAAmF;IACnF,yCAAyC;IACzC,mFAAmF;IAC3E,uCAAoB,GAA5B;QAAA,iBAmCC;;QAjCG,IAAI,CAAC,IAAI,CAAC,yCAAyC,EAAE,EAAE;YACnD,OAAO;SACV;QAED,IAAI,CAAC,SAAS,GAAG,IAAI,cAAc,CAAC,UAAC,OAAO;;YACxC,IAAM,KAAK,GAAG,MAAA,KAAI,CAAC,SAAS,0CAAE,KAAK,CAAC;YACpC,IAAM,MAAM,GAAG,MAAA,KAAI,CAAC,SAAS,0CAAE,MAAM,CAAC;YACtC,IAAI,QAAQ,GAAG,KAAK,CAAC;YACrB,IAAI,SAAS,GAAG,MAAM,CAAC;YACvB,OAAO,CAAC,OAAO,CAAC,UAAC,EAAuC;;oBAArC,cAAc,oBAAA,EAAE,WAAW,iBAAA,EAAE,MAAM,YAAA;gBACtD,IAAI,MAAM,IAAI,MAAM,MAAK,MAAA,KAAI,CAAC,SAAS,0CAAE,EAAE,CAAA,EAAE;oBACzC,OAAO;iBACV;gBAED,QAAQ,GAAG,WAAW;oBAClB,CAAC,CAAC,WAAW,CAAC,KAAK;oBACnB,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,cAAc,CAAC,CAAC,UAAU,CAAC;gBAEvD,SAAS,GAAG,WAAW;oBACnB,CAAC,CAAC,WAAW,CAAC,MAAM;oBACpB,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,cAAc,CAAC,CAAC,SAAS,CAAC;YACtD,CAAC,CAAC,CAAC;YAEH,IAAI,QAAQ,KAAK,KAAK,IAAI,SAAS,KAAK,MAAM,EAAE;gBAC5C,IAAI,KAAI,CAAC,yCAAyC,EAAE,EAAE;oBAClD,MAAA,KAAI,CAAC,SAAS,0CAAE,IAAI,CAAC,cAAc,CAAC,CAAC;oBACrC,MAAA,KAAI,CAAC,SAAS,0CAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAClC;aACJ;QAEL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAA,IAAI,CAAC,SAAS,0CAAE,EAAG,CAAC,CAAC;IAChD,CAAC;IAEO,wCAAqB,GAA7B;;QACI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,KAAI,MAAA,IAAI,CAAC,SAAS,0CAAE,EAAE,CAAA,EAAE;YAClE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YAC5C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;IACL,CAAC;IAAA,CAAC;IAEM,4DAAyC,GAAjD;QAEI,OAAO,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;IACvD,CAAC;IA3mBe,sBAAa,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;IAsBnE,4BAAmB,GAAG,IAAI,2BAAW,CAAC,wBAAQ,CAAC,IAAI,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC;IAevE,qBAAY,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;IAI7D,4BAAmB,GAAG,IAAI,4BAAY,CAClD,wBAAQ,CAAC,IAAI,EACb,aAAa,EACb,KAAK,CAAC,WAAW,EACjB,KAAK,CAAC,WAAW,CAAC,UAAU,CAC/B,CAAC;IAIc,+BAAsB,GAAG,IAAI,iCAAiB,CAC1D,wBAAQ,CAAC,IAAI,EACb,gBAAgB,CACnB,CAAC;IAnDF;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,aAAa,CAAC;yCAUhC;IAaD;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,mBAAmB,CAAC;oDAGtC;IAaD;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,YAAY,CAAC;kDACH;IAS7B;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,mBAAmB,CAAC;yDAC+B;IAOtE;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,sBAAsB,CAAC;oDAClB;IAqjB5B,eAAC;CAvnBD,AAunBC,CAvnB6B,yBAAS,GAunBtC;AAvnBY,4BAAQ;AAynBrB;IACI,uBAAmB,IAAqC,EAC7C,UAA+B,EAC/B,oBAAyC,EACzC,uBAA4C;QAHpC,SAAI,GAAJ,IAAI,CAAiC;QAC7C,eAAU,GAAV,UAAU,CAAqB;QAC/B,yBAAoB,GAApB,oBAAoB,CAAqB;QACzC,4BAAuB,GAAvB,uBAAuB,CAAqB;IAAG,CAAC;IAC/D,oBAAC;AAAD,CALA,AAKC,IAAA;AALY,sCAAa;AAO1B,yBAAc,CAAC,eAAe,CAAC,QAAQ,CACnC,UAAU,EACV,QAAQ,EACR,wBAAQ,CAAC,IAAI,CAChB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpvBF,4DAA4D;AAC5D,kCAAkC;AAClC,iDAMyB;AACzB,iCAOiB;AAEjB,uCAA4C;AAC5C,iDAWyB;AACzB,mCAA0D;AAC1D,qCAAoC;AACpC,iCAA2C;AAE3C;IAA2C,yCAAkB;IAA7D;QACI,gBAAgB;QADpB,qEAiFC;QATG,WAAK,GAAgB,IAAI,oBAAW,CAAC,CAAC,EAAE,gBAAQ,CAAC,MAAM,CAAC,CAAC;;IAS7D,CAAC;IAPG,4CAAY,GAAZ;QACI,OAAO,kBAAkB,CAAC;IAC9B,CAAC;IAzEe,4DAAsC,GAAG,IAAI,4BAAY,CACrE,wBAAQ,CAAC,IAAI,EACb,gCAAgC,EAChC,2BAAmB,CACtB,CAAC;IACc,0DAAoC,GAAG,IAAI,4BAAY,CACnE,wBAAQ,CAAC,IAAI,EACb,8BAA8B,EAC9B,yBAAiB,CACpB,CAAC;IAEc,mCAAa,GAAG,IAAI,8BAAc,CAC9C,wBAAQ,CAAC,IAAI,EACb,OAAO,EACP,UACI,MAA0B,EAC1B,IAAwB,EACxB,MAAmB,EACnB,OAAiC;QAEjC,IAAI,MAAM,GAAgB,IAAI,CAAC,YAAY,CAAC;QAC5C,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,YAAY,GAAG,KAAK,CAAC;QAEzB,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;YAC5C,MAAM,GAAG,IAAI,oBAAW,CAAC,KAAK,EAAE,gBAAQ,CAAC,MAAM,CAAC,CAAC;SACpD;aAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAClC,IAAI;gBACA,MAAM,GAAG,oBAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aACrC;YAAC,OAAO,CAAC,EAAE;gBACR,YAAY,GAAG,IAAI,CAAC;aACvB;SACJ;aAAM;YACH,YAAY,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,YAAY,EAAE;YACd,OAAO,CAAC,aAAa,CACjB,MAAM,EACN,uBAAe,CAAC,oBAAoB,EACpC,iBAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAC3C,CAAC;SACL;QAED,OAAO,MAAM,CAAC;IAClB,CAAC,EACD,UACI,MAA0B,EAC1B,QAA4B,EAC5B,MAAmB,EACnB,KAAkB,EAClB,OAAiC;QAEjC,IAAI,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,KAAK,EAAE;YAC/B,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;SACtE;aAAM;YACH,OAAO,CAAC,eAAe,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;SAChE;IACL,CAAC,EACD,IAAI,oBAAW,CAAC,CAAC,EAAE,gBAAQ,CAAC,MAAM,CAAC,CACtC,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,qBAAqB,CAAC,sCAAsC,CAAC;iFAClB;IAGrD;QADC,IAAA,wBAAQ,EAAC,qBAAqB,CAAC,oCAAoC,CAAC;+EACpB;IAGjD;QADC,IAAA,wBAAQ,EAAC,qBAAqB,CAAC,aAAa,CAAC;wDACW;IAS7D,4BAAC;CAjFD,AAiFC,CAjF0C,kCAAkB,GAiF5D;AAjFY,sDAAqB;AAmFlC;IAEU,qCAA4B;IAFtC;QAAA,qEAoGC;QAjGW,YAAM,GAAQ,EAAE,CAAC;;IAiG7B,CAAC;IA/FW,qCAAS,GAAjB,UAAkB,MAAW,EAAE,OAA6B;QAA5D,iBAiBC;QAhBG,OAAO,OAAO,CAAC,eAAe,CAC1B,IAAI,EACJ,MAAM,EACN,EAAE,EAAE,qDAAqD;QACzD,CAAC,IAAI,CAAC,YAAY,EAAE,EACpB,UAAC,QAAgB;YACb,OAAO,KAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QAC7C,CAAC,EACD,UAAC,QAAgB,EAAE,UAAyB;YACxC,OAAO,CAAC,aAAa,CACjB,SAAS,EACT,uBAAe,CAAC,qBAAqB,EACrC,iBAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CACjD,CAAC;QACN,CAAC,CACJ,CAAC;IACN,CAAC;IAKS,2CAAe,GAAzB,UAA0B,IAAO;QAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAEvB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SACxB;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,iBAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,CAAC,CAAC;SAC5D;IACL,CAAC;IAES,8CAAkB,GAA5B,UAA6B,IAAO;QAChC,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAE5C,IAAI,SAAS,IAAI,CAAC,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;YAEjC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAE1B,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,OAAO,IAAI,CAAC;SACf;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,2CAAe,GAAzB,UAA0B,IAAO;QAC7B,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAES,yCAAa,GAAvB,UAAwB,MAAW,EAAE,OAA6B;QAC9D,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QAEjB,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC;QAEvD,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACtB,KAAmB,UAAK,EAAL,eAAK,EAAL,mBAAK,EAAL,IAAK,EAAE;gBAArB,IAAM,IAAI,cAAA;gBACX,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;gBAE/C,IAAI,QAAQ,EAAE;oBACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC9B;aACJ;SACJ;IACL,CAAC;IAES,0CAAc,GAAxB,UAAyB,MAAmB,EAAE,OAA6B;QACvE,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,yBAAyB,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAClF,CAAC;IAED,sCAAU,GAAV,UAAW,IAAO;QACd,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,wCAAY,GAAZ;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC9B,CAAC;IAED,qCAAS,GAAT,UAAU,KAAa;QACnB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,uDAA2B,GAA3B;QACI,OAAO,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IACnE,CAAC;IAED,sDAA0B,GAA1B;QACI,OAAO,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IACzF,CAAC;IACL,wBAAC;AAAD,CApGA,AAoGC,CAlGS,4CAA4B,GAkGrC;AApGqB,8CAAiB;AAwGvC;IAA+B,6BAAS;IAAxC;QAAA,qEAiIC;QAhIW,kBAAY,GAAW,CAAC,CAAC,CAAC;QAC1B,eAAS,GAAa,MAAM,CAAC;;IA+HzC,CAAC;IA7Ha,gCAAY,GAAtB;QACI,OAAO,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC;IACpD,CAAC;IAES,+BAAW,GAArB;QACI,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;YAC7C,IAAM,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAClE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CACvC,CAAC;YAEF,IAAI,eAAe,CAAC,WAAW,EAAE;gBAC7B,IAAM,WAAW,GAAG,IAAA,wBAAgB,EAAC,eAAe,CAAC,WAAW,CAAC,CAAC;gBAElE,IAAI,WAAW,EAAE;oBACb,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,GAAG,YAAY,GAAG,WAAW,CAAC;oBACpE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,GAAG,YAAY,GAAG,WAAW,CAAC;iBACxE;aACJ;SACJ;IACL,CAAC;IAES,qCAAiB,GAA3B;QACI,OAAO,IAAI,CAAC,gBAAgB,EAAE,IAAI,IAAI,CAAC,YAAY,EAAE;YACjD,CAAC,CAAC,IAAI,0BAAiB,CAAC,eAAO,CAAC,KAAK,EAAE,eAAO,CAAC,KAAK,EAAE,eAAO,CAAC,KAAK,EAAE,eAAO,CAAC,KAAK,CAAC;YACnF,CAAC,CAAC,iBAAM,iBAAiB,WAAE,CAAC;IACpC,CAAC;IAES,kCAAc,GAAxB;QACI,IAAM,WAAW,GAAG,iBAAM,cAAc,WAAE,CAAC;QAE3C,IAAI,WAAW,EAAE;YACb,WAAW,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,KAAK,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;YACrF,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC;YAEjC,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;gBAC5B,WAAW,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;aAC5C;SACJ;QAED,OAAO,WAAW,CAAC;IACvB,CAAC;IAES,mCAAe,GAAzB,UAA0B,QAA8B;QACpD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,mCAAe,GAAf;QACI,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,mDAA+B,GAA/B;QACI,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;YAC5B,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC;SAClD;QAED,OAAO,iBAAM,+BAA+B,WAAE,CAAC;IACnD,CAAC;IAED,mDAA+B,GAA/B;QACI,IAAI,IAAI,CAAC,mBAAmB,KAAK,SAAS,EAAE;YACxC,OAAO,IAAI,CAAC,mBAAmB,CAAC;SACnC;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,8BAA8B,KAAK,SAAS,EAAE;YAC7D,OAAO,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC;SACxD;QAED,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,EAAE;YACvB,IAAM,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,CAC9D,IAAI,CAAC,WAAW,CACnB,CAAC,8BAA8B,CAAC;YAEjC,IAAI,mBAAmB,KAAK,SAAS,EAAE;gBACnC,OAAO,mBAAmB,CAAC;aAC9B;SACJ;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,8BAA8B,KAAK,SAAS,EAAE;YACzE,OAAO,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,8BAA8B,CAAC;SACpE;QAED,OAAO,iBAAM,+BAA+B,WAAE,CAAC;IACnD,CAAC;IAED,wDAAoC,GAApC;QACI,IAAI,IAAI,CAAC,wBAAwB,KAAK,SAAS,EAAE;YAC7C,OAAO,IAAI,CAAC,wBAAwB,CAAC;SACxC;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,4BAA4B,KAAK,SAAS,EAAE;YAC3D,OAAO,IAAI,CAAC,SAAS,CAAC,4BAA4B,CAAC;SACtD;QAED,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,EAAE;YACvB,IAAM,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,CAC5D,IAAI,CAAC,WAAW,CACnB,CAAC,4BAA4B,CAAC;YAE/B,IAAI,iBAAiB,KAAK,SAAS,EAAE;gBACjC,OAAO,iBAAiB,CAAC;aAC5B;SACJ;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,4BAA4B,KAAK,SAAS,EAAE;YACvE,OAAO,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,4BAA4B,CAAC;SAClE;QAED,OAAO,iBAAM,oCAAoC,WAAE,CAAC;IACxD,CAAC;IAED,sBAAI,kCAAW;aAAf;YACI,OAAO,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;;;OAAA;IAED,sBAAI,+BAAQ;aAAZ;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IAED,sBAAI,gCAAS;aAAb;YACI,OAAO,IAAI,CAAC,MAAkB,CAAC;QACnC,CAAC;;;OAAA;IAED,sBAAI,mCAAY;aAAhB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IACL,gBAAC;AAAD,CAjIA,AAiIC,CAjI8B,yBAAS,GAiIvC;AAjIY,8BAAS;AAmItB;IAA8B,4BAA4B;IAA1D;;IAoIA,CAAC;IA/GG,YAAY;IAEF,oCAAiB,GAA3B;QACI,OAAO,IAAI,0BAAiB,CAAC,eAAO,CAAC,IAAI,EAAE,eAAO,CAAC,IAAI,EAAE,eAAO,CAAC,IAAI,EAAE,eAAO,CAAC,IAAI,CAAC,CAAC;IACzF,CAAC;IAES,kCAAe,GAAzB;QACI,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAM,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAClE,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CACpE,CAAC;YAEF,IAAI,eAAe,CAAC,eAAe,EAAE;gBACjC,IAAM,OAAO,GAAG,IAAA,wBAAgB,EAAC,eAAe,CAAC,eAAe,CAAC,CAAC;gBAElE,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC;iBACxD;aACJ;SACJ;IACL,CAAC;IAES,4CAAyB,GAAnC;QACI,OAAO,OAAO,CAAC;IACnB,CAAC;IAES,qCAAkB,GAA5B,UAA6B,QAAgB;QACzC,OAAO,CAAC,QAAQ,IAAI,QAAQ,KAAK,WAAW,CAAC,CAAC,CAAC,IAAI,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;IAC/E,CAAC;IAES,iCAAc,GAAxB;QACI,IAAM,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACxC,IAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC;QAEtD,IAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,UAAU,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACvC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAClC,UAAU,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;QAEvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;YACvF,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAE/B,qDAAqD;YACrD,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC;gBACb,IAAI,CAAC,WAAW,CAAC,iBAAiB,IAAI,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC;YAEzE,IAAM,YAAY,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YAEnC,IAAI,YAAY,EAAE;gBACd,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAE/C,IAAI,MAAM,CAAC,aAAa,CAAC,IAAI,KAAK,gBAAQ,CAAC,KAAK,EAAE;oBAC9C,YAAY,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC;iBAC/E;qBAAM;oBACH,YAAY,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,YAAY,GAAG,GAAG,CAAC;iBAC9E;gBAED,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,IAAI,WAAW,GAAG,CAAC,EAAE;oBAC7D,YAAY,CAAC,KAAK,CAAC,UAAU,GAAG,WAAW,GAAG,IAAI,CAAC;iBACtD;gBAED,UAAU,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;aACxC;SACJ;QAED,OAAO,UAAU,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC;IACnE,CAAC;IAES,kCAAe,GAAzB,UAA0B,QAA8B;QACpD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0BAAO,GAAP,UAAQ,IAAe;QACnB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,+BAAY,GAAZ,UAAa,WAAmB;QAC5B,IAAI,WAAW,IAAI,CAAC,IAAI,WAAW,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE;YACvD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;SACvD;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0BAAO,GAAP,UAAQ,WAAwB;QAC5B,OAAO,WAAW,YAAY,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrF,CAAC;IAED,uCAAoB,GAApB,UAAqB,SAAiB;QAClC,OAAO,IAAI,CAAC,YAAY,EAAE,GAAG,SAAS,EAAE;YACpC,IAAI,CAAC,OAAO,CAAC,IAAI,SAAS,EAAE,CAAC,CAAC;SACjC;IACL,CAAC;IAED,kCAAe,GAAf;QACI,OAAO,UAAU,CAAC;IACtB,CAAC;IAED,gCAAa,GAAb;QACI,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC;IAClD,CAAC;IAED,sBAAI,iCAAW;aAAf;YACI,OAAO,IAAI,CAAC,MAAe,CAAC;QAChC,CAAC;;;OAAA;IAED,sBAAI,kCAAY;aAAhB;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAlID,gBAAgB;IAEA,sBAAa,GAAG,IAAI,sCAAsB,CAAC,wBAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACnE,+CAAsC,GAAG,IAAI,4BAAY,CACrE,wBAAQ,CAAC,IAAI,EACb,gCAAgC,EAChC,2BAAmB,CACtB,CAAC;IACc,6CAAoC,GAAG,IAAI,4BAAY,CACnE,wBAAQ,CAAC,IAAI,EACb,8BAA8B,EAC9B,yBAAiB,CACpB,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,sCAAsC,CAAC;oEACL;IAGrD;QADC,IAAA,wBAAQ,EAAC,QAAQ,CAAC,oCAAoC,CAAC;kEACP;IAiHrD,eAAC;CApID,AAoIC,CApI6B,iBAAiB,GAoI9C;AApIY,4BAAQ;AAsIrB;IAA2B,yBAA2B;IAAtD;QACI,gBAAgB;QADpB,qEA8LC;QAlKW,cAAQ,GAA4B,EAAE,CAAC;QAG/C,uBAAiB,GAAY,IAAI,CAAC;QAGlC,mBAAa,GAAY,IAAI,CAAC;;IA4JlC,CAAC;IAzJG,sBAAI,4BAAS;aAAb;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YAErD,IAAI,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;gBAChE,OAAO,KAAK,CAAC;aAChB;YAED,OAAO,SAAS,CAAC;QACrB,CAAC;aAED,UAAc,KAAyB;YACnC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;QAClD,CAAC;;;OAJA;IAYD,YAAY;IAEJ,yCAAyB,GAAjC;QACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1C,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;SACjE;IACL,CAAC;IAEO,qCAAqB,GAA7B,UAA8B,WAAmB;QAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC1C,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;SAC/C;IACL,CAAC;IAES,yCAAyB,GAAnC;QACI,OAAO,MAAM,CAAC;IAClB,CAAC;IAES,kCAAkB,GAA5B,UAA6B,QAAgB;QACzC,OAAO,CAAC,QAAQ,IAAI,QAAQ,KAAK,UAAU,CAAC,CAAC,CAAC,IAAI,QAAQ,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;IAC7E,CAAC;IAES,6BAAa,GAAvB,UAAwB,MAAmB,EAAE,OAA6B;QACtE,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACrC,CAAC;IAES,8BAAc,GAAxB;QACI,IAAI,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,EAAE;YACzB,IAAI,YAAY,GAAW,CAAC,CAAC;YAE7B,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;gBAA/B,IAAM,MAAM,SAAA;gBACb,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,MAAM,EAAE;oBACvC,YAAY,IAAI,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;iBAC7C;aACJ;YAED,KAAqB,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa,EAAE;gBAA/B,IAAM,MAAM,SAAA;gBACb,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,KAAK,EAAE;oBACtC,MAAM,CAAC,aAAa,GAAG,IAAI,oBAAW,CAClC,MAAM,CAAC,KAAK,CAAC,YAAY,EACzB,gBAAQ,CAAC,KAAK,CACjB,CAAC;iBACL;qBAAM;oBACH,MAAM,CAAC,aAAa,GAAG,IAAI,oBAAW,CAClC,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,YAAY,EAChD,gBAAQ,CAAC,MAAM,CAClB,CAAC;iBACL;aACJ;YAED,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACnD,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YAC3C,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACpC,YAAY,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;YAE5C,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,IAAM,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAClE,IAAI,CAAC,SAAS,CACjB,CAAC;gBAEF,IAAI,eAAe,CAAC,WAAW,EAAE;oBAC7B,IAAM,WAAW,GAAG,IAAA,wBAAgB,EAAC,eAAe,CAAC,WAAW,CAAC,CAAC;oBAElE,IAAI,WAAW,EAAE;wBACb,YAAY,CAAC,KAAK,CAAC,SAAS,GAAG,YAAY,GAAG,WAAW,CAAC;wBAC1D,YAAY,CAAC,KAAK,CAAC,UAAU,GAAG,YAAY,GAAG,WAAW,CAAC;qBAC9D;iBACJ;aACJ;YAED,IAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC;YAEtD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;gBAE/C,IAAI,WAAW,EAAE;oBACb,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,WAAW,GAAG,CAAC,EAAE;wBACjD,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wBACnD,YAAY,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;wBACjD,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,WAAW,GAAG,IAAI,CAAC;wBAE/C,YAAY,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;qBAC1C;oBAED,YAAY,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;iBACzC;aACJ;YAED,OAAO,YAAY,CAAC;SACvB;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,yBAAS,GAAT,UAAU,MAA6B;QACnC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAE3B,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACrC,CAAC;IAED,4BAAY,GAAZ,UAAa,MAA6B;QACtC,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAE5C,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC;YAElC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAClC;IACL,CAAC;IAED,8BAAc,GAAd;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;IAChC,CAAC;IAED,2BAAW,GAAX,UAAY,KAAa;QACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,sBAAM,GAAN,UAAO,GAAa;QAChB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAE1B,GAAG,CAAC,oBAAoB,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;IACpD,CAAC;IAED,uBAAO,GAAP,UAAQ,WAAwB;QAC5B,OAAO,WAAW,YAAY,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpF,CAAC;IAED,+BAAe,GAAf;QACI,OAAO,OAAO,CAAC;IACnB,CAAC;IA1LuB,sBAAgB,GAAG,IAAI,oDAAoC,CAC/E,wBAAQ,CAAC,IAAI,EACb,SAAS,EACT,qBAAqB,CACxB,CAAC;IAEc,+BAAyB,GAAG,IAAI,4BAAY,CACxD,wBAAQ,CAAC,IAAI,EACb,mBAAmB,EACnB,IAAI,CACP,CAAC;IACc,2BAAqB,GAAG,IAAI,4BAAY,CAAC,wBAAQ,CAAC,IAAI,EAAE,eAAe,EAAE,IAAI,CAAC,CAAC;IAC/E,uBAAiB,GAAG,IAAI,sCAAsB,CAAC,wBAAQ,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;IAC3E,4CAAsC,GAAG,IAAI,4BAAY,CACrE,wBAAQ,CAAC,IAAI,EACb,gCAAgC,EAChC,2BAAmB,CACtB,CAAC;IACc,0CAAoC,GAAG,IAAI,4BAAY,CACnE,wBAAQ,CAAC,IAAI,EACb,8BAA8B,EAC9B,yBAAiB,CACpB,CAAC;IAGF;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,gBAAgB,CAAC;2CACc;IAG/C;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,yBAAyB,CAAC;oDACR;IAGlC;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,qBAAqB,CAAC;gDACR;IAG9B;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,iBAAiB,CAAC;0CASjC;IAOD;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,sCAAsC,CAAC;iEACF;IAGrD;QADC,IAAA,wBAAQ,EAAC,KAAK,CAAC,oCAAoC,CAAC;+DACJ;IAuIrD,YAAC;CA9LD,AA8LC,CA9L0B,iBAAiB,GA8L3C;AA9LY,sBAAK;AAgMlB,yBAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,EAAE,KAAK,EAAE,wBAAQ,CAAC,IAAI,CAAC,CAAC;;;;;;ACnqBvE;IAAA;IAEA,CAAC;IAAD,qBAAC;AAAD,CAFA,AAEC,IAAA;AAFqB,wCAAc;;;;;;;;;;;;;;;;;;;;;ACKpC,IAAY,sBAGX;AAHD,WAAY,sBAAsB;IAC9B,iDAAuB,CAAA;IACvB,2CAAiB,CAAA;AACrB,CAAC,EAHW,sBAAsB,GAAtB,8BAAsB,KAAtB,8BAAsB,QAGjC;AAcD;IACI,8BAAqB,IAAa,EAAW,OAAgB;QAAxC,SAAI,GAAJ,IAAI,CAAS;QAAW,YAAO,GAAP,OAAO,CAAS;IAAG,CAAC;IACrE,2BAAC;AAAD,CAFA,AAEC,IAAA;AAFY,oDAAoB;AAIjC;IACI,0BAAqB,OAAyB;QAAzB,YAAO,GAAP,OAAO,CAAkB;IAAG,CAAC;IACtD,uBAAC;AAAD,CAFA,AAEC,IAAA;AAFqB,4CAAgB;AAItC;IAAqC,mCAAgB;IACjD,yBAAqB,OAAyB,EAAW,UAAmB;QAA5E,YACI,kBAAM,OAAO,CAAC,SACjB;QAFoB,aAAO,GAAP,OAAO,CAAkB;QAAW,gBAAU,GAAV,UAAU,CAAS;;IAE5E,CAAC;IACL,sBAAC;AAAD,CAJA,AAIC,CAJoC,gBAAgB,GAIpD;AAJY,0CAAe;AAM5B;IAAmC,iCAAgB;IAC/C,uBAAqB,OAAyB,EAAW,KAA2B;QAApF,YACI,kBAAM,OAAO,CAAC,SACjB;QAFoB,aAAO,GAAP,OAAO,CAAkB;QAAW,WAAK,GAAL,KAAK,CAAsB;;IAEpF,CAAC;IACL,oBAAC;AAAD,CAJA,AAIC,CAJkC,gBAAgB,GAIlD;AAJY,sCAAa;AAM1B;IAA0C,wCAAgB;IAItD,8BAAqB,OAAyB,EAAE,IAAoB;QAApE,YACI,kBAAM,OAAO,CAAC,SAgBjB;QAjBoB,aAAO,GAAP,OAAO,CAAkB;QAE1C,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,KAAqB,UAAkB,EAAlB,KAAA,KAAI,CAAC,KAAK,CAAC,OAAO,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAApC,IAAM,MAAM,SAAA;YACb,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,IAAI,MAAM,CAAC,KAAK,KAAK,SAAS,EAAE;gBACxD,IAAI;oBACA,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAEtB,KAAI,CAAC,YAAY,GAAG,MAAM,CAAC;oBAE3B,MAAM;iBACT;gBAAC,OAAO,CAAC,EAAE;oBACR,uBAAuB;iBAC1B;aACJ;SACJ;;IACL,CAAC;IAED,sBAAI,uDAAqB;aAAzB;YACI,OAAO,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC;QAC5C,CAAC;;;OAAA;IACL,2BAAC;AAAD,CA1BA,AA0BC,CA1ByC,gBAAgB,GA0BzD;AA1BY,oDAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CjC,4DAA4D;AAC5D,kCAAkC;AAClC,+BAAiC;AACjC,+BAAiC;AACjC,mCAA0C;AAE1C,uDAO4B;AAC5B,qCAAoC;AACpC,iDAYyB;AACzB,iDAA2C;AAG3C,SAAS,QAAQ,CAAC,KAAqB,EAAE,OAAa;IAAE,wBAAwB;SAAxB,UAAwB,EAAxB,qBAAwB,EAAxB,IAAwB;QAAxB,uCAAwB;;IAC5E,IAAI,uBAAc,CAAC,OAAO,CAAC,UAAU,EAAE;QACnC,IAAI,uBAAc,CAAC,OAAO,CAAC,UAAU,EAAE;YACnC,uBAAc,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,EAAE,OAAO,EAAE,cAAc,CAAC,CAAC;SACrE;aAAM;YACH,+BAA+B;YAC/B,QAAQ,KAAK,EAAE;gBACX,KAAK,KAAK,CAAC,QAAQ,CAAC,OAAO;oBACvB,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;oBACtC,MAAM;gBACV,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK;oBACrB,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;oBACvC,MAAM;gBACV;oBACI,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;oBACrC,MAAM;aACb;YACD,8BAA8B;SACjC;KACJ;AACL,CAAC;AAED;IACI,yBACa,MAAuB,EACvB,OAA+B,EAC/B,kBAA0B;QAF1B,WAAM,GAAN,MAAM,CAAiB;QACvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,uBAAkB,GAAlB,kBAAkB,CAAQ;QAKvC,kBAAa,GAAW,CAAC,CAAC;IAJvB,CAAC;IAQJ,4DAA4D;IACtD,oCAAU,GAAhB;;;gBACI,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;iBACrB;;;;KACJ;IACL,sBAAC;AAAD,CAnBA,AAmBC,IAAA;AAED;IAixBI;QA1wBQ,8BAAyB,GAAY,KAAK,CAAC;QA2wB/C,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,cAAc,CAAC;QAChD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACjD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC5C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;QAEpD,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAEtD,IAAI,CAAC,yBAAyB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/D,IAAI,CAAC,yBAAyB,CAAC,SAAS,GAAG,uBAAuB,CAAC;QACnE,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAEtD,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACxD,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;IACrE,CAAC;IApxBO,oCAAW,GAAnB,UAAoB,IAAkB;QAClC,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,KAAK,CAAC,oBAAoB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAElD,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAEtD,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SAC3D;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;SACnD;IACL,CAAC;IAEO,gDAAuB,GAA/B,UAAgC,aAA4B;QAA5D,iBAuEC;QAtEG,IAAM,iCAAiC,GAAG,IAAI,CAAC,yBAAyB;YACpE,CAAC,CAAC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC;YACtC,CAAC,CAAC,IAAI,CAAC;QAEX,IAAI,iCAAiC,EAAE;YACnC,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAEtD,IAAI,qBAAqB,GAA4B,SAAS,CAAC;YAE/D,IAAI,IAAI,CAAC,2BAA2B,EAAE;gBAClC,qBAAqB,GAAG,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,CAAC;aAClE;iBAAM;gBACH,IAAI,OAAO,GAAG,iBAAO,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;gBAEhD,IAAI,uBAAc,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,WAAW,CAAC,SAAS,EAAE;oBACrE,IAAI,wBAAwB,GAAG,iBAAO,CAAC,OAAO,CAAC,sBAAsB,EAAE,CAAC;oBAExE,IAAI,wBAAwB,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;wBACvE,wBAAwB,IAAI,GAAG,CAAC;qBACnC;oBAED,OAAO,GAAG,iBAAO,CAAC,OAAO,CAAC,6BAA6B,EAAE,CAAC;iBAC7D;gBAED,IAAM,WAAW,GAAG;oBAChB,IAAI,EAAE,cAAc;oBACpB,OAAO,EAAE,KAAK;oBACd,IAAI,EAAE;wBACF;4BACI,IAAI,EAAE,eAAe;4BACrB,mBAAmB,EAAE,OAAO;4BAC5B,OAAO,EAAE;gCACL;oCACI,IAAI,EAAE,SAAS;oCACf,IAAI,EAAE,OAAO;oCACb,YAAY,EAAE;wCACV,IAAI,EAAE,eAAe;wCACrB,EAAE,EAAE,aAAa;qCACpB;iCACJ;6BACJ;yBACJ;qBACJ;iBACJ,CAAC;gBAEF,IAAM,IAAI,GAAG,IAAI,4BAAY,EAAE,CAAC;gBAChC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,oCAAoB,CAAC,wBAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,eAAe,GAAG,UAAC,MAAc;oBAClC,IAAI,MAAM,CAAC,EAAE,KAAK,aAAa,EAAE;wBAC7B,KAAK,CAAC,oBAAoB,CAAC,KAAI,CAAC,yBAAyB,CAAC,CAAC;wBAE3D,KAAI,CAAC,qBAAqB,CACtB,aAAa,EACb,yCAAsB,CAAC,SAAS,EAChC,CAAC,CACJ,CAAC;qBACL;gBACL,CAAC,CAAC;gBAEF,qBAAqB,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;aACzC;YAED,IAAI,qBAAqB,EAAE;gBACvB,KAAK,CAAC,oBAAoB,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;gBAE3D,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC;gBAElE,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;aAClE;SACJ;IACL,CAAC;IAEO,8CAAqB,GAA7B,UACI,MAAuB,EACvB,OAA+B,EAC/B,kBAA0B;QAH9B,iBAqBC;QAhBG,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAM,SAAO,GAAG,IAAI,eAAe,CAAC,MAAM,EAAE,OAAO,EAAE,kBAAkB,CAAC,CAAC;YACzE,SAAO,CAAC,MAAM,GAAG,UAAC,MAAuB;gBACrC,MAAM,CAAC,aAAa,EAAE,CAAC;gBAEvB,KAAK,KAAI,CAAC,gCAAgC,CAAC,SAAO,CAAC,CAAC;YACxD,CAAC,CAAC;YAEF,IAAM,MAAM,GAAG,IAAI,CAAC,wBAAwB;gBACxC,CAAC,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,EAAE,SAAO,EAAE,MAAM,CAAC;gBACvD,CAAC,CAAC,KAAK,CAAC;YAEZ,OAAO,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAO,CAAC;SACvC;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC;SACnE;IACL,CAAC;IAEO,iDAAwB,GAAhC,UAAiC,aAAqB;QAClD,IAAM,OAAO,GAAG;YACZ,IAAI,EAAE,cAAc;YACpB,OAAO,EAAE,KAAK;YACd,IAAI,EAAE;gBACF;oBACI,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,WAAW;oBAClB,IAAI,EAAE,aAAa,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,sCAAsC;oBAC9E,IAAI,EAAE,IAAI;oBACV,mBAAmB,EAAE,QAAQ;iBAChC;gBACD;oBACI,IAAI,EAAE,WAAW;oBACjB,IAAI,EAAE,oGAAoG;oBAC1G,IAAI,EAAE,IAAI;oBACV,mBAAmB,EAAE,QAAQ;iBAChC;gBACD;oBACI,IAAI,EAAE,YAAY;oBAClB,EAAE,EAAE,WAAW;oBACf,WAAW,EAAE,kBAAkB;iBAClC;gBACD;oBACI,IAAI,EAAE,WAAW;oBACjB,mBAAmB,EAAE,QAAQ;oBAC7B,OAAO,EAAE;wBACL;4BACI,IAAI,EAAE,eAAe;4BACrB,EAAE,EAAE,cAAc,CAAC,wBAAwB;4BAC3C,KAAK,EAAE,QAAQ;yBAClB;wBACD;4BACI,IAAI,EAAE,eAAe;4BACrB,EAAE,EAAE,cAAc,CAAC,4BAA4B;4BAC/C,KAAK,EAAE,QAAQ;yBAClB;qBACJ;iBACJ;aACJ;SACJ,CAAC;QAEF,IAAM,IAAI,GAAG,IAAI,4BAAY,EAAE,CAAC;QAChC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAEpB,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,+CAAsB,GAA9B;QACI,IAAI,IAAI,CAAC,yBAAyB,EAAE;YAChC,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,OAAO,EACtB,8FAA8F,CACjG,CAAC;SACL;QAED,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC;IAC3C,CAAC;IAEO,mDAA0B,GAAlC;QACI,OAAO,IAAI,CAAC,4BAA4B;YACpC,CAAC,CAAC,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC;YACzC,CAAC,CAAC,IAAI,oCAAoB,EAAE,CAAC;IACrC,CAAC;IAEO,wCAAe,GAAvB,UAAwB,OAAY,EAAE,kBAA0B;QAAhE,iBA2JC;QA1JG,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,cAAc,EAAE;YACnE,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;SAC/B;QAED,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI;gBACA,IAAM,IAAI,GAAG,IAAI,4BAAY,EAAE,CAAC;gBAEhC,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;iBACrC;gBAED,IAAM,oBAAoB,GAAG,IAAI,CAAC,0BAA0B,EAAE,CAAC;gBAE/D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE,oBAAoB,CAAC,CAAC;gBAEpD,IAAM,YAAY,GAAG,IAAI,CAAC,cAAc;oBACpC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC;oBAC9C,CAAC,CAAC,IAAI,CAAC;gBAEX,IAAI,YAAY,EAAE;oBACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;oBAElB,IACI,IAAI,CAAC,KAAK,CAAC,cAAc;wBACzB,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,qBAAqB;wBAC/C,IAAI,CAAC,kBAAkB,EACzB;wBACE,IAAI,CAAC,kBAAkB,CACnB,IAAI,EACJ,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,qBAAqB,CAClD,CAAC;qBACL;oBAED,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,UAAC,MAAc;wBACxC,oEAAoE;wBACpE,KAAI,CAAC,sBAAsB,EAAE,CAAC;wBAE9B,KAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,yCAAsB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;oBACzE,CAAC,CAAC;oBACF,IAAI,CAAC,KAAK,CAAC,mBAAmB,GAAG,UAAC,KAAY;;wBAC1C,sEAAsE;wBACtE,KAAI,CAAC,sBAAsB,EAAE,CAAC;wBAC9B,IAAI,KAAK,YAAY,8BAAc,IAAI,KAAK,CAAC,kBAAkB,EAAE,EAAE;4BAC/D,IAAM,MAAM,GAAG,KAAK,CAAC,yBAAyB,EAAE,CAAC;4BACjD,IAAI,MAAM,EAAE;gCACR,IAAM,eAAe,GAAG,IAAI,yBAAS,EAAE,CAAC;gCACxC,eAAe,CAAC,MAAM,GAAG,MAAM,CAAC;gCAChC,eAAe,CAAC,OAAO,GAAG,CAAA,MAAA,KAAK,CAAC,WAAW,0CAAE,OAAO,KAAI,EAAE,CAAC;gCAC3D,eAAe,CAAC,KAAK,GAAG,MAAA,KAAK,CAAC,WAAW,0CAAE,KAAK,CAAC;gCACjD,eAAe,CAAC,IAAI,GAAG,MAAA,KAAK,CAAC,WAAW,0CAAE,IAAI,CAAC;gCAE/C,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gCACxB,KAAI,CAAC,qBAAqB,CACtB,eAAe,EACf,yCAAsB,CAAC,MAAM,EAC7B,CAAC,CAAC,qBAAqB;iCAC1B,CAAC;6BACL;yBACJ;oBACL,CAAC,CAAC;oBAEF,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;oBAEpB,IAAI,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE;wBAC5B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBAE7B,IAAI,IAAI,CAAC,aAAa,EAAE;4BACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;yBAC5B;wBAED,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;4BACpB,IACI,uBAAc,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI;gCAC/B,KAAK,CAAC,WAAW,CAAC,SAAS;gCAC/B,kBAAkB;oCACd,uBAAc,CAAC,OAAO,CAAC,OAAO;yCACzB,oCAAoC,EAC/C;gCACE,IACI,uBAAc,CAAC,OAAO,CAAC,OAAO,CAAC,6BAA6B;oCAC5D,CAAC,EACH;oCACE,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,EACnB,2CAA2C;wCACvC,CAAC,kBAAkB,GAAG,CAAC,CAAC,CAC/B,CAAC;oCAEF,IAAI,CAAC,qBAAqB,CACtB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EACzB,yCAAsB,CAAC,SAAS,EAChC,kBAAkB,GAAG,CAAC,CACzB,CAAC;iCACL;qCAAM;oCACH,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,EACnB,2CAA2C;wCACvC,CAAC,kBAAkB,GAAG,CAAC,CAAC;wCACxB,MAAM;wCACN,uBAAc,CAAC,OAAO,CAAC,OAAO;6CACzB,6BAA6B;wCAClC,IAAI,CACX,CAAC;oCAEF,IAAM,QAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC;oCAEzC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;oCAEtC,MAAM,CAAC,UAAU,CAAC;wCACd,IAAI,KAAI,CAAC,yBAAyB,EAAE;4CAChC,KAAI,CAAC,qBAAqB,CACtB,QAAM,EACN,yCAAsB,CAAC,SAAS,EAChC,kBAAkB,GAAG,CAAC,CACzB,CAAC;yCACL;oCACL,CAAC,EAAE,uBAAc,CAAC,OAAO,CAAC,OAAO,CAAC,6BAA6B,CAAC,CAAC;iCACpE;6BACJ;iCAAM,IACH,uBAAc,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,EACpE;gCACE,IAAI,kBAAkB,GAAG,CAAC,EAAE;oCACxB,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,OAAO,EACtB,qCAAqC;wCACjC,kBAAkB;wCAClB,yBAAyB,CAChC,CAAC;iCACL;qCAAM;oCACH,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,OAAO,EACtB,uEAAuE,CAC1E,CAAC;iCACL;gCAED,IACI,uBAAc,CAAC,OAAO,CAAC,OAAO;qCACzB,2CAA2C;oCAChD,uBAAc,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,WAAW,CAAC,MAAM,EAClE;oCACE,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,gCAAgC,CAAC,CAAC;oCAEhE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;iCAC3D;6BACJ;yBACJ;qBACJ;iBACJ;aACJ;YAAC,OAAO,KAAK,EAAE;gBACZ,oBAAoB;gBACpB,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,WAAW,GAAG,KAAK,CAAC,CAAC;aACvD;SACJ;IACL,CAAC;IAEO,8CAAqB,GAA7B,UACI,MAAc,EACd,OAA+B,EAC/B,kBAA0B;QAE1B,IAAI,MAAM,YAAY,+BAAe,EAAE;YACnC,IAAI,IAAI,CAAC,cAAc,EAAE;gBACrB,IAAM,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,OAAO,EAAE,kBAAkB,CAAC,CAAC;gBAEhF,IAAI,OAAO,EAAE;oBACT,KAAK,OAAO,CAAC,UAAU,EAAE,CAAC;iBAC7B;aACJ;iBAAM;gBACH,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;aACrE;SACJ;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC/B;IACL,CAAC;IAEO,8CAAqB,GAA7B,UAA8B,OAAwB;QAClD,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;YACxB,IAAI,IAAI,CAAC,uBAAuB,EAAE;gBAC9B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;aACvE;iBAAM;gBACH,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACtD,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,sBAAsB,CAAC;gBAEzD,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC9C,OAAO,CAAC,SAAS,GAAG,aAAa,CAAC;gBAClC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBAC7B,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;gBAE9B,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;aAC9C;SACJ;QAED,OAAO,IAAI,CAAC,gBAAgB,CAAC;IACjC,CAAC;IAEO,8CAAqB,GAA7B,UAA8B,OAAyB;QACnD,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAC9B,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;SAC/C;QAED,IAAI,IAAI,CAAC,gBAAgB,KAAK,SAAS,EAAE;YACrC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAExD,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;SACrC;IACL,CAAC;IAEO,iDAAwB,GAAhC,UACI,QAAyB,EACzB,aAAgD;QAEhD,IAAI,IAAI,CAAC,0BAA0B,EAAE;YACjC,IAAI,CAAC,0BAA0B,CAAC,IAAI,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;SAClE;IACL,CAAC;IAEO,8CAAqB,GAA7B,UAA8B,QAAuB;QACjD,OAAO,IAAI,CAAC,uBAAuB;YAC/B,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,QAAQ,CAAC;YAC9C,CAAC,CAAC,uBAAc,CAAC,OAAO,CAAC,+BAA+B,CAAC;IACjE,CAAC;IAEO,gDAAuB,GAA/B,UAAgC,OAAwB;QAAxD,iBAsDC;QArDG,IAAM,4BAA4B,GAAG,IAAI,CAAC,yBAAyB;YAC/D,CAAC,CAAC,IAAI,CAAC,yBAAyB,CAAC,IAAI,EAAE,OAAO,CAAC;YAC/C,CAAC,CAAC,IAAI,CAAC;QAEX,IAAI,4BAA4B,EAAE;YAC9B,IAAM,iBAAiB,GAAG,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAC/E,iBAAiB,CAAC,MAAM,EAAE,CAAC;YAC3B,iBAAiB,CAAC,eAAe,GAAG,UAAC,qBAA6B;gBAC9D,IAAI,KAAI,CAAC,IAAI,IAAI,qBAAqB,YAAY,4BAAY,EAAE;oBAC5D,QAAQ,qBAAqB,CAAC,EAAE,EAAE;wBAC9B,KAAK,cAAc,CAAC,wBAAwB;4BACxC,IAAI,QAAQ,GAAuB,SAAS,CAAC;4BAE7C,IACI,qBAAqB,CAAC,IAAI;gCAC1B,OAAa,qBAAqB,CAAC,IAAK,CAAC,WAAW,CAAC,KAAK,QAAQ,EACpE;gCACE,QAAQ,GAAS,qBAAqB,CAAC,IAAK,CAAC,WAAW,CAAC,CAAC;6BAC7D;4BAED,IAAI,QAAQ,EAAE;gCACV,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gCAE5B,OAAO,CAAC,QAAQ,GAAG,QAAQ,CAAC;gCAC5B,KAAK,OAAO,CAAC,UAAU,EAAE,CAAC;6BAC7B;iCAAM;gCACH,KAAK,CAAC,2CAA2C,CAAC,CAAC;6BACtD;4BAED,MAAM;wBACV,KAAK,cAAc,CAAC,4BAA4B;4BAC5C,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,mCAAmC,CAAC,CAAC;4BAEtE,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;4BAE5B,MAAM;wBACV;4BACI,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,KAAK,EACpB,2DAA2D;gCACvD,qBAAqB,CAAC,EAAE;gCACxB,GAAG,CACV,CAAC;4BAEF,KAAK,CAAC,iBAAO,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,CAAC,CAAC;4BAEvD,MAAM;qBACb;iBACJ;YACL,CAAC,CAAC;YAEF,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;SACvC;IACL,CAAC;IAEa,yDAAgC,GAA9C,UAA+C,OAAwB;;;;;;wBACnE,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;4BACtB,MAAM,IAAI,KAAK,CAAC,8DAA8D,CAAC,CAAC;yBACnF;wBACO,MAAM,GAAK,OAAO,OAAZ,CAAa;6BACvB,CAAA,MAAM,YAAY,6BAAa,CAAA,EAA/B,wBAA+B;wBAC/B,qBAAM,IAAI,CAAC,+BAA+B,CAAC,OAAO,CAAC,EAAA;;wBAAnD,SAAmD,CAAC;;;6BAC7C,CAAA,MAAM,YAAY,yBAAS,CAAA,EAA3B,wBAA2B;wBAClC,qBAAM,IAAI,CAAC,iCAAiC,CAAC,OAAO,CAAC,EAAA;;wBAArD,SAAqD,CAAC;;4BAEtD,MAAM,IAAI,KAAK,CAAC,yDAAyD,CAAC,CAAC;;;;;KAElF;IAEa,wDAA+B,GAA7C,UAA8C,OAAwB;;;;;;wBAClE,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;4BACtB,MAAM,IAAI,KAAK,CAAC,6DAA6D,CAAC,CAAC;yBAClF;wBAEK,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;wBAEpD,IAAI,OAAO,KAAK,SAAS,EAAE;4BACvB,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;yBAC7C;wBAEG,IAAI,GAAG,KAAK,CAAC;;;;;;wCAGT,QAAQ,GAAiC,SAAS,CAAC;wCAEvD,IAAI,OAAO,CAAC,aAAa,KAAK,CAAC,EAAE;4CAC7B,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,EACnB,+CAA+C,GAAG,OAAO,CAAC,aAAa,GAAG,GAAG,CAChF,CAAC;yCACL;6CAAM;4CACH,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,EACnB,kDAAkD,GAAG,OAAO,CAAC,aAAa,GAAG,GAAG,CACnF,CAAC;yCACL;;;;wCAGc,qBAAM,OAAK,cAAc,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAA;;wCAA9D,QAAQ,GAAG,SAAmD,CAAC;;;;wCAE/D,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,2BAA2B,GAAG,OAAK,CAAC,CAAC;wCAEpE,OAAK,qBAAqB,CAAC,OAAO,CAAC,CAAC;wCAEpC,IAAI,GAAG,IAAI,CAAC;;;6CAGZ,QAAQ,EAAR,yBAAQ;6CACJ,CAAA,QAAQ,YAAY,kCAAe,CAAA,EAAnC,wBAAmC;wCACnC,OAAK,qBAAqB,CAAC,OAAO,CAAC,CAAC;wCAEpC,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAE;4CACnC,MAAM,IAAI,KAAK,CACX,qEAAqE,CACxE,CAAC;yCACL;wCAEG,aAAa,GAAG,QAAQ,CAAC,UAAU,CAAC;wCAExC,IAAI;4CACA,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;yCACnD;wCAAC,WAAM;4CACJ,2BAA2B;yCAC9B;wCAED,IAAI,OAAO,aAAa,KAAK,QAAQ,EAAE;4CACnC,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,EACnB,+CAA+C;gDAC3C,OAAO,CAAC,aAAa;gDACrB,cAAc,CACrB,CAAC;4CAEF,OAAK,wBAAwB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;yCAC1D;6CAAM,IACH,OAAO,aAAa,KAAK,QAAQ;4CACjC,aAAa,CAAC,MAAM,CAAC,KAAK,cAAc,EAC1C;4CACE,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,EACnB,uDAAuD;gDACnD,OAAO,CAAC,aAAa;gDACrB,cAAc,CACrB,CAAC;4CAEF,OAAK,eAAe,CAAC,aAAa,EAAE,OAAO,CAAC,kBAAkB,CAAC,CAAC;4CAChE,OAAK,wBAAwB,CAAC,QAAQ,EAAE,OAAK,IAAI,CAAC,CAAC;yCACtD;6CAAM;4CACH,MAAM,IAAI,KAAK,CACX,iFAAiF;gDAC7E,OAAO,QAAQ,CAAC,UAAU;gDAC1B,GAAG,CACV,CAAC;yCACL;wCAED,IAAI,GAAG,IAAI,CAAC;;;6CACL,CAAA,QAAQ,YAAY,gCAAa,CAAA,EAAjC,wBAAiC;wCAClC,YAAkB,OAAK,qBAAqB,CAAC,QAAQ,CAAC,CAAC;6CAGzD,CAAA,SAAO,IAAI,CAAC;4CACZ,OAAO,CAAC,aAAa,GAAG,uBAAc,CAAC,OAAO,CAAC,oBAAoB,CAAA,EADnE,wBACmE;wCAEnE,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,OAAO,EACtB,mCAA4B,QAAQ,CAAC,KAAK,CAAC,OAAO,2BAAiB,SAAO,OAAI,CACjF,CAAC;wCAEF,OAAO,CAAC,aAAa,EAAE,CAAC;wCAExB,qBAAM,IAAI,OAAO,CAAO,UAAC,OAAO,EAAE,OAAO;gDACrC,MAAM,CAAC,UAAU,CAAC;oDACd,OAAO,EAAE,CAAC;gDACd,CAAC,EAAE,SAAO,CAAC,CAAC;4CAChB,CAAC,CAAC,EAAA;;wCAJF,SAIE,CAAC;;;wCAEH,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,KAAK,EACpB,mCAA4B,QAAQ,CAAC,KAAK,CAAC,OAAO,+BAAqB,OAAO,CAAC,aAAa,gBAAa,CAC5G,CAAC;wCAEF,OAAK,qBAAqB,CAAC,OAAO,CAAC,CAAC;wCAEpC,IAAI,GAAG,IAAI,CAAC;;;;wCAEb,IAAI,QAAQ,YAAY,uCAAoB,EAAE;4CACjD,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,EACnB,6DAA6D;gDACzD,OAAO,CAAC,aAAa;gDACrB,cAAc,CACrB,CAAC;4CAEF,IAAI,OAAO,CAAC,aAAa,IAAI,uBAAc,CAAC,OAAO,CAAC,oBAAoB,EAAE;gDAClE,YAAY,GAAG,IAAI,CAAC;gDAExB,IAAI,QAAQ,CAAC,qBAAqB,IAAI,OAAK,gBAAgB,EAAE;oDACzD,oFAAoF;oDACpF,kBAAkB;oDAClB,YAAY,GAAG,CAAC,OAAK,gBAAgB,SAEjC,OAAO,EACP,QAAQ,CAAC,qBAAqB,CACjC,CAAC;iDACL;gDAED,IAAI,YAAY,EAAE;oDACd,uBAAuB;oDACvB,OAAK,qBAAqB,CAAC,OAAO,CAAC,CAAC;oDAEpC,IAAI,QAAQ,CAAC,YAAY,KAAK,SAAS,EAAE;wDACrC,MAAM,IAAI,KAAK,CACX,wFAAwF,CAC3F,CAAC;qDACL;oDAED,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,IAAI,EACnB,oBAAoB,GAAG,QAAQ,CAAC,YAAY,CAAC,KAAK,CACrD,CAAC;oDAEF,IAAI,OAAK,kBAAkB,EAAE;wDACzB,6DAA6D;wDAC7D,OAAK,kBAAkB,SAAO,OAAO,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC;qDACjE;yDAAM;wDACH,OAAK,uBAAuB,CAAC,OAAO,CAAC,CAAC;wDAEhC,IAAI,GACN,MAAM,CAAC,OAAO;4DACd,CAAC,MAAM,CAAC,UAAU,GAAG,uBAAc,CAAC,OAAO,CAAC,eAAe,CAAC;gEACxD,CAAC,CAAC;wDACJ,QACF,MAAM,CAAC,OAAO;4DACd,CAAC,MAAM,CAAC,WAAW,GAAG,uBAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC;gEAC1D,CAAC,CAAC;wDAEV,MAAM,CAAC,IAAI,CACP,QAAQ,CAAC,YAAY,CAAC,KAAK,EAC3B,QAAQ,CAAC,YAAY,CAAC,KAAK;4DACvB,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK;4DAC7B,CAAC,CAAC,SAAS,EACf,gBAAS,uBAAc,CAAC,OAAO,CAAC,eAAe,qBAAW,uBAAc,CAAC,OAAO,CAAC,gBAAgB,mBAAS,IAAI,kBAAQ,KAAG,CAAE,CAC9H,CAAC;qDACL;iDACJ;6CACJ;iDAAM;gDACH,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,KAAK,EACpB,yCAAyC;oDACrC,OAAO,CAAC,aAAa;oDACrB,aAAa,CACpB,CAAC;gDAEF,KAAK,CAAC,iBAAO,CAAC,kBAAkB,CAAC,oBAAoB,EAAE,CAAC,CAAC;6CAC5D;;yCAIJ;6CAAM;4CACH,MAAM,IAAI,KAAK,CAAC,2BAA2B,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;yCAC3E;;;;;;;;;6BAlLF,CAAC,IAAI;;;;;;;;;;;KAqLf;IAEa,0DAAiC,GAA/C,UAAgD,OAAwB;;;;;;wBACpE,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;4BACtB,MAAM,IAAI,KAAK,CAAC,4DAA4D,CAAC,CAAC;yBACjF;wBACK,MAAM,GAAI,OAAO,CAAC,MAAoB,CAAC,MAAM,CAAC;6BAChD,IAAI,CAAC,UAAU,EAAf,wBAAe;wBACf,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;wBACnC,QAAQ,GAAiC,SAAS,CAAC;;;;wBAExC,qBAAM,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAA;;wBAA9D,QAAQ,GAAG,SAAmD,CAAC;;;;wBAE/D,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;wBAC7D,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,2BAA2B,GAAG,OAAK,CAAC,CAAC;;;wBAExE,IAAI,QAAQ,EAAE;4BACV,IAAI,QAAQ,YAAY,kCAAe,EAAE;gCAC/B,WAAW,GAAG,QAAQ,CAAC,UAAU,CAAC;gCACxC,IAAI,WAAW,EAAE;oCACT,cAAc,SAAA,CAAC;oCACnB,IAAI;wCACA,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;qCAC5C;oCAAC,OAAO,KAAK,EAAE;wCACZ,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;wCAC7D,MAAM,IAAI,KAAK,CACX,mEAAmE;4CAC/D,WAAW,CAClB,CAAC;qCACL;oCACD,IAAI,OAAO,cAAc,KAAK,QAAQ,EAAE;wCACpC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;wCACtD,IAAI,CAAC,wBAAwB,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;qCACxD;yCAAM;wCACH,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,MAAM,EAAE,uBAAuB,CAAC,CAAC;wCACpE,MAAM,IAAI,KAAK,CACX,+EAA+E;4CAC3E,OAAO,WAAW;4CAClB,GAAG,CACV,CAAC;qCACL;iCACJ;qCAAM;oCACH,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;oCAC7D,MAAM,IAAI,KAAK,CACX,mEAAmE,CACtE,CAAC;iCACL;6BACJ;iCAAM,IAAI,QAAQ,YAAY,gCAAa,EAAE;gCAC1C,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAC9B,MAAM,EACN,QAAQ,CAAC,KAAK,CAAC,OAAO,IAAI,uBAAuB,CACpD,CAAC;gCACF,QAAQ,CACJ,KAAK,CAAC,QAAQ,CAAC,KAAK,EACpB,mCAA4B,QAAQ,CAAC,KAAK,CAAC,OAAO,MAAG,CACxD,CAAC;gCACF,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;6BACxC;iCAAM;gCACH,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;gCAC7D,MAAM,IAAI,KAAK,CAAC,2BAA2B,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;6BAC3E;yBACJ;6BAAM;4BACH,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,CAAC;yBAC5C;;;;;;KAER;IA8DD,oCAAW,GAAX;QACI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YAClC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,yCAAsB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;SAC3F;IACL,CAAC;IAED,gCAAO,GAAP,UAAQ,OAAY;QAChB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IACrC,CAAC;IAED,sBAAI,gCAAI;aAAR;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;;;OAAA;IA7yBuB,uCAAwB,GAAG,iBAAiB,CAAC;IAC7C,2CAA4B,GAAG,qBAAqB,CAAC;IA6yBjF,qBAAC;CA/yBD,AA+yBC,IAAA;AA/yBY,wCAAc;;;;;;;;;;;;;;;;;;;AC1E3B,4DAA4D;AAC5D,kCAAkC;AAClC,4CAA0B;AAC1B,0CAAwB;AACxB,2CAAyB;AACzB,0CAAwB;AACxB,kDAAgC;AAChC,sDAAoC;AACpC,gDAA8B;AAC9B,6CAA2B;AAC3B,gDAA8B;AAC9B,kDAAgC;AAChC,6CAA2B;AAC3B,0CAAwB;AACxB,oDAAkC;AAClC,qDAAmC;AACnC,oDAAkC;;;AChBlC6gC,MAAM,CAACt+B,OAAO,GAAG;EACb,MAAM,EAAE,cAAc;EACtB,SAAS,EAAE,oDAAoD;EAC/D,SAAS,EAAE,KAAK;EAChB,MAAM,EAAE,CACJ;IACI,MAAM,EAAE,OAAO;IACf,SAAS,EAAE,CACP;MACI,OAAO,EAAE;IACb,CAAC,EACD;MACI,OAAO,EAAE;IACb,CAAC,CACJ;IACD,MAAM,EAAE,CACJ;MACI,MAAM,EAAE,UAAU;MAClB,OAAO,EAAE,CACL;QACI,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CACL;UACI,MAAM,EAAE,OAAO;UACf,KAAK,EAAE,SAAS;UAChB,IAAI,EAAE;QACV,CAAC;MAET,CAAC,EACD;QACI,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CACL;UACI,MAAM,EAAE,WAAW;UACnB,MAAM,EAAE,iBAAiB;UACzB,MAAM,EAAE,IAAI;UACZ,IAAI,EAAE;QACV,CAAC;MAET,CAAC;IAET,CAAC;EAET,CAAC,EACD;IACI,MAAM,EAAE,WAAW;IACnB,OAAO,EAAE,CACL;MACI,MAAM,EAAE,WAAW;MACnB,MAAM,EAAE,WAAW;MACnB,MAAM,EAAE,IAAI;MACZ,IAAI,EAAE;IACV,CAAC,CACJ;IACD,IAAI,EAAE;EACV,CAAC;AAET,CAAC;;ACzDDs+B,MAAM,CAACt+B,OAAO,GAAG;EACb,MAAM,EAAE,uEAAuE;EAC/E,cAAc,EAAE,mBAAmB;EACnC,QAAQ,EAAE;AACd,CAAC;;ACJDs+B,MAAM,CAACt+B,OAAO,GAAG;EACb,MAAM,EAAE,cAAc;EACtB,SAAS,EAAE,oDAAoD;EAC/D,SAAS,EAAE,KAAK;EAChB,MAAM,EAAE,CACJ;IACI,MAAM,EAAE,WAAW;IACnB,OAAO,EAAE,CACL;MACI,MAAM,EAAE,OAAO;MACf,OAAO,EAAE,QAAQ;MACjB,KAAK,EAAE,oBAAoB;MAC3B,IAAI,EAAE;IACV,CAAC,CACJ;IACD,IAAI,EAAE;EACV,CAAC,EACD;IACI,MAAM,EAAE,WAAW;IACnB,OAAO,EAAE,CACL;MACI,MAAM,EAAE,WAAW;MACnB,MAAM,EAAE,SAAS;MACjB,MAAM,EAAE,IAAI;MACZ,IAAI,EAAE;IACV,CAAC,EAAE;MACC,MAAM,EAAE,OAAO;MACf,KAAK,EAAE,SAAS;MAChB,SAAS,EAAE,gBAAgB;MAC3B,IAAI,EAAE;IAClB,CAAC,CAEI;IACD,IAAI,EAAE;EACV,CAAC;AAET,CAAC;;ACpCDs+B,MAAM,CAACt+B,OAAO,GAAG;EACb,MAAM,EAAE,uEAAuE;EAC/E,MAAM,EAAE,WAAW;EACnB,iBAAiB,EAAE;AACvB,CAAC;;;;ACJD,IAAA+kD,aAAA,GAAAC,uBAAA,CAAAnjD,OAAA;AAGA,IAAAojD,gBAAA,GAAA5hC,sBAAA,CAAAxhB,OAAA;AACA,IAAAqjD,oBAAA,GAAA7hC,sBAAA,CAAAxhB,OAAA;AAGA,IAAAsjD,uBAAA,GAAA9hC,sBAAA,CAAAxhB,OAAA;AACA,IAAAujD,2BAAA,GAAA/hC,sBAAA,CAAAxhB,OAAA;AAA6G,SAAAwhB,uBAAA5lB,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,GAAA7lB,GAAA,KAAA2V,OAAA,EAAA3V,GAAA;AAAA,SAAA4nD,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAN,wBAAAvnD,GAAA,EAAA6nD,WAAA,SAAAA,WAAA,IAAA7nD,GAAA,IAAAA,GAAA,CAAA6lB,UAAA,WAAA7lB,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAA2V,OAAA,EAAA3V,GAAA,UAAAkhC,KAAA,GAAA0mB,wBAAA,CAAAC,WAAA,OAAA3mB,KAAA,IAAAA,KAAA,CAAA+mB,GAAA,CAAAjoD,GAAA,YAAAkhC,KAAA,CAAAz8B,GAAA,CAAAzE,GAAA,SAAAkoD,MAAA,WAAAC,qBAAA,GAAAjoD,MAAA,CAAAsE,cAAA,IAAAtE,MAAA,CAAAiZ,wBAAA,WAAA3Y,GAAA,IAAAR,GAAA,QAAAQ,GAAA,kBAAAN,MAAA,CAAAoF,SAAA,CAAA8iD,cAAA,CAAA5iD,IAAA,CAAAxF,GAAA,EAAAQ,GAAA,SAAA0Y,IAAA,GAAAivC,qBAAA,GAAAjoD,MAAA,CAAAiZ,wBAAA,CAAAnZ,GAAA,EAAAQ,GAAA,cAAA0Y,IAAA,KAAAA,IAAA,CAAAzU,GAAA,IAAAyU,IAAA,CAAAxU,GAAA,KAAAxE,MAAA,CAAAsE,cAAA,CAAA0jD,MAAA,EAAA1nD,GAAA,EAAA0Y,IAAA,YAAAgvC,MAAA,CAAA1nD,GAAA,IAAAR,GAAA,CAAAQ,GAAA,SAAA0nD,MAAA,CAAAvyC,OAAA,GAAA3V,GAAA,MAAAkhC,KAAA,IAAAA,KAAA,CAAAx8B,GAAA,CAAA1E,GAAA,EAAAkoD,MAAA,YAAAA,MAAA;AAAA,SAAAG,2BAAA/vC,CAAA,EAAAgwC,cAAA,QAAAC,EAAA,UAAA5xC,MAAA,oBAAA2B,CAAA,CAAA3B,MAAA,CAAAI,QAAA,KAAAuB,CAAA,qBAAAiwC,EAAA,QAAA1jD,KAAA,CAAAM,OAAA,CAAAmT,CAAA,MAAAiwC,EAAA,GAAAC,2BAAA,CAAAlwC,CAAA,MAAAgwC,cAAA,IAAAhwC,CAAA,WAAAA,CAAA,CAAA7X,MAAA,qBAAA8nD,EAAA,EAAAjwC,CAAA,GAAAiwC,EAAA,MAAA5iD,CAAA,UAAA8iD,CAAA,YAAAA,EAAA,eAAAC,CAAA,EAAAD,CAAA,EAAAE,CAAA,WAAAA,EAAA,QAAAhjD,CAAA,IAAA2S,CAAA,CAAA7X,MAAA,WAAA8R,IAAA,mBAAAA,IAAA,SAAA5N,KAAA,EAAA2T,CAAA,CAAA3S,CAAA,UAAAyE,CAAA,WAAAA,EAAAw+C,EAAA,UAAAA,EAAA,KAAAC,CAAA,EAAAJ,CAAA,gBAAA5xC,SAAA,iJAAAiyC,gBAAA,SAAAC,MAAA,UAAAC,GAAA,WAAAN,CAAA,WAAAA,EAAA,IAAAH,EAAA,GAAAA,EAAA,CAAA/iD,IAAA,CAAA8S,CAAA,MAAAqwC,CAAA,WAAAA,EAAA,QAAAh9B,IAAA,GAAA48B,EAAA,CAAAz4C,IAAA,IAAAg5C,gBAAA,GAAAn9B,IAAA,CAAApZ,IAAA,SAAAoZ,IAAA,KAAAvhB,CAAA,WAAAA,EAAA6+C,GAAA,IAAAF,MAAA,SAAAC,GAAA,GAAAC,GAAA,KAAAJ,CAAA,WAAAA,EAAA,eAAAC,gBAAA,IAAAP,EAAA,CAAAW,MAAA,UAAAX,EAAA,CAAAW,MAAA,oBAAAH,MAAA,QAAAC,GAAA;AAAA,SAAAR,4BAAAlwC,CAAA,EAAA6wC,MAAA,SAAA7wC,CAAA,qBAAAA,CAAA,sBAAA8wC,iBAAA,CAAA9wC,CAAA,EAAA6wC,MAAA,OAAAR,CAAA,GAAAzoD,MAAA,CAAAoF,SAAA,CAAA6S,QAAA,CAAA3S,IAAA,CAAA8S,CAAA,EAAAC,KAAA,aAAAowC,CAAA,iBAAArwC,CAAA,CAAArY,WAAA,EAAA0oD,CAAA,GAAArwC,CAAA,CAAArY,WAAA,CAAA+I,IAAA,MAAA2/C,CAAA,cAAAA,CAAA,mBAAA9jD,KAAA,CAAA48B,IAAA,CAAAnpB,CAAA,OAAAqwC,CAAA,+DAAA9rC,IAAA,CAAA8rC,CAAA,UAAAS,iBAAA,CAAA9wC,CAAA,EAAA6wC,MAAA;AAAA,SAAAC,kBAAApkD,GAAA,EAAAgU,GAAA,QAAAA,GAAA,YAAAA,GAAA,GAAAhU,GAAA,CAAAvE,MAAA,EAAAuY,GAAA,GAAAhU,GAAA,CAAAvE,MAAA,WAAAkF,CAAA,MAAA0jD,IAAA,OAAAxkD,KAAA,CAAAmU,GAAA,GAAArT,CAAA,GAAAqT,GAAA,EAAArT,CAAA,IAAA0jD,IAAA,CAAA1jD,CAAA,IAAAX,GAAA,CAAAW,CAAA,UAAA0jD,IAAA,IAN7G,qCAIA;AAMA;AACA,IAAIC,YAAY,GAAG,IAAIhC,aAAa,CAACiC,YAAY,CAAC,CAAC;;AAEnD;AACA,IAAMC,QAAQ,GAAGC,mBAAmB,CAACC,+BAAiB,EAAEC,mCAAQ,CAAC;;AAEjE;AACAL,YAAY,CAACM,KAAK,CAACJ,QAAQ,CAAC;AAC5B;AACA,IAAIK,YAAY,GAAGP,YAAY,CAACt3C,MAAM,CAAC,CAAC;;AAExC;;AAEA;AACAtP,QAAQ,CAACvB,cAAc,CAAC,eAAe,CAAC,CAAC+N,WAAW,CAAC26C,YAAY,CAAC;AAElE,SAASC,gBAAgBA,CAACC,QAAQ,EAAE;EAChCrnD,QAAQ,CAACvB,cAAc,CAAC,eAAe,CAAC,CAACwP,WAAW,CAAC,CAAC;EACtD,IAAI64C,QAAQ;EACZ,IAAIO,QAAQ,IAAI,CAAC,EAAE;IACfP,QAAQ,GAAGC,mBAAmB,CAACO,wBAAe,EAAEthD,4BAAI,CAAC;EACzD,CAAC,MAAM;IACH8gD,QAAQ,GAAGC,mBAAmB,CAACC,+BAAiB,EAAEC,mCAAQ,CAAC;EAC/D;EAEAL,YAAY,CAACM,KAAK,CAACJ,QAAQ,CAAC;EAC5BK,YAAY,GAAGP,YAAY,CAACt3C,MAAM,CAAC,CAAC;EACpCtP,QAAQ,CAACvB,cAAc,CAAC,eAAe,CAAC,CAAC+N,WAAW,CAAC26C,YAAY,CAAC;AACtE;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASJ,mBAAmBA,CAACM,QAAQ,EAAErhD,IAAI,EAAE;EACzC,IAAMuhD,UAAU,GAAGC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC;EAC3CK,OAAO,CAACC,GAAG,CAACJ,UAAU,CAAC;EACvB,IAAMK,cAAc,GAAGL,UAAU,CAACjkD,OAAO,CAAC,cAAc,EAAE,UAACC,KAAK,EAAEzF,GAAG,EAAK;IACtE,IAAMmE,KAAK,GAAG4lD,aAAa,CAAC/pD,GAAG,EAAEkI,IAAI,CAAC;IACtC,OAAO/D,KAAK,KAAKwD,SAAS,GAAGxD,KAAK,GAAGsB,KAAK;EAC9C,CAAC,CAAC;EAEF,OAAOikD,IAAI,CAACN,KAAK,CAACU,cAAc,CAAC;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,aAAaA,CAAC/pD,GAAG,EAAEkI,IAAI,EAAE;EAC9B0hD,OAAO,CAACC,GAAG,CAAC7pD,GAAG,CAAC;EAChB,IAAMF,IAAI,GAAGE,GAAG,CAAC6G,KAAK,CAAC,GAAG,CAAC;EAC3B,IAAI1C,KAAK,GAAG+D,IAAI;EAChB0hD,OAAO,CAACC,GAAG,CAAC/pD,IAAI,CAAC;EAAC,IAAAkqD,SAAA,GAAAnC,0BAAA,CACF/nD,IAAI;IAAAmqD,KAAA;EAAA;IAApB,KAAAD,SAAA,CAAA9B,CAAA,MAAA+B,KAAA,GAAAD,SAAA,CAAA7B,CAAA,IAAAp2C,IAAA,GAAsB;MAAA,IAAX5H,CAAC,GAAA8/C,KAAA,CAAA9lD,KAAA;MACRA,KAAK,GAAGA,KAAK,CAACgG,CAAC,CAAC;MAChB,IAAIhG,KAAK,KAAKwD,SAAS,EAAE;QAAC;MAAM;IACpC;EAAC,SAAA6gD,GAAA;IAAAwB,SAAA,CAAApgD,CAAA,CAAA4+C,GAAA;EAAA;IAAAwB,SAAA,CAAA3B,CAAA;EAAA;EAED,OAAOlkD,KAAK;AAChB;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1FA,IAAI+lD,UAAU,GAAG,4BAA4B;AAE7C,IAAIC,SAAS,GAAG9pB,MAAM,CAAC+pB,MAAM,CAACC,MAAM;AAEpC,SAASA,MAAMA,CAACC,UAAU,EAAE;EAC1BH,SAAS,CAACnlD,IAAI,CAAC,IAAI,EAAEslD,UAAU,CAAC;EAChC,IAAI,CAACC,GAAG,GAAG;IACTriD,IAAI,EAAEm4B,MAAM,CAAC+pB,MAAM,CAACI,OAAO;IAC3BC,gBAAgB,EAAE,EAAE;IACpBC,iBAAiB,EAAE,EAAE;IACrBC,MAAM,EAAE,SAAAA,CAAUpkD,EAAE,EAAE;MACpB,IAAI,CAACkkD,gBAAgB,CAAC7lD,IAAI,CAAC2B,EAAE,IAAI,YAAY,CAAC,CAAC,CAAC;IAClD,CAAC;IACDqkD,OAAO,EAAE,SAAAA,CAAUrkD,EAAE,EAAE;MACrB,IAAI,CAACmkD,iBAAiB,CAAC9lD,IAAI,CAAC2B,EAAE,CAAC;IACjC;EACF,CAAC;EAED85B,MAAM,CAAC+pB,MAAM,CAACI,OAAO,GAAG,IAAI;AAC9B;AAEAnqB,MAAM,CAAC+pB,MAAM,CAACC,MAAM,GAAGA,MAAM;AAC7B,IAAIQ,aAAa,EAAEC,cAAc;AAEjC,IAAIl8C,MAAM,GAAGyxB,MAAM,CAAC+pB,MAAM,CAACx7C,MAAM;AACjC,IAAI,CAAC,CAACA,MAAM,IAAI,CAACA,MAAM,CAACm8C,eAAe,KAAK,OAAOC,SAAS,KAAK,WAAW,EAAE;EAC5E,IAAIvpD,QAAQ,GAAG,MAA4BH,QAAQ,CAACG,QAAQ;EAC5D,IAAII,QAAQ,GAAGP,QAAQ,CAACO,QAAQ,KAAK,QAAQ,GAAG,KAAK,GAAG,IAAI;EAC5D,IAAIopD,EAAE,GAAG,IAAID,SAAS,CAACnpD,QAAQ,GAAG,KAAK,GAAGJ,QAAQ,GAAG,GAAG,UAAuB,GAAG,GAAG,CAAC;EACtFwpD,EAAE,CAACC,SAAS,GAAG,UAAS5gD,KAAK,EAAE;IAC7BugD,aAAa,GAAG,CAAC,CAAC;IAClBC,cAAc,GAAG,EAAE;IAEnB,IAAI5iD,IAAI,GAAGwhD,IAAI,CAACN,KAAK,CAAC9+C,KAAK,CAACpC,IAAI,CAAC;IAEjC,IAAIA,IAAI,CAAC0oB,IAAI,KAAK,QAAQ,EAAE;MAC1B,IAAIu6B,OAAO,GAAG,KAAK;MACnBjjD,IAAI,CAACkjD,MAAM,CAACrrD,OAAO,CAAC,UAASsrD,KAAK,EAAE;QAClC,IAAI,CAACA,KAAK,CAACC,KAAK,EAAE;UAChB,IAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAa,EAAEL,KAAK,CAAC9nD,EAAE,CAAC;UAC9D,IAAIgoD,SAAS,EAAE;YACbJ,OAAO,GAAG,IAAI;UAChB;QACF;MACF,CAAC,CAAC;;MAEF;MACAA,OAAO,GAAGA,OAAO,IAAIjjD,IAAI,CAACkjD,MAAM,CAACO,KAAK,CAAC,UAASN,KAAK,EAAE;QACrD,OAAOA,KAAK,CAACz6B,IAAI,KAAK,KAAK,IAAIy6B,KAAK,CAACO,SAAS,CAACC,EAAE;MACnD,CAAC,CAAC;MAEF,IAAIV,OAAO,EAAE;QACXvB,OAAO,CAACkC,KAAK,CAAC,CAAC;QAEf5jD,IAAI,CAACkjD,MAAM,CAACrrD,OAAO,CAAC,UAAUsrD,KAAK,EAAE;UACnCU,QAAQ,CAACN,MAAM,CAACC,aAAa,EAAEL,KAAK,CAAC;QACvC,CAAC,CAAC;QAEFP,cAAc,CAAC/qD,OAAO,CAAC,UAAU4kB,CAAC,EAAE;UAClCqnC,YAAY,CAACrnC,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC;MACJ,CAAC,MAAM,IAAIrjB,QAAQ,CAAC2qD,MAAM,EAAE;QAAE;QAC5B3qD,QAAQ,CAAC2qD,MAAM,CAAC,CAAC;MACnB;IACF;IAEA,IAAI/jD,IAAI,CAAC0oB,IAAI,KAAK,QAAQ,EAAE;MAC1Bq6B,EAAE,CAACiB,KAAK,CAAC,CAAC;MACVjB,EAAE,CAACkB,OAAO,GAAG,YAAY;QACvB7qD,QAAQ,CAAC2qD,MAAM,CAAC,CAAC;MACnB,CAAC;IACH;IAEA,IAAI/jD,IAAI,CAAC0oB,IAAI,KAAK,gBAAgB,EAAE;MAClCg5B,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;MAExCuC,kBAAkB,CAAC,CAAC;IACtB;IAEA,IAAIlkD,IAAI,CAAC0oB,IAAI,KAAK,OAAO,EAAE;MACzBg5B,OAAO,CAACyC,KAAK,CAAC,eAAe,GAAGnkD,IAAI,CAACmkD,KAAK,CAACvV,OAAO,GAAG,IAAI,GAAG5uC,IAAI,CAACmkD,KAAK,CAACC,KAAK,CAAC;MAE7EF,kBAAkB,CAAC,CAAC;MAEpB,IAAIG,OAAO,GAAGC,kBAAkB,CAACtkD,IAAI,CAAC;MACtChG,QAAQ,CAAC/B,IAAI,CAACuO,WAAW,CAAC69C,OAAO,CAAC;IACpC;EACF,CAAC;AACH;AAEA,SAASH,kBAAkBA,CAAA,EAAG;EAC5B,IAAIG,OAAO,GAAGrqD,QAAQ,CAACvB,cAAc,CAACupD,UAAU,CAAC;EACjD,IAAIqC,OAAO,EAAE;IACXA,OAAO,CAACtlD,MAAM,CAAC,CAAC;EAClB;AACF;AAEA,SAASulD,kBAAkBA,CAACtkD,IAAI,EAAE;EAChC,IAAIqkD,OAAO,GAAGrqD,QAAQ,CAACpB,aAAa,CAAC,KAAK,CAAC;EAC3CyrD,OAAO,CAAChpD,EAAE,GAAG2mD,UAAU;;EAEvB;EACA,IAAIpT,OAAO,GAAG50C,QAAQ,CAACpB,aAAa,CAAC,KAAK,CAAC;EAC3C,IAAI2rD,UAAU,GAAGvqD,QAAQ,CAACpB,aAAa,CAAC,KAAK,CAAC;EAC9Cg2C,OAAO,CAAC4V,SAAS,GAAGxkD,IAAI,CAACmkD,KAAK,CAACvV,OAAO;EACtC2V,UAAU,CAACC,SAAS,GAAGxkD,IAAI,CAACmkD,KAAK,CAACC,KAAK;EAEvCC,OAAO,CAAClmD,SAAS,GACf,wNAAwN,GACtN,mFAAmF,GACnF,yEAAyE,GACzE,qEAAqE,GAAGywC,OAAO,CAACzwC,SAAS,GAAG,QAAQ,GACpG,OAAO,GAAGomD,UAAU,CAACpmD,SAAS,GAAG,QAAQ,GAC3C,QACD;EAED,OAAOkmD,OAAO;AAEhB;AAEA,SAASI,UAAUA,CAACvC,MAAM,EAAE7mD,EAAE,EAAE;EAC9B,IAAIu6B,OAAO,GAAGssB,MAAM,CAACtsB,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ,OAAO,EAAE;EACX;EAEA,IAAI5zB,OAAO,GAAG,EAAE;EAChB,IAAIC,CAAC,EAAEyiD,CAAC,EAAEC,GAAG;EAEb,KAAK1iD,CAAC,IAAI2zB,OAAO,EAAE;IACjB,KAAK8uB,CAAC,IAAI9uB,OAAO,CAAC3zB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACvB0iD,GAAG,GAAG/uB,OAAO,CAAC3zB,CAAC,CAAC,CAAC,CAAC,CAAC,CAACyiD,CAAC,CAAC;MACtB,IAAIC,GAAG,KAAKtpD,EAAE,IAAKc,KAAK,CAACM,OAAO,CAACkoD,GAAG,CAAC,IAAIA,GAAG,CAACA,GAAG,CAAC5sD,MAAM,GAAG,CAAC,CAAC,KAAKsD,EAAG,EAAE;QACpE2G,OAAO,CAACtF,IAAI,CAACuF,CAAC,CAAC;MACjB;IACF;EACF;EAEA,IAAIigD,MAAM,CAACx7C,MAAM,EAAE;IACjB1E,OAAO,GAAGA,OAAO,CAAC2R,MAAM,CAAC8wC,UAAU,CAACvC,MAAM,CAACx7C,MAAM,EAAErL,EAAE,CAAC,CAAC;EACzD;EAEA,OAAO2G,OAAO;AAChB;AAEA,SAAS6hD,QAAQA,CAAC3B,MAAM,EAAEiB,KAAK,EAAE;EAC/B,IAAIvtB,OAAO,GAAGssB,MAAM,CAACtsB,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ;EACF;EAEA,IAAIA,OAAO,CAACutB,KAAK,CAAC9nD,EAAE,CAAC,IAAI,CAAC6mD,MAAM,CAACx7C,MAAM,EAAE;IACvC,IAAIrI,EAAE,GAAG,IAAIumD,QAAQ,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAEzB,KAAK,CAACO,SAAS,CAACC,EAAE,CAAC;IACzER,KAAK,CAACC,KAAK,GAAG,CAACxtB,OAAO,CAACutB,KAAK,CAAC9nD,EAAE,CAAC;IAChCu6B,OAAO,CAACutB,KAAK,CAAC9nD,EAAE,CAAC,GAAG,CAACgD,EAAE,EAAE8kD,KAAK,CAAC0B,IAAI,CAAC;EACtC,CAAC,MAAM,IAAI3C,MAAM,CAACx7C,MAAM,EAAE;IACxBm9C,QAAQ,CAAC3B,MAAM,CAACx7C,MAAM,EAAEy8C,KAAK,CAAC;EAChC;AACF;AAEA,SAASG,cAAcA,CAACpB,MAAM,EAAE7mD,EAAE,EAAE;EAClC,IAAIu6B,OAAO,GAAGssB,MAAM,CAACtsB,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ;EACF;EAEA,IAAI,CAACA,OAAO,CAACv6B,EAAE,CAAC,IAAI6mD,MAAM,CAACx7C,MAAM,EAAE;IACjC,OAAO48C,cAAc,CAACpB,MAAM,CAACx7C,MAAM,EAAErL,EAAE,CAAC;EAC1C;EAEA,IAAIsnD,aAAa,CAACtnD,EAAE,CAAC,EAAE;IACrB;EACF;EACAsnD,aAAa,CAACtnD,EAAE,CAAC,GAAG,IAAI;EAExB,IAAIypD,MAAM,GAAG5C,MAAM,CAAC1pB,KAAK,CAACn9B,EAAE,CAAC;EAE7BunD,cAAc,CAAClmD,IAAI,CAAC,CAACwlD,MAAM,EAAE7mD,EAAE,CAAC,CAAC;EAEjC,IAAIypD,MAAM,IAAIA,MAAM,CAACzC,GAAG,IAAIyC,MAAM,CAACzC,GAAG,CAACE,gBAAgB,CAACxqD,MAAM,EAAE;IAC9D,OAAO,IAAI;EACb;EAEA,OAAO0sD,UAAU,CAAClB,MAAM,CAACC,aAAa,EAAEnoD,EAAE,CAAC,CAAC0pD,IAAI,CAAC,UAAU1pD,EAAE,EAAE;IAC7D,OAAOioD,cAAc,CAACC,MAAM,CAACC,aAAa,EAAEnoD,EAAE,CAAC;EACjD,CAAC,CAAC;AACJ;AAEA,SAASyoD,YAAYA,CAAC5B,MAAM,EAAE7mD,EAAE,EAAE;EAChC,IAAIypD,MAAM,GAAG5C,MAAM,CAAC1pB,KAAK,CAACn9B,EAAE,CAAC;EAC7B6mD,MAAM,CAACI,OAAO,GAAG,CAAC,CAAC;EACnB,IAAIwC,MAAM,EAAE;IACVA,MAAM,CAACzC,GAAG,CAACriD,IAAI,GAAGkiD,MAAM,CAACI,OAAO;EAClC;EAEA,IAAIwC,MAAM,IAAIA,MAAM,CAACzC,GAAG,IAAIyC,MAAM,CAACzC,GAAG,CAACG,iBAAiB,CAACzqD,MAAM,EAAE;IAC/D+sD,MAAM,CAACzC,GAAG,CAACG,iBAAiB,CAAC3qD,OAAO,CAAC,UAAUmtD,EAAE,EAAE;MACjDA,EAAE,CAAC9C,MAAM,CAACI,OAAO,CAAC;IACpB,CAAC,CAAC;EACJ;EAEA,OAAOJ,MAAM,CAAC1pB,KAAK,CAACn9B,EAAE,CAAC;EACvB6mD,MAAM,CAAC7mD,EAAE,CAAC;EAEVypD,MAAM,GAAG5C,MAAM,CAAC1pB,KAAK,CAACn9B,EAAE,CAAC;EACzB,IAAIypD,MAAM,IAAIA,MAAM,CAACzC,GAAG,IAAIyC,MAAM,CAACzC,GAAG,CAACE,gBAAgB,CAACxqD,MAAM,EAAE;IAC9D+sD,MAAM,CAACzC,GAAG,CAACE,gBAAgB,CAAC1qD,OAAO,CAAC,UAAUmtD,EAAE,EAAE;MAChDA,EAAE,CAAC,CAAC;IACN,CAAC,CAAC;IACF,OAAO,IAAI;EACb;AACF","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Strings {\n    static readonly errors = {\n        unknownElementType: (typeName: string) =>\n            `Unknown element type \"${typeName}\". Fallback will be used if present.`,\n        unknownActionType: (typeName: string) =>\n            `Unknown action type \"${typeName}\". Fallback will be used if present.`,\n        elementTypeNotAllowed: (typeName: string) =>\n            `Element type \"${typeName}\" is not allowed in this context.`,\n        actionTypeNotAllowed: (typeName: string) =>\n            `Action type \"${typeName}\" is not allowed in this context.`,\n        invalidPropertyValue: (value: any, propertyName: string) =>\n            `Invalid value \"${value}\" for property \"${propertyName}\".`,\n        showCardMustHaveCard: () =>\n            `\"An Action.ShowCard must have its \"card\" property set to a valid AdaptiveCard object.`,\n        invalidColumnWidth: (invalidWidth: string) =>\n            `Invalid column width \"${invalidWidth}\" - defaulting to \"auto\".`,\n        invalidCardVersion: (defaultingToVersion: string) =>\n            `Invalid card version. Defaulting to \"${defaultingToVersion}\".`,\n        invalidVersionString: (versionString: string) =>\n            `Invalid version string \"${versionString}\".`,\n        propertyValueNotSupported: (\n            value: any,\n            propertyName: string,\n            supportedInVersion: string,\n            versionUsed: string\n        ) =>\n            `Value \"${value}\" for property \"${propertyName}\" is supported in version ${supportedInVersion}, but you are using version ${versionUsed}.`,\n        propertyNotSupported: (\n            propertyName: string,\n            supportedInVersion: string,\n            versionUsed: string\n        ) =>\n            `Property \"${propertyName}\" is supported in version ${supportedInVersion}, but you are using version ${versionUsed}.`,\n        indexOutOfRange: (index: number) => `Index out of range (${index}).`,\n        elementCannotBeUsedAsInline: () =>\n            \"RichTextBlock.addInline: the specified card element cannot be used as a RichTextBlock inline.\",\n        inlineAlreadyParented: () =>\n            \"RichTextBlock.addInline: the specified inline already belongs to another RichTextBlock.\",\n        interactivityNotAllowed: () => \"Interactivity is not allowed.\",\n        inputsMustHaveUniqueId: () => \"All inputs must have a unique Id.\",\n        choiceSetMustHaveAtLeastOneChoice: () =>\n            \"An Input.ChoiceSet must have at least one choice defined.\",\n        choiceSetChoicesMustHaveTitleAndValue: () =>\n            \"All choices in an Input.ChoiceSet must have their title and value properties set.\",\n        propertyMustBeSet: (propertyName: string) => `Property \"${propertyName}\" must be set.`,\n        actionHttpHeadersMustHaveNameAndValue: () =>\n            \"All headers of an Action.Http must have their name and value properties set.\",\n        tooManyActions: (maximumActions: number) =>\n            `Maximum number of actions exceeded (${maximumActions}).`,\n        tooLittleTimeDelay: (minAutoplayDelay: number) =>\n            `Autoplay Delay is too short (${minAutoplayDelay}).`,\n        tooManyCarouselPages: (maxCarouselPages: number) =>\n            `Maximum number of Carousel pages exceeded (${maxCarouselPages}).`,\n        invalidInitialPageIndex: (initialPageIndex: number) =>\n            `InitialPage for carousel is invalid (${initialPageIndex}).`,\n        columnAlreadyBelongsToAnotherSet: () => \"This column already belongs to another ColumnSet.\",\n        invalidCardType: () =>\n            `Invalid or missing card type. Make sure the card's type property is set to \"AdaptiveCard\".`,\n        unsupportedCardVersion: (version: string, maxSupportedVersion: string) =>\n            `The specified card version (${version}) is not supported or still in preview. The latest released card version is ${maxSupportedVersion}.`,\n        duplicateId: (id: string) => `Duplicate Id \"${id}\".`,\n        markdownProcessingNotEnabled: () =>\n            \"Markdown processing isn't enabled. Please see https://www.npmjs.com/package/adaptivecards#supporting-markdown\",\n        processMarkdownEventRemoved: () =>\n            \"The processMarkdown event has been removed. Please update your code and set onProcessMarkdown instead.\",\n        elementAlreadyParented: () => \"The element already belongs to another container.\",\n        actionAlreadyParented: () => \"The action already belongs to another element.\",\n        elementTypeNotStandalone: (typeName: string) =>\n            `Elements of type ${typeName} cannot be used as standalone elements.`,\n        invalidInputLabelWidth: () =>\n            `Invalid input label width. Defaulting to label width from host config.`,\n    };\n    static readonly magicCodeInputCard = {\n        tryAgain: () => \"That didn't work... let's try again.\",\n        pleaseLogin: () =>\n            'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n        enterMagicCode: () => \"Enter magic code\",\n        pleaseEnterMagicCodeYouReceived: () => \"Please enter the magic code you received.\",\n        submit: () => \"Submit\",\n        cancel: () => \"Cancel\",\n        somethingWentWrong: () => \"Something went wrong. This action can't be handled.\",\n        authenticationFailed: () => \"Authentication failed.\"\n    };\n    static readonly runtime = {\n        automaticRefreshPaused: () => \"Automatic refresh paused.\",\n        clckToRestartAutomaticRefresh: () => \"Click to restart.\",\n        refreshThisCard: () => \"Refresh this card\"\n    };\n    static readonly hints = {\n        dontUseWeightedAndStrecthedColumnsInSameSet: () =>\n            \"It is not recommended to use weighted and stretched columns in the same ColumnSet, because in such a situation stretched columns will always get the minimum amount of space.\"\n    };\n    static readonly defaults = {\n        inlineActionTitle: () => \"Inline Action\",\n        overflowButtonText: () => \"...\",\n        overflowButtonTooltip: () => \"More options\",\n        emptyElementText: (elementType: string) => `Empty ${elementType}`,\n        mediaPlayerAriaLabel: () => \"Media content\",\n        mediaPlayerPlayMedia: () => \"Play media\",\n        youTubeVideoPlayer: () => \"YouTube video player\",\n        vimeoVideoPlayer: () => \"Vimeo video player\",\n        dailymotionVideoPlayer: () => \"Dailymotion video player\",\n        carouselNavigationPreviousTooltip: () => \"Previous carousel page\",\n        carouselNavigationNextTooltip: () => \"Next carousel page\"\n    };\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/*\n    This should really be a string enum, e.g.\n\n        export enum ContainerStyle {\n            Default = \"default\",\n            Emphasis = \"emphasis\"\n        }\n\n    However, some hosts do not use a version of TypeScript\n    recent enough to understand string enums. This is\n    a compatible construct that does not require using\n    a more recent version of TypeScript.\n\n    Also note the \"weird\" way these readonly fields are declared is to work around\n    a breaking change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    and adopt this syntax for all other static readonly fields.\n*/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\nexport class ContainerStyle {\n    static readonly Default: \"default\" = \"default\";\n    static readonly Emphasis: \"emphasis\" = \"emphasis\";\n    static readonly Accent: \"accent\" = \"accent\";\n    static readonly Good: \"good\" = \"good\";\n    static readonly Attention: \"attention\" = \"attention\";\n    static readonly Warning: \"warning\" = \"warning\";\n}\n\nexport class ActionStyle {\n    static readonly Default: \"default\" = \"default\";\n    static readonly Positive: \"positive\" = \"positive\";\n    static readonly Destructive: \"destructive\" = \"destructive\";\n}\n\nexport class ActionMode {\n    static readonly Primary: \"primary\" = \"primary\";\n    static readonly Secondary: \"secondary\" = \"secondary\";\n}\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\n\nexport enum Size {\n    Auto,\n    Stretch,\n    Small,\n    Medium,\n    Large\n}\n\nexport enum ImageSize {\n    Small,\n    Medium,\n    Large\n}\n\nexport enum ImageSetPresentationStyle {\n    Default,\n    Stacked\n}\n\nexport enum SizeUnit {\n    Weight,\n    Pixel\n}\n\nexport enum TextSize {\n    Small,\n    Default,\n    Medium,\n    Large,\n    ExtraLarge\n}\n\nexport enum InputStyle {\n    RevealOnHover,\n    Default\n}\n\nexport enum TextWeight {\n    Lighter,\n    Default,\n    Bolder\n}\n\nexport enum FontType {\n    Default,\n    Monospace\n}\n\nexport enum Spacing {\n    None,\n    Small,\n    Default,\n    Medium,\n    Large,\n    ExtraLarge,\n    Padding\n}\n\nexport enum TextColor {\n    Default,\n    Dark,\n    Light,\n    Accent,\n    Good,\n    Warning,\n    Attention\n}\n\nexport enum HorizontalAlignment {\n    Left,\n    Center,\n    Right\n}\n\nexport enum VerticalAlignment {\n    Top,\n    Center,\n    Bottom\n}\n\nexport enum ActionAlignment {\n    Left,\n    Center,\n    Right,\n    Stretch\n}\n\nexport enum ImageStyle {\n    Default,\n    Person\n}\n\nexport enum ShowCardActionMode {\n    Inline,\n    Popup\n}\n\nexport enum Orientation {\n    Horizontal,\n    Vertical\n}\n\nexport enum FillMode {\n    Cover,\n    RepeatHorizontally,\n    RepeatVertically,\n    Repeat\n}\n\nexport enum ActionIconPlacement {\n    LeftOfTitle,\n    AboveTitle\n}\n\nexport enum InputTextStyle {\n    Text,\n    Tel,\n    Url,\n    Email,\n    Password\n}\n\nexport enum InputLabelPosition {\n    Inline,\n    Above\n}\n\nexport enum ValidationPhase {\n    Parse,\n    ToJSON,\n    Validation\n}\n\nexport enum ValidationEvent {\n    Hint,\n    ActionTypeNotAllowed,\n    CollectionCantBeEmpty,\n    Deprecated,\n    ElementTypeNotAllowed,\n    InteractivityNotAllowed,\n    InvalidPropertyValue,\n    MissingCardType,\n    PropertyCantBeNull,\n    TooManyActions,\n    UnknownActionType,\n    UnknownElementType,\n    UnsupportedCardVersion,\n    DuplicateId,\n    UnsupportedProperty,\n    RequiredInputsShouldHaveLabel,\n    RequiredInputsShouldHaveErrorMessage,\n    Other\n}\n\nexport enum ContainerFitStatus {\n    FullyInContainer,\n    Overflowing,\n    FullyOutOfContainer\n}\n\nexport enum TypeErrorType {\n    UnknownType,\n    ForbiddenType\n}\n\nexport enum RefreshMode {\n    Disabled,\n    Manual,\n    Automatic\n}\n\nexport enum LogLevel {\n    Info,\n    Warning,\n    Error\n}\n\nexport enum CarouselInteractionEvent {\n    NavigationNext,\n    NavigationPrevious,\n    Pagination,\n    Autoplay\n}\n\nexport enum ActionRole {\n    Button,\n    Link,\n    Tab,\n    Menu,\n    MenuItem\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\n\nexport type Refresh = {\n    mode: Enums.RefreshMode;\n    timeBetweenAutomaticRefreshes: number;\n    maximumConsecutiveAutomaticRefreshes: number;\n    allowManualRefreshesAfterAutomaticRefreshes: boolean;\n};\n\nexport type AppletsSettings = {\n    logEnabled: boolean;\n    logLevel: Enums.LogLevel;\n    maximumRetryAttempts: number;\n    defaultTimeBetweenRetryAttempts: number;\n    authPromptWidth: number;\n    authPromptHeight: number;\n    readonly refresh: Refresh;\n    onLogEvent?: (level: Enums.LogLevel, message?: any, ...optionalParams: any[]) => void;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class GlobalSettings {\n    static useAdvancedTextBlockTruncation: boolean = true;\n    static useAdvancedCardBottomTruncation: boolean = false;\n    static useMarkdownInRadioButtonAndCheckbox: boolean = true;\n    static allowMarkForTextHighlighting: boolean = false;\n    static alwaysBleedSeparators: boolean = false;\n    static enableFullJsonRoundTrip: boolean = false;\n    static displayInputValidationErrors: boolean = true;\n    static allowPreProcessingPropertyValues: boolean = false;\n    static setTabIndexAtCardRoot: boolean = true;\n    static enableFallback: boolean = true;\n    static useWebkitLineClamp: boolean = true;\n    static allowMoreThanMaxActionsInOverflowMenu: boolean = false;\n    static removePaddingFromContainersWithBackgroundImage: boolean = false;\n    static resetInputsDirtyStateAfterActionExecution: boolean = true;\n\n    static readonly applets: AppletsSettings = {\n        logEnabled: true,\n        logLevel: Enums.LogLevel.Error,\n        maximumRetryAttempts: 3,\n        defaultTimeBetweenRetryAttempts: 3000, // 3 seconds\n        authPromptWidth: 400,\n        authPromptHeight: 600,\n        refresh: {\n            mode: Enums.RefreshMode.Manual,\n            timeBetweenAutomaticRefreshes: 3000, // 3 seconds\n            maximumConsecutiveAutomaticRefreshes: 3,\n            allowManualRefreshesAfterAutomaticRefreshes: true\n        }\n    };\n}\n\nexport const ContentTypes = {\n    applicationJson: \"application/json\",\n    applicationXWwwFormUrlencoded: \"application/x-www-form-urlencoded\"\n};\n\nexport interface ISeparationDefinition {\n    spacing: number;\n    lineThickness?: number;\n    lineColor?: string;\n}\n\nexport interface IInput {\n    id?: string;\n    value?: string;\n    validateValue(): boolean;\n}\n\nexport type Dictionary<T> = { [key: string]: T };\n\nexport class StringWithSubstitutions {\n    private _isProcessed: boolean = false;\n    private _original?: string;\n    private _processed?: string;\n\n    getReferencedInputs(inputs: IInput[], referencedInputs: Dictionary<IInput>) {\n        if (!referencedInputs) {\n            throw new Error(\"The referencedInputs parameter cannot be null.\");\n        }\n\n        if (this._original) {\n            for (const input of inputs) {\n                const matches = new RegExp(\"\\\\{{2}(\" + input.id + \").value\\\\}{2}\", \"gi\").exec(\n                    this._original\n                );\n\n                if (matches != null && input.id) {\n                    referencedInputs[input.id] = input;\n                }\n            }\n        }\n    }\n\n    substituteInputValues(inputs: Dictionary<IInput>, contentType: string) {\n        this._processed = this._original;\n\n        if (this._original) {\n            const regEx = /\\{{2}([a-z0-9_$@]+).value\\}{2}/gi;\n            let matches;\n\n            while ((matches = regEx.exec(this._original)) !== null && this._processed) {\n                for (const key of Object.keys(inputs)) {\n                    if (key.toLowerCase() === matches[1].toLowerCase()) {\n                        const matchedInput = inputs[key];\n\n                        let valueForReplace = \"\";\n\n                        if (matchedInput.value) {\n                            valueForReplace = matchedInput.value;\n                        }\n\n                        if (contentType === ContentTypes.applicationJson) {\n                            valueForReplace = JSON.stringify(valueForReplace);\n                            valueForReplace = valueForReplace.slice(1, -1);\n                        } else if (contentType === ContentTypes.applicationXWwwFormUrlencoded) {\n                            valueForReplace = encodeURIComponent(valueForReplace);\n                        }\n\n                        this._processed = this._processed.replace(matches[0], valueForReplace);\n\n                        break;\n                    }\n                }\n            }\n        }\n\n        this._isProcessed = true;\n    }\n\n    getOriginal(): string | undefined {\n        return this._original;\n    }\n\n    get(): string | undefined {\n        if (!this._isProcessed) {\n            return this._original;\n        } else {\n            return this._processed;\n        }\n    }\n\n    set(value: string | undefined) {\n        this._original = value;\n        this._isProcessed = false;\n    }\n}\n\nexport class SpacingDefinition {\n    left: number = 0;\n    top: number = 0;\n    right: number = 0;\n    bottom: number = 0;\n\n    constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n}\n\nexport class PaddingDefinition {\n    top: Enums.Spacing = Enums.Spacing.None;\n    right: Enums.Spacing = Enums.Spacing.None;\n    bottom: Enums.Spacing = Enums.Spacing.None;\n    left: Enums.Spacing = Enums.Spacing.None;\n\n    constructor(\n        top: Enums.Spacing = Enums.Spacing.None,\n        right: Enums.Spacing = Enums.Spacing.None,\n        bottom: Enums.Spacing = Enums.Spacing.None,\n        left: Enums.Spacing = Enums.Spacing.None\n    ) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n}\n\nexport class SizeAndUnit {\n    physicalSize: number;\n    unit: Enums.SizeUnit;\n\n    static parse(input: string, requireUnitSpecifier: boolean = false): SizeAndUnit {\n        const result = new SizeAndUnit(0, Enums.SizeUnit.Weight);\n\n        if (typeof input === \"number\") {\n            result.physicalSize = input;\n\n            return result;\n        } else if (typeof input === \"string\") {\n            const regExp = /^([0-9]+)(px|\\*)?$/g;\n            const matches = regExp.exec(input);\n            const expectedMatchCount = requireUnitSpecifier ? 3 : 2;\n\n            if (matches && matches.length >= expectedMatchCount) {\n                result.physicalSize = parseInt(matches[1]);\n\n                if (matches.length === 3) {\n                    if (matches[2] === \"px\") {\n                        result.unit = Enums.SizeUnit.Pixel;\n                    }\n                }\n\n                return result;\n            }\n        }\n\n        throw new Error(\"Invalid size: \" + input);\n    }\n\n    constructor(physicalSize: number, unit: Enums.SizeUnit) {\n        this.physicalSize = physicalSize;\n        this.unit = unit;\n    }\n}\n\nexport interface IResourceInformation {\n    url: string;\n    mimeType: string;\n}\n\n/**\n * Fast UUID generator, RFC4122 version 4 compliant.\n * @author Jeff Ward (jcward.com).\n * @license MIT license\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n **/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\nexport class UUID {\n    private static lut: string[] = [];\n\n    static generate(): string {\n        const d0 = (Math.random() * 0xffffffff) | 0;\n        const d1 = (Math.random() * 0xffffffff) | 0;\n        const d2 = (Math.random() * 0xffffffff) | 0;\n        const d3 = (Math.random() * 0xffffffff) | 0;\n\n        return (\n            UUID.lut[d0 & 0xff] +\n            UUID.lut[(d0 >> 8) & 0xff] +\n            UUID.lut[(d0 >> 16) & 0xff] +\n            UUID.lut[(d0 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[d1 & 0xff] +\n            UUID.lut[(d1 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[((d1 >> 16) & 0x0f) | 0x40] +\n            UUID.lut[(d1 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 & 0x3f) | 0x80] +\n            UUID.lut[(d2 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 >> 16) & 0xff] +\n            UUID.lut[(d2 >> 24) & 0xff] +\n            UUID.lut[d3 & 0xff] +\n            UUID.lut[(d3 >> 8) & 0xff] +\n            UUID.lut[(d3 >> 16) & 0xff] +\n            UUID.lut[(d3 >> 24) & 0xff]\n        );\n    }\n\n    static initialize() {\n        for (let i = 0; i < 256; i++) {\n            UUID.lut[i] = (i < 16 ? \"0\" : \"\") + i.toString(16);\n        }\n    }\n}\n\nUUID.initialize();\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Shared from \"./shared\";\n\n// To work around TypeScript complaining about documentMode not being declared\n// on type Document\ndeclare global {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    interface Document {\n        documentMode?: any;\n    }\n}\n\nexport function isInternetExplorer(): boolean {\n    // The documentMode property only exists in IE\n    return window.document.documentMode !== undefined;\n}\n\nexport function isMobileOS(): boolean {\n    const userAgent = window.navigator.userAgent;\n\n    return (\n        !!userAgent.match(/Android/i) || !!userAgent.match(/iPad/i) || !!userAgent.match(/iPhone/i)\n    );\n}\n\n/**\n * Generate a UUID prepended with \"__ac-\"\n */\nexport function generateUniqueId(): string {\n    return \"__ac-\" + Shared.UUID.generate();\n}\n\nexport function appendChild(node: Node, child: Node | undefined) {\n    if (child) {\n        node.appendChild(child);\n    }\n}\n\nexport function parseString(obj: any, defaultValue?: string): string | undefined {\n    return typeof obj === \"string\" ? obj : defaultValue;\n}\n\nexport function parseNumber(obj: any, defaultValue?: number): number | undefined {\n    return typeof obj === \"number\" ? obj : defaultValue;\n}\n\nexport function parseBool(value: any, defaultValue?: boolean): boolean | undefined {\n    if (typeof value === \"boolean\") {\n        return value;\n    } else if (typeof value === \"string\") {\n        switch (value.toLowerCase()) {\n            case \"true\":\n                return true;\n            case \"false\":\n                return false;\n            default:\n                return defaultValue;\n        }\n    }\n\n    return defaultValue;\n}\n\nexport function getEnumValueByName(\n    enumType: { [s: number]: string },\n    name: string\n): number | undefined {\n    // eslint-disable-next-line guard-for-in\n    for (const key in enumType) {\n        const keyAsNumber = parseInt(key, 10);\n\n        if (keyAsNumber >= 0) {\n            const value = enumType[key];\n\n            if (value && typeof value === \"string\" && value.toLowerCase() === name.toLowerCase()) {\n                return keyAsNumber;\n            }\n        }\n    }\n\n    return undefined;\n}\n\nexport function parseEnum(\n    enumType: { [s: number]: string },\n    name: string,\n    defaultValue?: number\n): number | undefined {\n    if (!name) {\n        return defaultValue;\n    }\n\n    const enumValue = getEnumValueByName(enumType, name);\n\n    return enumValue !== undefined ? enumValue : defaultValue;\n}\n\nexport function stringToCssColor(color: string | undefined): string | undefined {\n    if (color) {\n        const regEx = /#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?/gi;\n        const matches = regEx.exec(color);\n\n        if (matches && matches[4]) {\n            const a = parseInt(matches[1], 16) / 255;\n            const r = parseInt(matches[2], 16);\n            const g = parseInt(matches[3], 16);\n            const b = parseInt(matches[4], 16);\n\n            return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n        }\n    }\n\n    return color;\n}\n\nfunction truncateWorker(\n    element: HTMLElement,\n    maxHeight: number,\n    fullText: string,\n    truncateAt: (text: string, idx: number) => void,\n    lineHeight?: number\n) {\n    const fits = () => {\n        // Allow a one pixel overflow to account for rounding differences\n        // between browsers\n        return maxHeight - element.scrollHeight >= -1.0;\n    };\n\n    if (fits()) {\n        return;\n    }\n\n    const breakableIndices = findBreakableIndices(fullText);\n    let lo = 0;\n    let hi = breakableIndices.length;\n    let bestBreakIdx = 0;\n\n    // Do a binary search for the longest string that fits\n    while (lo < hi) {\n        const mid = Math.floor((lo + hi) / 2);\n        truncateAt(fullText, breakableIndices[mid]);\n\n        if (fits()) {\n            bestBreakIdx = breakableIndices[mid];\n            lo = mid + 1;\n        } else {\n            hi = mid;\n        }\n    }\n\n    truncateAt(fullText, bestBreakIdx);\n\n    // If we have extra room, try to expand the string letter by letter\n    // (covers the case where we have to break in the middle of a long word)\n    if (lineHeight && maxHeight - element.scrollHeight >= lineHeight - 1.0) {\n        let idx = findNextCharacter(fullText, bestBreakIdx);\n\n        while (idx < fullText.length) {\n            truncateAt(fullText, idx);\n\n            if (fits()) {\n                bestBreakIdx = idx;\n                idx = findNextCharacter(fullText, idx);\n            } else {\n                break;\n            }\n        }\n\n        truncateAt(fullText, bestBreakIdx);\n    }\n}\n\nexport function truncateText(element: HTMLElement, maxHeight: number, lineHeight?: number) {\n    truncateWorker(\n        element,\n        maxHeight,\n        element.innerText,\n        (text: string, idx: number) => {\n            element.innerText = text.substring(0, idx) + \"...\";\n        },\n        lineHeight\n    );\n}\n\n/**\n * {@link truncate} has been deprecated and is no longer in use internally. This policy passes\n * content through as it always has, which is _supposed_ to be dealing with text only (see {@link\n * TextBlock.truncateIfSupported}), but had a bug where it might actually pass through an element\n * for which innerHTML yielded actual HTML (since fixed).\n */\nconst ttDeprecatedPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\"adaptivecards#deprecatedExportedFunctionPolicy\", {\n    createHTML: (value) => value\n});\n\n/** @deprecated Use {@link truncateText} instead. */\nexport function truncate(element: HTMLElement, maxHeight: number, lineHeight?: number) {\n    truncateWorker(\n        element,\n        maxHeight,\n        element.innerHTML,\n        (text: string, idx: number) => {\n            const truncatedString = text.substring(0, idx) + \"...\";\n            const truncatedHTML =\n                ttDeprecatedPolicy?.createHTML(truncatedString) ?? truncatedString;\n            element.innerHTML = truncatedHTML as string;\n        },\n        lineHeight\n    );\n}\n\nfunction findBreakableIndices(html: string): number[] {\n    const results: number[] = [];\n    let idx = findNextCharacter(html, -1);\n\n    while (idx < html.length) {\n        if (html[idx] === \" \") {\n            results.push(idx);\n        }\n\n        idx = findNextCharacter(html, idx);\n    }\n\n    return results;\n}\n\nfunction findNextCharacter(html: string, currIdx: number): number {\n    currIdx += 1;\n\n    // If we found the start of an HTML tag, keep advancing until we get\n    // past it, so we don't end up truncating in the middle of the tag\n    while (currIdx < html.length && html[currIdx] === \"<\") {\n        while (currIdx < html.length && html[currIdx++] !== \">\") {\n            continue;\n        }\n    }\n\n    return currIdx;\n}\n\nexport function getFitStatus(element: HTMLElement, containerEnd: number): Enums.ContainerFitStatus {\n    const start = element.offsetTop;\n    const end = start + element.clientHeight;\n\n    if (end <= containerEnd) {\n        return Enums.ContainerFitStatus.FullyInContainer;\n    } else if (start < containerEnd) {\n        return Enums.ContainerFitStatus.Overflowing;\n    } else {\n        return Enums.ContainerFitStatus.FullyOutOfContainer;\n    }\n}\n\nexport function getScrollX(): number {\n    return window.pageXOffset;\n}\n\nexport function getScrollY(): number {\n    return window.pageYOffset;\n}\n\nexport function clearElementChildren(element: HTMLElement) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n}\n\nexport function addCancelSelectActionEventHandler(element: HTMLElement) {\n    element.onclick = (e) => {\n        e.preventDefault();\n        e.cancelBubble = true;\n    };\n}\n\nexport function debounce(fn: (...args: unknown[]) => unknown, delay: number) {\n    let timer: NodeJS.Timeout;\n    function debouncedFn(...args: unknown[]) {\n        if (timer) {\n            clearTimeout(timer);\n        }\n        timer = setTimeout(() => {\n            fn(...args);\n        }, delay);\n    }\n    return debouncedFn;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { GlobalSettings, SizeAndUnit } from \"./shared\";\nimport * as Utils from \"./utils\";\nimport * as Enums from \"./enums\";\nimport { Strings } from \"./strings\";\n\nexport interface IValidationEvent {\n    source?: SerializableObject;\n    phase: Enums.ValidationPhase;\n    event: Enums.ValidationEvent;\n    message: string;\n}\n\nexport class Version {\n    private _versionString: string;\n    private _major: number;\n    private _minor: number;\n    private _isValid: boolean = true;\n    private _label?: string;\n\n    constructor(major: number = 1, minor: number = 1, label?: string) {\n        this._major = major;\n        this._minor = minor;\n        this._label = label;\n    }\n\n    static parse(versionString: string, context: BaseSerializationContext): Version | undefined {\n        if (!versionString) {\n            return undefined;\n        }\n\n        const result = new Version();\n        result._versionString = versionString;\n\n        const regEx = /(\\d+).(\\d+)/gi;\n        const matches = regEx.exec(versionString);\n\n        if (matches != null && matches.length === 3) {\n            result._major = parseInt(matches[1]);\n            result._minor = parseInt(matches[2]);\n        } else {\n            result._isValid = false;\n        }\n\n        if (!result._isValid) {\n            context.logParseEvent(\n                undefined,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidVersionString(result._versionString)\n            );\n        }\n\n        return result;\n    }\n\n    toString(): string {\n        return !this._isValid ? this._versionString : this._major + \".\" + this._minor;\n    }\n\n    toJSON(): any {\n        return this.toString();\n    }\n\n    compareTo(otherVersion: Version): number {\n        if (!this.isValid || !otherVersion.isValid) {\n            throw new Error(\"Cannot compare invalid version.\");\n        }\n\n        if (this.major > otherVersion.major) {\n            return 1;\n        } else if (this.major < otherVersion.major) {\n            return -1;\n        } else if (this.minor > otherVersion.minor) {\n            return 1;\n        } else if (this.minor < otherVersion.minor) {\n            return -1;\n        }\n\n        return 0;\n    }\n\n    get label(): string {\n        return this._label ? this._label : this.toString();\n    }\n\n    get major(): number {\n        return this._major;\n    }\n\n    get minor(): number {\n        return this._minor;\n    }\n\n    get isValid(): boolean {\n        return this._isValid;\n    }\n}\n\nexport type TargetVersion = Version | \"*\";\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Versions {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    static readonly v1_0 = new Version(1, 0);\n    static readonly v1_1 = new Version(1, 1);\n    static readonly v1_2 = new Version(1, 2);\n    static readonly v1_3 = new Version(1, 3);\n    static readonly v1_4 = new Version(1, 4);\n    static readonly v1_5 = new Version(1, 5);\n    static readonly v1_6 = new Version(1, 6);\n    static readonly latest = Versions.v1_6;\n    // If preview tag is added/removed from any version,\n    // don't forget to update .ac-schema-version-1-?::after too in adaptivecards-site\\themes\\adaptivecards\\source\\css\\style.css\n    /* eslint-enable @typescript-eslint/naming-convention */\n\n    static getAllDeclaredVersions(): Version[] {\n        const ctor = <any>Versions;\n        const properties: Version[] = [];\n\n        for (const propertyName in ctor) {\n            if (propertyName.match(/^v[0-9_]*$/)) {\n                // filter latest\n                try {\n                    const propertyValue = ctor[propertyName];\n\n                    if (propertyValue instanceof Version) {\n                        properties.push(propertyValue);\n                    }\n                } catch {\n                    // If a property happens to have a getter function and\n                    // it throws an exception, we need to catch it here\n                }\n            }\n        }\n        return properties.sort((v1: Version, v2: Version) => v1.compareTo(v2));\n    }\n}\n\nexport function isVersionLessOrEqual(\n    version: TargetVersion,\n    targetVersion: TargetVersion\n): boolean {\n    if (version instanceof Version) {\n        if (targetVersion instanceof Version) {\n            return targetVersion.compareTo(version) >= 0;\n        } else {\n            // Target version is *\n            return true;\n        }\n    } else {\n        // Version is *\n        return true;\n    }\n}\n\nexport abstract class BaseSerializationContext {\n    private _validationEvents: IValidationEvent[] = [];\n\n    toJSONOriginalParam: any;\n    targetVersion: Version;\n\n    constructor(targetVersion: Version = Versions.latest) {\n        this.targetVersion = targetVersion;\n    }\n    \n    private isTemplateString(value: any) {\n        if (typeof value === \"string\") {\n            return value.startsWith(\"${\");\n        } else {\n            return false;\n        }\n    }\n\n    private tryDeleteValue(target: { [key: string]: any }, propertyName: string) {\n        if (!GlobalSettings.enableFullJsonRoundTrip) {\n            delete target[propertyName];\n        }\n    }\n\n    private tryDeleteDefaultValue(target: { [key: string]: any }, propertyName: string) {\n        if (!GlobalSettings.enableFullJsonRoundTrip || !this.isTemplateString(target[propertyName])) {\n            delete target[propertyName];\n        }\n    }\n\n    serializeValue(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: any,\n        defaultValue: any = undefined,\n        forceDeleteIfNullOrDefault: boolean = false\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            if (!GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault) {\n                delete target[propertyName];\n            }\n        } else if (propertyValue === defaultValue) {\n            if (!GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault || !this.isTemplateString(target[propertyName])) {\n                delete target[propertyName];\n            }\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeString(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: string,\n        defaultValue?: string\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeBool(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: boolean,\n        defaultValue?: boolean\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeNumber(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: number,\n        defaultValue?: number\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined ||\n            isNaN(propertyValue)\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeEnum(\n        enumType: { [s: number]: string },\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: number | undefined,\n        defaultValue: number | undefined = undefined\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = enumType[propertyValue];\n        }\n    }\n\n    serializeArray(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: any[] | undefined\n    ) {\n        const items = [];\n\n        if (propertyValue) {\n            for (const item of propertyValue) {\n                let serializedItem: any = undefined;\n\n                if (item instanceof SerializableObject) {\n                    serializedItem = item.toJSON(this);\n                } else if (item.toJSON) {\n                    serializedItem = item.toJSON();\n                } else {\n                    serializedItem = item;\n                }\n\n                if (serializedItem !== undefined) {\n                    items.push(serializedItem);\n                }\n            }\n        }\n\n        if (items.length === 0) {\n            if (target.hasOwnProperty(propertyName) && Array.isArray(target[propertyName])) {\n                delete target[propertyName];\n            }\n        } else {\n            this.serializeValue(target, propertyName, items);\n        }\n    }\n\n    clearEvents() {\n        this._validationEvents = [];\n    }\n\n    logEvent(\n        source: SerializableObject | undefined,\n        phase: Enums.ValidationPhase,\n        event: Enums.ValidationEvent,\n        message: string\n    ) {\n        this._validationEvents.push({\n            source: source,\n            phase: phase,\n            event: event,\n            message: message\n        });\n    }\n\n    logParseEvent(\n        source: SerializableObject | undefined,\n        event: Enums.ValidationEvent,\n        message: string\n    ) {\n        this.logEvent(source, Enums.ValidationPhase.Parse, event, message);\n    }\n\n    getEventAt(index: number): IValidationEvent {\n        return this._validationEvents[index];\n    }\n\n    get eventCount(): number {\n        return this._validationEvents.length;\n    }\n}\n\nclass SimpleSerializationContext extends BaseSerializationContext {}\n\nexport class PropertyDefinition {\n    private static _sequentialNumber: number = 0;\n\n    getInternalName(): string {\n        return this.name;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): any {\n        return source[this.name];\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: any,\n        context: BaseSerializationContext\n    ): void {\n        context.serializeValue(target, this.name, value, this.defaultValue);\n    }\n\n    readonly sequentialNumber: number;\n\n    isSerializationEnabled: boolean = true;\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: any,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        this.sequentialNumber = PropertyDefinition._sequentialNumber;\n\n        PropertyDefinition._sequentialNumber++;\n    }\n}\n\nexport class StringProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string | undefined {\n        const parsedValue = Utils.parseString(source[this.name], this.defaultValue);\n        const isUndefined =\n            parsedValue === undefined || (parsedValue === \"\" && this.treatEmptyAsUndefined);\n\n        if (!isUndefined && this.regEx !== undefined) {\n            const matches = this.regEx.exec(parsedValue);\n\n            if (!matches) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(parsedValue, this.name)\n                );\n\n                return undefined;\n            }\n        }\n\n        return parsedValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeString(\n            target,\n            this.name,\n            value === \"\" && this.treatEmptyAsUndefined ? undefined : value,\n            this.defaultValue\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly treatEmptyAsUndefined: boolean = true,\n        readonly regEx?: RegExp,\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class BoolProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): boolean | undefined {\n        return Utils.parseBool(source[this.name], this.defaultValue);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: object,\n        value: boolean | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeBool(target, this.name, value, this.defaultValue);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: boolean,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class NumProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        return Utils.parseNumber(source[this.name], this.defaultValue);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeNumber(target, this.name, value, this.defaultValue);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: number,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class PixelSizeProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        let result: number | undefined = undefined;\n        const value = source[this.name];\n\n        if (typeof value === \"string\") {\n            let isValid = false;\n\n            try {\n                const size = SizeAndUnit.parse(value, true);\n\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n\n                    isValid = true;\n                }\n            } catch {\n                // Do nothing. A parse error is emitted below\n            }\n\n            if (!isValid) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(source[this.name], this.name)\n                );\n            }\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined\n        );\n    }\n}\n\nexport interface IVersionedValue<TValue> {\n    value: TValue;\n    targetVersion?: Version;\n}\n\nexport class StringArrayProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string[] | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined || !Array.isArray(sourceValue)) {\n            return this.defaultValue;\n        }\n\n        const result: string[] = [];\n\n        for (const value of sourceValue) {\n            if (typeof value === \"string\") {\n                result.push(value);\n            } else {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    `Invalid array value \"${JSON.stringify(\n                        value\n                    )}\" of type \"${typeof value}\" ignored for \"${this.name}\".`\n                );\n            }\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string[] | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeArray(target, this.name, value);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: string[],\n        readonly onGetInitialValue?: (sender: SerializableObject) => string[] | undefined\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class ValueSetProperty extends PropertyDefinition {\n    isValidValue(value: string, context: BaseSerializationContext): boolean {\n        for (const versionedValue of this.values) {\n            if (value.toLowerCase() === versionedValue.value.toLowerCase()) {\n                const targetVersion = versionedValue.targetVersion\n                    ? versionedValue.targetVersion\n                    : this.targetVersion;\n\n                return targetVersion.compareTo(context.targetVersion) <= 0;\n            }\n        }\n\n        return false;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n\n        if (typeof sourceValue === \"string\") {\n            for (const versionedValue of this.values) {\n                if (sourceValue.toLowerCase() === versionedValue.value.toLowerCase()) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return versionedValue.value;\n                    } else {\n                        context.logParseEvent(\n                            sender,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                sourceValue,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.InvalidPropertyValue,\n            Strings.errors.invalidPropertyValue(sourceValue, this.name)\n        );\n\n        return this.defaultValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string | undefined,\n        context: BaseSerializationContext\n    ) {\n        let invalidValue = false;\n\n        if (value !== undefined) {\n            invalidValue = true;\n\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === value) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n\n                        break;\n                    } else {\n                        context.logEvent(\n                            sender,\n                            Enums.ValidationPhase.ToJSON,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                value,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n                    }\n                }\n            }\n        }\n\n        if (!invalidValue) {\n            context.serializeValue(target, this.name, value, this.defaultValue, true);\n        }\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly values: IVersionedValue<string>[],\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class EnumProperty<TEnum extends { [s: number]: string }> extends PropertyDefinition {\n    private _values: IVersionedValue<number>[] = [];\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        const sourceValue = source[this.name];\n\n        if (typeof sourceValue !== \"string\") {\n            return this.defaultValue;\n        }\n\n        const enumValue = Utils.getEnumValueByName(this.enumType, sourceValue);\n\n        if (enumValue !== undefined) {\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === enumValue) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return enumValue;\n                    } else {\n                        context.logParseEvent(\n                            sender,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                sourceValue,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.InvalidPropertyValue,\n            Strings.errors.invalidPropertyValue(sourceValue, this.name)\n        );\n\n        return this.defaultValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        let invalidValue = false;\n\n        if (value !== undefined) {\n            invalidValue = true;\n\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === value) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n\n                        break;\n                    } else {\n                        context.logEvent(\n                            sender,\n                            Enums.ValidationPhase.ToJSON,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.invalidPropertyValue(value, this.name)\n                        );\n                    }\n                }\n            }\n        }\n\n        if (!invalidValue) {\n            context.serializeEnum(this.enumType, target, this.name, value, this.defaultValue);\n        }\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly enumType: TEnum,\n        readonly defaultValue?: number,\n        values?: IVersionedValue<number>[],\n        readonly onGetInitialValue?: (sender: SerializableObject) => number\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n\n        if (!values) {\n            // eslint-disable-next-line guard-for-in\n            for (const key in enumType) {\n                const keyAsNumber = parseInt(key, 10);\n\n                if (keyAsNumber >= 0) {\n                    this._values.push({ value: keyAsNumber });\n                }\n            }\n        } else {\n            this._values = values;\n        }\n    }\n\n    get values(): IVersionedValue<number>[] {\n        return this._values;\n    }\n}\n\nexport type SerializableObjectType = { new (): SerializableObject };\n\nexport class SerializableObjectProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): SerializableObject | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.onGetInitialValue ? this.onGetInitialValue(sender) : this.defaultValue;\n        }\n\n        const result = new this.objectType();\n        result.parse(sourceValue, context);\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: SerializableObject | undefined,\n        context: BaseSerializationContext\n    ) {\n        let serializedValue: object | undefined = undefined;\n\n        if (value !== undefined && !value.hasAllDefaultValues()) {\n            serializedValue = value.toJSON(context);\n        }\n\n        if (typeof serializedValue === \"object\" && Object.keys(serializedValue).length === 0) {\n            serializedValue = undefined;\n        }\n\n        context.serializeValue(target, this.name, serializedValue, this.defaultValue, true);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly objectType: SerializableObjectType,\n        readonly nullable: boolean = false,\n        defaultValue?: SerializableObject\n    ) {\n        super(targetVersion, name, defaultValue, (sender: SerializableObject) => {\n            return this.nullable ? undefined : new this.objectType();\n        });\n    }\n}\n\nexport class SerializableObjectCollectionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): SerializableObject[] | undefined {\n        const result: SerializableObject[] | undefined = [];\n\n        const sourceCollection = source[this.name];\n\n        if (Array.isArray(sourceCollection)) {\n            for (const sourceItem of sourceCollection) {\n                const item = new this.objectType();\n                item.parse(sourceItem, context);\n\n                result.push(item);\n\n                if (this.onItemAdded) {\n                    this.onItemAdded(sender, item);\n                }\n            }\n        }\n\n        return result.length > 0\n            ? result\n            : this.onGetInitialValue\n            ? this.onGetInitialValue(sender)\n            : undefined;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: SerializableObject[] | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeArray(target, this.name, value);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly objectType: SerializableObjectType,\n        readonly onItemAdded?: (sender: SerializableObject, item: SerializableObject) => void\n    ) {\n        super(targetVersion, name, undefined, (sender: SerializableObject) => {\n            return [];\n        });\n    }\n}\n\nexport class CustomProperty<T> extends PropertyDefinition {\n    parse(sender: SerializableObject, source: PropertyBag, context: BaseSerializationContext): T {\n        return this.onParse(sender, this, source, context);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: T,\n        context: BaseSerializationContext\n    ) {\n        this.onToJSON(sender, this, target, value, context);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly onParse: (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => T,\n        readonly onToJSON: (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: T,\n            context: BaseSerializationContext\n        ) => void,\n        readonly defaultValue?: T,\n        readonly onGetInitialValue?: (sender: SerializableObject) => T\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n\n        if (!this.onParse) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onParse handler.\");\n        }\n\n        if (!this.onToJSON) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onToJSON handler.\");\n        }\n    }\n}\n\nexport class SerializableObjectSchema {\n    private _properties: PropertyDefinition[] = [];\n\n    indexOf(prop: PropertyDefinition): number {\n        for (let i = 0; i < this._properties.length; i++) {\n            if (this._properties[i] === prop) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    add(...properties: PropertyDefinition[]) {\n        for (const prop of properties) {\n            if (this.indexOf(prop) === -1) {\n                this._properties.push(prop);\n            }\n        }\n    }\n\n    remove(...properties: PropertyDefinition[]) {\n        for (const prop of properties) {\n            while (true) {\n                const index = this.indexOf(prop);\n\n                if (index >= 0) {\n                    this._properties.splice(index, 1);\n                } else {\n                    break;\n                }\n            }\n        }\n    }\n\n    getItemAt(index: number): PropertyDefinition {\n        return this._properties[index];\n    }\n\n    getCount(): number {\n        return this._properties.length;\n    }\n}\n\n// This is a decorator function, used to map SerializableObject descendant class members to\n// schema properties\nexport function property(prop: PropertyDefinition) {\n    return function (target: any, propertyKey: string) {\n        const descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\n\n        if (!descriptor.get && !descriptor.set) {\n            descriptor.get = function (this: SerializableObject) {\n                return this.getValue(prop);\n            };\n            descriptor.set = function (this: SerializableObject, value: any) {\n                this.setValue(prop, value);\n            };\n\n            Object.defineProperty(target, propertyKey, descriptor);\n        }\n    };\n}\n\nexport type PropertyBag = { [propertyName: string]: any };\n\nexport abstract class SerializableObject {\n    static onRegisterCustomProperties?: (\n        sender: SerializableObject,\n        schema: SerializableObjectSchema\n    ) => void;\n    static defaultMaxVersion: Version = Versions.latest;\n\n    private static readonly _schemaCache: { [typeName: string]: SerializableObjectSchema } = {};\n\n    private _propertyBag: PropertyBag = {};\n    private _rawProperties: PropertyBag = {};\n\n    protected abstract getSchemaKey(): string;\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SimpleSerializationContext();\n    }\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        const ctor = <any>this.constructor;\n        const properties: PropertyDefinition[] = [];\n\n        // eslint-disable-next-line guard-for-in\n        for (const propertyName in ctor) {\n            try {\n                const propertyValue = ctor[propertyName];\n\n                if (propertyValue instanceof PropertyDefinition) {\n                    properties.push(propertyValue);\n                }\n            } catch {\n                // If a property happens to have a getter function and\n                // it throws an exception, we need to catch it here\n            }\n        }\n\n        if (properties.length > 0) {\n            const sortedProperties = properties.sort(\n                (p1: PropertyDefinition, p2: PropertyDefinition) => {\n                    if (p1.sequentialNumber > p2.sequentialNumber) {\n                        return 1;\n                    } else if (p1.sequentialNumber < p2.sequentialNumber) {\n                        return -1;\n                    }\n\n                    return 0;\n                }\n            );\n\n            schema.add(...sortedProperties);\n        }\n\n        if (SerializableObject.onRegisterCustomProperties) {\n            SerializableObject.onRegisterCustomProperties(this, schema);\n        }\n    }\n\n    protected getValue(prop: PropertyDefinition): any {\n        return this._propertyBag.hasOwnProperty(prop.getInternalName())\n            ? this._propertyBag[prop.getInternalName()]\n            : prop.defaultValue;\n    }\n\n    protected setValue(prop: PropertyDefinition, value: any) {\n        if (value === undefined || value === null) {\n            delete this._propertyBag[prop.getInternalName()];\n        } else {\n            this._propertyBag[prop.getInternalName()] = value;\n        }\n    }\n\n    protected internalParse(source: PropertyBag, context: BaseSerializationContext) {\n        this._propertyBag = {};\n        this._rawProperties = GlobalSettings.enableFullJsonRoundTrip ? (source ? source : {}) : {};\n\n        if (source) {\n            const s = this.getSchema();\n\n            for (let i = 0; i < s.getCount(); i++) {\n                const prop = s.getItemAt(i);\n\n                if (prop.isSerializationEnabled) {\n                    let propertyValue = prop.onGetInitialValue\n                        ? prop.onGetInitialValue(this)\n                        : undefined;\n\n                    if (source.hasOwnProperty(prop.name)) {\n                        if (prop.targetVersion.compareTo(context.targetVersion) <= 0) {\n                            propertyValue = prop.parse(this, source, context);\n                        } else {\n                            context.logParseEvent(\n                                this,\n                                Enums.ValidationEvent.UnsupportedProperty,\n                                Strings.errors.propertyNotSupported(\n                                    prop.name,\n                                    prop.targetVersion.toString(),\n                                    context.targetVersion.toString()\n                                )\n                            );\n                        }\n                    }\n\n                    this.setValue(prop, propertyValue);\n                }\n            }\n        } else {\n            this.resetDefaultValues();\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        const s = this.getSchema();\n        const serializedProperties: string[] = [];\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            // Avoid serializing the same property multiple times. This is necessary\n            // because some property definitions map to the same underlying schema\n            // property\n            if (\n                prop.isSerializationEnabled &&\n                prop.targetVersion.compareTo(context.targetVersion) <= 0 &&\n                serializedProperties.indexOf(prop.name) === -1\n            ) {\n                prop.toJSON(this, target, this.getValue(prop), context);\n\n                serializedProperties.push(prop.name);\n            }\n        }\n    }\n\n    protected shouldSerialize(_context: BaseSerializationContext): boolean {\n        return true;\n    }\n\n    maxVersion: Version = SerializableObject.defaultMaxVersion;\n\n    constructor() {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            if (prop.onGetInitialValue) {\n                this.setValue(prop, prop.onGetInitialValue(this));\n            }\n        }\n    }\n\n    parse(source: PropertyBag, context?: BaseSerializationContext) {\n        this.internalParse(source, context ? context : new SimpleSerializationContext());\n    }\n\n    toJSON(context?: BaseSerializationContext): PropertyBag | undefined {\n        let effectiveContext: BaseSerializationContext;\n\n        if (context && context instanceof BaseSerializationContext) {\n            effectiveContext = context;\n        } else {\n            effectiveContext = this.getDefaultSerializationContext();\n            effectiveContext.toJSONOriginalParam = context;\n        }\n\n        if (this.shouldSerialize(effectiveContext)) {\n            let result: PropertyBag;\n\n            if (\n                GlobalSettings.enableFullJsonRoundTrip &&\n                this._rawProperties &&\n                typeof this._rawProperties === \"object\"\n            ) {\n                result = this._rawProperties;\n            } else {\n                result = {};\n            }\n\n            this.internalToJSON(result, effectiveContext);\n\n            return result;\n        } else {\n            return undefined;\n        }\n    }\n\n    hasDefaultValue(prop: PropertyDefinition): boolean {\n        return this.getValue(prop) === prop.defaultValue;\n    }\n\n    hasAllDefaultValues(): boolean {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            if (!this.hasDefaultValue(prop)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    resetDefaultValues() {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            this.setValue(prop, prop.defaultValue);\n        }\n    }\n\n    setCustomProperty(name: string, value: any) {\n        const shouldDeleteProperty =\n            (typeof value === \"string\" && !value) || value === undefined || value === null;\n\n        if (shouldDeleteProperty) {\n            delete this._rawProperties[name];\n        } else {\n            this._rawProperties[name] = value;\n        }\n    }\n\n    getCustomProperty(name: string): any {\n        return this._rawProperties[name];\n    }\n\n    getSchema(): SerializableObjectSchema {\n        let schema: SerializableObjectSchema = SerializableObject._schemaCache[this.getSchemaKey()];\n\n        if (!schema) {\n            schema = new SerializableObjectSchema();\n\n            this.populateSchema(schema);\n\n            SerializableObject._schemaCache[this.getSchemaKey()] = schema;\n        }\n\n        return schema;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    TargetVersion,\n    Version,\n    SerializableObject,\n    BaseSerializationContext,\n    PropertyBag\n} from \"./serialization\";\n\nexport class HostCapabilities extends SerializableObject {\n    private _capabilities: { [key: string]: TargetVersion } = {};\n\n    protected getSchemaKey(): string {\n        return \"HostCapabilities\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        super.internalParse(source, context);\n\n        if (source) {\n            // eslint-disable-next-line guard-for-in\n            for (const name in source) {\n                const jsonVersion = source[name];\n\n                if (typeof jsonVersion === \"string\") {\n                    if (jsonVersion === \"*\") {\n                        this.addCapability(name, \"*\");\n                    } else {\n                        const version = Version.parse(jsonVersion, context);\n\n                        if (version?.isValid) {\n                            this.addCapability(name, version);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        super.internalToJSON(target, context);\n\n        // eslint-disable-next-line guard-for-in\n        for (const key in this._capabilities) {\n            target[key] = this._capabilities[key];\n        }\n    }\n\n    addCapability(name: string, version: TargetVersion) {\n        this._capabilities[name] = version;\n    }\n\n    removeCapability(name: string) {\n        delete this._capabilities[name];\n    }\n\n    clear() {\n        this._capabilities = {};\n    }\n\n    hasCapability(name: string, version: TargetVersion): boolean {\n        if (this._capabilities.hasOwnProperty(name)) {\n            if (version === \"*\" || this._capabilities[name] === \"*\") {\n                return true;\n            }\n\n            return version.compareTo(<Version>this._capabilities[name]) <= 0;\n        }\n\n        return false;\n    }\n\n    areAllMet(hostCapabilities: HostCapabilities): boolean {\n        for (const capabilityName in this._capabilities) {\n            if (\n                !hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])\n            ) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Utils from \"./utils\";\nimport * as Shared from \"./shared\";\nimport { HostCapabilities } from \"./host-capabilities\";\n\nfunction parseHostConfigEnum(\n    targetEnum: { [s: number]: string },\n    value: string | number,\n    defaultValue: number\n): number {\n    if (typeof value === \"string\") {\n        const parsedValue = Utils.parseEnum(targetEnum, value, defaultValue);\n\n        return parsedValue !== undefined ? parsedValue : defaultValue;\n    } else if (typeof value === \"number\") {\n        return value;\n    } else {\n        return defaultValue;\n    }\n}\n\nexport class ColorDefinition {\n    default: string = \"#000000\";\n    subtle: string = \"#666666\";\n\n    constructor(defaultColor?: string, subtleColor?: string) {\n        if (defaultColor) {\n            this.default = defaultColor;\n        }\n\n        if (subtleColor) {\n            this.subtle = subtleColor;\n        }\n    }\n\n    parse(obj?: any) {\n        if (obj) {\n            this.default = obj[\"default\"] || this.default;\n            this.subtle = obj[\"subtle\"] || this.subtle;\n        }\n    }\n}\n\nexport class TextColorDefinition extends ColorDefinition {\n    readonly highlightColors = new ColorDefinition(\"#22000000\", \"#11000000\");\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.highlightColors.parse(obj[\"highlightColors\"]);\n        }\n    }\n}\n\nexport class AdaptiveCardConfig {\n    allowCustomStyle: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.allowCustomStyle = obj[\"allowCustomStyle\"] || this.allowCustomStyle;\n        }\n    }\n}\n\nexport class ImageSetConfig {\n    imageSize: Enums.Size = Enums.Size.Medium;\n    maxImageHeight: number = 100;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.imageSize = obj[\"imageSize\"] != null ? obj[\"imageSize\"] : this.imageSize;\n            this.maxImageHeight = Utils.parseNumber(obj[\"maxImageHeight\"], 100)!;\n        }\n    }\n\n    toJSON() {\n        return {\n            imageSize: Enums.Size[this.imageSize],\n            maxImageHeight: this.maxImageHeight\n        };\n    }\n}\n\nexport class MediaConfig {\n    defaultPoster?: string;\n    allowInlinePlayback: boolean = true;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.defaultPoster = obj[\"defaultPoster\"];\n            this.allowInlinePlayback = obj[\"allowInlinePlayback\"] || this.allowInlinePlayback;\n        }\n    }\n\n    toJSON() {\n        return {\n            defaultPoster: this.defaultPoster,\n            allowInlinePlayback: this.allowInlinePlayback\n        };\n    }\n}\n\nexport class TableConfig {\n    cellSpacing: number = 8;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.cellSpacing =\n                obj.cellSpacing && typeof obj.cellSpacing === \"number\"\n                    ? obj.cellSpacing\n                    : this.cellSpacing;\n        }\n    }\n\n    toJSON() {\n        return {\n            cellSpacing: this.cellSpacing\n        };\n    }\n}\n\nexport class BaseTextDefinition {\n    size: Enums.TextSize = Enums.TextSize.Default;\n    color: Enums.TextColor = Enums.TextColor.Default;\n    isSubtle: boolean = false;\n    weight: Enums.TextWeight = Enums.TextWeight.Default;\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    parse(obj: any) {\n        if (obj) {\n            this.size = parseHostConfigEnum(Enums.TextSize, obj[\"size\"], this.size);\n            this.color = parseHostConfigEnum(Enums.TextColor, obj[\"color\"], this.color);\n            this.isSubtle =\n                obj.isSubtle !== undefined && typeof obj.isSubtle === \"boolean\"\n                    ? obj.isSubtle\n                    : this.isSubtle;\n            this.weight = parseHostConfigEnum(\n                Enums.TextWeight,\n                obj[\"weight\"],\n                this.getDefaultWeight()\n            );\n        }\n    }\n\n    getDefaultWeight(): Enums.TextWeight {\n        return Enums.TextWeight.Default;\n    }\n\n    toJSON(): any {\n        return {\n            size: Enums.TextSize[this.size],\n            color: Enums.TextColor[this.color],\n            isSubtle: this.isSubtle,\n            weight: Enums.TextWeight[this.weight]\n        };\n    }\n}\n\nexport class TextStyleDefinition extends BaseTextDefinition {\n    fontType: Enums.FontType = Enums.FontType.Default;\n\n    parse(obj: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.fontType = parseHostConfigEnum(Enums.FontType, obj.fontType, this.fontType);\n        }\n    }\n}\n\nexport class TextStyleSet {\n    readonly default: TextStyleDefinition = new TextStyleDefinition();\n    readonly heading: TextStyleDefinition = new TextStyleDefinition({\n        size: \"Large\",\n        weight: \"Bolder\"\n    });\n    readonly columnHeader: TextStyleDefinition = new TextStyleDefinition({\n        weight: \"Bolder\"\n    });\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.heading.parse(obj.heading);\n            this.columnHeader.parse(obj.columnHeader);\n        }\n    }\n\n    getStyleByName(name: string): TextStyleDefinition {\n        switch (name.toLowerCase()) {\n            case \"heading\":\n                return this.heading;\n            case \"columnHeader\":\n                return this.columnHeader;\n            default:\n                return this.default;\n        }\n    }\n}\n\nexport class TextBlockConfig {\n    headingLevel?: number;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.headingLevel = Utils.parseNumber(obj.headingLevel);\n        }\n    }\n}\n\nexport class RequiredInputLabelTextDefinition extends BaseTextDefinition {\n    suffix?: string = \" *\";\n    suffixColor: Enums.TextColor = Enums.TextColor.Attention;\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.suffix = obj[\"suffix\"] || this.suffix;\n            this.suffixColor = parseHostConfigEnum(\n                Enums.TextColor,\n                obj[\"suffixColor\"],\n                this.suffixColor\n            );\n        }\n    }\n\n    toJSON(): any {\n        const result = super.toJSON();\n        result[\"suffix\"] = this.suffix;\n        result[\"suffixColor\"] = Enums.TextColor[this.suffixColor];\n\n        return result;\n    }\n}\n\nexport class InputLabelConfig {\n    inputSpacing: Enums.Spacing = Enums.Spacing.Small;\n    width: number = 30;\n    readonly requiredInputs: RequiredInputLabelTextDefinition =\n        new RequiredInputLabelTextDefinition();\n    readonly optionalInputs: BaseTextDefinition = new BaseTextDefinition();\n    \n    constructor(obj?: any) {\n        if (obj) {\n            this.inputSpacing = parseHostConfigEnum(\n                Enums.Spacing,\n                obj[\"inputSpacing\"],\n                this.inputSpacing\n            );\n            this.requiredInputs = new RequiredInputLabelTextDefinition(obj[\"requiredInputs\"]);\n            this.optionalInputs = new BaseTextDefinition(obj[\"optionalInputs\"]);\n            this.width =\n                obj[\"width\"] != null ? obj[\"width\"] : this.width;\n        }\n    }\n}\n\nexport class InputConfig {\n    readonly label: InputLabelConfig = new InputLabelConfig();\n    readonly errorMessage: BaseTextDefinition = new BaseTextDefinition({\n        color: Enums.TextColor.Attention\n    });\n    readonly debounceTimeInMilliSeconds: number = 0;\n    readonly allowDynamicallyFilteredChoiceSet: boolean = true;\n    readonly allowRevealOnHoverStyle: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.label = new InputLabelConfig(obj[\"label\"]);\n            this.errorMessage = new BaseTextDefinition(obj[\"errorMessage\"]);\n            this.allowRevealOnHoverStyle =\n                obj[\"allowRevealOnHoverStyle\"] || this.allowRevealOnHoverStyle;\n            this.allowDynamicallyFilteredChoiceSet =\n                obj[\"allowDynamicallyFilteredChoiceSet\"] || this.allowDynamicallyFilteredChoiceSet;\n            this.debounceTimeInMilliSeconds =\n                obj[\"debounceTimeInMilliSeconds\"] || this.debounceTimeInMilliSeconds;\n        }\n    }\n}\n\nexport class FactTextDefinition extends BaseTextDefinition {\n    wrap: boolean = true;\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.wrap = obj[\"wrap\"] != null ? obj[\"wrap\"] : this.wrap;\n        }\n    }\n\n    toJSON(): any {\n        const result = super.toJSON();\n        result[\"wrap\"] = this.wrap;\n\n        return result;\n    }\n}\n\nexport class FactTitleDefinition extends FactTextDefinition {\n    maxWidth?: number = 150;\n    weight: Enums.TextWeight = Enums.TextWeight.Bolder;\n\n    constructor(obj?: any) {\n        super(obj);\n\n        if (obj) {\n            this.maxWidth = obj[\"maxWidth\"] != null ? obj[\"maxWidth\"] : this.maxWidth;\n            this.weight = parseHostConfigEnum(\n                Enums.TextWeight,\n                obj[\"weight\"],\n                Enums.TextWeight.Bolder\n            );\n        }\n    }\n\n    getDefaultWeight() {\n        return Enums.TextWeight.Bolder;\n    }\n}\n\nexport class FactSetConfig {\n    readonly title: FactTitleDefinition = new FactTitleDefinition();\n    readonly value: FactTextDefinition = new FactTextDefinition();\n    spacing: number = 10;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.title = new FactTitleDefinition(obj[\"title\"]);\n            this.value = new FactTextDefinition(obj[\"value\"]);\n            this.spacing =\n                obj.spacing && obj.spacing != null ? obj.spacing && obj.spacing : this.spacing;\n        }\n    }\n}\n\nexport class ShowCardActionConfig {\n    actionMode: Enums.ShowCardActionMode = Enums.ShowCardActionMode.Inline;\n    inlineTopMargin: number = 16;\n    style?: string = Enums.ContainerStyle.Emphasis;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.actionMode = parseHostConfigEnum(\n                Enums.ShowCardActionMode,\n                obj[\"actionMode\"],\n                Enums.ShowCardActionMode.Inline\n            );\n            this.inlineTopMargin =\n                obj[\"inlineTopMargin\"] != null ? obj[\"inlineTopMargin\"] : this.inlineTopMargin;\n            this.style =\n                obj[\"style\"] && typeof obj[\"style\"] === \"string\"\n                    ? obj[\"style\"]\n                    : Enums.ContainerStyle.Emphasis;\n        }\n    }\n\n    toJSON() {\n        return {\n            actionMode: Enums.ShowCardActionMode[this.actionMode],\n            inlineTopMargin: this.inlineTopMargin,\n            style: this.style\n        };\n    }\n}\n\nexport class ActionsConfig {\n    maxActions: number = 5;\n    spacing: Enums.Spacing = Enums.Spacing.Default;\n    buttonSpacing: number = 20;\n    readonly showCard: ShowCardActionConfig = new ShowCardActionConfig();\n    preExpandSingleShowCardAction?: boolean = false;\n    actionsOrientation: Enums.Orientation = Enums.Orientation.Horizontal;\n    actionAlignment: Enums.ActionAlignment = Enums.ActionAlignment.Left;\n    iconPlacement: Enums.ActionIconPlacement = Enums.ActionIconPlacement.LeftOfTitle;\n    allowTitleToWrap: boolean = false;\n    iconSize: number = 16;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.maxActions = obj[\"maxActions\"] != null ? obj[\"maxActions\"] : this.maxActions;\n            this.spacing = parseHostConfigEnum(\n                Enums.Spacing,\n                obj.spacing && obj.spacing,\n                Enums.Spacing.Default\n            );\n            this.buttonSpacing =\n                obj[\"buttonSpacing\"] != null ? obj[\"buttonSpacing\"] : this.buttonSpacing;\n            this.showCard = new ShowCardActionConfig(obj[\"showCard\"]);\n            this.preExpandSingleShowCardAction = Utils.parseBool(\n                obj[\"preExpandSingleShowCardAction\"],\n                false\n            );\n            this.actionsOrientation = parseHostConfigEnum(\n                Enums.Orientation,\n                obj[\"actionsOrientation\"],\n                Enums.Orientation.Horizontal\n            );\n            this.actionAlignment = parseHostConfigEnum(\n                Enums.ActionAlignment,\n                obj[\"actionAlignment\"],\n                Enums.ActionAlignment.Left\n            );\n            this.iconPlacement = parseHostConfigEnum(\n                Enums.ActionIconPlacement,\n                obj[\"iconPlacement\"],\n                Enums.ActionIconPlacement.LeftOfTitle\n            );\n            this.allowTitleToWrap =\n                obj[\"allowTitleToWrap\"] != null ? obj[\"allowTitleToWrap\"] : this.allowTitleToWrap;\n\n            try {\n                const sizeAndUnit = Shared.SizeAndUnit.parse(obj[\"iconSize\"]);\n\n                if (sizeAndUnit.unit === Enums.SizeUnit.Pixel) {\n                    this.iconSize = sizeAndUnit.physicalSize;\n                }\n            } catch (e) {\n                // Swallow this, keep default icon size\n            }\n        }\n    }\n\n    toJSON() {\n        return {\n            maxActions: this.maxActions,\n            spacing: Enums.Spacing[this.spacing],\n            buttonSpacing: this.buttonSpacing,\n            showCard: this.showCard,\n            preExpandSingleShowCardAction: this.preExpandSingleShowCardAction,\n            actionsOrientation: Enums.Orientation[this.actionsOrientation],\n            actionAlignment: Enums.ActionAlignment[this.actionAlignment]\n        };\n    }\n}\n\nexport class ColorSetDefinition {\n    private parseSingleColor(obj: any, propertyName: string) {\n        if (obj) {\n            ((<any>this)[propertyName] as TextColorDefinition).parse(obj[propertyName]);\n        }\n    }\n\n    default: TextColorDefinition = new TextColorDefinition();\n    dark: TextColorDefinition = new TextColorDefinition();\n    light: TextColorDefinition = new TextColorDefinition();\n    accent: TextColorDefinition = new TextColorDefinition();\n    good: TextColorDefinition = new TextColorDefinition();\n    warning: TextColorDefinition = new TextColorDefinition();\n    attention: TextColorDefinition = new TextColorDefinition();\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    parse(obj: any) {\n        if (obj) {\n            this.parseSingleColor(obj, \"default\");\n            this.parseSingleColor(obj, \"dark\");\n            this.parseSingleColor(obj, \"light\");\n            this.parseSingleColor(obj, \"accent\");\n            this.parseSingleColor(obj, \"good\");\n            this.parseSingleColor(obj, \"warning\");\n            this.parseSingleColor(obj, \"attention\");\n        }\n    }\n}\n\nexport class ContainerStyleDefinition {\n    backgroundColor?: string;\n\n    readonly foregroundColors: ColorSetDefinition = new ColorSetDefinition({\n        \"default\": { default: \"#333333\", subtle: \"#EE333333\" },\n        \"dark\": { default: \"#000000\", subtle: \"#66000000\" },\n        \"light\": { default: \"#FFFFFF\", subtle: \"#33000000\" },\n        \"accent\": { default: \"#2E89FC\", subtle: \"#882E89FC\" },\n        \"good\": { default: \"#028A02\", subtle: \"#DD027502\" },\n        \"warning\": { default: \"#E69500\", subtle: \"#DDE69500\" },\n        \"attention\": { default: \"#CC3300\", subtle: \"#DDCC3300\" }\n    });\n\n    highlightBackgroundColor?: string;\n    highlightForegroundColor?: string;\n    borderColor?: string;\n\n    parse(obj: any) {\n        if (obj) {\n            this.backgroundColor = obj[\"backgroundColor\"];\n\n            this.foregroundColors.parse(obj[\"foregroundColors\"]);\n\n            this.highlightBackgroundColor = obj[\"highlightBackgroundColor\"];\n            this.highlightForegroundColor = obj[\"highlightForegroundColor\"];\n\n            this.borderColor = obj[\"borderColor\"];\n        }\n    }\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    get isBuiltIn(): boolean {\n        return false;\n    }\n}\n\nclass BuiltInContainerStyleDefinition extends ContainerStyleDefinition {\n    get isBuiltIn(): boolean {\n        return true;\n    }\n}\n\nexport interface ILineHeightDefinitions {\n    small: number;\n    medium: number;\n    default: number;\n    large: number;\n    extraLarge: number;\n}\n\nexport class ContainerStyleSet {\n    private _allStyles: { [key: string]: ContainerStyleDefinition } = {};\n\n    constructor(obj?: any) {\n        this._allStyles[Enums.ContainerStyle.Default] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Emphasis] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Accent] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Good] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Attention] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Warning] = new BuiltInContainerStyleDefinition();\n\n        if (obj) {\n            this._allStyles[Enums.ContainerStyle.Default].parse(obj[Enums.ContainerStyle.Default]);\n            this._allStyles[Enums.ContainerStyle.Emphasis].parse(\n                obj[Enums.ContainerStyle.Emphasis]\n            );\n            this._allStyles[Enums.ContainerStyle.Accent].parse(obj[Enums.ContainerStyle.Accent]);\n            this._allStyles[Enums.ContainerStyle.Good].parse(obj[Enums.ContainerStyle.Good]);\n            this._allStyles[Enums.ContainerStyle.Attention].parse(\n                obj[Enums.ContainerStyle.Attention]\n            );\n            this._allStyles[Enums.ContainerStyle.Warning].parse(obj[Enums.ContainerStyle.Warning]);\n\n            const customStyleArray = obj[\"customStyles\"];\n\n            if (customStyleArray && Array.isArray(customStyleArray)) {\n                for (const customStyle of customStyleArray) {\n                    if (customStyle) {\n                        const styleName = customStyle[\"name\"];\n\n                        if (styleName && typeof styleName === \"string\") {\n                            if (this._allStyles.hasOwnProperty(styleName)) {\n                                this._allStyles[styleName].parse(customStyle[\"style\"]);\n                            } else {\n                                this._allStyles[styleName] = new ContainerStyleDefinition(\n                                    customStyle[\"style\"]\n                                );\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    toJSON() {\n        const customStyleArray: any[] = [];\n\n        Object.keys(this._allStyles).forEach((key) => {\n            if (!this._allStyles[key].isBuiltIn) {\n                customStyleArray.push({\n                    name: key,\n                    style: this._allStyles[key]\n                });\n            }\n        });\n\n        const result: any = {\n            default: this.default,\n            emphasis: this.emphasis\n        };\n\n        if (customStyleArray.length > 0) {\n            result.customStyles = customStyleArray;\n        }\n\n        return result;\n    }\n\n    getStyleByName(\n        name: string | undefined,\n        defaultValue?: ContainerStyleDefinition\n    ): ContainerStyleDefinition {\n        if (name && this._allStyles.hasOwnProperty(name)) {\n            return this._allStyles[name];\n        } else {\n            return defaultValue ? defaultValue : this._allStyles[Enums.ContainerStyle.Default];\n        }\n    }\n\n    get default(): ContainerStyleDefinition {\n        return this._allStyles[Enums.ContainerStyle.Default];\n    }\n\n    get emphasis(): ContainerStyleDefinition {\n        return this._allStyles[Enums.ContainerStyle.Emphasis];\n    }\n}\n\nexport interface IFontSizeDefinitions {\n    small: number;\n    default: number;\n    medium: number;\n    large: number;\n    extraLarge: number;\n}\n\nexport interface IFontWeightDefinitions {\n    lighter: number;\n    default: number;\n    bolder: number;\n}\n\nexport class FontTypeDefinition {\n    static readonly monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n\n    fontFamily?: string = \"Segoe UI,Segoe,Segoe WP,Helvetica Neue,Helvetica,sans-serif\";\n\n    fontSizes: IFontSizeDefinitions = {\n        small: 12,\n        default: 14,\n        medium: 17,\n        large: 21,\n        extraLarge: 26\n    };\n\n    fontWeights: IFontWeightDefinitions = {\n        lighter: 200,\n        default: 400,\n        bolder: 600\n    };\n\n    constructor(fontFamily?: string) {\n        if (fontFamily) {\n            this.fontFamily = fontFamily;\n        }\n    }\n\n    parse(obj?: any) {\n        this.fontFamily = obj[\"fontFamily\"] || this.fontFamily;\n        this.fontSizes = {\n            small: (obj.fontSizes && obj.fontSizes[\"small\"]) || this.fontSizes.small,\n            default: (obj.fontSizes && obj.fontSizes[\"default\"]) || this.fontSizes.default,\n            medium: (obj.fontSizes && obj.fontSizes[\"medium\"]) || this.fontSizes.medium,\n            large: (obj.fontSizes && obj.fontSizes[\"large\"]) || this.fontSizes.large,\n            extraLarge: (obj.fontSizes && obj.fontSizes[\"extraLarge\"]) || this.fontSizes.extraLarge\n        };\n        this.fontWeights = {\n            lighter: (obj.fontWeights && obj.fontWeights[\"lighter\"]) || this.fontWeights.lighter,\n            default: (obj.fontWeights && obj.fontWeights[\"default\"]) || this.fontWeights.default,\n            bolder: (obj.fontWeights && obj.fontWeights[\"bolder\"]) || this.fontWeights.bolder\n        };\n    }\n}\n\nexport class FontTypeSet {\n    default: FontTypeDefinition;\n    monospace: FontTypeDefinition;\n\n    constructor(obj?: any) {\n        this.default = new FontTypeDefinition();\n        this.monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n\n        if (obj) {\n            this.default.parse(obj[\"default\"]);\n            this.monospace.parse(obj[\"monospace\"]);\n        }\n    }\n\n    getStyleDefinition(style: Enums.FontType | undefined): FontTypeDefinition {\n        switch (style) {\n            case Enums.FontType.Monospace:\n                return this.monospace;\n            case Enums.FontType.Default:\n            default:\n                return this.default;\n        }\n    }\n}\n\nexport class CarouselConfig {\n    maxCarouselPages: number = 10;\n    minAutoplayDelay: number = 5000.0;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.maxCarouselPages =\n                obj[\"maxCarouselPages\"] != null ? obj[\"maxCarouselPages\"] : this.maxCarouselPages;\n            this.minAutoplayDelay =\n                obj[\"minAutoplayDelay\"] != null ? obj[\"minAutoplayDelay\"] : this.minAutoplayDelay;\n        }\n    }\n\n    toJSON() {\n        return {\n            maxCarouselPages: this.maxCarouselPages,\n            minAutoplayDelay: this.minAutoplayDelay\n        };\n    }\n}\n\nexport class HostConfig {\n    readonly hostCapabilities = new HostCapabilities();\n\n    private _legacyFontType: FontTypeDefinition;\n\n    choiceSetInputValueSeparator: string = \",\";\n    supportsInteractivity: boolean = true;\n    lineHeights?: ILineHeightDefinitions;\n    fontTypes?: FontTypeSet;\n\n    readonly spacing = {\n        small: 3,\n        default: 8,\n        medium: 20,\n        large: 30,\n        extraLarge: 40,\n        padding: 15\n    };\n\n    readonly separator = {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    };\n\n    readonly imageSizes = {\n        small: 40,\n        medium: 80,\n        large: 160\n    };\n\n    readonly containerStyles: ContainerStyleSet = new ContainerStyleSet();\n    readonly inputs: InputConfig = new InputConfig();\n    readonly actions: ActionsConfig = new ActionsConfig();\n    readonly adaptiveCard: AdaptiveCardConfig = new AdaptiveCardConfig();\n    readonly imageSet: ImageSetConfig = new ImageSetConfig();\n    readonly media: MediaConfig = new MediaConfig();\n    readonly factSet: FactSetConfig = new FactSetConfig();\n    readonly table: TableConfig = new TableConfig();\n    readonly textStyles: TextStyleSet = new TextStyleSet();\n    readonly textBlock: TextBlockConfig = new TextBlockConfig();\n    readonly carousel: CarouselConfig = new CarouselConfig();\n\n    cssClassNamePrefix?: string;\n    alwaysAllowBleed: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            if (typeof obj === \"string\" || obj instanceof String) {\n                obj = JSON.parse(obj as string);\n            }\n\n            this.choiceSetInputValueSeparator =\n                obj && typeof obj[\"choiceSetInputValueSeparator\"] === \"string\"\n                    ? obj[\"choiceSetInputValueSeparator\"]\n                    : this.choiceSetInputValueSeparator;\n            this.supportsInteractivity =\n                obj && typeof obj[\"supportsInteractivity\"] === \"boolean\"\n                    ? obj[\"supportsInteractivity\"]\n                    : this.supportsInteractivity;\n\n            this._legacyFontType = new FontTypeDefinition();\n            this._legacyFontType.parse(obj);\n\n            if (obj.fontTypes) {\n                this.fontTypes = new FontTypeSet(obj.fontTypes);\n            }\n\n            if (obj.lineHeights) {\n                this.lineHeights = {\n                    small: obj.lineHeights[\"small\"],\n                    default: obj.lineHeights[\"default\"],\n                    medium: obj.lineHeights[\"medium\"],\n                    large: obj.lineHeights[\"large\"],\n                    extraLarge: obj.lineHeights[\"extraLarge\"]\n                };\n            }\n\n            this.imageSizes = {\n                small: (obj.imageSizes && obj.imageSizes[\"small\"]) || this.imageSizes.small,\n                medium: (obj.imageSizes && obj.imageSizes[\"medium\"]) || this.imageSizes.medium,\n                large: (obj.imageSizes && obj.imageSizes[\"large\"]) || this.imageSizes.large\n            };\n\n            this.containerStyles = new ContainerStyleSet(obj[\"containerStyles\"]);\n            this.spacing = {\n                small: (obj.spacing && obj.spacing[\"small\"]) || this.spacing.small,\n                default: (obj.spacing && obj.spacing[\"default\"]) || this.spacing.default,\n                medium: (obj.spacing && obj.spacing[\"medium\"]) || this.spacing.medium,\n                large: (obj.spacing && obj.spacing[\"large\"]) || this.spacing.large,\n                extraLarge: (obj.spacing && obj.spacing[\"extraLarge\"]) || this.spacing.extraLarge,\n                padding: (obj.spacing && obj.spacing[\"padding\"]) || this.spacing.padding\n            };\n\n            this.separator = {\n                lineThickness:\n                    (obj.separator && obj.separator[\"lineThickness\"]) ||\n                    this.separator.lineThickness,\n                lineColor: (obj.separator && obj.separator[\"lineColor\"]) || this.separator.lineColor\n            };\n\n            this.inputs = new InputConfig(obj.inputs || this.inputs);\n            this.actions = new ActionsConfig(obj.actions || this.actions);\n            this.adaptiveCard = new AdaptiveCardConfig(obj.adaptiveCard || this.adaptiveCard);\n            this.imageSet = new ImageSetConfig(obj[\"imageSet\"]);\n            this.factSet = new FactSetConfig(obj[\"factSet\"]);\n            this.textStyles = new TextStyleSet(obj[\"textStyles\"]);\n            this.textBlock = new TextBlockConfig(obj[\"textBlock\"]);\n            this.carousel = new CarouselConfig(obj[\"carousel\"]);\n        }\n    }\n\n    getFontTypeDefinition(style?: Enums.FontType): FontTypeDefinition {\n        if (this.fontTypes) {\n            return this.fontTypes.getStyleDefinition(style);\n        } else {\n            return style === Enums.FontType.Monospace\n                ? FontTypeDefinition.monospace\n                : this._legacyFontType;\n        }\n    }\n\n    getEffectiveSpacing(spacing: Enums.Spacing): number {\n        switch (spacing) {\n            case Enums.Spacing.Small:\n                return this.spacing.small;\n            case Enums.Spacing.Default:\n                return this.spacing.default;\n            case Enums.Spacing.Medium:\n                return this.spacing.medium;\n            case Enums.Spacing.Large:\n                return this.spacing.large;\n            case Enums.Spacing.ExtraLarge:\n                return this.spacing.extraLarge;\n            case Enums.Spacing.Padding:\n                return this.spacing.padding;\n            default:\n                return 0;\n        }\n    }\n\n    paddingDefinitionToSpacingDefinition(\n        paddingDefinition: Shared.PaddingDefinition\n    ): Shared.SpacingDefinition {\n        return new Shared.SpacingDefinition(\n            this.getEffectiveSpacing(paddingDefinition.top),\n            this.getEffectiveSpacing(paddingDefinition.right),\n            this.getEffectiveSpacing(paddingDefinition.bottom),\n            this.getEffectiveSpacing(paddingDefinition.left)\n        );\n    }\n\n    makeCssClassNames(...classNames: string[]): string[] {\n        const result: string[] = [];\n\n        for (const className of classNames) {\n            result.push((this.cssClassNamePrefix ? this.cssClassNamePrefix + \"-\" : \"\") + className);\n        }\n\n        return result;\n    }\n\n    makeCssClassName(...classNames: string[]): string {\n        const result = this.makeCssClassNames(...classNames).join(\" \");\n\n        return result ? result : \"\";\n    }\n\n    get fontFamily(): string | undefined {\n        return this._legacyFontType.fontFamily;\n    }\n\n    set fontFamily(value: string | undefined) {\n        this._legacyFontType.fontFamily = value;\n    }\n\n    get fontSizes(): IFontSizeDefinitions {\n        return this._legacyFontType.fontSizes;\n    }\n\n    get fontWeights(): IFontWeightDefinitions {\n        return this._legacyFontType.fontWeights;\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const defaultHostConfig: HostConfig = new HostConfig({\n    supportsInteractivity: true,\n    spacing: {\n        small: 10,\n        default: 20,\n        medium: 30,\n        large: 40,\n        extraLarge: 50,\n        padding: 20\n    },\n    separator: {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    },\n    fontTypes: {\n        default: {\n            fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        },\n        monospace: {\n            fontFamily: \"'Courier New', Courier, monospace\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        }\n    },\n    imageSizes: {\n        small: 40,\n        medium: 80,\n        large: 160\n    },\n    containerStyles: {\n        default: {\n            backgroundColor: \"#FFFFFF\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        emphasis: {\n            backgroundColor: \"#08000000\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        accent: {\n            backgroundColor: \"#C7DEF9\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        good: {\n            backgroundColor: \"#CCFFCC\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        attention: {\n            backgroundColor: \"#FFC5B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        warning: {\n            backgroundColor: \"#FFE2B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        }\n    },\n    inputs: {\n        label: {\n            requiredInputs: {\n                weight: Enums.TextWeight.Bolder,\n                suffix: \" *\",\n                suffixColor: Enums.TextColor.Attention\n            },\n            optionalInputs: {\n                weight: Enums.TextWeight.Bolder\n            }\n        },\n        errorMessage: {\n            color: Enums.TextColor.Attention,\n            weight: Enums.TextWeight.Bolder\n        },\n        debounceTimeInMilliSeconds: 250\n    },\n    actions: {\n        maxActions: 5,\n        spacing: Enums.Spacing.Default,\n        buttonSpacing: 10,\n        showCard: {\n            actionMode: Enums.ShowCardActionMode.Inline,\n            inlineTopMargin: 16\n        },\n        actionsOrientation: Enums.Orientation.Horizontal,\n        actionAlignment: Enums.ActionAlignment.Left\n    },\n    adaptiveCard: {\n        allowCustomStyle: false\n    },\n    imageSet: {\n        imageSize: Enums.Size.Medium,\n        maxImageHeight: 100\n    },\n    factSet: {\n        title: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Bolder,\n            wrap: true,\n            maxWidth: 150\n        },\n        value: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Default,\n            wrap: true\n        },\n        spacing: 10\n    },\n    carousel: {\n        maxCarouselPages: 10,\n        minAutoplayDuration: 5000\n    },\n    textBlock: {\n        headingLevel: 2\n    }\n});\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { CardElement, Action } from \"./card-elements\";\nimport { SerializableObject, Version, Versions } from \"./serialization\";\n\nexport interface ITypeRegistration<T extends SerializableObject> {\n    typeName: string;\n    objectType: { new (): T };\n    schemaVersion: Version;\n}\n\nexport class CardObjectRegistry<T extends SerializableObject> {\n    private _items: { [typeName: string]: ITypeRegistration<T> } = {};\n\n    findByName(typeName: string): ITypeRegistration<T> | undefined {\n        return this._items.hasOwnProperty(typeName) ? this._items[typeName] : undefined;\n    }\n\n    clear() {\n        this._items = {};\n    }\n\n    copyTo(target: CardObjectRegistry<T>) {\n        const keys = Object.keys(this._items);\n\n        for (const key of keys) {\n            const typeRegistration = this._items[key];\n\n            target.register(\n                typeRegistration.typeName,\n                typeRegistration.objectType,\n                typeRegistration.schemaVersion\n            );\n        }\n    }\n\n    register(\n        typeName: string,\n        objectType: { new (): T },\n        schemaVersion: Version = Versions.v1_0\n    ) {\n        let registrationInfo = this.findByName(typeName);\n\n        if (registrationInfo !== undefined) {\n            registrationInfo.objectType = objectType;\n        } else {\n            registrationInfo = {\n                typeName: typeName,\n                objectType: objectType,\n                schemaVersion: schemaVersion\n            };\n        }\n\n        this._items[typeName] = registrationInfo;\n    }\n\n    unregister(typeName: string) {\n        delete this._items[typeName];\n    }\n\n    createInstance(typeName: string, targetVersion: Version): T | undefined {\n        const registrationInfo = this.findByName(typeName);\n\n        return registrationInfo && registrationInfo.schemaVersion.compareTo(targetVersion) <= 0\n            ? new registrationInfo.objectType()\n            : undefined;\n    }\n\n    getItemCount(): number {\n        return Object.keys(this._items).length;\n    }\n\n    getItemAt(index: number): ITypeRegistration<T> {\n        return Object.keys(this._items).map((e) => this._items[e])[index];\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class GlobalRegistry {\n    private static _elements?: CardObjectRegistry<CardElement>;\n    private static _actions?: CardObjectRegistry<Action>;\n\n    static populateWithDefaultElements(registry: CardObjectRegistry<CardElement>) {\n        registry.clear();\n\n        GlobalRegistry.defaultElements.copyTo(registry);\n    }\n\n    static populateWithDefaultActions(registry: CardObjectRegistry<Action>) {\n        registry.clear();\n\n        GlobalRegistry.defaultActions.copyTo(registry);\n    }\n\n    static readonly defaultElements = new CardObjectRegistry<CardElement>();\n    static readonly defaultActions = new CardObjectRegistry<Action>();\n    static get elements(): CardObjectRegistry<CardElement> {\n        if (!GlobalRegistry._elements) {\n            GlobalRegistry._elements = new CardObjectRegistry<CardElement>();\n            GlobalRegistry.populateWithDefaultElements(GlobalRegistry._elements);\n        }\n\n        return GlobalRegistry._elements;\n    }\n\n    static get actions(): CardObjectRegistry<Action> {\n        if (!GlobalRegistry._actions) {\n            GlobalRegistry._actions = new CardObjectRegistry<Action>();\n            GlobalRegistry.populateWithDefaultActions(GlobalRegistry._actions);\n        }\n\n        return GlobalRegistry._actions;\n    }\n\n    static reset() {\n        GlobalRegistry._elements = undefined;\n        GlobalRegistry._actions = undefined;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport { Strings } from \"./strings\";\nimport { Dictionary, GlobalSettings } from \"./shared\";\nimport { HostConfig } from \"./host-config\";\nimport { HostCapabilities } from \"./host-capabilities\";\nimport {\n    Versions,\n    property,\n    SerializableObject,\n    StringProperty,\n    SerializableObjectProperty,\n    IValidationEvent,\n    PropertyDefinition\n} from \"./serialization\";\n\nexport class ValidationResults {\n    readonly allIds: Dictionary<number> = {};\n    readonly validationEvents: IValidationEvent[] = [];\n\n    addFailure(cardObject: CardObject, event: Enums.ValidationEvent, message: string) {\n        this.validationEvents.push({\n            phase: Enums.ValidationPhase.Validation,\n            source: cardObject,\n            event: event,\n            message: message\n        });\n    }\n}\n\nexport type CardObjectType = { new (): CardObject };\n\nexport abstract class CardObject extends SerializableObject {\n    //#region Schema\n\n    static readonly typeNameProperty = new StringProperty(\n        Versions.v1_0,\n        \"type\",\n        undefined,\n        undefined,\n        undefined,\n        (sender: object) => {\n            return (<CardObject>sender).getJsonTypeName();\n        }\n    );\n    static readonly idProperty = new StringProperty(Versions.v1_0, \"id\");\n    static readonly requiresProperty = new SerializableObjectProperty(\n        Versions.v1_2,\n        \"requires\",\n        HostCapabilities,\n        false,\n        new HostCapabilities()\n    );\n\n    protected getSchemaKey(): string {\n        return this.getJsonTypeName();\n    }\n\n    @property(CardObject.idProperty)\n    id?: string;\n\n    @property(CardObject.requiresProperty)\n    get requires(): HostCapabilities {\n        return this.getValue(CardObject.requiresProperty);\n    }\n\n    //#endregion\n\n    private _shouldFallback: boolean = false;\n\n    protected _parent?: CardObject;\n    protected _renderedElement?: HTMLElement;\n\n    /**\n     * Checks if this CardObject contains the given DOM Node.\n     * @param node The DOM Node to look for.\n     * @returns `true` if the DOM Node was found, `false` otherwise.\n     */\n    protected contains(node: Node): boolean {\n        if (this._renderedElement) {\n            return this._renderedElement.contains(node);\n        }\n\n        return false;\n    }\n\n    onPreProcessPropertyValue?: (\n        sender: CardObject,\n        property: PropertyDefinition,\n        value: any\n    ) => any;\n\n    abstract getJsonTypeName(): string;\n\n    abstract get hostConfig(): HostConfig;\n\n    preProcessPropertyValue(prop: PropertyDefinition, propertyValue?: any): any {\n        const value = propertyValue === undefined ? this.getValue(prop) : propertyValue;\n\n        if (GlobalSettings.allowPreProcessingPropertyValues) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            let currentObject: CardObject | undefined = this;\n\n            while (currentObject && !currentObject.onPreProcessPropertyValue) {\n                currentObject = currentObject.parent;\n            }\n\n            if (currentObject && currentObject.onPreProcessPropertyValue) {\n                return currentObject.onPreProcessPropertyValue(this, prop, value);\n            }\n        }\n\n        return value;\n    }\n\n    setParent(value: CardObject | undefined) {\n        this._parent = value;\n    }\n\n    setShouldFallback(value: boolean) {\n        this._shouldFallback = value;\n    }\n\n    shouldFallback(): boolean {\n        return this._shouldFallback || !this.requires.areAllMet(this.hostConfig.hostCapabilities);\n    }\n\n    getRootObject(): CardObject {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let currentObject: CardObject = this;\n\n        while (currentObject.parent) {\n            currentObject = currentObject.parent;\n        }\n\n        return currentObject;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        if (this.id) {\n            if (context.allIds.hasOwnProperty(this.id)) {\n                if (context.allIds[this.id] === 1) {\n                    context.addFailure(\n                        this,\n                        Enums.ValidationEvent.DuplicateId,\n                        Strings.errors.duplicateId(this.id)\n                    );\n                }\n\n                context.allIds[this.id] += 1;\n            } else {\n                context.allIds[this.id] = 1;\n            }\n        }\n    }\n\n    validateProperties(): ValidationResults {\n        const result = new ValidationResults();\n\n        this.internalValidateProperties(result);\n\n        return result;\n    }\n\n    /**\n     * Recursively searches this CardObject and any children to find the\n     * innermost CardObject that owns the given DOM Node.\n     *\n     * @param node The DOM Node to look for.\n     *\n     * @returns The owner of the given DOM Node, or `undefined` if no owner was found.\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        // default implementation for CardObjects with no associated children\n        return this.contains(node) ? this : undefined;\n    }\n\n    releaseDOMResources() {\n        // Do nothing in base implementation\n    }\n\n    get parent(): CardObject | undefined {\n        return this._parent;\n    }\n\n    get renderedElement(): HTMLElement | undefined {\n        return this._renderedElement;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nabstract class AbstractTextFormatter {\n    private _regularExpression: RegExp;\n\n    protected abstract internalFormat(lang: string | undefined, matches: RegExpExecArray): string;\n\n    constructor(regularExpression: RegExp) {\n        this._regularExpression = regularExpression;\n    }\n\n    format(lang: string | undefined, input: string | undefined): string | undefined {\n        let matches;\n\n        if (input) {\n            let result = input;\n\n            while ((matches = this._regularExpression.exec(input)) != null) {\n                result = result.replace(matches[0], this.internalFormat(lang, matches));\n            }\n\n            return result;\n        } else {\n            return input;\n        }\n    }\n}\n\nclass DateFormatter extends AbstractTextFormatter {\n    protected internalFormat(lang: string | undefined, matches: RegExpExecArray): string {\n        const date = new Date(Date.parse(matches[1]));\n        const format = matches[2] !== undefined ? matches[2].toLowerCase() : \"compact\";\n\n        if (format !== \"compact\") {\n            return date.toLocaleDateString(lang, {\n                day: \"numeric\",\n                weekday: format,\n                month: format,\n                year: \"numeric\"\n            } as Intl.DateTimeFormatOptions);\n        } else {\n            return date.toLocaleDateString();\n        }\n    }\n}\n\nclass TimeFormatter extends AbstractTextFormatter {\n    protected internalFormat(lang: string | undefined, matches: RegExpExecArray): string {\n        const date = new Date(Date.parse(matches[1]));\n\n        return date.toLocaleTimeString(lang, { hour: \"numeric\", minute: \"2-digit\" });\n    }\n}\n\nexport function formatText(lang: string | undefined, text: string | undefined): string | undefined {\n    const formatters: AbstractTextFormatter[] = [\n        new DateFormatter(\n            /\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g\n        ),\n        new TimeFormatter(\n            /\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g\n        )\n    ];\n\n    let result = text;\n\n    for (const formatter of formatters) {\n        result = formatter.format(lang, result);\n    }\n\n    return result;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Constants {\n    static readonly keys = {\n        tab: \"Tab\",\n        enter: \"Enter\",\n        escape: \"Escape\",\n        space: \" \",\n        up: \"ArrowUp\",\n        down: \"ArrowDown\",\n        delete: \"Delete\"\n    } as const;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\nimport { Constants } from \"./constants\";\n\nexport class MenuItem {\n    private _hostConfig?: HostConfig;\n    private _element: HTMLElement;\n    private _value: string;\n    private _isEnabled: boolean = true;\n\n    private click() {\n        if (this.isEnabled && this.onClick) {\n            this.onClick(this);\n        }\n    }\n\n    private updateCssClasses() {\n        if (this._element) {\n            const effectiveHostConfig = this._hostConfig ? this._hostConfig : defaultHostConfig;\n\n            this._element.className = effectiveHostConfig.makeCssClassName(\"ac-ctrl\");\n            this._element.classList.add(\n                effectiveHostConfig.makeCssClassName(\n                    this.isEnabled ? \"ac-ctrl-dropdown-item\" : \"ac-ctrl-dropdown-item-disabled\"\n                )\n            );\n\n            if (!this.isEnabled) {\n                this._element.classList.add(effectiveHostConfig.makeCssClassName(\"ac-disabled\"));\n            }\n        }\n    }\n\n    readonly key: string;\n\n    onClick?: (item: MenuItem) => void;\n\n    constructor(key: string, value: string) {\n        this.key = key;\n        this._value = value;\n    }\n\n    toString(): string {\n        return this.value;\n    }\n\n    render(hostConfig?: HostConfig): HTMLElement {\n        this._hostConfig = hostConfig;\n\n        if (!this._element) {\n            this._element = document.createElement(\"span\");\n            this._element.innerText = this.value;\n            this._element.setAttribute(\"role\", \"menuitem\");\n\n            if (!this.isEnabled) {\n                this._element.setAttribute(\"aria-disabled\", \"true\");\n            }\n\n            this._element.setAttribute(\"aria-current\", \"false\");\n            this._element.onmouseup = (_e) => {\n                this.click();\n            };\n            this._element.onkeydown = (e) => {\n                if (e.key === Constants.keys.enter) {\n                    e.cancelBubble = true;\n\n                    this.click();\n                }\n            };\n\n            this.updateCssClasses();\n        }\n\n        return this._element;\n    }\n\n    get value(): string {\n        return this._value;\n    }\n\n    set value(newValue: string) {\n        this._value = newValue;\n\n        if (this._element) {\n            this._element.innerText = newValue;\n        }\n    }\n\n    get isEnabled(): boolean {\n        return this._isEnabled;\n    }\n\n    set isEnabled(value: boolean) {\n        if (this._isEnabled !== value) {\n            this._isEnabled = value;\n\n            this.updateCssClasses();\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport class Collection<TItem> {\n    private _items: Array<TItem> = [];\n\n    onItemAdded: (item: TItem) => void;\n    onItemRemoved: (item: TItem) => void;\n\n    get(index: number): TItem {\n        return this._items[index];\n    }\n\n    add(item: TItem) {\n        this._items.push(item);\n\n        if (this.onItemAdded) {\n            this.onItemAdded(item);\n        }\n    }\n\n    remove(item: TItem) {\n        const i = this._items.indexOf(item);\n\n        if (i >= 0) {\n            this._items = this._items.splice(i, 1);\n\n            if (this.onItemRemoved) {\n                this.onItemRemoved(item);\n            }\n        }\n    }\n\n    indexOf(item: TItem): number {\n        return this._items.indexOf(item);\n    }\n\n    get length(): number {\n        return this._items.length;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport * as Utils from \"../utils\";\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\n\nexport abstract class PopupControl {\n    private _isOpen: boolean = false;\n    private _overlayElement: HTMLElement;\n    private _popupElement: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    protected abstract renderContent(): HTMLElement;\n\n    onClose: (popupControl: PopupControl, wasCancelled: boolean) => void;\n\n    keyDown(e: KeyboardEvent) {\n        switch (e.key) {\n            case Constants.keys.escape:\n                this.closePopup(true);\n\n                break;\n        }\n    }\n\n    render(_rootElementBounds: ClientRect): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = (e) => {\n            this.keyDown(e);\n\n            return !e.cancelBubble;\n        };\n\n        element.appendChild(this.renderContent());\n\n        return element;\n    }\n\n    focus() {\n        if (this._popupElement) {\n            (<HTMLElement>this._popupElement.firstElementChild).focus();\n        }\n    }\n\n    popup(rootElement: HTMLElement) {\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = (_e) => {\n                this.closePopup(true);\n            };\n\n            document.body.appendChild(this._overlayElement);\n\n            const rootElementBounds = rootElement.getBoundingClientRect();\n\n            this._popupElement = this.render(rootElementBounds);\n            this._popupElement.classList.remove(\n                ...this.hostConfig.makeCssClassNames(\n                    \"ac-ctrl-slide\",\n                    \"ac-ctrl-slideLeftToRight\",\n                    \"ac-ctrl-slideRightToLeft\",\n                    \"ac-ctrl-slideTopToBottom\",\n                    \"ac-ctrl-slideRightToLeft\"\n                )\n            );\n\n            window.addEventListener(\"resize\", (_e) => {\n                this.closePopup(true);\n            });\n\n            const rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n\n            this._overlayElement.appendChild(this._popupElement);\n\n            const popupElementBounds = this._popupElement.getBoundingClientRect();\n\n            const availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            const availableSpaceAbove = rootElementBounds.top;\n            const availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            const availableSpaceLeft = rootElementBounds.left;\n\n            let left = rootElementBounds.left + Utils.getScrollX();\n            let top;\n\n            if (\n                availableSpaceAbove < popupElementBounds.height &&\n                availableSpaceBelow < popupElementBounds.height\n            ) {\n                // Not enough space above or below root element\n                const actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top = Utils.getScrollY();\n                } else {\n                    top =\n                        Utils.getScrollY() +\n                        rootElementBounds.top +\n                        (rootElementBounds.height - actualPopupHeight) / 2;\n                }\n\n                if (\n                    availableSpaceLeft < popupElementBounds.width &&\n                    availableSpaceRight < popupElementBounds.width\n                ) {\n                    // Not enough space left or right of root element\n                    const actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    } else {\n                        left =\n                            Utils.getScrollX() +\n                            rootElementBounds.left +\n                            (rootElementBounds.width - actualPopupWidth) / 2;\n                    }\n                } else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideLeftToRight\"\n                            )\n                        );\n                    } else {\n                        left =\n                            Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideRightToLeft\"\n                            )\n                        );\n                    }\n                }\n            } else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top = Utils.getScrollY() + rootElementBounds.bottom;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideTopToBottom\"\n                        )\n                    );\n                } else {\n                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideBottomToTop\"\n                        )\n                    );\n                }\n\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top + \"px\";\n\n            this._popupElement.focus();\n\n            this._isOpen = true;\n        }\n    }\n\n    closePopup(wasCancelled: boolean) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n\n            this._isOpen = false;\n\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this._hostConfig ? this._hostConfig : defaultHostConfig;\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get isOpen(): boolean {\n        return this._isOpen;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport { Collection } from \"./collection\";\nimport { PopupControl } from \"./popup-control\";\nimport { MenuItem } from \"./menu-item\";\n\nexport class PopupMenu extends PopupControl {\n    private _items: Collection<MenuItem> = new Collection<MenuItem>();\n    private _renderedItems: Array<HTMLElement> = [];\n    private _selectedIndex: number = -1;\n\n    protected renderContent(): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl ac-popup\");\n        element.setAttribute(\"role\", \"listbox\");\n\n        for (let i = 0; i < this._items.length; i++) {\n            const renderedItem = this._items.get(i).render(this.hostConfig);\n            renderedItem.tabIndex = 0;\n\n            element.appendChild(renderedItem);\n\n            if (i === this.selectedIndex) {\n                renderedItem.focus();\n            }\n\n            this._renderedItems.push(renderedItem);\n        }\n\n        return element;\n    }\n\n    keyDown(e: KeyboardEvent) {\n        super.keyDown(e);\n\n        let selectedItemIndex = this._selectedIndex;\n\n        switch (e.key) {\n            case Constants.keys.tab:\n                this.closePopup(true);\n\n                break;\n            /*\n            case Constants.keys.enter:\n                if (this.selectedIndex >= 0) {\n                    this.selectedIndex = this.selectedIndex;\n\n                    this.close();\n                }\n\n                break;\n            */\n            case Constants.keys.up:\n                if (selectedItemIndex <= 0) {\n                    selectedItemIndex = this._renderedItems.length - 1;\n                } else {\n                    selectedItemIndex--;\n\n                    if (selectedItemIndex < 0) {\n                        selectedItemIndex = this._renderedItems.length - 1;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n            case Constants.keys.down:\n                if (selectedItemIndex < 0) {\n                    selectedItemIndex = 0;\n                } else {\n                    selectedItemIndex++;\n\n                    if (selectedItemIndex >= this._renderedItems.length) {\n                        selectedItemIndex = 0;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n        }\n    }\n\n    get items(): Collection<MenuItem> {\n        return this._items;\n    }\n\n    get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    set selectedIndex(index: number) {\n        if (index >= 0 && index < this._renderedItems.length) {\n            this._renderedItems[index].focus();\n\n            this._selectedIndex = index;\n        }\n    }\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport * from \"./menu-item\";\nexport * from \"./popup-menu\";\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport { CarouselEvent } from \"./carousel\";\nimport {\n    PaddingDefinition,\n    GlobalSettings,\n    SizeAndUnit,\n    SpacingDefinition,\n    ISeparationDefinition,\n    Dictionary,\n    StringWithSubstitutions,\n    ContentTypes,\n    IInput,\n    IResourceInformation\n} from \"./shared\";\nimport * as Utils from \"./utils\";\nimport {\n    HostConfig,\n    defaultHostConfig,\n    BaseTextDefinition,\n    FontTypeDefinition,\n    ColorSetDefinition,\n    TextColorDefinition,\n    ContainerStyleDefinition,\n    TextStyleDefinition\n} from \"./host-config\";\nimport * as TextFormatters from \"./text-formatters\";\nimport { CardObject, ValidationResults } from \"./card-object\";\nimport {\n    Versions,\n    Version,\n    property,\n    BaseSerializationContext,\n    SerializableObject,\n    SerializableObjectSchema,\n    StringProperty,\n    BoolProperty,\n    ValueSetProperty,\n    EnumProperty,\n    SerializableObjectCollectionProperty,\n    SerializableObjectProperty,\n    PixelSizeProperty,\n    NumProperty,\n    PropertyBag,\n    CustomProperty,\n    PropertyDefinition,\n    StringArrayProperty\n} from \"./serialization\";\nimport { CardObjectRegistry, GlobalRegistry } from \"./registry\";\nimport { Strings } from \"./strings\";\nimport { MenuItem, PopupMenu } from \"./controls\";\n\n\nfunction clearElement(element: HTMLElement) : void {\n    const trustedHtml = (typeof window === 'undefined') ? \"\" : (window.trustedTypes?.emptyHTML ?? \"\");\n    element.innerHTML = trustedHtml as string;\n}\n\nexport function renderSeparation(\n    hostConfig: HostConfig,\n    separationDefinition: ISeparationDefinition,\n    orientation: Enums.Orientation\n): HTMLElement | undefined {\n    if (\n        separationDefinition.spacing > 0 ||\n        (separationDefinition.lineThickness && separationDefinition.lineThickness > 0)\n    ) {\n        const separator = document.createElement(\"div\");\n        separator.className = hostConfig.makeCssClassName(\n            \"ac-\" +\n                (orientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\") +\n                \"-separator\"\n        );\n        separator.setAttribute(\"aria-hidden\", \"true\");\n\n        const color = separationDefinition.lineColor\n            ? Utils.stringToCssColor(separationDefinition.lineColor)\n            : \"\";\n\n        if (orientation === Enums.Orientation.Horizontal) {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingTop = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginBottom = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderBottom =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            } else {\n                separator.style.height = separationDefinition.spacing + \"px\";\n            }\n        } else {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingLeft = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginRight = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderRight =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            } else {\n                separator.style.width = separationDefinition.spacing + \"px\";\n            }\n        }\n\n        separator.style.overflow = \"hidden\";\n        separator.style.flex = \"0 0 auto\";\n\n        return separator;\n    } else {\n        return undefined;\n    }\n}\n\nexport type CardElementHeight = \"auto\" | \"stretch\";\n\nexport abstract class CardElement extends CardObject {\n    //#region Schema\n\n    static readonly langProperty = new StringProperty(\n        Versions.v1_1,\n        \"lang\",\n        true,\n        /^[a-z]{2,3}$/gi\n    );\n    static readonly isVisibleProperty = new BoolProperty(Versions.v1_2, \"isVisible\", true);\n    static readonly separatorProperty = new BoolProperty(Versions.v1_0, \"separator\", false);\n    static readonly heightProperty = new ValueSetProperty(\n        Versions.v1_1,\n        \"height\",\n        [{ value: \"auto\" }, { value: \"stretch\" }],\n        \"auto\"\n    );\n    static readonly horizontalAlignmentProperty = new EnumProperty(\n        Versions.v1_0,\n        \"horizontalAlignment\",\n        Enums.HorizontalAlignment\n    );\n    static readonly spacingProperty = new EnumProperty(\n        Versions.v1_0,\n        \"spacing\",\n        Enums.Spacing,\n        Enums.Spacing.Default\n    );\n\n    @property(CardElement.horizontalAlignmentProperty)\n    horizontalAlignment?: Enums.HorizontalAlignment;\n\n    @property(CardElement.spacingProperty)\n    spacing: Enums.Spacing;\n\n    @property(CardElement.separatorProperty)\n    separator: boolean;\n\n    @property(CardElement.heightProperty)\n    height: CardElementHeight;\n\n    @property(CardElement.langProperty)\n    get lang(): string | undefined {\n        const lang = this.getValue(CardElement.langProperty);\n\n        if (lang) {\n            return lang;\n        } else {\n            if (this.parent) {\n                return this.parent.lang;\n            } else {\n                return undefined;\n            }\n        }\n    }\n\n    set lang(value: string | undefined) {\n        this.setValue(CardElement.langProperty, value);\n    }\n\n    @property(CardElement.isVisibleProperty)\n    get isVisible(): boolean {\n        return this.getValue(CardElement.isVisibleProperty);\n    }\n\n    set isVisible(value: boolean) {\n        // If the element is going to be hidden, reset any changes that were due\n        // to overflow truncation (this ensures that if the element is later\n        // un-hidden it has the right content)\n        if (GlobalSettings.useAdvancedCardBottomTruncation && !value) {\n            this.undoOverflowTruncation();\n        }\n\n        if (this.isVisible !== value) {\n            this.setValue(CardElement.isVisibleProperty, value);\n\n            this.updateRenderedElementVisibility();\n\n            if (this._renderedElement) {\n                raiseElementVisibilityChangedEvent(this);\n            }\n        }\n\n        if (this._renderedElement) {\n            this._renderedElement.setAttribute(\"aria-expanded\", value.toString());\n        }\n    }\n\n    //#endregion\n\n    private _hostConfig?: HostConfig;\n    private _separatorElement?: HTMLElement;\n    private _truncatedDueToOverflow: boolean = false;\n    private _defaultRenderedElementDisplayMode?: string;\n    private _padding?: PaddingDefinition;\n\n    private internalRenderSeparator(): HTMLElement | undefined {\n        const renderedSeparator = renderSeparation(\n            this.hostConfig,\n            {\n                spacing: this.hostConfig.getEffectiveSpacing(this.spacing),\n                lineThickness: this.separator ? this.hostConfig.separator.lineThickness : undefined,\n                lineColor: this.separator ? this.hostConfig.separator.lineColor : undefined\n            },\n            this.separatorOrientation\n        );\n\n        if (\n            GlobalSettings.alwaysBleedSeparators &&\n            renderedSeparator &&\n            this.separatorOrientation === Enums.Orientation.Horizontal\n        ) {\n            // Adjust separator's margins if the option to always bleed separators is turned on\n            const parentContainer = this.getParentContainer();\n\n            if (parentContainer && parentContainer.getEffectivePadding()) {\n                const parentPhysicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                    parentContainer.getEffectivePadding()\n                );\n\n                renderedSeparator.style.marginLeft = \"-\" + parentPhysicalPadding.left + \"px\";\n                renderedSeparator.style.marginRight = \"-\" + parentPhysicalPadding.right + \"px\";\n            }\n        }\n\n        return renderedSeparator;\n    }\n\n    private updateRenderedElementVisibility() {\n        const displayMode =\n            this.isDesignMode() || this.isVisible\n                ? this._defaultRenderedElementDisplayMode\n                : \"none\";\n\n        if (this._renderedElement) {\n            if (displayMode) {\n                this._renderedElement.style.display = displayMode;\n            } else {\n                this._renderedElement.style.removeProperty(\"display\");\n            }\n        }\n\n        if (this._separatorElement) {\n            if (this.parent && this.parent.isFirstElement(this)) {\n                this._separatorElement.style.display = \"none\";\n            } else {\n                if (displayMode) {\n                    this._separatorElement.style.display = displayMode;\n                } else {\n                    this._separatorElement.style.removeProperty(\"display\");\n                }\n            }\n        }\n    }\n\n    private hideElementDueToOverflow() {\n        if (this._renderedElement && this.isVisible) {\n            this._renderedElement.style.visibility = \"hidden\";\n\n            this.isVisible = false;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    }\n\n    private showElementHiddenDueToOverflow() {\n        if (this._renderedElement && !this.isVisible) {\n            this._renderedElement.style.removeProperty(\"visibility\");\n\n            this.isVisible = true;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    }\n\n    // Marked private to emulate internal access\n    private handleOverflow(maxHeight: number) {\n        if (this.isVisible || this.isHiddenDueToOverflow()) {\n            const handled = this.truncateOverflow(maxHeight);\n\n            // Even if we were unable to truncate the element to fit this time,\n            // it still could have been previously truncated\n            this._truncatedDueToOverflow = handled || this._truncatedDueToOverflow;\n\n            if (!handled) {\n                this.hideElementDueToOverflow();\n            } else if (handled && !this.isVisible) {\n                this.showElementHiddenDueToOverflow();\n            }\n        }\n    }\n\n    // Marked private to emulate internal access\n    private resetOverflow(): boolean {\n        let sizeChanged = false;\n\n        if (this._truncatedDueToOverflow) {\n            this.undoOverflowTruncation();\n            this._truncatedDueToOverflow = false;\n            sizeChanged = true;\n        }\n\n        if (this.isHiddenDueToOverflow()) {\n            this.showElementHiddenDueToOverflow();\n        }\n\n        return sizeChanged;\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext();\n    }\n\n    protected createPlaceholderElement(): HTMLElement {\n        const styleDefinition = this.getEffectiveStyleDefinition();\n        const foregroundCssColor = Utils.stringToCssColor(\n            styleDefinition.foregroundColors.default.subtle\n        );\n\n        const element = document.createElement(\"div\");\n        element.style.border = \"1px dashed \" + foregroundCssColor;\n        element.style.padding = \"4px\";\n        element.style.minHeight = \"32px\";\n        element.style.fontSize = \"10px\";\n\n        if (foregroundCssColor) {\n            element.style.color = foregroundCssColor;\n        }\n\n        element.innerText = Strings.defaults.emptyElementText(this.getJsonTypeName());\n\n        return element;\n    }\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        if (this.height === \"auto\") {\n            renderedElement.style.flex = \"0 0 auto\";\n        } else {\n            renderedElement.style.flex = \"1 1 auto\";\n        }\n    }\n\n    /*\n     * Called when mouse enters or leaves the card.\n     * Inputs elements need to update their visual state in such events like showing or hiding borders etc.\n     * It calls Input.updateVisualState(eventType) for all inputs.\n     * This method on input (updateVisualState) is supposed to be called from card level on mouse events.\n     */\n    protected updateInputsVisualState(hover: boolean) {\n        const allInputs: Input[] = this.getAllInputs();\n        const inputEventType = !!hover ? InputEventType.MouseEnterOnCard : InputEventType.MouseLeaveOnCard;\n        allInputs.forEach((input) => input.updateVisualState(inputEventType));\n    }\n\n    protected isDisplayed(): boolean {\n        return (\n            this._renderedElement !== undefined &&\n            this.isVisible &&\n            this._renderedElement.offsetHeight > 0\n        );\n    }\n\n    protected abstract internalRender(): HTMLElement | undefined;\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        return this.internalRender();\n    }\n\n    protected applyPadding() {\n        if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n            if (GlobalSettings.alwaysBleedSeparators && !this.isBleeding()) {\n                const padding = new PaddingDefinition();\n\n                this.getImmediateSurroundingPadding(padding);\n\n                const physicalPadding =\n                    this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n                this.separatorElement.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n            } else {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    /*\n     * Called when this element overflows the bottom of the card.\n     * maxHeight will be the amount of space still available on the card (0 if\n     * the element is fully off the card).\n     */\n    protected truncateOverflow(_maxHeight: number): boolean {\n        // Child implementations should return true if the element handled\n        // the truncation request such that its content fits within maxHeight,\n        // false if the element should fall back to being hidden\n        return false;\n    }\n\n    /*\n     * This should reverse any changes performed in truncateOverflow().\n     */\n    protected undoOverflowTruncation() {\n        return;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition();\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        return false;\n    }\n\n    protected getHasBorder(): boolean {\n        return false;\n    }\n\n    protected getPadding(): PaddingDefinition | undefined {\n        return this._padding;\n    }\n\n    protected setPadding(value: PaddingDefinition | undefined) {\n        this._padding = value;\n    }\n\n    protected shouldSerialize(context: SerializationContext): boolean {\n        return context.elementRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    }\n\n    protected get useDefaultSizing(): boolean {\n        return true;\n    }\n\n    protected get separatorOrientation(): Enums.Orientation {\n        return Enums.Orientation.Horizontal;\n    }\n\n    protected get defaultStyle(): string {\n        return Enums.ContainerStyle.Default;\n    }\n\n    customCssSelector?: string;\n\n    parse(source: any, context?: SerializationContext) {\n        super.parse(source, context ? context : new SerializationContext());\n    }\n\n    asString(): string | undefined {\n        return \"\";\n    }\n\n    isBleeding(): boolean {\n        return false;\n    }\n\n    getEffectiveStyle(): string {\n        if (this.parent) {\n            return this.parent.getEffectiveStyle();\n        }\n\n        return this.defaultStyle;\n    }\n\n    getEffectiveStyleDefinition(): ContainerStyleDefinition {\n        return this.hostConfig.containerStyles.getStyleByName(this.getEffectiveStyle());\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.parent) {\n            return this.parent.getEffectiveTextStyleDefinition();\n        }\n\n        return this.hostConfig.textStyles.default;\n    }\n\n    getForbiddenActionTypes(): ActionType[] {\n        return [];\n    }\n\n    getImmediateSurroundingPadding(\n        result: PaddingDefinition,\n        processTop: boolean = true,\n        processRight: boolean = true,\n        processBottom: boolean = true,\n        processLeft: boolean = true\n    ) {\n        if (this.parent) {\n            let doProcessTop = processTop && this.parent.isTopElement(this);\n            let doProcessRight = processRight && this.parent.isRightMostElement(this);\n            let doProcessBottom = processBottom && this.parent.isBottomElement(this);\n            let doProcessLeft = processLeft && this.parent.isLeftMostElement(this);\n\n            const effectivePadding = this.parent.getEffectivePadding();\n\n            if (effectivePadding) {\n                if (doProcessTop && effectivePadding.top !== Enums.Spacing.None) {\n                    result.top = effectivePadding.top;\n\n                    doProcessTop = false;\n                }\n\n                if (doProcessRight && effectivePadding.right !== Enums.Spacing.None) {\n                    result.right = effectivePadding.right;\n\n                    doProcessRight = false;\n                }\n\n                if (doProcessBottom && effectivePadding.bottom !== Enums.Spacing.None) {\n                    result.bottom = effectivePadding.bottom;\n\n                    doProcessBottom = false;\n                }\n\n                if (doProcessLeft && effectivePadding.left !== Enums.Spacing.None) {\n                    result.left = effectivePadding.left;\n\n                    doProcessLeft = false;\n                }\n            }\n\n            if (doProcessTop || doProcessRight || doProcessBottom || doProcessLeft) {\n                this.parent.getImmediateSurroundingPadding(\n                    result,\n                    doProcessTop,\n                    doProcessRight,\n                    doProcessBottom,\n                    doProcessLeft\n                );\n            }\n        }\n    }\n\n    getActionCount(): number {\n        return 0;\n    }\n\n    getActionAt(index: number): Action | undefined {\n        throw new Error(Strings.errors.indexOutOfRange(index));\n    }\n\n    indexOfAction(action: Action): number {\n        for (let i = 0; i < this.getActionCount(); i++) {\n            if (this.getActionAt(i) === action) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    remove(): boolean {\n        if (this.parent && this.parent instanceof CardElementContainer) {\n            return this.parent.removeItem(this);\n        }\n\n        return false;\n    }\n\n    render(): HTMLElement | undefined {\n        this._renderedElement = this.overrideInternalRender();\n        this._separatorElement = this.internalRenderSeparator();\n\n        if (this._renderedElement) {\n            if (this.id) {\n                this._renderedElement.id = this.id;\n            }\n\n            if (this.customCssSelector) {\n                this._renderedElement.classList.add(this.customCssSelector);\n            }\n\n            this._renderedElement.style.boxSizing = \"border-box\";\n            this._defaultRenderedElementDisplayMode = this._renderedElement.style.display\n                ? this._renderedElement.style.display\n                : undefined;\n\n            this.adjustRenderedElementSize(this._renderedElement);\n            this.updateLayout(false);\n        } else if (this.isDesignMode()) {\n            this._renderedElement = this.createPlaceholderElement();\n        }\n\n        return this._renderedElement;\n    }\n\n    updateLayout(_processChildren: boolean = true) {\n        this.updateRenderedElementVisibility();\n        this.applyPadding();\n    }\n\n    updateActionsEnabledState() {\n        const allActions = this.getRootElement().getAllActions();\n\n        for (let action of allActions) {\n            action.updateEnabledState();\n        }\n    }\n\n    indexOf(_cardElement: CardElement): number {\n        return -1;\n    }\n\n    isDesignMode(): boolean {\n        const rootElement = this.getRootElement();\n\n        return rootElement instanceof AdaptiveCard && rootElement.designMode;\n    }\n\n    isFirstElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isLastElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isAtTheVeryLeft(): boolean {\n        return this.parent\n            ? this.parent.isLeftMostElement(this) && this.parent.isAtTheVeryLeft()\n            : true;\n    }\n\n    isAtTheVeryRight(): boolean {\n        return this.parent\n            ? this.parent.isRightMostElement(this) && this.parent.isAtTheVeryRight()\n            : true;\n    }\n\n    isAtTheVeryTop(): boolean {\n        return this.parent\n            ? this.parent.isFirstElement(this) && this.parent.isAtTheVeryTop()\n            : true;\n    }\n\n    isAtTheVeryBottom(): boolean {\n        return this.parent\n            ? this.parent.isLastElement(this) && this.parent.isAtTheVeryBottom()\n            : true;\n    }\n\n    isBleedingAtTop(): boolean {\n        return false;\n    }\n\n    isBleedingAtBottom(): boolean {\n        return false;\n    }\n\n    isLeftMostElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isRightMostElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isTopElement(element: CardElement): boolean {\n        return this.isFirstElement(element);\n    }\n\n    isBottomElement(element: CardElement): boolean {\n        return this.isLastElement(element);\n    }\n\n    isHiddenDueToOverflow(): boolean {\n        return (\n            this._renderedElement !== undefined &&\n            this._renderedElement.style.visibility === \"hidden\"\n        );\n    }\n\n    getRootElement(): CardElement {\n        return this.getRootObject() as CardElement;\n    }\n\n    getParentContainer(): Container | undefined {\n        let currentElement = this.parent;\n\n        while (currentElement) {\n            if (currentElement instanceof Container) {\n                return currentElement;\n            }\n\n            currentElement = currentElement.parent;\n        }\n\n        return undefined;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [];\n    }\n\n    getAllActions(): Action[] {\n        const result: Action[] = [];\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            let action = this.getActionAt(i);\n\n            if (action) {\n                result.push(action);\n            }\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return [];\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        return this.id === id ? this : undefined;\n    }\n\n    getActionById(_id: string): Action | undefined {\n        return undefined;\n    }\n    \n    getElementByIdFromAction(id: string): CardElement | undefined {\n        let result = undefined;\n        for (let i = 0; i < this.getActionCount(); i++) {\n            const action = this.getActionAt(i);\n\n            if (action instanceof ShowCardAction) {\n                result = action.card.getElementById(id);\n\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n\n    getEffectivePadding(): PaddingDefinition {\n        const padding = this.getPadding();\n\n        return padding ? padding : this.getDefaultPadding();\n    }\n\n    getEffectiveHorizontalAlignment(): Enums.HorizontalAlignment {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n\n        if (this.parent) {\n            return this.parent.getEffectiveHorizontalAlignment();\n        }\n\n        return Enums.HorizontalAlignment.Left;\n    }\n\n    get hostConfig(): HostConfig {\n        if (this._hostConfig) {\n            return this._hostConfig;\n        } else {\n            if (this.parent) {\n                return this.parent.hostConfig;\n            } else {\n                return defaultHostConfig;\n            }\n        }\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get index(): number {\n        if (this.parent) {\n            return this.parent.indexOf(this);\n        } else {\n            return 0;\n        }\n    }\n\n    get isInteractive(): boolean {\n        return false;\n    }\n\n    get isStandalone(): boolean {\n        return true;\n    }\n\n    get isInline(): boolean {\n        return false;\n    }\n\n    get hasVisibleSeparator(): boolean {\n        if (this.parent && this.separatorElement) {\n            return !this.parent.isFirstElement(this) && (this.isVisible || this.isDesignMode());\n        } else {\n            return false;\n        }\n    }\n\n    get separatorElement(): HTMLElement | undefined {\n        return this._separatorElement;\n    }\n\n    get parent(): CardElement | undefined {\n        return <CardElement>this._parent;\n    }\n}\n\nexport class ActionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: SerializationContext\n    ): Action | undefined {\n        const parent = <CardElement>sender;\n\n        return context.parseAction(\n            parent,\n            source[this.name],\n            this.forbiddenActionTypes,\n            parent.isDesignMode()\n        );\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: Action | undefined,\n        context: SerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            value ? value.toJSON(context) : undefined,\n            undefined,\n            true\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly forbiddenActionTypes: string[] = []\n    ) {\n        super(targetVersion, name, undefined);\n    }\n}\n\nexport abstract class BaseTextBlock extends CardElement {\n    //#region Schema\n\n    static readonly textProperty = new StringProperty(Versions.v1_0, \"text\", true);\n    static readonly sizeProperty = new EnumProperty(Versions.v1_0, \"size\", Enums.TextSize);\n    static readonly weightProperty = new EnumProperty(Versions.v1_0, \"weight\", Enums.TextWeight);\n    static readonly colorProperty = new EnumProperty(Versions.v1_0, \"color\", Enums.TextColor);\n    static readonly isSubtleProperty = new BoolProperty(Versions.v1_0, \"isSubtle\");\n    static readonly fontTypeProperty = new EnumProperty(Versions.v1_2, \"fontType\", Enums.FontType);\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // selectAction is declared on BaseTextBlock but is only exposed on TextRun,\n        // so the property is removed from the BaseTextBlock schema.\n        schema.remove(BaseTextBlock.selectActionProperty);\n    }\n\n    @property(BaseTextBlock.sizeProperty)\n    size?: Enums.TextSize;\n\n    @property(BaseTextBlock.weightProperty)\n    weight?: Enums.TextWeight;\n\n    @property(BaseTextBlock.colorProperty)\n    color?: Enums.TextColor;\n\n    @property(BaseTextBlock.fontTypeProperty)\n    fontType?: Enums.FontType;\n\n    @property(BaseTextBlock.isSubtleProperty)\n    isSubtle?: boolean;\n\n    @property(BaseTextBlock.textProperty)\n    get text(): string | undefined {\n        return this.getValue(BaseTextBlock.textProperty);\n    }\n\n    set text(value: string | undefined) {\n        this.setText(value);\n    }\n\n    @property(BaseTextBlock.selectActionProperty)\n    selectAction?: Action;\n\n    //#endregion\n\n    protected getFontSize(fontType: FontTypeDefinition): number {\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                return fontType.fontSizes.small;\n            case Enums.TextSize.Medium:\n                return fontType.fontSizes.medium;\n            case Enums.TextSize.Large:\n                return fontType.fontSizes.large;\n            case Enums.TextSize.ExtraLarge:\n                return fontType.fontSizes.extraLarge;\n            default:\n                return fontType.fontSizes.default;\n        }\n    }\n\n    protected getColorDefinition(\n        colorSet: ColorSetDefinition,\n        color: Enums.TextColor\n    ): TextColorDefinition {\n        switch (color) {\n            case Enums.TextColor.Accent:\n                return colorSet.accent;\n            case Enums.TextColor.Dark:\n                return colorSet.dark;\n            case Enums.TextColor.Light:\n                return colorSet.light;\n            case Enums.TextColor.Good:\n                return colorSet.good;\n            case Enums.TextColor.Warning:\n                return colorSet.warning;\n            case Enums.TextColor.Attention:\n                return colorSet.attention;\n            default:\n                return colorSet.default;\n        }\n    }\n\n    protected setText(value: string | undefined) {\n        this.setValue(BaseTextBlock.textProperty, value);\n    }\n\n    ariaHidden: boolean = false;\n\n    constructor(text?: string) {\n        super();\n\n        if (text) {\n            this.text = text;\n        }\n    }\n\n    init(textDefinition: BaseTextDefinition) {\n        this.size = textDefinition.size;\n        this.weight = textDefinition.weight;\n        this.color = textDefinition.color;\n        this.isSubtle = textDefinition.isSubtle;\n    }\n\n    asString(): string | undefined {\n        return this.text;\n    }\n\n    applyStylesTo(targetElement: HTMLElement) {\n        const fontType = this.hostConfig.getFontTypeDefinition(this.effectiveFontType);\n\n        if (fontType.fontFamily) {\n            targetElement.style.fontFamily = fontType.fontFamily;\n        }\n\n        let fontSize: number;\n\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                fontSize = fontType.fontSizes.small;\n                break;\n            case Enums.TextSize.Medium:\n                fontSize = fontType.fontSizes.medium;\n                break;\n            case Enums.TextSize.Large:\n                fontSize = fontType.fontSizes.large;\n                break;\n            case Enums.TextSize.ExtraLarge:\n                fontSize = fontType.fontSizes.extraLarge;\n                break;\n            default:\n                fontSize = fontType.fontSizes.default;\n                break;\n        }\n\n        targetElement.style.fontSize = fontSize + \"px\";\n\n        const colorDefinition = this.getColorDefinition(\n            this.getEffectiveStyleDefinition().foregroundColors,\n            this.effectiveColor\n        );\n\n        const targetColor = Utils.stringToCssColor(\n            this.effectiveIsSubtle ? colorDefinition.subtle : colorDefinition.default\n        );\n        if (targetColor) {\n            targetElement.style.color = targetColor;\n        }\n\n        let fontWeight: number;\n\n        switch (this.effectiveWeight) {\n            case Enums.TextWeight.Lighter:\n                fontWeight = fontType.fontWeights.lighter;\n                break;\n            case Enums.TextWeight.Bolder:\n                fontWeight = fontType.fontWeights.bolder;\n                break;\n            default:\n                fontWeight = fontType.fontWeights.default;\n                break;\n        }\n\n        targetElement.style.fontWeight = fontWeight.toString();\n\n        if (this.ariaHidden) {\n            targetElement.setAttribute(\"aria-hidden\", \"true\");\n        }\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n\n        return result;\n    }\n\n    get effectiveColor(): Enums.TextColor {\n        return this.color !== undefined ? this.color : this.getEffectiveTextStyleDefinition().color;\n    }\n\n    get effectiveFontType(): Enums.FontType {\n        return this.fontType !== undefined\n            ? this.fontType\n            : this.getEffectiveTextStyleDefinition().fontType;\n    }\n\n    get effectiveIsSubtle(): boolean {\n        return this.isSubtle !== undefined\n            ? this.isSubtle\n            : this.getEffectiveTextStyleDefinition().isSubtle;\n    }\n\n    get effectiveSize(): Enums.TextSize {\n        return this.size !== undefined ? this.size : this.getEffectiveTextStyleDefinition().size;\n    }\n\n    get effectiveWeight(): Enums.TextWeight {\n        return this.weight !== undefined\n            ? this.weight\n            : this.getEffectiveTextStyleDefinition().weight;\n    }\n}\n\nexport type TextBlockStyle = \"default\" | \"heading\" | \"columnHeader\";\n\nexport class TextBlock extends BaseTextBlock {\n    //#region Schema\n\n    static readonly wrapProperty = new BoolProperty(Versions.v1_0, \"wrap\", false);\n    static readonly maxLinesProperty = new NumProperty(Versions.v1_0, \"maxLines\");\n    static readonly styleProperty = new ValueSetProperty(Versions.v1_5, \"style\", [\n        { value: \"default\" },\n        { value: \"columnHeader\" },\n        { value: \"heading\" }\n    ]);\n\n    @property(TextBlock.wrapProperty)\n    wrap: boolean = false;\n\n    @property(TextBlock.maxLinesProperty)\n    maxLines?: number;\n\n    @property(TextBlock.styleProperty)\n    style?: TextBlockStyle;\n\n    //#endregion\n\n    private _computedLineHeight: number;\n    private _originalInnerHtml: string;\n    private _processedText?: string;\n    private _treatAsPlainText: boolean = true;\n\n    private restoreOriginalContent() {\n        if (this.renderedElement !== undefined) {\n            if (this.maxLines && this.maxLines > 0) {\n                this.renderedElement.style.maxHeight =\n                    this._computedLineHeight * this.maxLines + \"px\";\n            }\n\n            const originalHtml = TextBlock._ttRoundtripPolicy?.createHTML(this._originalInnerHtml) ?? this._originalInnerHtml;\n            this.renderedElement.innerHTML = originalHtml as string;\n        }\n    }\n\n    private truncateIfSupported(maxHeight: number): boolean {\n        if (this.renderedElement !== undefined) {\n            // For now, only truncate TextBlocks that contain just a single\n            // paragraph -- since the maxLines calculation doesn't take into\n            // account Markdown lists\n            const children = this.renderedElement.children;\n            const isTextOnly = !children.length;\n            const truncationSupported =\n                isTextOnly ||\n                (children.length === 1 && (<HTMLElement>children[0]).tagName.toLowerCase() === \"p\" && !(<HTMLElement>children[0]).children.length);\n\n            if (truncationSupported) {\n                const element = isTextOnly ? this.renderedElement : <HTMLElement>children[0];\n\n                Utils.truncateText(element, maxHeight, this._computedLineHeight);\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    // Markdown processing is handled outside of Adaptive Cards. It's up to the host to ensure that markdown is safely\n    // processed.\n    private static readonly _ttMarkdownPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\n        \"adaptivecards#markdownPassthroughPolicy\",\n        { createHTML: (value) => value }\n    );\n\n    // When \"advanced\" truncation is enabled (see GlobalSettings.useAdvancedCardBottomTruncation and\n    // GlobalSettings.useAdvancedTextBlockTruncation), we store the original pre-truncation content in\n    // _originalInnerHtml so that we can restore/recalculate truncation later if space availability has changed (see\n    // TextBlock.restoreOriginalContent())\n    private static readonly _ttRoundtripPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\n        \"adaptivecards#restoreContentsPolicy\",\n        { createHTML: (value) => value }\n    );\n\n    protected setText(value: string) {\n        super.setText(value);\n\n        this._processedText = undefined;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._processedText = undefined;\n\n        if (this.text) {\n            const preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            const hostConfig = this.hostConfig;\n\n            let element: HTMLElement;\n\n            if (this.forElementId) {\n                const labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n\n                element = labelElement;\n            } else {\n                element = document.createElement(\"div\");\n            }\n\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textBlock\"));\n            element.style.overflow = \"hidden\";\n\n            this.applyStylesTo(element);\n\n            if (this.style === \"heading\") {\n                element.setAttribute(\"role\", \"heading\");\n\n                const headingLevel = this.hostConfig.textBlock.headingLevel;\n\n                if (headingLevel !== undefined && headingLevel > 0) {\n                    element.setAttribute(\"aria-level\", headingLevel.toString());\n                }\n            }\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                element.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(element);\n\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n\n            if (!this._processedText) {\n                this._treatAsPlainText = true;\n\n                let formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n\n                if (this.useMarkdown && formattedText) {\n                    if (GlobalSettings.allowMarkForTextHighlighting) {\n                        formattedText = formattedText\n                            .replace(/<mark>/g, \"===\")\n                            .replace(/<\\/mark>/g, \"/==/\");\n                    }\n\n                    const markdownProcessingResult = AdaptiveCard.applyMarkdown(formattedText);\n\n                    if (\n                        markdownProcessingResult.didProcess &&\n                        markdownProcessingResult.outputHtml\n                    ) {\n                        this._processedText = markdownProcessingResult.outputHtml;\n                        this._treatAsPlainText = false;\n\n                        // Only process <mark> tag if markdown processing was applied because\n                        // markdown processing is also responsible for sanitizing the input string\n                        if (GlobalSettings.allowMarkForTextHighlighting && this._processedText) {\n                            let markStyle: string = \"\";\n                            const effectiveStyle = this.getEffectiveStyleDefinition();\n\n                            if (effectiveStyle.highlightBackgroundColor) {\n                                markStyle +=\n                                    \"background-color: \" +\n                                    effectiveStyle.highlightBackgroundColor +\n                                    \";\";\n                            }\n\n                            if (effectiveStyle.highlightForegroundColor) {\n                                markStyle +=\n                                    \"color: \" + effectiveStyle.highlightForegroundColor + \";\";\n                            }\n\n                            if (markStyle) {\n                                markStyle = 'style=\"' + markStyle + '\"';\n                            }\n\n                            this._processedText = this._processedText\n                                .replace(/===/g, \"<mark \" + markStyle + \">\")\n                                .replace(/\\/==\\//g, \"</mark>\");\n                        }\n                    } else {\n                        this._processedText = formattedText;\n                        this._treatAsPlainText = true;\n                    }\n                } else {\n                    this._processedText = formattedText;\n                    this._treatAsPlainText = true;\n                }\n            }\n\n            if (!this._processedText) {\n                this._processedText = \"\";\n            }\n\n            if (this._treatAsPlainText) {\n                element.innerText = this._processedText;\n            } else {\n                const processedHtml =\n                    TextBlock._ttMarkdownPolicy?.createHTML(this._processedText) ??\n                    this._processedText;\n                element.innerHTML = processedHtml as string;\n            }\n\n            if (element.firstElementChild instanceof HTMLElement) {\n                const firstElementChild = element.firstElementChild;\n                firstElementChild.style.marginTop = \"0px\";\n                firstElementChild.style.width = \"100%\";\n\n                if (!this.wrap) {\n                    firstElementChild.style.overflow = \"hidden\";\n                    firstElementChild.style.textOverflow = \"ellipsis\";\n                }\n            }\n\n            if (element.lastElementChild instanceof HTMLElement) {\n                element.lastElementChild.style.marginBottom = \"0px\";\n            }\n\n            const anchors = element.getElementsByTagName(\"a\");\n\n            for (const anchor of Array.from(anchors)) {\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n                anchor.target = \"_blank\";\n                anchor.onclick = (e: MouseEvent) => {\n                    if (raiseAnchorClickedEvent(this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                    }\n                };\n                anchor.oncontextmenu = (e: MouseEvent) => {\n                    if (raiseAnchorClickedEvent(this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        return false;\n                    }\n\n                    return true;\n                };\n            }\n\n            if (this.wrap) {\n                element.style.wordWrap = \"break-word\";\n\n                if (this.maxLines && this.maxLines > 0) {\n                    element.style.overflow = \"hidden\";\n\n                    if (Utils.isInternetExplorer() || !GlobalSettings.useWebkitLineClamp) {\n                        element.style.maxHeight = this._computedLineHeight * this.maxLines + \"px\";\n                    } else {\n                        // While non standard, --webkit-line-clamp works in every browser (except IE)\n                        // and is a great solution to support the maxLines feature with ellipsis\n                        // truncation. With --webkit-line-clamp there is need to use explicit line heights\n                        element.style.removeProperty(\"line-height\");\n                        element.style.display = \"-webkit-box\";\n                        element.style.webkitBoxOrient = \"vertical\";\n                        element.style.webkitLineClamp = this.maxLines.toString();\n                    }\n                }\n            } else {\n                element.style.whiteSpace = \"nowrap\";\n                element.style.textOverflow = \"ellipsis\";\n            }\n\n            if (\n                GlobalSettings.useAdvancedTextBlockTruncation ||\n                GlobalSettings.useAdvancedCardBottomTruncation\n            ) {\n                this._originalInnerHtml = element.innerHTML;\n            }\n\n            return element;\n        } else {\n            return undefined;\n        }\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        if (maxHeight >= this._computedLineHeight) {\n            return this.truncateIfSupported(maxHeight);\n        }\n\n        return false;\n    }\n\n    protected undoOverflowTruncation() {\n        this.restoreOriginalContent();\n\n        if (GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines) {\n            const maxHeight = this._computedLineHeight * this.maxLines;\n\n            this.truncateIfSupported(maxHeight);\n        }\n    }\n\n    useMarkdown: boolean = true;\n    forElementId?: string;\n\n    applyStylesTo(targetElement: HTMLElement) {\n        super.applyStylesTo(targetElement);\n\n        switch (this.getEffectiveHorizontalAlignment()) {\n            case Enums.HorizontalAlignment.Center:\n                targetElement.style.textAlign = \"center\";\n                break;\n            case Enums.HorizontalAlignment.Right:\n                targetElement.style.textAlign = \"end\";\n                break;\n            default:\n                targetElement.style.textAlign = \"start\";\n                break;\n        }\n\n        const lineHeights = this.hostConfig.lineHeights;\n\n        if (lineHeights) {\n            switch (this.effectiveSize) {\n                case Enums.TextSize.Small:\n                    this._computedLineHeight = lineHeights.small;\n                    break;\n                case Enums.TextSize.Medium:\n                    this._computedLineHeight = lineHeights.medium;\n                    break;\n                case Enums.TextSize.Large:\n                    this._computedLineHeight = lineHeights.large;\n                    break;\n                case Enums.TextSize.ExtraLarge:\n                    this._computedLineHeight = lineHeights.extraLarge;\n                    break;\n                default:\n                    this._computedLineHeight = lineHeights.default;\n                    break;\n            }\n        } else {\n            // Looks like 1.33 is the magic number to compute line-height\n            // from font size.\n            this._computedLineHeight =\n                this.getFontSize(this.hostConfig.getFontTypeDefinition(this.effectiveFontType)) *\n                1.33;\n        }\n\n        targetElement.style.lineHeight = this._computedLineHeight + \"px\";\n    }\n\n    getJsonTypeName(): string {\n        return \"TextBlock\";\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.style) {\n            return this.hostConfig.textStyles.getStyleByName(this.style);\n        }\n\n        return super.getEffectiveTextStyleDefinition();\n    }\n\n    updateLayout(processChildren: boolean = false) {\n        super.updateLayout(processChildren);\n\n        if (GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines && this.isDisplayed()) {\n            // Reset the element's innerHTML in case the available room for\n            // content has increased\n            this.restoreOriginalContent();\n            this.truncateIfSupported(this._computedLineHeight * this.maxLines);\n        }\n    }\n}\n\nexport class TextRun extends BaseTextBlock {\n    //#region Schema\n\n    static readonly italicProperty = new BoolProperty(Versions.v1_2, \"italic\", false);\n    static readonly strikethroughProperty = new BoolProperty(Versions.v1_2, \"strikethrough\", false);\n    static readonly highlightProperty = new BoolProperty(Versions.v1_2, \"highlight\", false);\n    static readonly underlineProperty = new BoolProperty(Versions.v1_3, \"underline\", false);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.add(BaseTextBlock.selectActionProperty);\n    }\n\n    @property(TextRun.italicProperty)\n    italic: boolean = false;\n\n    @property(TextRun.strikethroughProperty)\n    strikethrough: boolean = false;\n\n    @property(TextRun.highlightProperty)\n    highlight: boolean = false;\n\n    @property(TextRun.underlineProperty)\n    underline: boolean = false;\n\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this.text) {\n            const preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            const hostConfig = this.hostConfig;\n\n            let formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n\n            if (!formattedText) {\n                formattedText = \"\";\n            }\n\n            const element = document.createElement(\"span\");\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textRun\"));\n\n            this.applyStylesTo(element);\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                const anchor = document.createElement(\"a\");\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n\n                const href = this.selectAction.getHref();\n\n                anchor.href = href ? href : \"\";\n                anchor.target = \"_blank\";\n                anchor.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(anchor);\n\n                anchor.innerText = formattedText;\n\n                element.appendChild(anchor);\n            } else {\n                element.innerText = formattedText;\n            }\n\n            return element;\n        } else {\n            return undefined;\n        }\n    }\n\n    applyStylesTo(targetElement: HTMLElement) {\n        super.applyStylesTo(targetElement);\n\n        if (this.italic) {\n            targetElement.style.fontStyle = \"italic\";\n        }\n\n        if (this.strikethrough) {\n            targetElement.style.textDecoration = \"line-through\";\n        }\n\n        if (this.highlight) {\n            const colorDefinition = this.getColorDefinition(\n                this.getEffectiveStyleDefinition().foregroundColors,\n                this.effectiveColor\n            );\n\n            const backgroundColor = Utils.stringToCssColor(\n                this.effectiveIsSubtle\n                    ? colorDefinition.highlightColors.subtle\n                    : colorDefinition.highlightColors.default\n            );\n            if (backgroundColor) {\n                targetElement.style.backgroundColor = backgroundColor;\n            }\n        }\n\n        if (this.underline) {\n            targetElement.style.textDecoration = \"underline\";\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"TextRun\";\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n\n    get isInline(): boolean {\n        return true;\n    }\n}\n\nexport class RichTextBlock extends CardElement {\n    private _inlines: CardElement[] = [];\n\n    private internalAddInline(inline: CardElement, forceAdd: boolean = false) {\n        if (!inline.isInline) {\n            throw new Error(Strings.errors.elementCannotBeUsedAsInline());\n        }\n\n        const doAdd: boolean = inline.parent === undefined || forceAdd;\n\n        if (!doAdd && inline.parent !== this) {\n            throw new Error(Strings.errors.inlineAlreadyParented());\n        } else {\n            inline.setParent(this);\n\n            this._inlines.push(inline);\n        }\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._inlines = [];\n\n        if (Array.isArray(source[\"inlines\"])) {\n            for (const jsonInline of source[\"inlines\"]) {\n                let inline: CardElement | undefined;\n\n                if (typeof jsonInline === \"string\") {\n                    const textRun = new TextRun();\n                    textRun.text = jsonInline;\n\n                    inline = textRun;\n                } else {\n                    // No fallback for inlines in 1.2\n                    inline = context.parseElement(this, jsonInline, [], false);\n                }\n\n                if (inline) {\n                    this.internalAddInline(inline, true);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        if (this._inlines.length > 0) {\n            const jsonInlines: any[] = [];\n\n            for (const inline of this._inlines) {\n                jsonInlines.push(inline.toJSON(context));\n            }\n\n            context.serializeValue(target, \"inlines\", jsonInlines);\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this._inlines.length > 0) {\n            let element: HTMLElement;\n\n            if (this.forElementId) {\n                const labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n\n                element = labelElement;\n            } else {\n                element = document.createElement(\"div\");\n            }\n\n            element.className = this.hostConfig.makeCssClassName(\"ac-richTextBlock\");\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.textAlign = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.textAlign = \"end\";\n                    break;\n                default:\n                    element.style.textAlign = \"start\";\n                    break;\n            }\n\n            let renderedInlines: number = 0;\n\n            for (const inline of this._inlines) {\n                const renderedInline = inline.render();\n\n                if (renderedInline) {\n                    element.appendChild(renderedInline);\n\n                    renderedInlines++;\n                }\n            }\n\n            if (renderedInlines > 0) {\n                return element;\n            }\n        }\n\n        return undefined;\n    }\n\n    forElementId?: string;\n\n    asString(): string | undefined {\n        let result = \"\";\n\n        for (const inline of this._inlines) {\n            result += inline.asString();\n        }\n\n        return result;\n    }\n\n    getJsonTypeName(): string {\n        return \"RichTextBlock\";\n    }\n\n    getInlineCount(): number {\n        return this._inlines.length;\n    }\n\n    getInlineAt(index: number): CardElement {\n        if (index >= 0 && index < this._inlines.length) {\n            return this._inlines[index];\n        } else {\n            throw new Error(Strings.errors.indexOutOfRange(index));\n        }\n    }\n\n    addInline(inline: CardElement | string) {\n        if (typeof inline === \"string\") {\n            this.internalAddInline(new TextRun(inline));\n        } else {\n            this.internalAddInline(inline);\n        }\n    }\n\n    removeInline(inline: CardElement): boolean {\n        const index = this._inlines.indexOf(inline);\n\n        if (index >= 0) {\n            this._inlines[index].setParent(undefined);\n            this._inlines.splice(index, 1);\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\nexport class Fact extends SerializableObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n\n    // For historic reasons, the \"title\" schema property is exposed as \"name\" in the OM.\n    @property(Fact.titleProperty)\n    name?: string;\n\n    @property(Fact.valueProperty)\n    value?: string;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"Fact\";\n    }\n\n    constructor(name?: string, value?: string) {\n        super();\n\n        this.name = name;\n        this.value = value;\n    }\n}\n\nexport class FactSet extends CardElement {\n    //#region Schema\n\n    static readonly factsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"facts\",\n        Fact\n    );\n\n    @property(FactSet.factsProperty)\n    facts: Fact[];\n\n    //#endregion\n\n    protected get useDefaultSizing(): boolean {\n        return false;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n        const hostConfig = this.hostConfig;\n\n        if (this.facts.length > 0) {\n            element = document.createElement(\"table\");\n            element.style.borderWidth = \"0px\";\n            element.style.borderSpacing = \"0px\";\n            element.style.borderStyle = \"none\";\n            element.style.borderCollapse = \"collapse\";\n            element.style.display = \"block\";\n            element.style.overflow = \"hidden\";\n            element.classList.add(hostConfig.makeCssClassName(\"ac-factset\"));\n            element.setAttribute(\"role\", \"presentation\");\n\n            for (let i = 0; i < this.facts.length; i++) {\n                const trElement = document.createElement(\"tr\");\n\n                if (i > 0) {\n                    trElement.style.marginTop = hostConfig.factSet.spacing + \"px\";\n                }\n\n                // Title column\n                let tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-title\"));\n\n                if (hostConfig.factSet.title.maxWidth) {\n                    tdElement.style.maxWidth = hostConfig.factSet.title.maxWidth + \"px\";\n                }\n\n                tdElement.style.verticalAlign = \"top\";\n\n                let textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text =\n                    !this.facts[i].name && this.isDesignMode() ? \"Title\" : this.facts[i].name;\n                textBlock.size = hostConfig.factSet.title.size;\n                textBlock.color = hostConfig.factSet.title.color;\n                textBlock.isSubtle = hostConfig.factSet.title.isSubtle;\n                textBlock.weight = hostConfig.factSet.title.weight;\n                textBlock.wrap = hostConfig.factSet.title.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n\n                // Spacer column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.width = \"10px\";\n\n                Utils.appendChild(trElement, tdElement);\n\n                // Value column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.style.verticalAlign = \"top\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-value\"));\n\n                textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text = this.facts[i].value;\n                textBlock.size = hostConfig.factSet.value.size;\n                textBlock.color = hostConfig.factSet.value.color;\n                textBlock.isSubtle = hostConfig.factSet.value.isSubtle;\n                textBlock.weight = hostConfig.factSet.value.weight;\n                textBlock.wrap = hostConfig.factSet.value.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n                Utils.appendChild(element, trElement);\n            }\n        }\n\n        return element;\n    }\n\n    getJsonTypeName(): string {\n        return \"FactSet\";\n    }\n}\n\nclass ImageDimensionProperty extends PropertyDefinition {\n    getInternalName(): string {\n        return this.internalName;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        let result: number | undefined = undefined;\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n\n        let isValid = false;\n\n        if (typeof sourceValue === \"string\") {\n            try {\n                const size = SizeAndUnit.parse(sourceValue, true);\n\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n\n                    isValid = true;\n                }\n            } catch {\n                // Swallow the exception\n            }\n\n            // If the source value isn't valid per this property definition,\n            // check its validity per the fallback property, if specified\n            if (!isValid && this.fallbackProperty) {\n                isValid = this.fallbackProperty.isValidValue(sourceValue, context);\n            }\n        }\n\n        if (!isValid) {\n            context.logParseEvent(\n                sender,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidPropertyValue(sourceValue, this.name)\n            );\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly internalName: string,\n        readonly fallbackProperty?: ValueSetProperty\n    ) {\n        super(targetVersion, name);\n    }\n}\n\nexport class Image extends CardElement {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n    static readonly altTextProperty = new StringProperty(Versions.v1_0, \"altText\");\n    static readonly backgroundColorProperty = new StringProperty(Versions.v1_1, \"backgroundColor\");\n    static readonly styleProperty = new EnumProperty(\n        Versions.v1_0,\n        \"style\",\n        Enums.ImageStyle,\n        Enums.ImageStyle.Default\n    );\n    static readonly sizeProperty = new EnumProperty(\n        Versions.v1_0,\n        \"size\",\n        Enums.Size,\n        Enums.Size.Auto\n    );\n    static readonly pixelWidthProperty = new ImageDimensionProperty(\n        Versions.v1_1,\n        \"width\",\n        \"pixelWidth\"\n    );\n    static readonly pixelHeightProperty = new ImageDimensionProperty(\n        Versions.v1_1,\n        \"height\",\n        \"pixelHeight\",\n        CardElement.heightProperty\n    );\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    static readonly shouldForceLoadProperty = new BoolProperty(Versions.v1_6, \"forceLoad\", false);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.remove(CardElement.heightProperty);\n    }\n\n    public renderedImageElement?: HTMLElement;\n\n    @property(Image.urlProperty)\n    url?: string;\n\n    @property(Image.altTextProperty)\n    altText?: string;\n\n    @property(Image.backgroundColorProperty)\n    backgroundColor?: string;\n\n    @property(Image.sizeProperty)\n    size: Enums.Size = Enums.Size.Auto;\n\n    @property(Image.styleProperty)\n    style: Enums.ImageStyle = Enums.ImageStyle.Default;\n\n    @property(Image.pixelWidthProperty)\n    pixelWidth?: number;\n\n    @property(Image.pixelHeightProperty)\n    pixelHeight?: number;\n\n    @property(Image.selectActionProperty)\n    selectAction?: Action;\n\n    @property(Image.shouldForceLoadProperty)\n    forceLoad: boolean;\n\n    //#endregion\n\n    private applySize(element: HTMLElement) {\n        if (this.pixelWidth || this.pixelHeight) {\n            if (this.pixelWidth) {\n                element.style.width = this.pixelWidth + \"px\";\n            }\n\n            if (this.pixelHeight) {\n                element.style.height = this.pixelHeight + \"px\";\n            }\n        } else {\n            if (this.maxHeight) {\n                // If the image is constrained in height, we set its height property and\n                // auto and stretch are ignored (default to medium). THis is necessary for\n                // ImageSet which uses a maximum image height as opposed to the cards width\n                // as a constraining dimension\n                switch (this.size) {\n                    case Enums.Size.Small:\n                        element.style.height = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.height = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    default:\n                        element.style.height = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n\n                element.style.maxHeight = this.maxHeight + \"px\";\n            } else {\n                switch (this.size) {\n                    case Enums.Size.Stretch:\n                        element.style.width = \"100%\";\n                        break;\n                    case Enums.Size.Auto:\n                        element.style.maxWidth = \"100%\";\n                        break;\n                    case Enums.Size.Small:\n                        element.style.width = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.width = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    case Enums.Size.Medium:\n                        element.style.width = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n\n                element.style.maxHeight = \"100%\";\n            }\n        }\n    }\n\n    protected get useDefaultSizing() {\n        return false;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n\n        if (this.url) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.alignItems = \"flex-start\";\n\n            // Cache hostConfig to avoid walking the parent hierarchy multiple times\n            const hostConfig = this.hostConfig;\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n\n            const imageElement = document.createElement(\"img\");\n\n            this.renderedImageElement = imageElement;\n\n            imageElement.onload = (_e: Event) => {\n                raiseImageLoadedEvent(this);\n            };\n            imageElement.onerror = (_e: Event) => {\n                if (this.renderedElement) {\n                    const card = this.getRootElement() as AdaptiveCard;\n\n                    clearElement(this.renderedElement);\n\n                    if (card && card.designMode) {\n                        const errorElement = document.createElement(\"div\");\n                        errorElement.style.display = \"flex\";\n                        errorElement.style.alignItems = \"center\";\n                        errorElement.style.justifyContent = \"center\";\n                        errorElement.style.backgroundColor = \"#EEEEEE\";\n                        errorElement.style.color = \"black\";\n                        errorElement.innerText = \":-(\";\n                        errorElement.style.padding = \"10px\";\n\n                        this.applySize(errorElement);\n\n                        this.renderedElement.appendChild(errorElement);\n                    }\n                }\n\n                raiseImageLoadedEvent(this);\n            };\n            imageElement.style.minWidth = \"0\";\n            imageElement.classList.add(hostConfig.makeCssClassName(\"ac-image\"));\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                imageElement.onkeypress = (e) => {\n                    if (\n                        this.selectAction &&\n                        this.selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")\n                    ) {\n                        // enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                imageElement.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(imageElement);\n\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    imageElement.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n\n            this.applySize(imageElement);\n\n            if (this.style === Enums.ImageStyle.Person) {\n                imageElement.style.borderRadius = \"50%\";\n                imageElement.style.backgroundPosition = \"50% 50%\";\n                imageElement.style.backgroundRepeat = \"no-repeat\";\n            }\n\n            const backgroundColor = Utils.stringToCssColor(this.backgroundColor);\n            if (backgroundColor) {\n                imageElement.style.backgroundColor = backgroundColor;\n            }\n\n            this.setImageSource(imageElement);    \n\n            const altTextProperty = this.preProcessPropertyValue(Image.altTextProperty);\n            if (altTextProperty) {\n                imageElement.alt = <string>altTextProperty;\n            }\n\n            element.appendChild(imageElement);\n        }\n\n        return element;\n    }\n\n    maxHeight?: number;\n\n    getJsonTypeName(): string {\n        return \"Image\";\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n\n        return result;\n    }\n\n    getActionById(id: string) {\n        let result = super.getActionById(id);\n\n        if (!result && this.selectAction) {\n            result = this.selectAction.getActionById(id);\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this.url ? [{ url: this.url, mimeType: \"image\" }] : [];\n    }\n\n    private setImageSource(imageElement: HTMLImageElement): void {\n        const imageForceLoader: ImageForceLoader = new ImageForceLoader(this.forceLoad, this.url);\n        imageForceLoader.configureImage(this);\n        imageElement.src = <string>this.preProcessPropertyValue(Image.urlProperty);\n        imageForceLoader.resetImage(this);\n    } \n}\n\n// configures Image element to fetch a new image data from url source instead of relying on cache\n// currently rudimentary refreshing scheme is used\n// by attaching unique query string to url, we bypass the cache usage\nclass ImageForceLoader{\n    private uniqueHash : string;\n    public readonly urlWithForceLoadOption : string;\n    constructor(\n        readonly doForceLoad: boolean,\n        readonly url : string | undefined,\n    )\n    {\n        if (url && url.length && doForceLoad) {\n            // we can do better by appending unique key such as uuid instead of epoch\n            // however the current usage is for front-end ui and networking,  \n            // since ui is running in single main thread, this is sufficient mechanism\n            // without needing to depend on external library for our small use cases.\n            this.uniqueHash = '?' + Date.now();\n            this.urlWithForceLoadOption = url + this.uniqueHash;\n        }\n    }\n\n    public configureImage(image: Image): void {\n        if (this.urlWithForceLoadOption && this.urlWithForceLoadOption.length) {\n            image.url = this.urlWithForceLoadOption;\n        }\n    }\n\n    public resetImage(image: Image): void {\n        image.url = this.url;\n    }\n}\n\nexport abstract class CardElementContainer extends CardElement {\n    //#region Schema\n\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        if (!this.isSelectable) {\n            schema.remove(CardElementContainer.selectActionProperty);\n        }\n    }\n\n    @property(CardElementContainer.selectActionProperty)\n    protected _selectAction?: Action;\n\n    //#endregion\n\n    protected isElementAllowed(element: CardElement) {\n        return this.hostConfig.supportsInteractivity || !element.isInteractive;\n    }\n\n    protected applyPadding() {\n        super.applyPadding();\n\n        if (!this.renderedElement) {\n            return;\n        }\n\n        let physicalPadding = new SpacingDefinition();\n\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                this.getEffectivePadding()\n            );\n        }\n\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n\n        this.renderedElement.style.marginRight = \"0\";\n        this.renderedElement.style.marginLeft = \"0\";\n    }\n\n    protected get isSelectable(): boolean {\n        return false;\n    }\n\n    protected forbiddenChildElements(): string[] {\n        return [];\n    }\n\n    abstract getItemCount(): number;\n    abstract getItemAt(index: number): CardElement;\n    abstract getFirstVisibleRenderedItem(): CardElement | undefined;\n    abstract getLastVisibleRenderedItem(): CardElement | undefined;\n    abstract removeItem(item: CardElement): boolean;\n\n    allowVerticalOverflow: boolean = false;\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).releaseDOMResources();\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            const item = this.getItemAt(i);\n\n            if (!this.hostConfig.supportsInteractivity && item.isInteractive) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InteractivityNotAllowed,\n                    Strings.errors.interactivityNotAllowed()\n                );\n            }\n\n            if (!this.isElementAllowed(item)) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InteractivityNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(item.getJsonTypeName())\n                );\n            }\n\n            item.internalValidateProperties(context);\n        }\n\n        if (this._selectAction) {\n            this._selectAction.internalValidateProperties(context);\n        }\n    }\n\n    render(): HTMLElement | undefined {\n        const element = super.render();\n\n        if (element) {\n            const hostConfig = this.hostConfig;\n\n            if (this.allowVerticalOverflow) {\n                element.style.overflowX = \"hidden\";\n                element.style.overflowY = \"auto\";\n            }\n\n            if (\n                element &&\n                this.isSelectable &&\n                this._selectAction &&\n                hostConfig.supportsInteractivity\n            ) {\n                element.onclick = (e) => {\n                    if (this._selectAction && this._selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this._selectAction.execute();\n                    }\n                };\n\n                element.onkeypress = (e) => {\n                    if (\n                        this._selectAction &&\n                        this._selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")\n                    ) {\n                        // Enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this._selectAction.execute();\n                    }\n                };\n\n                this._selectAction.setupElementForAccessibility(element);\n\n                if (this._selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n        }\n\n        return element;\n    }\n\n    updateLayout(processChildren: boolean = true) {\n        super.updateLayout(processChildren);\n\n        if (processChildren) {\n            for (let i = 0; i < this.getItemCount(); i++) {\n                this.getItemAt(i).updateLayout();\n            }\n        }\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result: Input[] = [];\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getAllInputs(processActions));\n        }\n\n        return result;\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getAllActions());\n        }\n\n        if (this._selectAction) {\n            result.push(this._selectAction);\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result: IResourceInformation[] = [];\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getResourceInformation());\n        }\n\n        return result;\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            for (let i = 0; i < this.getItemCount(); i++) {\n                result = this.getItemAt(i).getElementById(id);\n\n                if (result) {\n                    break;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        let target: CardObject | undefined = undefined;\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            // recur through child elements\n            target = this.getItemAt(i).findDOMNodeOwner(node);\n\n            if (target) {\n                return target;\n            }\n        }\n\n        // If not found in children, check the actions\n        for (let i = 0; i < this.getActionCount(); i++) {\n            target = this.getActionAt(i)?.findDOMNodeOwner(node);\n\n            if (target) {\n                return target;\n            }\n        }\n\n        // if not found in children or actions, defer to parent implementation\n        return super.findDOMNodeOwner(node);\n    }\n}\n\nexport class ImageSet extends CardElementContainer {\n    //#region Schema\n\n    static readonly imagesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"images\",\n        Image,\n        (sender: SerializableObject, item: Image) => {\n            item.setParent(<CardElement>sender);\n        }\n    );\n\n    static readonly imageSizeProperty = new EnumProperty(\n        Versions.v1_0,\n        \"imageSize\",\n        Enums.ImageSize,\n        Enums.ImageSize.Medium\n    );\n\n    static readonly imagePresentationStyle = new EnumProperty(\n        Versions.v1_6,\n        \"style\",\n        Enums.ImageSetPresentationStyle,\n        Enums.ImageSetPresentationStyle.Default\n    );\n\n    static readonly pixelOffset = new NumProperty(\n        Versions.v1_6,\n        \"offset\",\n        0,\n        undefined\n    );\n\n    @property(ImageSet.imagesProperty)\n    private _images: Image[] = [];\n\n    @property(ImageSet.imageSizeProperty)\n    imageSize: Enums.ImageSize = Enums.ImageSize.Medium;\n\n    @property(ImageSet.imagePresentationStyle)\n    presentationStyle: Enums.ImageSetPresentationStyle = Enums.ImageSetPresentationStyle.Default;\n\n    @property(ImageSet.pixelOffset)\n    pixelOffset: number = 0;\n\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n\n        if (this._images.length > 0) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.flexWrap = \"wrap\";\n\n            for (const image of this._images) {\n                switch (this.imageSize) {\n                    case Enums.ImageSize.Small:\n                        image.size = Enums.Size.Small;\n                        break;\n                    case Enums.ImageSize.Large:\n                        image.size = Enums.Size.Large;\n                        break;\n                    default:\n                        image.size = Enums.Size.Medium;\n                        break;\n                }\n\n                image.maxHeight = this.hostConfig.imageSet.maxImageHeight;\n\n                const renderedImage = image.render();\n\n                if (renderedImage) {\n                    renderedImage.style.display = \"inline-flex\";\n                    renderedImage.style.margin = \"0px\";\n                    if (this.presentationStyle == Enums.ImageSetPresentationStyle.Default) {\n                        renderedImage.style.marginRight = \"10px\";\n                    }\n\n                    Utils.appendChild(element, renderedImage);\n                }\n            }\n            if (this.presentationStyle == Enums.ImageSetPresentationStyle.Stacked) {\n                this.applyStackedPresentationStyle();\n            }\n        }\n        \n\n        return element;\n    }\n\n    applyStackedPresentationStyle() {\n        if (this._images[0].renderedImageElement) {\n            let dimension = StackedImageConfigurator.parseNumericPixelDimension(this._images[0].renderedImageElement.style.height);\n            let bgColor = this.getEffectiveBackgroundColor();\n            if (dimension) {\n                let stackedImageConfigurator = new StackedImageConfigurator(this.pixelOffset, \n                    dimension, bgColor);\n                stackedImageConfigurator.configureImagesArrayAsStackedLayout(this._images);\n            }\n        }\n    }\n\n    getEffectiveBackgroundColor() : string | undefined {\n        let parentContainer = this.getParentContainer();\n        let style = parentContainer?.getEffectiveStyle();\n\n        const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n            style,\n            this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n        );\n\n        return Utils.stringToCssColor(styleDefinition.backgroundColor);\n    }\n\n    getItemCount(): number {\n        return this._images.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._images[index];\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        return this._images && this._images.length > 0 ? this._images[0] : undefined;\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        return this._images && this._images.length > 0\n            ? this._images[this._images.length - 1]\n            : undefined;\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof Image) {\n            const itemIndex = this._images.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._images.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getJsonTypeName(): string {\n        return \"ImageSet\";\n    }\n\n    addImage(image: Image) {\n        if (!image.parent) {\n            this._images.push(image);\n\n            image.setParent(this);\n        } else {\n            throw new Error(\"This image already belongs to another ImageSet\");\n        }\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof Image ? this._images.indexOf(cardElement) : -1;\n    }\n}\n\nclass StackedImageConfigurator {\n    private sign45 = 0.7071;\n    private maxImageCounts: number = 2;\n    private offset: number = 0;\n    private normalizationConstant: number = 0;\n    private border: number = 5;\n    private dimension: number = 0;\n    private style: string;\n\n    constructor(offset: number, dimension: number, style: string | undefined) {\n        this.dimension = dimension;\n        this.normalizationConstant = (dimension * this.sign45 - 0.5 * dimension) * 2;\n        // offset determines how far images are placed from each other\n        // at zero, images are separated only by the border\n        // there is no restriction on how far they are apart in positive values, their actual\n        // positioning is limited by maximum size imposed by Image renderer\n        // a negative value can decrease upto the diameter of the image since a value less than the diameter\n        // put the images past each other, and the use of such value is not reasonable request\n        // users should change image positions in such case.\n        this.offset = this.sign45 * (Math.max(offset, -dimension) - this.normalizationConstant);\n        this.style = style ? style : \"\";\n    }\n\n    private moveImageRight(element: HTMLElement) {\n        element.style.marginLeft = this.offset + \"px\";\n    }\n\n    private moveImageUp(element: HTMLElement) {\n        element.style.marginBottom = this.offset + this.dimension+ \"px\";\n    }\n\n    private moveImageDown(element: HTMLElement) {\n        element.style.marginTop = this.offset + this.dimension + \"px\";\n    }\n\n    private makeImageRound(element: HTMLElement) {\n        element.style.borderRadius = \"50%\";\n        element.style.backgroundPosition = \"50% 50%\";\n        element.style.backgroundRepeat = \"no-repeat\";\n    }\n\n    private applyBorder(element: HTMLElement) {\n        element.style.height = (this.dimension + this.border * 2) + \"px\";\n        element.style.border = this.border + \"px\" + \" solid \" + this.style;\n    }\n\n    private configureImageForBottomLeft(element: HTMLElement) {\n        this.moveImageDown(element);\n        this.makeImageRound(element); \n        this.applyBorder(element);\n        element.style.zIndex = \"2\";\n    }\n\n    private configureImageForTopRight(element: HTMLElement) {\n        this.moveImageUp(element);\n        this.moveImageRight(element);\n        this.makeImageRound(element); \n        element.style.zIndex = \"1\";\n    }\n\n    // stacked layout is applied when there are two images in ImageSet,\n    // first image in the ImageSet is put bottom left of ImageSet,\n    // second image is placed top right diagonally to the first image at 45 angle\n    // first image is placed over the second image should the overlap to occur.\n    public configureImagesArrayAsStackedLayout(elements: Array<Image>) {\n        if (elements.length == 1) {\n            if (elements[0].renderedImageElement) {\n                this.makeImageRound(elements[0].renderedImageElement); \n            }\n        }\n        else if (elements.length <= this.maxImageCounts) {\n            if (elements[0].renderedImageElement && elements[1].renderedImageElement) {\n                this.configureImageForBottomLeft(elements[0].renderedImageElement);\n                this.configureImageForTopRight(elements[1].renderedImageElement);\n            }\n        }\n    }\n\n    public static parseNumericPixelDimension(dimension: string): number | undefined  {\n        if (dimension?.substring(dimension.length - 2) == 'px') {\n            return parseInt(dimension.substring(0, dimension.length - 2));\n        }\n        return undefined;\n    }\n}\n\nexport abstract class ContentSource extends SerializableObject {\n    //#region Schema\n\n    static readonly mimeTypeProperty = new StringProperty(Versions.v1_1, \"mimeType\");\n    static readonly urlProperty = new StringProperty(Versions.v1_1, \"url\");\n\n    @property(ContentSource.mimeTypeProperty)\n    mimeType?: string;\n\n    @property(ContentSource.urlProperty)\n    url?: string;\n\n    //#endregion\n\n    constructor(url?: string, mimeType?: string) {\n        super();\n\n        this.url = url;\n        this.mimeType = mimeType;\n    }\n\n    isValid(): boolean {\n        return this.mimeType && this.url ? true : false;\n    }\n}\n\nexport class CaptionSource extends ContentSource {\n    //#region Schema\n\n    static readonly labelProperty = new StringProperty(Versions.v1_6, \"label\");\n\n    @property(CaptionSource.labelProperty)\n    label?: string;\n\n    //#endregion\n\n    constructor(url?: string, mimeType?: string, label?: string) {\n        super(url, mimeType);\n\n        this.label = label;\n    }\n\n    protected getSchemaKey(): string {\n        return \"CaptionSource\";\n    }\n\n    render(): HTMLElement | undefined {\n        let result: HTMLTrackElement | undefined = undefined;\n\n        if (this.isValid()) {\n            result = document.createElement(\"track\");\n            result.src = this.url!;\n            result.kind = \"captions\";\n            result.label = this.label!;\n        }\n\n        return result;\n    }\n}\n\nexport class MediaSource extends ContentSource {\n    protected getSchemaKey(): string {\n        return \"MediaSource\";\n    }\n\n    render(): HTMLElement | undefined {\n        let result: HTMLSourceElement | undefined = undefined;\n\n        if (this.isValid()) {\n            result = document.createElement(\"source\");\n            result.src = this.url!;\n            result.type = this.mimeType!;\n        }\n\n        return result;\n    }\n}\n\nexport abstract class MediaPlayer {\n    private _posterUrl?: string;\n\n    abstract canPlay(): boolean;\n    abstract render(): HTMLElement;\n    abstract fetchVideoDetails(): Promise<void>;\n\n    play() {\n        // Do nothing in base implementation\n    }\n\n    get posterUrl(): string | undefined {\n        return this._posterUrl;\n    }\n\n    protected set posterUrl(value: string | undefined) {\n        this._posterUrl = value;\n    }\n\n    get selectedMediaType(): string | undefined {\n        return undefined;\n    }\n}\n\nexport class HTML5MediaPlayer extends MediaPlayer {\n    private _selectedMediaType?: string;\n    private _selectedSources: MediaSource[] = [];\n    private _captionSources: CaptionSource[] = [];\n    private _mediaElement?: HTMLMediaElement;\n\n    private processSources() {\n        this._selectedSources = [];\n        this._captionSources = [];\n        this._selectedMediaType = undefined;\n\n        for (const source of this.owner.sources) {\n            const mimeComponents = source.mimeType ? source.mimeType.split(\"/\") : [];\n\n            if (mimeComponents.length === 2) {\n                if (!this._selectedMediaType) {\n                    const index = HTML5MediaPlayer.supportedMediaTypes.indexOf(mimeComponents[0]);\n\n                    if (index >= 0) {\n                        this._selectedMediaType = HTML5MediaPlayer.supportedMediaTypes[index];\n                    }\n                }\n                if (mimeComponents[0] === this._selectedMediaType) {\n                    this._selectedSources.push(source);\n                }\n            }\n        }\n\n        this._captionSources.push(...this.owner.captionSources);\n    }\n\n    static readonly supportedMediaTypes = [\"audio\", \"video\"];\n\n    constructor(readonly owner: Media) {\n        super();\n\n        this.processSources();\n    }\n\n    canPlay(): boolean {\n        return this._selectedSources.length > 0;\n    }\n\n    async fetchVideoDetails() {\n        // Nothing to fetch for the HTML5 media player\n    }\n\n    render(): HTMLElement {\n        if (this._selectedMediaType === \"video\") {\n            this._mediaElement = document.createElement(\"video\");\n        } else {\n            this._mediaElement = document.createElement(\"audio\");\n        }\n\n        this._mediaElement.setAttribute(\n            \"aria-label\",\n            this.owner.altText ? this.owner.altText : Strings.defaults.mediaPlayerAriaLabel()\n        );\n        this._mediaElement.setAttribute(\"webkit-playsinline\", \"\");\n        this._mediaElement.setAttribute(\"playsinline\", \"\");\n        // We enable crossorigin for cases where the caption file has a different domain than\n        // the video file. If the caption file lives in a different domain than the video file\n        // and crossorigin is not set, then the caption file will fail to load.\n        this._mediaElement.setAttribute(\"crossorigin\", \"\");\n        this._mediaElement.autoplay = true;\n        this._mediaElement.controls = true;\n\n        if (Utils.isMobileOS()) {\n            this._mediaElement.muted = true;\n        }\n\n        this._mediaElement.preload = \"none\";\n        this._mediaElement.style.width = \"100%\";\n\n        for (const source of this.owner.sources) {\n            const renderedSource = source.render();\n\n            Utils.appendChild(this._mediaElement, renderedSource);\n        }\n\n        for (const captionSource of this.owner.captionSources) {\n            if (captionSource.mimeType == \"vtt\") {\n                const renderedCaptionSource = captionSource.render();\n\n                Utils.appendChild(this._mediaElement, renderedCaptionSource);\n            }\n        }\n\n        return this._mediaElement;\n    }\n\n    play() {\n        if (this._mediaElement) {\n            this._mediaElement.play();\n        }\n    }\n\n    get selectedMediaType(): string | undefined {\n        return this._selectedMediaType;\n    }\n}\n\nexport abstract class CustomMediaPlayer extends MediaPlayer {\n    constructor(matches: RegExpExecArray) {\n        super();\n    }\n}\n\nexport abstract class IFrameMediaMediaPlayer extends CustomMediaPlayer {\n    private _videoId?: string;\n\n    constructor(matches: RegExpExecArray, readonly iFrameTitle?: string) {\n        super(matches);\n\n        if (matches.length >= 2) {\n            this._videoId = matches[1];\n        }\n    }\n\n    abstract getEmbedVideoUrl(): string;\n\n    canPlay(): boolean {\n        return this._videoId !== undefined;\n    }\n\n    render(): HTMLElement {\n        let container = document.createElement(\"div\");\n        container.style.position = \"relative\";\n        container.style.width = \"100%\";\n        container.style.height = \"0\";\n        container.style.paddingBottom = \"56.25%\";\n\n        let iFrame = document.createElement(\"iframe\");\n        iFrame.style.position = \"absolute\";\n        iFrame.style.top = \"0\";\n        iFrame.style.left = \"0\";\n        iFrame.style.width = \"100%\";\n        iFrame.style.height = \"100%\";\n        iFrame.src = this.getEmbedVideoUrl();\n        iFrame.frameBorder = \"0\";\n\n        if (this.iFrameTitle) {\n            iFrame.title = this.iFrameTitle;\n        }\n\n        iFrame.allow =\n            \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n        iFrame.allowFullscreen = true;\n\n        container.appendChild(iFrame);\n\n        return container;\n    }\n\n    get videoId(): string | undefined {\n        return this._videoId;\n    }\n}\n\nexport class VimeoPlayer extends IFrameMediaMediaPlayer {\n    async fetchVideoDetails(): Promise<void> {\n        const oEmbedUrl = `https://vimeo.com/api/oembed.json?url=${this.getEmbedVideoUrl()}`;\n\n        let response = await fetch(oEmbedUrl);\n\n        if (response.ok) {\n            let json = await response.json();\n\n            this.posterUrl = json[\"thumbnail_url\"];\n        }\n    }\n\n    getEmbedVideoUrl(): string {\n        return `https://player.vimeo.com/video/${this.videoId}?autoplay=1`;\n    }\n}\n\nexport class DailymotionPlayer extends IFrameMediaMediaPlayer {\n    async fetchVideoDetails(): Promise<void> {\n        const apiUrl = `https://api.dailymotion.com/video/${this.videoId}?fields=thumbnail_720_url`;\n\n        let response = await fetch(apiUrl);\n\n        if (response.ok) {\n            let json = await response.json();\n\n            this.posterUrl = json[\"thumbnail_720_url\"];\n        }\n    }\n\n    getEmbedVideoUrl(): string {\n        return `https://www.dailymotion.com/embed/video/${this.videoId}?autoplay=1`;\n    }\n}\n\nexport class YouTubePlayer extends IFrameMediaMediaPlayer {\n    private _startTimeIndex?: number;\n\n    constructor(matches: RegExpExecArray, readonly iFrameTitle?: string) {\n        super(matches, iFrameTitle);\n\n        if (matches.length >= 3 && matches[2] !== undefined) {\n            this._startTimeIndex = parseInt(matches[2]);\n        }\n    }\n\n    async fetchVideoDetails(): Promise<void> {\n        this.posterUrl = this.videoId\n            ? `https://img.youtube.com/vi/${this.videoId}/maxresdefault.jpg`\n            : undefined;\n    }\n\n    getEmbedVideoUrl(): string {\n        let url = `https://www.youtube.com/embed/${this.videoId}?autoplay=1`;\n\n        if (this._startTimeIndex !== undefined) {\n            url += `&start=${this._startTimeIndex}`;\n        }\n\n        return url;\n    }\n}\n\nexport interface ICustomMediaPlayer {\n    urlPatterns: RegExp[];\n    createMediaPlayer: (matches: RegExpExecArray) => CustomMediaPlayer;\n}\n\nexport class Media extends CardElement {\n    static customMediaPlayers: ICustomMediaPlayer[] = [\n        {\n            urlPatterns: [\n                /^(?:https?:\\/\\/)?(?:www.)?youtube.com\\/watch\\?(?=.*v=([\\w\\d-_]+))(?=(?:.*t=(\\d+))?).*/gi,\n                /^(?:https?:\\/\\/)?youtu.be\\/([\\w\\d-_]+)(?:\\?t=(\\d+))?/gi\n            ],\n            createMediaPlayer: (matches) =>\n                new YouTubePlayer(matches, Strings.defaults.youTubeVideoPlayer())\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?vimeo.com\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: (matches) =>\n                new VimeoPlayer(matches, Strings.defaults.vimeoVideoPlayer())\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?(?:www.)?dailymotion.com\\/video\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: (matches) =>\n                new DailymotionPlayer(matches, Strings.defaults.dailymotionVideoPlayer())\n        }\n    ];\n\n    //#region Schema\n\n    static readonly sourcesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_1,\n        \"sources\",\n        MediaSource\n    );\n    static readonly captionSourcesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_6,\n        \"captionSources\",\n        CaptionSource\n    );\n    static readonly posterProperty = new StringProperty(Versions.v1_1, \"poster\");\n    static readonly altTextProperty = new StringProperty(Versions.v1_1, \"altText\");\n\n    @property(Media.sourcesProperty)\n    sources: MediaSource[] = [];\n\n    @property(Media.captionSourcesProperty)\n    captionSources: CaptionSource[] = [];\n\n    @property(Media.posterProperty)\n    poster?: string;\n\n    @property(Media.altTextProperty)\n    altText?: string;\n\n    //#endregion\n\n    private _mediaPlayer: MediaPlayer;\n\n    private createMediaPlayer(): MediaPlayer {\n        for (let provider of Media.customMediaPlayers) {\n            for (let source of this.sources) {\n                if (source.url) {\n                    for (let pattern of provider.urlPatterns) {\n                        let matches = pattern.exec(source.url);\n\n                        if (matches !== null) {\n                            return provider.createMediaPlayer(matches);\n                        }\n                    }\n                }\n            }\n        }\n\n        return new HTML5MediaPlayer(this);\n    }\n\n    private handlePlayButtonInvoke(event: UIEvent): void {\n        if (this.hostConfig.media.allowInlinePlayback) {\n            event.preventDefault();\n            event.cancelBubble = true;\n\n            if (this.renderedElement) {\n                const mediaPlayerElement = this._mediaPlayer.render();\n                clearElement(this.renderedElement);\n                this.renderedElement.appendChild(mediaPlayerElement);\n\n                this._mediaPlayer.play();\n\n                mediaPlayerElement.focus();\n            }\n        } else {\n            if (Media.onPlay) {\n                event.preventDefault();\n                event.cancelBubble = true;\n\n                Media.onPlay(this);\n            }\n        }\n    }\n\n    private async displayPoster() {\n        if (this.renderedElement) {\n            const playButtonArrowWidth = 12;\n            const playButtonArrowHeight = 15;\n\n            const posterRootElement = document.createElement(\"div\");\n            posterRootElement.className = this.hostConfig.makeCssClassName(\"ac-media-poster\");\n            posterRootElement.setAttribute(\"role\", \"contentinfo\");\n            posterRootElement.setAttribute(\n                \"aria-label\",\n                this.altText ? this.altText : Strings.defaults.mediaPlayerAriaLabel()\n            );\n            posterRootElement.style.position = \"relative\";\n            posterRootElement.style.display = \"flex\";\n\n            let posterUrl = this.poster ? this.poster : this._mediaPlayer.posterUrl;\n\n            if (!posterUrl) {\n                posterUrl = this.hostConfig.media.defaultPoster;\n            }\n\n            if (posterUrl) {\n                const posterImageElement = document.createElement(\"img\");\n                posterImageElement.style.width = \"100%\";\n                posterImageElement.style.height = \"100%\";\n                posterImageElement.setAttribute(\"role\", \"presentation\");\n\n                posterImageElement.onerror = (_e: Event) => {\n                    if (posterImageElement.parentNode) {\n                        posterImageElement.parentNode.removeChild(posterImageElement);\n                    }\n\n                    posterRootElement.classList.add(\"empty\");\n                    posterRootElement.style.minHeight = \"150px\";\n                };\n\n                posterImageElement.src = posterUrl;\n\n                posterRootElement.appendChild(posterImageElement);\n            } else {\n                posterRootElement.classList.add(\"empty\");\n                posterRootElement.style.minHeight = \"150px\";\n            }\n\n            if (this.hostConfig.supportsInteractivity && this._mediaPlayer.canPlay()) {\n                const playButtonOuterElement = document.createElement(\"div\");\n                playButtonOuterElement.tabIndex = 0;\n                playButtonOuterElement.setAttribute(\"role\", \"button\");\n                playButtonOuterElement.setAttribute(\n                    \"aria-label\",\n                    Strings.defaults.mediaPlayerPlayMedia()\n                );\n                playButtonOuterElement.className =\n                    this.hostConfig.makeCssClassName(\"ac-media-playButton\");\n                playButtonOuterElement.style.display = \"flex\";\n                playButtonOuterElement.style.alignItems = \"center\";\n                playButtonOuterElement.style.justifyContent = \"center\";\n                playButtonOuterElement.onclick = (e) => {\n                    this.handlePlayButtonInvoke(e);\n                };\n\n                playButtonOuterElement.onkeypress = (e: KeyboardEvent) => {\n                    if (e.code === \"Enter\" || e.code === \"Space\") {\n                        // space or enter\n                        this.handlePlayButtonInvoke(e);\n                    }\n                };\n\n                const playButtonInnerElement = document.createElement(\"div\");\n                playButtonInnerElement.className = this.hostConfig.makeCssClassName(\n                    \"ac-media-playButton-arrow\"\n                );\n                playButtonInnerElement.style.width = playButtonArrowWidth + \"px\";\n                playButtonInnerElement.style.height = playButtonArrowHeight + \"px\";\n                playButtonInnerElement.style.borderTopWidth = playButtonArrowHeight / 2 + \"px\";\n                playButtonInnerElement.style.borderBottomWidth = playButtonArrowHeight / 2 + \"px\";\n                playButtonInnerElement.style.borderLeftWidth = playButtonArrowWidth + \"px\";\n                playButtonInnerElement.style.borderRightWidth = \"0\";\n                playButtonInnerElement.style.borderStyle = \"solid\";\n                playButtonInnerElement.style.borderTopColor = \"transparent\";\n                playButtonInnerElement.style.borderRightColor = \"transparent\";\n                playButtonInnerElement.style.borderBottomColor = \"transparent\";\n                playButtonInnerElement.style.transform =\n                    \"translate(\" + playButtonArrowWidth / 10 + \"px,0px)\";\n\n                playButtonOuterElement.appendChild(playButtonInnerElement);\n\n                const playButtonContainer = document.createElement(\"div\");\n                playButtonContainer.style.position = \"absolute\";\n                playButtonContainer.style.left = \"0\";\n                playButtonContainer.style.top = \"0\";\n                playButtonContainer.style.width = \"100%\";\n                playButtonContainer.style.height = \"100%\";\n                playButtonContainer.style.display = \"flex\";\n                playButtonContainer.style.justifyContent = \"center\";\n                playButtonContainer.style.alignItems = \"center\";\n\n                playButtonContainer.appendChild(playButtonOuterElement);\n                posterRootElement.appendChild(playButtonContainer);\n            }\n\n            clearElement(this.renderedElement);\n            this.renderedElement.appendChild(posterRootElement);\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = <HTMLElement>document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-media\");\n\n        return element;\n    }\n\n    static onPlay?: (sender: Media) => void;\n\n    render(): HTMLElement | undefined {\n        let result = super.render();\n\n        if (result) {\n            this._mediaPlayer = this.createMediaPlayer();\n\n            this._mediaPlayer.fetchVideoDetails().then(() => this.displayPoster());\n        }\n\n        return result;\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this.displayPoster();\n    }\n\n    getJsonTypeName(): string {\n        return \"Media\";\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        const result: IResourceInformation[] = [];\n\n        if (this._mediaPlayer) {\n            const posterUrl = this.poster ? this.poster : this.hostConfig.media.defaultPoster;\n\n            if (posterUrl) {\n                result.push({ url: posterUrl, mimeType: \"image\" });\n            }\n        }\n\n        for (const mediaSource of this.sources) {\n            if (mediaSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `mediaSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: mediaSource.url!,\n                    mimeType: mediaSource.mimeType!\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n\n        for (const captionSource of this.captionSources) {\n            if (captionSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `captionSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: captionSource.url!,\n                    mimeType: captionSource.mimeType!\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n\n        return result;\n    }\n\n    get selectedMediaType(): string | undefined {\n        return this._mediaPlayer.selectedMediaType;\n    }\n}\n\nenum InputEventType {\n    InitialRender,\n    MouseEnterOnCard,\n    MouseLeaveOnCard,\n    FocusLeave\n}\n\nexport abstract class Input extends CardElement implements IInput {\n    \n    //#region Schema\n    static readonly labelProperty = new StringProperty(Versions.v1_3, \"label\", true);\n    static readonly isRequiredProperty = new BoolProperty(Versions.v1_3, \"isRequired\", false);\n    static readonly errorMessageProperty = new StringProperty(Versions.v1_3, \"errorMessage\", true);\n    static readonly inputStyleProperty = new EnumProperty(\n        Versions.v1_6,\n        \"inputStyle\",\n        Enums.InputStyle,\n        Enums.InputStyle.Default,\n        [\n            { value: Enums.InputStyle.RevealOnHover },\n            { value: Enums.InputStyle.Default }\n        ]\n    );\n    static readonly labelWidthProperty = new CustomProperty<SizeAndUnit | undefined>(\n        Versions.v1_6,\n        \"labelWidth\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: SizeAndUnit | undefined = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidLabelWidth = false;\n            \n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, Enums.SizeUnit.Weight);\n                if (result.physicalSize < 0 || result.physicalSize > 100) {\n                    invalidLabelWidth = true;\n                }\n            }\n            else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n                } catch (e) {\n                    invalidLabelWidth = true;\n                }\n            } else {\n                invalidLabelWidth = true;\n            }\n\n            if (invalidLabelWidth) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidInputLabelWidth()\n                );\n                result = undefined;\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: SizeAndUnit | undefined,\n            context: BaseSerializationContext\n        ) => {\n            if (value instanceof SizeAndUnit) {\n                if (value.unit === Enums.SizeUnit.Pixel) {\n                    context.serializeValue(target, \"labelWidth\", value.physicalSize + \"px\");\n                } else {\n                    context.serializeNumber(target, \"labelWidth\", value.physicalSize);\n                }\n            }\n        },\n        undefined\n    );\n\n    static readonly labelPositionProperty = new EnumProperty(\n        Versions.v1_6,\n        \"labelPosition\",\n        Enums.InputLabelPosition,\n        Enums.InputLabelPosition.Above,\n        [\n            { value: Enums.InputLabelPosition.Inline },\n            { value: Enums.InputLabelPosition.Above }\n        ]\n    );\n\n    @property(Input.labelProperty)\n    label?: string;\n\n    @property(Input.isRequiredProperty)\n    isRequired: boolean;\n\n    @property(Input.errorMessageProperty)\n    errorMessage?: string;\n\n    @property(Input.inputStyleProperty)\n    inputStyle: Enums.InputStyle = Enums.InputStyle.Default;\n    \n    @property(Input.labelWidthProperty)\n    labelWidth?: SizeAndUnit;\n\n    @property(Input.labelPositionProperty)\n    labelPosition?: Enums.InputLabelPosition;\n\n    //#endregion\n\n    private _outerContainerElement: HTMLElement;\n    private _inputControlContainerElement: HTMLElement;\n    private _renderedErrorMessageElement?: HTMLElement;\n    private _renderedLabelElement?: HTMLElement;\n    private _renderedInputControlElement?: HTMLElement;\n    private _oldValue: any;\n\n    protected getAllLabelIds(): string[] {\n        const labelIds: string[] = [];\n\n        if (this.labelledBy) {\n            labelIds.push(this.labelledBy);\n        }\n\n        if (this._renderedLabelElement) {\n            labelIds.push(this._renderedLabelElement.id);\n        }\n\n        if (this._renderedErrorMessageElement) {\n            labelIds.push(this._renderedErrorMessageElement.id);\n        }\n\n        return labelIds;\n    }\n\n    protected updateInputControlAriaLabelledBy() {\n        if (this._renderedInputControlElement) {\n            const labelIds: string[] = this.getAllLabelIds();\n\n            if (labelIds.length > 0) {\n                this._renderedInputControlElement.setAttribute(\n                    \"aria-labelledby\",\n                    labelIds.join(\" \")\n                );\n            } else {\n                this._renderedInputControlElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    }\n\n    protected get isNullable(): boolean {\n        return true;\n    }\n\n    protected get renderedInputControlElement(): HTMLElement | undefined {\n        return this._renderedInputControlElement;\n    }\n\n    protected get inputControlContainerElement(): HTMLElement {\n        return this._inputControlContainerElement;\n    }\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        const hostConfig = this.hostConfig;\n\n        this._outerContainerElement = document.createElement(\"div\");\n        this._outerContainerElement.style.display = \"flex\";\n        if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n            this._outerContainerElement.style.flexDirection = \"row\";\n        } else {\n            this._outerContainerElement.style.flexDirection = \"column\";\n        }\n\n        const renderedInputControlId = Utils.generateUniqueId();\n\n        if (this.label) {\n            const labelRichTextBlock = new RichTextBlock();\n            labelRichTextBlock.setParent(this);\n            labelRichTextBlock.forElementId = renderedInputControlId;\n\n            const labelInline = new TextRun(this.label);\n            labelRichTextBlock.addInline(labelInline);\n\n            if (this.isRequired) {\n                labelInline.init(hostConfig.inputs.label.requiredInputs);\n\n                const isRequiredCueInline = new TextRun(\n                    hostConfig.inputs.label.requiredInputs.suffix\n                );\n                isRequiredCueInline.color = hostConfig.inputs.label.requiredInputs.suffixColor;\n                isRequiredCueInline.ariaHidden = true;\n\n                labelRichTextBlock.addInline(isRequiredCueInline);\n            } else {\n                labelInline.init(hostConfig.inputs.label.optionalInputs);\n            }\n\n            this._renderedLabelElement = labelRichTextBlock.render();\n\n            if (this._renderedLabelElement) {\n                this._renderedLabelElement.id = Utils.generateUniqueId();\n                if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n                    // For inline label position: label should be in center of the div and no extra spacing needed\n                    this._renderedLabelElement.style.alignSelf = \"center\";\n                } else {\n                    this._renderedLabelElement.style.marginBottom =\n                        hostConfig.getEffectiveSpacing(hostConfig.inputs.label.inputSpacing) + \"px\";\n                }\n                this._outerContainerElement.appendChild(this._renderedLabelElement);\n            }\n        }\n\n        this._inputControlContainerElement = document.createElement(\"div\");\n        this._inputControlContainerElement.className =\n            hostConfig.makeCssClassName(\"ac-input-container\");\n        this._inputControlContainerElement.style.display = \"flex\";\n\n        if (this.height === \"stretch\") {\n            this._inputControlContainerElement.style.alignItems = \"stretch\";\n            this._inputControlContainerElement.style.flex = \"1 1 auto\";\n        }\n\n        this._renderedInputControlElement = this.internalRender();\n\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.id = renderedInputControlId;\n            this._renderedInputControlElement.style.minWidth = \"0px\";\n\n            if (this.isNullable && this.isRequired) {\n                this._renderedInputControlElement.setAttribute(\"aria-required\", \"true\");\n                this._renderedInputControlElement.classList.add(\n                    hostConfig.makeCssClassName(\"ac-input-required\")\n                );\n            }\n\n            this._inputControlContainerElement.appendChild(this._renderedInputControlElement);\n            this._outerContainerElement.appendChild(this._inputControlContainerElement);\n\n            if (this._renderedLabelElement && this.labelPosition === Enums.InputLabelPosition.Inline) {\n                if (!this.labelWidth) {\n                    const defaultLabelWidth = hostConfig.inputs.label.width;\n                    this._renderedLabelElement.style.width = defaultLabelWidth.toString() + \"%\";\n                    this._inputControlContainerElement.style.width = (100 - defaultLabelWidth) + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Weight) {\n                    const labelWidthInPercent = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPercent.toString() + \"%\";\n                    this._inputControlContainerElement.style.width = (100 - labelWidthInPercent).toString() + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Pixel) {\n                    const labelWidthInPixel = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPixel.toString() + \"px\";\n                }\n            }\n\n            this.updateVisualState(InputEventType.InitialRender);\n            if (this._renderedInputControlElement) {\n                this._renderedInputControlElement.onblur = (ev: MouseEvent) => {\n                    this.updateVisualState(InputEventType.FocusLeave);\n                };\n            }\n            this.updateInputControlAriaLabelledBy();\n\n            return this._outerContainerElement;\n        }\n\n        this.resetDirtyState();\n\n        return undefined;\n    }\n\n    protected valueChanged() {\n        this.getRootElement().updateActionsEnabledState();\n\n        if (this.isValid()) {\n            this.resetValidationFailureCue();\n        }\n\n        if (this.onValueChanged) {\n            this.onValueChanged(this);\n        }\n\n        raiseInputValueChangedEvent(this);\n    }\n\n    protected resetValidationFailureCue() {\n        if (this.renderedInputControlElement) {\n            if (this instanceof ChoiceSetInput && this.isDynamicTypeahead()) {\n                this.removeValidationFailureCue();\n            } else {\n                this.renderedInputControlElement.classList.remove(\n                    this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n                );\n            }\n\n            this.updateInputControlAriaLabelledBy();\n\n            if (this._renderedErrorMessageElement) {\n                this._outerContainerElement.removeChild(this._renderedErrorMessageElement);\n\n                this._renderedErrorMessageElement = undefined;\n            }\n        }\n    }\n\n    protected showValidationErrorMessage() {\n        if (\n            this.renderedElement &&\n            this.errorMessage &&\n            GlobalSettings.displayInputValidationErrors\n        ) {\n            const errorMessageTextBlock = new TextBlock();\n            errorMessageTextBlock.setParent(this);\n            errorMessageTextBlock.text = this.errorMessage;\n            errorMessageTextBlock.wrap = true;\n            errorMessageTextBlock.init(this.hostConfig.inputs.errorMessage);\n\n            this._renderedErrorMessageElement = errorMessageTextBlock.render();\n\n            if (this._renderedErrorMessageElement) {\n                this._renderedErrorMessageElement.id = Utils.generateUniqueId();\n                this._outerContainerElement.appendChild(this._renderedErrorMessageElement);\n\n                this.updateInputControlAriaLabelledBy();\n            }\n        }\n    }\n\n    protected get allowRevealOnHoverStyle() {\n        return this.hostConfig.inputs && this.hostConfig.inputs.allowRevealOnHoverStyle;\n    }\n\n    protected shouldHideInputAdornersForRevealOnHover(input: HTMLElement, eventType: InputEventType) {\n        // show/hide input adorners (date picker, time picker, select dropdown picker) with inputStyle RevealOnHover\n        // 1. intial render of card: hide input adorners\n        // 2. mouse hover on the card: show input adorners\n        // 3. mouse hover outside the card: hide input adorners unless input is still in focus state\n        // 4. input loses focus: hide the input adorners unless mouse is still hovering on the card\n    \n        // check if input still has the focus\n        const isInputInFocus = input === document.activeElement;\n    \n        // check if mouse is still on the card\n        const inputHoverClassName = this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\");\n        const isMouseOverCard = input.classList.contains(inputHoverClassName);\n    \n        const hideInputAdorners = (eventType === InputEventType.InitialRender) ||\n                                  (eventType === InputEventType.FocusLeave && !isMouseOverCard) ||\n                                  (eventType === InputEventType.MouseLeaveOnCard && !isInputInFocus);\n        return hideInputAdorners;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle || \n            !this._renderedInputControlElement || \n            this.inputStyle !== Enums.InputStyle.RevealOnHover) {\n            return;\n        }\n        if (eventType === InputEventType.InitialRender) {\n            // on initial render, we will show input fields as read only view\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onrender\"));\n        }\n        else if (eventType === InputEventType.MouseEnterOnCard) {\n            // on hover on the card, we will reveal the inputs by showing borders etc\n            // ac-inputStyle-revealOnHover-onhover class is also used to identify if mouse is hovering on the card\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        } else if (eventType === InputEventType.MouseLeaveOnCard) {\n            this._renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        }\n    }\n\n    onValueChanged: (sender: Input) => void;\n\n    labelledBy?: string;\n\n    abstract isSet(): boolean;\n\n    focus() {\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.focus();\n        }\n    }\n\n    isValid(): boolean {\n        return true;\n    }\n\n    isDirty(): boolean {\n        return this.value !== this._oldValue;\n    }\n\n    resetDirtyState() {\n        this._oldValue = this.value;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.id) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.inputsMustHaveUniqueId()\n            );\n        }\n\n        if (this.isRequired) {\n            if (!this.label) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.RequiredInputsShouldHaveLabel,\n                    \"Required inputs should have a label\"\n                );\n            }\n\n            if (!this.errorMessage) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.RequiredInputsShouldHaveErrorMessage,\n                    \"Required inputs should have an error message\"\n                );\n            }\n        }\n    }\n\n    validateValue(): boolean {\n        this.resetValidationFailureCue();\n\n        const result = this.isRequired ? this.isSet() && this.isValid() : this.isValid();\n\n        if (!result && this.renderedInputControlElement) {\n            if (this instanceof ChoiceSetInput && this.isDynamicTypeahead()) {\n                this.showValidationFailureCue();\n            } else {\n                this.renderedInputControlElement.classList.add(\n                    this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n                );\n            }\n            this.showValidationErrorMessage();\n        }\n\n        return result;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [this];\n    }\n\n    render(): HTMLElement | undefined {\n        let result = super.render();\n\n        this.resetDirtyState();\n\n        return result;\n    }\n\n    abstract get value(): any;\n\n    get isInteractive(): boolean {\n        return true;\n    }\n}\n\nexport class TextInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly maxLengthProperty = new NumProperty(Versions.v1_0, \"maxLength\");\n    static readonly isMultilineProperty = new BoolProperty(Versions.v1_0, \"isMultiline\", false);\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly styleProperty = new EnumProperty(\n        Versions.v1_0,\n        \"style\",\n        Enums.InputTextStyle,\n        Enums.InputTextStyle.Text,\n        [\n            { value: Enums.InputTextStyle.Text },\n            { value: Enums.InputTextStyle.Tel },\n            { value: Enums.InputTextStyle.Url },\n            { value: Enums.InputTextStyle.Email },\n            { value: Enums.InputTextStyle.Password, targetVersion: Versions.v1_5 }\n        ]\n    );\n    static readonly inlineActionProperty = new ActionProperty(Versions.v1_0, \"inlineAction\", [\n        \"Action.ShowCard\"\n    ]);\n    static readonly regexProperty = new StringProperty(Versions.v1_3, \"regex\", true);\n\n    @property(TextInput.valueProperty)\n    defaultValue?: string;\n\n    @property(TextInput.maxLengthProperty)\n    maxLength?: number;\n\n    @property(TextInput.isMultilineProperty)\n    isMultiline: boolean = false;\n\n    @property(TextInput.placeholderProperty)\n    placeholder?: string;\n\n    @property(TextInput.styleProperty)\n    style: Enums.InputTextStyle = Enums.InputTextStyle.Text;\n\n    @property(TextInput.inlineActionProperty)\n    inlineAction?: Action;\n\n    @property(TextInput.regexProperty)\n    regex?: string;\n\n    //#endregion\n\n    private setupInput(input: HTMLInputElement | HTMLTextAreaElement) {\n        input.style.flex = \"1 1 auto\";\n\n        input.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.placeholder) {\n            input.placeholder = this.placeholder;\n            input.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        if (this.defaultValue) {\n            input.value = this.defaultValue;\n        }\n\n        if (this.maxLength && this.maxLength > 0) {\n            input.maxLength = this.maxLength;\n        }\n\n        input.oninput = () => {\n            this.valueChanged();\n        };\n        input.onkeypress = (e: KeyboardEvent) => {\n            // Ctrl+Enter pressed\n            if (\n                e.ctrlKey &&\n                e.code === \"Enter\" &&\n                this.inlineAction &&\n                this.inlineAction.isEffectivelyEnabled()\n            ) {\n                this.inlineAction.execute();\n            }\n        };\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let result: HTMLInputElement | HTMLTextAreaElement;\n\n        if (this.isMultiline && this.style !== Enums.InputTextStyle.Password) {\n            result = document.createElement(\"textarea\");\n            result.className = this.hostConfig.makeCssClassName(\n                \"ac-input\",\n                \"ac-textInput\",\n                \"ac-multiline\"\n            );\n\n            if (this.height === \"stretch\") {\n                result.style.height = \"initial\";\n            }\n        } else {\n            result = document.createElement(\"input\");\n            result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\");\n            result.type = Enums.InputTextStyle[this.style].toLowerCase();\n        }\n\n        this.setupInput(result);\n\n        return result;\n    }\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        const renderedInputControl = super.overrideInternalRender();\n\n        if (this.inlineAction) {\n            const button = document.createElement(\"button\");\n            button.className = this.hostConfig.makeCssClassName(\n                this.inlineAction.isEffectivelyEnabled()\n                    ? \"ac-inlineActionButton\"\n                    : \"ac-inlineActionButton-disabled\"\n            );\n\n            button.onclick = (e) => {\n                if (this.inlineAction && this.inlineAction.isEffectivelyEnabled()) {\n                    e.preventDefault();\n                    e.cancelBubble = true;\n\n                    this.inlineAction.execute();\n                }\n            };\n\n            if (this.inlineAction.iconUrl) {\n                button.classList.add(\"iconOnly\");\n\n                const icon = document.createElement(\"img\");\n                icon.style.height = \"100%\";\n                icon.setAttribute(\"role\", \"presentation\");\n\n                // The below trick is necessary as a workaround in Chrome where the icon is initially displayed\n                // at its native size then resized to 100% of the button's height. This cfreates an unpleasant\n                // flicker. On top of that, Chrome's flex implementation fails to prperly re-layout the button\n                // after the image has loaded and been gicven its final size. The below trick also fixes that.\n                icon.style.display = \"none\";\n                icon.onload = () => {\n                    icon.style.removeProperty(\"display\");\n                };\n                icon.onerror = () => {\n                    button.removeChild(icon);\n                    button.classList.remove(\"iconOnly\");\n                    button.classList.add(\"textOnly\");\n                    button.textContent =\n                        this.inlineAction && this.inlineAction.title\n                            ? this.inlineAction.title\n                            : Strings.defaults.inlineActionTitle();\n                };\n\n                icon.src = this.inlineAction.iconUrl;\n\n                button.appendChild(icon);\n                button.title = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : Strings.defaults.inlineActionTitle();\n            } else {\n                button.classList.add(\"textOnly\");\n                button.textContent = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : Strings.defaults.inlineActionTitle();\n            }\n\n            this.inlineAction.setupElementForAccessibility(button, true);\n\n            button.style.marginLeft = \"8px\";\n\n            this.inputControlContainerElement.appendChild(button);\n        }\n\n        return renderedInputControl;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        if (!(this.inlineAction || this.isMultiline)) {\n            super.updateVisualState(eventType);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Text\";\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.inlineAction) {\n            result.push(this.inlineAction);\n        }\n\n        return result;\n    }\n\n    getActionById(id: string) {\n        let result = super.getActionById(id);\n\n        if (!result && this.inlineAction) {\n            result = this.inlineAction.getActionById(id);\n        }\n\n        return result;\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return true;\n        }\n\n        if (this.regex) {\n            return new RegExp(this.regex, \"g\").test(this.value);\n        }\n\n        return true;\n    }\n\n    get value(): string | undefined {\n        if (this.renderedInputControlElement) {\n            if (this.isMultiline) {\n                return (<HTMLTextAreaElement>this.renderedInputControlElement).value;\n            } else {\n                return (<HTMLInputElement>this.renderedInputControlElement).value;\n            }\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport class ToggleInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueOnProperty = new StringProperty(\n        Versions.v1_0,\n        \"valueOn\",\n        true,\n        undefined,\n        \"true\",\n        (sender: SerializableObject) => {\n            return \"true\";\n        }\n    );\n    static readonly valueOffProperty = new StringProperty(\n        Versions.v1_0,\n        \"valueOff\",\n        true,\n        undefined,\n        \"false\",\n        (sender: SerializableObject) => {\n            return \"false\";\n        }\n    );\n    static readonly wrapProperty = new BoolProperty(Versions.v1_2, \"wrap\", false);\n\n    @property(ToggleInput.valueProperty)\n    defaultValue?: string;\n\n    @property(ToggleInput.titleProperty)\n    title?: string;\n\n    @property(ToggleInput.valueOnProperty)\n    valueOn: string = \"true\";\n\n    @property(ToggleInput.valueOffProperty)\n    valueOff: string = \"false\";\n\n    @property(ToggleInput.wrapProperty)\n    wrap: boolean = false;\n\n    //#endregion\n\n    private _checkboxInputElement: HTMLInputElement;\n    private _checkboxInputLabelElement: HTMLElement | undefined;\n    private _oldCheckboxValue: boolean;\n\n    protected updateInputControlAriaLabelledBy() {\n        if (this._checkboxInputElement) {\n            let joinedLabelIds = this.getAllLabelIds().join(\" \");\n\n            if (this._checkboxInputLabelElement && this._checkboxInputLabelElement.id) {\n                joinedLabelIds += \" \" + this._checkboxInputLabelElement.id;\n            }\n\n            if (joinedLabelIds) {\n                this._checkboxInputElement.setAttribute(\"aria-labelledby\", joinedLabelIds);\n            } else {\n                this._checkboxInputElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-toggleInput\");\n        element.style.width = \"100%\";\n        element.style.display = \"flex\";\n        element.style.alignItems = \"center\";\n\n        this._checkboxInputElement = document.createElement(\"input\");\n        this._checkboxInputElement.id = Utils.generateUniqueId();\n        this._checkboxInputElement.type = \"checkbox\";\n        this._checkboxInputElement.style.display = \"inline-block\";\n        this._checkboxInputElement.style.verticalAlign = \"middle\";\n        this._checkboxInputElement.style.margin = \"0\";\n        this._checkboxInputElement.style.flex = \"0 0 auto\";\n\n        if (this.title) {\n            this._checkboxInputElement.setAttribute(\"aria-label\", this.title);\n        }\n\n        if (this.isRequired) {\n            this._checkboxInputElement.setAttribute(\"aria-required\", \"true\");\n        }\n\n        this._checkboxInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue === this.valueOn) {\n            this._checkboxInputElement.checked = true;\n        }\n\n        this._oldCheckboxValue = this._checkboxInputElement.checked;\n\n        this._checkboxInputElement.onchange = () => {\n            this.valueChanged();\n        };\n\n        Utils.appendChild(element, this._checkboxInputElement);\n\n        if (this.title || this.isDesignMode()) {\n            const label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = this._checkboxInputElement.id;\n            label.hostConfig = this.hostConfig;\n            label.text = !this.title ? this.getJsonTypeName() : this.title;\n            label.useMarkdown = GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n\n            this._checkboxInputLabelElement = label.render();\n\n            if (this._checkboxInputLabelElement) {\n                this._checkboxInputLabelElement.id = Utils.generateUniqueId();\n                this._checkboxInputLabelElement.style.display = \"inline-block\";\n                this._checkboxInputLabelElement.style.flex = \"1 1 auto\";\n                this._checkboxInputLabelElement.style.marginLeft = \"6px\";\n                this._checkboxInputLabelElement.style.verticalAlign = \"middle\";\n\n                const spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n\n                Utils.appendChild(element, spacerElement);\n                Utils.appendChild(element, this._checkboxInputLabelElement);\n            }\n        }\n\n        return element;\n    }\n\n    protected get isNullable(): boolean {\n        return false;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Toggle\";\n    }\n\n    focus() {\n        if (this._checkboxInputElement) {\n            this._checkboxInputElement.focus();\n        }\n    }\n\n    isSet(): boolean {\n        if (this.isRequired) {\n            return this.value === this.valueOn;\n        }\n\n        return this.value ? true : false;\n    }\n\n    isDirty(): boolean {\n        return this._checkboxInputElement\n            ? this._checkboxInputElement.checked !== this._oldCheckboxValue\n            : false;\n    }\n\n    get value(): string | undefined {\n        if (this._checkboxInputElement) {\n            return this._checkboxInputElement.checked ? this.valueOn : this.valueOff;\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport class Choice extends SerializableObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n\n    @property(Choice.titleProperty)\n    title?: string;\n\n    @property(Choice.valueProperty)\n    value?: string;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"Choice\";\n    }\n\n    constructor(title?: string, value?: string) {\n        super();\n\n        this.title = title;\n        this.value = value;\n    }\n}\n\n/**\n * DataQuery class is declared later in the file and derives from subsequent base classes\n * Hence, it cannot be used in ChoiceSetInput.\n * Refactor is needed to separate elements and actions in separate files.\n */\nexport class ChoiceSetInputDataQuery extends SerializableObject {\n    //#region Schema\n\n    static readonly typeProperty = new StringProperty(\n        Versions.v1_6,\n        \"type\",\n        true,\n        new RegExp(\"^Data.Query$\")\n    );\n    static readonly datasetProperty = new StringProperty(Versions.v1_6, \"dataset\");\n    static readonly countProperty = new NumProperty(Versions.v1_6, \"count\");\n    static readonly skipProperty = new NumProperty(Versions.v1_6, \"skip\");\n\n    @property(ChoiceSetInputDataQuery.typeProperty)\n    type: string;\n\n    @property(ChoiceSetInputDataQuery.datasetProperty)\n    dataset: string;\n\n    @property(ChoiceSetInputDataQuery.countProperty)\n    count?: number;\n\n    @property(ChoiceSetInputDataQuery.skipProperty)\n    skip?: number;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"choices.data\";\n    }\n}\n\nexport type FetchedChoice = {\n    title: string;\n    value: string;\n};\n\nexport class ChoiceSetInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly choicesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"choices\",\n        Choice\n    );\n    static readonly choicesDataProperty = new SerializableObjectProperty(\n        Versions.v1_6,\n        \"choices.data\",\n        ChoiceSetInputDataQuery\n    );\n    static readonly styleProperty = new ValueSetProperty(\n        Versions.v1_0,\n        \"style\",\n        [\n            { value: \"compact\" },\n            { value: \"expanded\" },\n            { value: \"filtered\", targetVersion: Versions.v1_5 }\n        ],\n        \"compact\"\n    );\n    static readonly isMultiSelectProperty = new BoolProperty(Versions.v1_0, \"isMultiSelect\", false);\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly wrapProperty = new BoolProperty(Versions.v1_2, \"wrap\", false);\n\n    @property(ChoiceSetInput.valueProperty)\n    defaultValue?: string;\n\n    @property(ChoiceSetInput.styleProperty)\n    style?: \"compact\" | \"expanded\" | \"filtered\";\n\n    get isCompact(): boolean {\n        return !this.style || this.style === \"compact\";\n    }\n\n    set isCompact(value: boolean) {\n        this.style = value ? undefined : \"expanded\";\n    }\n\n    @property(ChoiceSetInput.isMultiSelectProperty)\n    isMultiSelect: boolean = false;\n\n    @property(ChoiceSetInput.placeholderProperty)\n    placeholder?: string;\n\n    @property(ChoiceSetInput.wrapProperty)\n    wrap: boolean = false;\n\n    @property(ChoiceSetInput.choicesProperty)\n    choices: Choice[] = [];\n\n    @property(ChoiceSetInput.choicesDataProperty)\n    choicesData?: ChoiceSetInputDataQuery;\n\n    //#endregion\n\n    private static _uniqueCategoryCounter = 0;\n\n    private static getUniqueCategoryName(): string {\n        const uniqueCategoryName = \"__ac-category\" + ChoiceSetInput._uniqueCategoryCounter;\n\n        ChoiceSetInput._uniqueCategoryCounter++;\n\n        return uniqueCategoryName;\n    }\n\n    private _uniqueCategoryName: string;\n    private _selectElement: HTMLSelectElement | undefined;\n    private _textInput: HTMLInputElement | undefined;\n    private _toggleInputs: HTMLInputElement[] | undefined;\n    private _labels: Array<HTMLElement | undefined>;\n    private _filteredChoiceSet?: FilteredChoiceSet;\n\n    isDynamicTypeahead(): boolean {\n        return (\n            this.hostConfig.inputs.allowDynamicallyFilteredChoiceSet &&\n            !!this.choicesData &&\n            !!this.choicesData.dataset &&\n            this.choicesData.type === \"Data.Query\"\n        );\n    }\n\n    getFilterForDynamicSearch(): string | undefined {\n        return this._textInput?.value;\n    }\n\n    getDropdownElement() {\n        return this._filteredChoiceSet?.dropdown;\n    }\n\n    renderChoices(filter: string, fetchedChoices: FetchedChoice[]) {\n        this._filteredChoiceSet?.processResponse(filter, fetchedChoices);\n    }\n\n    showLoadingIndicator() {\n        this._filteredChoiceSet?.showLoadingIndicator();\n    }\n\n    removeLoadingIndicator() {\n        this._filteredChoiceSet?.removeLoadingIndicator();\n    }\n\n    showErrorIndicator(filter: string, error: string) {\n        this._filteredChoiceSet?.showErrorIndicator(filter, error);\n    }\n\n    showValidationFailureCue() {\n        this._textInput?.classList.add(\n            this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n        );\n    }\n\n    removeValidationFailureCue() {\n        this._textInput?.classList.remove(\n            this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n        );\n    }\n\n    private createPlaceholderOptionWhenValueDoesNotExist(): HTMLElement | undefined {\n        if (!this.value) {\n            const placeholderOption = document.createElement(\"option\");\n            placeholderOption.selected = true;\n            placeholderOption.disabled = true;\n            placeholderOption.hidden = true;\n            placeholderOption.value = \"\";\n\n            if (this.placeholder) {\n                placeholderOption.text = this.placeholder;\n            }\n            return placeholderOption;\n        }\n        return undefined;\n    }\n\n    // Make sure `aria-current` is applied to the currently-selected item\n    private internalApplyAriaCurrent(): void {\n        if (this._selectElement) {\n            const options = this._selectElement.options;\n\n            if (options) {\n                for (const option of Array.from(options)) {\n                    if (option.selected) {\n                        option.setAttribute(\"aria-current\", \"true\");\n                    } else {\n                        option.removeAttribute(\"aria-current\");\n                    }\n                }\n            }\n        }\n    }\n\n    private renderCompoundInput(\n        cssClassName: string,\n        type: \"checkbox\" | \"radio\",\n        defaultValues: string[] | undefined\n    ): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", cssClassName);\n        element.style.width = \"100%\";\n\n        element.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        this._toggleInputs = [];\n        this._labels = [];\n\n        for (const choice of this.choices) {\n            const input = document.createElement(\"input\");\n            input.id = Utils.generateUniqueId();\n            input.type = type;\n            input.style.margin = \"0\";\n            input.style.display = \"inline-block\";\n            input.style.verticalAlign = \"middle\";\n            input.style.flex = \"0 0 auto\";\n            input.name = this.id ? this.id : this._uniqueCategoryName;\n\n            if (this.isRequired) {\n                input.setAttribute(\"aria-required\", \"true\");\n            }\n\n            input.tabIndex = this.isDesignMode() ? -1 : 0;\n\n            if (choice.value) {\n                input.value = choice.value;\n            }\n\n            if (choice.title) {\n                input.setAttribute(\"aria-label\", choice.title);\n            }\n\n            if (defaultValues && choice.value) {\n                if (defaultValues.indexOf(choice.value) >= 0) {\n                    input.checked = true;\n                }\n            }\n\n            input.onchange = () => {\n                this.valueChanged();\n            };\n\n            this._toggleInputs.push(input);\n\n            const compoundInput = document.createElement(\"div\");\n            compoundInput.style.display = \"flex\";\n            compoundInput.style.alignItems = \"center\";\n\n            Utils.appendChild(compoundInput, input);\n\n            const label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = input.id;\n            label.hostConfig = this.hostConfig;\n            label.text = choice.title ? choice.title : \"Choice \" + this._toggleInputs.length;\n            label.useMarkdown = GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n\n            const labelElement = label.render();\n\n            this._labels.push(labelElement);\n\n            if (labelElement) {\n                labelElement.id = Utils.generateUniqueId();\n                labelElement.style.display = \"inline-block\";\n                labelElement.style.flex = \"1 1 auto\";\n                labelElement.style.marginLeft = \"6px\";\n                labelElement.style.verticalAlign = \"middle\";\n\n                const spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n\n                Utils.appendChild(compoundInput, spacerElement);\n                Utils.appendChild(compoundInput, labelElement);\n            }\n\n            Utils.appendChild(element, compoundInput);\n        }\n\n        return element;\n    }\n\n    protected updateInputControlAriaLabelledBy() {\n        if (\n            (this.isMultiSelect || this.style === \"expanded\") &&\n            this._toggleInputs &&\n            this._labels\n        ) {\n            const labelIds: string[] = this.getAllLabelIds();\n\n            for (let i = 0; i < this._toggleInputs.length; i++) {\n                let joinedLabelIds = labelIds.join(\" \");\n                const label = this._labels[i];\n\n                if (label && label.id) {\n                    joinedLabelIds += \" \" + label.id;\n                }\n\n                if (joinedLabelIds) {\n                    this._toggleInputs[i].setAttribute(\"aria-labelledby\", joinedLabelIds);\n                } else {\n                    this._toggleInputs[i].removeAttribute(\"aria-labelledby\");\n                }\n            }\n        } else {\n            super.updateInputControlAriaLabelledBy();\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._uniqueCategoryName = ChoiceSetInput.getUniqueCategoryName();\n        if (this.isDynamicTypeahead()) {\n            const filteredChoiceSet = new FilteredChoiceSet(\n                ChoiceSetInput._uniqueCategoryCounter,\n                this.choices,\n                this.hostConfig\n            );\n            filteredChoiceSet.render();\n\n            if (filteredChoiceSet.textInput) {\n                this._textInput = filteredChoiceSet.textInput;\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n                const onInputChangeEventHandler = Utils.debounce(() => {\n                    filteredChoiceSet.processChoices();\n                    this.valueChanged();\n                    if (this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (this.value) {\n                            this._textInput.removeAttribute(\"placeholder\");\n                            this._textInput.removeAttribute(\"aria-label\");\n                        } else if (this.placeholder) {\n                            this._textInput.placeholder = this.placeholder;\n                            this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                        }\n                    }\n                }, this.hostConfig.inputs.debounceTimeInMilliSeconds);\n                this._textInput.onclick = onInputChangeEventHandler;\n                this._textInput.oninput = onInputChangeEventHandler;\n            }\n            filteredChoiceSet.parent = this;\n            this._filteredChoiceSet = filteredChoiceSet;\n            return filteredChoiceSet.renderedElement;\n        } else if (this.isMultiSelect) {\n            // Render as a list of toggle inputs\n            return this.renderCompoundInput(\n                \"ac-choiceSetInput-multiSelect\",\n                \"checkbox\",\n                this.defaultValue\n                    ? this.defaultValue.split(this.hostConfig.choiceSetInputValueSeparator)\n                    : undefined\n            );\n        } else {\n            if (this.style === \"expanded\") {\n                // Render as a series of radio buttons\n                return this.renderCompoundInput(\n                    \"ac-choiceSetInput-expanded\",\n                    \"radio\",\n                    this.defaultValue ? [this.defaultValue] : undefined\n                );\n            } else if (this.style === \"filtered\") {\n                // Render as a text input coupled with a datalist\n                const inputContainer = document.createElement(\"div\");\n                inputContainer.style.width = \"100%\";\n\n                this._textInput = document.createElement(\"input\");\n                this._textInput.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-multichoiceInput\",\n                    \"ac-choiceSetInput-filtered\"\n                );\n                this._textInput.type = \"text\";\n                this._textInput.style.width = \"100%\";\n                this._textInput.oninput = () => {\n                    this.valueChanged();\n\n                    if (this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (this.value) {\n                            this._textInput.removeAttribute(\"placeholder\");\n                            this._textInput.removeAttribute(\"aria-label\");\n                        } else if (this.placeholder) {\n                            this._textInput.placeholder = this.placeholder;\n                            this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                        }\n                    }\n                };\n\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                const dataList = document.createElement(\"datalist\");\n                dataList.id = Utils.generateUniqueId();\n\n                for (const choice of this.choices) {\n                    const option = document.createElement(\"option\");\n                    // To fix https://stackoverflow.com/questions/29882361/show-datalist-labels-but-submit-the-actual-value\n                    // value is mapped to choice.title other than choice.value\n                    if (choice.title) {\n                        option.value = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                    dataList.appendChild(option);\n                }\n\n                this._textInput.setAttribute(\"list\", dataList.id);\n\n                inputContainer.append(this._textInput, dataList);\n\n                return inputContainer;\n            } else {\n                // Render as a combo box\n                this._selectElement = document.createElement(\"select\");\n                this._selectElement.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-multichoiceInput\",\n                    \"ac-choiceSetInput-compact\"\n                );\n                this._selectElement.style.width = \"100%\";\n\n                this._selectElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                const placeholderOption = this.createPlaceholderOptionWhenValueDoesNotExist();\n\n                Utils.appendChild(this._selectElement, placeholderOption);\n\n                for (const choice of this.choices) {\n                    const option = document.createElement(\"option\");\n                    option.value = choice.value!;\n\n                    if (choice.title) {\n                        option.text = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                    if (choice.value === this.defaultValue) {\n                        option.selected = true;\n                    }\n\n                    Utils.appendChild(this._selectElement, option);\n                }\n\n                this._selectElement.onchange = () => {\n                    this.internalApplyAriaCurrent();\n                    this.valueChanged();\n                };\n\n                this.internalApplyAriaCurrent();\n\n                return this._selectElement;\n            }\n        }\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        if (!this.isMultiSelect && this.isCompact) {\n            super.updateVisualState(eventType);\n\n            if (this._selectElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n                const hideDropDownPicker = this.shouldHideInputAdornersForRevealOnHover(this._selectElement, eventType);\n                \n                if (hideDropDownPicker) {\n                    this._selectElement.style.appearance = \"none\";\n                    this._selectElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                } else {\n                    this._selectElement.style.appearance = \"auto\";\n                    this._selectElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                }\t\t\t\n            }\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.ChoiceSet\";\n    }\n\n    focus() {\n        if (this._toggleInputs && (this.isMultiSelect || this.style === \"expanded\")) {\n            if (this._toggleInputs.length > 0) {\n                this._toggleInputs[0].focus();\n            }\n        } else if (this._textInput) {\n            this._textInput.focus();\n        } else {\n            super.focus();\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this.choices.length === 0) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.CollectionCantBeEmpty,\n                Strings.errors.choiceSetMustHaveAtLeastOneChoice()\n            );\n        }\n\n        for (const choice of this.choices) {\n            if (!choice.title || !choice.value) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.PropertyCantBeNull,\n                    Strings.errors.choiceSetChoicesMustHaveTitleAndValue()\n                );\n            }\n        }\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (this._textInput) {\n            if (this.value === \"\" || this.value === this.placeholder) {\n                return true;\n            }\n            for (const choice of this.choices) {\n                if (this.value === choice.value) {\n                    return true;\n                }\n            }\n            if (this.dynamicChoices) {\n                for (const choice of this.dynamicChoices) {\n                    if (this.value === choice) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n\n        return super.isValid();\n    }\n\n    get value(): string | undefined {\n        if (!this.isMultiSelect) {\n            if (this._selectElement) {\n                return this._selectElement.selectedIndex > 0\n                    ? this._selectElement.value\n                    : undefined;\n            } else if (this._textInput) {\n                for (const choice of this.choices) {\n                    if (choice.title && this._textInput.value === choice.title) {\n                        return choice.value;\n                    }\n                }\n                return this._textInput.value;\n            } else if (this._toggleInputs && this._toggleInputs.length > 0) {\n                for (const toggleInput of this._toggleInputs) {\n                    if (toggleInput.checked) {\n                        return toggleInput.value;\n                    }\n                }\n            }\n\n            return undefined;\n        } else {\n            if (!this._toggleInputs || this._toggleInputs.length === 0) {\n                return undefined;\n            }\n\n            let result: string = \"\";\n\n            for (const toggleInput of this._toggleInputs) {\n                if (toggleInput.checked) {\n                    if (result !== \"\") {\n                        result += this.hostConfig.choiceSetInputValueSeparator;\n                    }\n\n                    result += toggleInput.value;\n                }\n            }\n\n            return result ? result : undefined;\n        }\n    }\n\n    get dynamicChoices() {\n        return this._filteredChoiceSet?.dynamicChoices;\n    }\n}\n\nexport class FilteredChoiceSet {\n    private _parent?: CardObject;\n    private _choiceSetId: number;\n    private _choices: Choice[];\n    private _dynamicChoices: FetchedChoice[];\n    private _visibleChoiceCount: number;\n    private _highlightedChoiceId: number;\n    private _textInput?: HTMLInputElement;\n    private _dropdown?: HTMLDivElement;\n    private _loadingIndicator?: HTMLDivElement;\n    private _errorIndicator?: HTMLDivElement;\n    private _renderedElement?: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    constructor(choiceSetId: number, choices: Choice[], hostConfig?: HostConfig) {\n        this._choiceSetId = choiceSetId;\n        this._choices = choices;\n        this._dynamicChoices = [];\n        this._visibleChoiceCount = 0;\n        this._highlightedChoiceId = -1;\n        this._hostConfig = hostConfig;\n    }\n\n    render() {\n        const choiceSetContainer = document.createElement(\"div\");\n        choiceSetContainer.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-choiceSetInput-filtered-container\"\n        );\n\n        this._textInput = document.createElement(\"input\");\n        this._textInput.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-choiceSetInput-filtered-textbox\"\n        );\n        this._textInput.type = \"text\";\n\n        this._textInput.onkeydown = (event) => {\n            if (event.key === \"ArrowDown\") {\n                event.preventDefault();\n                this.highlightChoice(this._highlightedChoiceId + 1);\n            } else if (event.key === \"ArrowUp\") {\n                event.preventDefault();\n                this.highlightChoice(this._highlightedChoiceId - 1);\n            } else if (event.key === \"Enter\") {\n                const choice = document.getElementById(\n                    `ac-choiceSetInput-${this._choiceSetId}-choice-${this._highlightedChoiceId}`\n                );\n                choice?.click();\n            }\n        };\n\n        this._dropdown = document.createElement(\"div\");\n        this._dropdown.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-choiceSetInput-filtered-dropdown\"\n        );\n\n        choiceSetContainer.append(this._textInput, this._dropdown);\n\n        this._renderedElement = choiceSetContainer;\n    }\n\n    private createChoice(value: string, filter: string, id: number): HTMLSpanElement {\n        const choice = document.createElement(\"span\");\n        choice.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-choiceSetInput-choice\");\n        choice.id = `ac-choiceSetInput-${this._choiceSetId}-choice-${id}`;\n        choice.innerHTML = value.replace(filter, `<b>${filter}</b>`);\n        choice.tabIndex = -1;\n\n        choice.onclick = () => {\n            choice.classList.remove(\n                this.hostConfig.makeCssClassName(\"ac-choiceSetInput-choice-highlighted\")\n            );\n            this._highlightedChoiceId = -1;\n            if (this._textInput) {\n                this._textInput.value = choice.innerText;\n                this._textInput.focus();\n            }\n            if (this._dropdown) {\n                this._dropdown.classList.remove(\n                    this.hostConfig.makeCssClassName(\"ac-choiceSetInput-filtered-dropdown-open\")\n                );\n            }\n        };\n        choice.onmousemove = () => {\n            if (this._highlightedChoiceId !== id) {\n                this.highlightChoice(id, false);\n            }\n        };\n\n        return choice;\n    }\n\n    private highlightChoice(id: number, scrollIntoView: boolean = true) {\n        if (this._visibleChoiceCount > 0) {\n            const currentHighlightedChoice = document.getElementById(\n                `ac-choiceSetInput-${this._choiceSetId}-choice-${this._highlightedChoiceId}`\n            );\n            const nextHighlightedChoice = document.getElementById(\n                `ac-choiceSetInput-${this._choiceSetId}-choice-${id}`\n            );\n            if (nextHighlightedChoice) {\n                currentHighlightedChoice?.classList.remove(\n                    this.hostConfig.makeCssClassName(\"ac-choiceSetInput-choice-highlighted\")\n                );\n                nextHighlightedChoice.classList.add(\n                    this.hostConfig.makeCssClassName(\"ac-choiceSetInput-choice-highlighted\")\n                );\n                if (scrollIntoView) {\n                    nextHighlightedChoice.scrollIntoView();\n                }\n                this._highlightedChoiceId = id;\n            } else if (currentHighlightedChoice && this._highlightedChoiceId !== 0) {\n                this.highlightChoice(0);\n            } else {\n                this.highlightChoice(this._visibleChoiceCount - 1);\n            }\n        }\n    }\n\n    private filterChoices() {\n        const filter = this._textInput?.value.toLowerCase().trim() || \"\";\n        const choices = [...this._choices, ...this._dynamicChoices];\n        for (const choice of choices) {\n            if (choice.title) {\n                const matchIndex = choice.title.toLowerCase().indexOf(filter);\n                if (matchIndex !== -1) {\n                    const matchedText = choice.title.substring(\n                        matchIndex,\n                        matchIndex + filter.length\n                    );\n                    const choiceContainer = this.createChoice(\n                        choice.title,\n                        matchedText,\n                        this._visibleChoiceCount++\n                    );\n                    this._dropdown?.appendChild(choiceContainer);\n                }\n            }\n        }\n    }\n\n    private getStatusIndicator(error?: string): HTMLDivElement {\n        if (error) {\n            if (!this._errorIndicator) {\n                const errorIndicator = document.createElement(\"div\");\n                errorIndicator.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-choiceSetInput-statusIndicator\",\n                    \"ac-choiceSetInput-errorIndicator\"\n                );\n                this._errorIndicator = errorIndicator;\n            }\n            this._errorIndicator.innerText = error;\n            return this._errorIndicator;\n        } else {\n            if (!this._loadingIndicator) {\n                const loadingIndicator = document.createElement(\"div\");\n                loadingIndicator.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-choiceSetInput-statusIndicator\"\n                );\n                this._loadingIndicator = loadingIndicator;\n            }\n            this._loadingIndicator.innerText =\n                this._visibleChoiceCount === 0 ? \"Loading...\" : \"Loading more...\";\n            return this._loadingIndicator;\n        }\n    }\n\n    private resetDropdown() {\n        if (this._dropdown) {\n            Utils.clearElementChildren(this._dropdown);\n            this._visibleChoiceCount = 0;\n            this._highlightedChoiceId = -1;\n        }\n    }\n\n    private showDropdown() {\n        if (this._dropdown?.hasChildNodes()) {\n            this._dropdown.classList.add(\n                this.hostConfig.makeCssClassName(\"ac-choiceSetInput-filtered-dropdown-open\")\n            );\n        }\n    }\n\n    processChoices() {\n        this.resetDropdown();\n        this.filterChoices();\n        this.showDropdown();\n    }\n\n    processResponse(filter: string, fetchedChoices: FetchedChoice[]) {\n        if (filter === this._textInput?.value) {\n            this.resetDropdown();\n            this._dynamicChoices = fetchedChoices;\n            this.filterChoices();\n            if (this._visibleChoiceCount === 0) {\n                this.showErrorIndicator(filter, \"No results found\");\n            }\n        }\n    }\n\n    showLoadingIndicator() {\n        const loadingIndicator = this.getStatusIndicator();\n        this._dropdown?.appendChild(loadingIndicator);\n        this.showDropdown();\n    }\n\n    removeLoadingIndicator() {\n        if (this._loadingIndicator && this._dropdown?.contains(this._loadingIndicator)) {\n            this._dropdown?.removeChild(this._loadingIndicator);\n        }\n    }\n\n    showErrorIndicator(filter: string, error: string) {\n        if (filter === this._textInput?.value) {\n            this.processChoices();\n            const errorIndicator = this.getStatusIndicator(error);\n            this._dropdown?.appendChild(errorIndicator);\n            errorIndicator.scrollIntoView();\n        }\n    }\n\n    get dynamicChoices() {\n        return this._dynamicChoices?.map((choice) => choice.title);\n    }\n\n    get hostConfig(): HostConfig {\n        if (this._hostConfig) {\n            return this._hostConfig;\n        } else {\n            if (this.parent) {\n                return this.parent.hostConfig;\n            } else {\n                return defaultHostConfig;\n            }\n        }\n    }\n\n    set parent(value: CardObject | undefined) {\n        this._parent = value;\n    }\n\n    get parent() {\n        return this._parent;\n    }\n\n    get renderedElement() {\n        return this._renderedElement;\n    }\n\n    get textInput() {\n        return this._textInput;\n    }\n\n    get dropdown() {\n        return this._dropdown;\n    }\n}\n\nexport class NumberInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new NumProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new NumProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new NumProperty(Versions.v1_0, \"max\");\n\n    @property(NumberInput.valueProperty)\n    defaultValue?: number;\n\n    @property(NumberInput.minProperty)\n    min?: number;\n\n    @property(NumberInput.maxProperty)\n    max?: number;\n\n    @property(NumberInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _numberInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._numberInputElement = document.createElement(\"input\");\n        this._numberInputElement.setAttribute(\"type\", \"number\");\n\n        if (this.min !== undefined) {\n            this._numberInputElement.setAttribute(\"min\", this.min.toString());\n        }\n\n        if (this.max !== undefined) {\n            this._numberInputElement.setAttribute(\"max\", this.max.toString());\n        }\n\n        this._numberInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-numberInput\"\n        );\n        this._numberInputElement.style.width = \"100%\";\n\n        this._numberInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue !== undefined) {\n            this._numberInputElement.valueAsNumber = this.defaultValue;\n        }\n\n        if (this.placeholder) {\n            this._numberInputElement.placeholder = this.placeholder;\n            this._numberInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._numberInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        return this._numberInputElement;\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Number\";\n    }\n\n    isSet(): boolean {\n        return this.value !== undefined && !isNaN(this.value);\n    }\n\n    isValid(): boolean {\n        if (this.value === undefined) {\n            return !this.isRequired;\n        }\n\n        let result = true;\n\n        if (this.min !== undefined) {\n            result = result && this.value >= this.min;\n        }\n\n        if (this.max !== undefined) {\n            result = result && this.value <= this.max;\n        }\n\n        return result;\n    }\n\n    get value(): number | undefined {\n        return this._numberInputElement ? this._numberInputElement.valueAsNumber : undefined;\n    }\n\n    set value(value: number | undefined) {\n        if (value && this._numberInputElement) {\n            this._numberInputElement.value = value.toString();\n        }\n    }\n}\n\nexport class DateInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new StringProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new StringProperty(Versions.v1_0, \"max\");\n\n    @property(DateInput.valueProperty)\n    defaultValue?: string;\n\n    @property(DateInput.minProperty)\n    min?: string;\n\n    @property(DateInput.maxProperty)\n    max?: string;\n\n    @property(DateInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _dateInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._dateInputElement = document.createElement(\"input\");\n        this._dateInputElement.setAttribute(\"type\", \"date\");\n\n        if (this.min) {\n            this._dateInputElement.setAttribute(\"min\", this.min);\n        }\n\n        if (this.max) {\n            this._dateInputElement.setAttribute(\"max\", this.max);\n        }\n\n        if (this.placeholder) {\n            this._dateInputElement.placeholder = this.placeholder;\n            this._dateInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._dateInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        this._dateInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-dateInput\"\n        );\n        this._dateInputElement.style.width = \"100%\";\n\n        this._dateInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        if (this.defaultValue) {\n            this._dateInputElement.value = this.defaultValue;\n        }\n\n        return this._dateInputElement;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        super.updateVisualState(eventType);\n\n        if (this._dateInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            const hideDatePicker = this.shouldHideInputAdornersForRevealOnHover(this._dateInputElement, eventType);\n\n            if (hideDatePicker) {\n                this._dateInputElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            } else {\n                this._dateInputElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            }\n\n            updateInputAdornersVisibility(this._dateInputElement, hideDatePicker  /*hide*/);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Date\";\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n\n        const valueAsDate = new Date(this.value);\n\n        let result = true;\n\n        if (this.min) {\n            const minDate = new Date(this.min);\n\n            result = result && valueAsDate >= minDate;\n        }\n\n        if (this.max) {\n            const maxDate = new Date(this.max);\n\n            result = result && valueAsDate <= maxDate;\n        }\n\n        return result;\n    }\n\n    get value(): string | undefined {\n        return this._dateInputElement ? this._dateInputElement.value : undefined;\n    }\n}\n\nexport class TimeProperty extends CustomProperty<string | undefined> {\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(\n            targetVersion,\n            name,\n            (\n                sender: SerializableObject,\n                prop: PropertyDefinition,\n                source: PropertyBag,\n                context: BaseSerializationContext\n            ) => {\n                const value = source[prop.name];\n\n                if (typeof value === \"string\" && value && /^[0-9]{2}:[0-9]{2}$/.test(value)) {\n                    return value;\n                }\n\n                return undefined;\n            },\n            (\n                sender: SerializableObject,\n                prop: PropertyDefinition,\n                target: PropertyBag,\n                value: string | undefined,\n                context: BaseSerializationContext\n            ) => {\n                context.serializeValue(target, prop.name, value);\n            }\n        );\n    }\n}\n\nexport class TimeInput extends Input {\n    private static convertTimeStringToDate(timeString: string): Date {\n        return new Date(\"1973-09-04T\" + timeString + \":00Z\");\n    }\n\n    //#region Schema\n\n    static readonly valueProperty = new TimeProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new TimeProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new TimeProperty(Versions.v1_0, \"max\");\n\n    @property(TimeInput.valueProperty)\n    defaultValue?: string;\n\n    @property(TimeInput.minProperty)\n    min?: string;\n\n    @property(TimeInput.maxProperty)\n    max?: string;\n\n    @property(TimeInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _timeInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._timeInputElement = document.createElement(\"input\");\n        this._timeInputElement.setAttribute(\"type\", \"time\");\n\n        if (this.min) {\n            this._timeInputElement.setAttribute(\"min\", this.min);\n        }\n\n        if (this.max) {\n            this._timeInputElement.setAttribute(\"max\", this.max);\n        }\n\n        this._timeInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-timeInput\"\n        );\n        this._timeInputElement.style.width = \"100%\";\n        this._timeInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        if (this.placeholder) {\n            this._timeInputElement.placeholder = this.placeholder;\n            this._timeInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._timeInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue) {\n            this._timeInputElement.value = this.defaultValue;\n        }\n\n        return this._timeInputElement;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n        \n        super.updateVisualState(eventType);\n\n        if (this._timeInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            const hideTimePicker = this.shouldHideInputAdornersForRevealOnHover(this._timeInputElement, eventType);\n\n            if (hideTimePicker) {\n                this._timeInputElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            } else {\n                this._timeInputElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            }\n\n            updateInputAdornersVisibility(this._timeInputElement, hideTimePicker /*hide*/);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Time\";\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n\n        const valueAsDate = TimeInput.convertTimeStringToDate(this.value);\n\n        let result = true;\n\n        if (this.min) {\n            const minDate = TimeInput.convertTimeStringToDate(this.min);\n\n            result = result && valueAsDate >= minDate;\n        }\n\n        if (this.max) {\n            const maxDate = TimeInput.convertTimeStringToDate(this.max);\n\n            result = result && valueAsDate <= maxDate;\n        }\n\n        return result;\n    }\n\n    get value(): string | undefined {\n        return this._timeInputElement ? this._timeInputElement.value : undefined;\n    }\n}\n\nexport const enum ActionButtonState {\n    Normal,\n    Expanded,\n    Subdued\n}\n\nexport type ActionType = { new (): Action };\n\nexport abstract class Action extends CardObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly iconUrlProperty = new StringProperty(Versions.v1_1, \"iconUrl\");\n    static readonly styleProperty = new ValueSetProperty(\n        Versions.v1_2,\n        \"style\",\n        [\n            { value: Enums.ActionStyle.Default },\n            { value: Enums.ActionStyle.Positive },\n            { value: Enums.ActionStyle.Destructive }\n        ],\n        Enums.ActionStyle.Default\n    );\n    static readonly modeProperty = new ValueSetProperty(\n        Versions.v1_5,\n        \"mode\",\n        [{ value: Enums.ActionMode.Primary }, { value: Enums.ActionMode.Secondary }],\n        Enums.ActionMode.Primary\n    );\n    static readonly tooltipProperty = new StringProperty(Versions.v1_5, \"tooltip\");\n    static readonly isEnabledProperty = new BoolProperty(Versions.v1_5, \"isEnabled\", true);\n    static readonly roleProperty = new EnumProperty(Versions.v1_6, \"role\", Enums.ActionRole);\n\n    @property(Action.titleProperty)\n    title?: string;\n\n    @property(Action.iconUrlProperty)\n    iconUrl?: string;\n\n    @property(Action.styleProperty)\n    style: string = Enums.ActionStyle.Default;\n\n    @property(Action.modeProperty)\n    mode: string = Enums.ActionMode.Primary;\n\n    @property(Action.tooltipProperty)\n    tooltip?: string;\n\n    @property(Action.isEnabledProperty)\n    isEnabled: boolean;\n    \n    @property(Action.roleProperty)\n    role?: Enums.ActionRole;\n\n    //#endregion\n\n    private renderButtonContent() {\n        if (this.renderedElement) {\n            // Cache hostConfig for perf\n            const hostConfig = this.hostConfig;\n\n            const titleElement = document.createElement(\"div\");\n            titleElement.style.overflow = \"hidden\";\n            titleElement.style.textOverflow = \"ellipsis\";\n\n            if (\n                !(\n                    hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle ||\n                    hostConfig.actions.allowTitleToWrap\n                )\n            ) {\n                titleElement.style.whiteSpace = \"nowrap\";\n            }\n\n            if (this.title) {\n                titleElement.innerText = this.title;\n            }\n\n            if (!this.iconUrl) {\n                this.renderedElement.classList.add(\"noIcon\");\n                this.renderedElement.appendChild(titleElement);\n            } else {\n                const iconElement = document.createElement(\"img\");\n                iconElement.src = this.iconUrl;\n                iconElement.style.width = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.height = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.flex = \"0 0 auto\";\n\n                if (hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle) {\n                    this.renderedElement.classList.add(\"iconAbove\");\n                    this.renderedElement.style.flexDirection = \"column\";\n\n                    if (this.title) {\n                        iconElement.style.marginBottom = \"6px\";\n                    }\n                } else {\n                    this.renderedElement.classList.add(\"iconLeft\");\n\n                    iconElement.style.maxHeight = \"100%\";\n\n                    if (this.title) {\n                        iconElement.style.marginRight = \"6px\";\n                    }\n                }\n\n                this.renderedElement.appendChild(iconElement);\n                this.renderedElement.appendChild(titleElement);\n            }\n        }\n    }\n\n    private getParentContainer(): Container | undefined {\n        if (this.parent instanceof Container) {\n            return this.parent;\n        }\n\n        return this.parent ? this.parent.getParentContainer() : undefined;\n    }\n\n    private _state: ActionButtonState = ActionButtonState.Normal;\n    private _actionCollection?: ActionCollection; // hold the reference to its action collection\n    private _isFocusable: boolean = true;\n\n    isDesignMode(): boolean {\n        const rootElement = this.getRootObject();\n\n        return rootElement instanceof CardElement && rootElement.isDesignMode();\n    }\n\n    protected updateCssClasses() {\n        if (this.parent && this.renderedElement) {\n            const hostConfig = this.parent.hostConfig;\n\n            this.renderedElement.className = hostConfig.makeCssClassName(\n                this.isEffectivelyEnabled() ? \"ac-pushButton\" : \"ac-pushButton-disabled\"\n            );\n\n            const parentContainer = this.getParentContainer();\n\n            if (parentContainer) {\n                const parentContainerStyle = parentContainer.getEffectiveStyle();\n\n                if (parentContainerStyle) {\n                    this.renderedElement.classList.add(\"style-\" + parentContainerStyle);\n                }\n            }\n\n            this.renderedElement.tabIndex = !this.isDesignMode() && this.isFocusable ? 0 : -1;\n\n            switch (this._state) {\n                case ActionButtonState.Normal:\n                    // No additional classes needed\n                    break;\n\n                case ActionButtonState.Expanded:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"expanded\"));\n                    break;\n                case ActionButtonState.Subdued:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"subdued\"));\n                    break;\n            }\n\n            if (this.style && this.isEffectivelyEnabled()) {\n                if (this.style === Enums.ActionStyle.Positive) {\n                    this.renderedElement.classList.add(\n                        ...hostConfig.makeCssClassNames(\"primary\", \"style-positive\")\n                    );\n                } else {\n                    this.renderedElement.classList.add(\n                        ...hostConfig.makeCssClassNames(\"style-\" + this.style.toLowerCase())\n                    );\n                }\n            }\n        }\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext();\n    }\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        return {};\n    }\n\n    protected internalPrepareForExecution(_inputs: Dictionary<Input> | undefined) {\n        // Do nothing in base implementation\n    }\n\n    protected internalValidateInputs(referencedInputs: Dictionary<Input> | undefined): Input[] {\n        const result: Input[] = [];\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                if (!input.validateValue()) {\n                    result.push(input);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected shouldSerialize(context: SerializationContext): boolean {\n        return context.actionRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    }\n\n    protected raiseExecuteActionEvent() {\n        if (this.onExecute) {\n            this.onExecute(this);\n        }\n\n        raiseExecuteActionEvent(this);\n    }\n\n    protected internalAfterExecute() {\n        let rootObject = this.getRootObject();\n\n        if (rootObject instanceof CardElement) {\n            rootObject.updateActionsEnabledState();\n        }\n    }\n\n    onExecute: (sender: Action) => void;\n\n    getHref(): string | undefined {\n        return \"\";\n    }\n\n    getAriaRole(): string {\n        let ariaRole = this.getAriaRoleFromEnum();\n        return ariaRole ?? \"button\";\n    }\n    \n    getAriaRoleFromEnum(): string | undefined {\n        switch (this.role) {\n            case Enums.ActionRole.Button:\n                return \"button\";\n            case Enums.ActionRole.Link:\n                return \"link\";\n            case Enums.ActionRole.Menu:\n                return \"menu\";\n            case Enums.ActionRole.MenuItem:\n                return \"menuitem\";\n            case Enums.ActionRole.Tab:\n                return \"tab\";\n            default:\n                return undefined;\n        }\n    }\n\n    setupElementForAccessibility(element: HTMLElement, promoteTooltipToLabel: boolean = false) {\n        element.tabIndex = this.isEffectivelyEnabled() && !this.isDesignMode() ? 0 : -1;\n\n        element.setAttribute(\"role\", this.getAriaRole());\n\n        if (element instanceof HTMLButtonElement) {\n            element.disabled = !this.isEffectivelyEnabled();\n        }\n\n        if (!this.isEffectivelyEnabled()) {\n            element.setAttribute(\"aria-disabled\", \"true\");\n        } else {\n            element.removeAttribute(\"aria-disabled\");\n            element.classList.add(this.hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n\n        if (this.title) {\n            element.setAttribute(\"aria-label\", this.title);\n            element.title = this.title;\n        } else {\n            element.removeAttribute(\"aria-label\");\n            element.removeAttribute(\"title\");\n        }\n\n        if (this.tooltip) {\t\t\t\n            if (promoteTooltipToLabel && !this.title) {\n                element.setAttribute(\"aria-label\", this.tooltip);\n            }\n            element.title = this.tooltip;\n        }\n    }\n\n    parse(source: any, context?: SerializationContext) {\n        return super.parse(source, context ? context : new SerializationContext());\n    }\n\n    render() {\n        const buttonElement = document.createElement(\"button\");\n        buttonElement.type = \"button\";\n        buttonElement.style.display = \"flex\";\n        buttonElement.style.alignItems = \"center\";\n        buttonElement.style.justifyContent = \"center\";\n        buttonElement.onclick = (e) => {\n            if (this.isEffectivelyEnabled()) {\n                e.preventDefault();\n                e.cancelBubble = true;\n\n                this.execute();\n            }\n        };\n\n        this._renderedElement = buttonElement;\n\n        this.renderButtonContent();\n        this.updateCssClasses();\n        this.setupElementForAccessibility(buttonElement);\n    }\n\n    execute() {\n        if (this._actionCollection) {\n            this._actionCollection.actionExecuted(this);\n        }\n\n        this.raiseExecuteActionEvent();\n        this.internalAfterExecute();\n    }\n\n    prepareForExecution(): boolean {\n        const referencedInputs = this.getReferencedInputs();\n        const invalidInputs = this.internalValidateInputs(referencedInputs);\n\n        if (invalidInputs.length > 0) {\n            invalidInputs[0].focus();\n\n            return false;\n        }\n\n        this.internalPrepareForExecution(referencedInputs);\n\n        return true;\n    }\n\n    remove(): boolean {\n        if (this._actionCollection) {\n            return this._actionCollection.removeAction(this);\n        }\n\n        return false;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [];\n    }\n\n    getAllActions(): Action[] {\n        return [this];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this.iconUrl ? [{ url: this.iconUrl, mimeType: \"image\" }] : [];\n    }\n\n    getActionById(id: string): Action | undefined {\n        return this.id === id ? this : undefined;\n    }\n\n    getReferencedInputs(): Dictionary<Input> | undefined {\n        return this.internalGetReferencedInputs();\n    }\n\n    /**\n     * Validates the inputs associated with this action.\n     *\n     * @returns A list of inputs that failed validation, or an empty array if no input failed validation.\n     */\n    validateInputs(): Input[] {\n        return this.internalValidateInputs(this.getReferencedInputs());\n    }\n\n    updateEnabledState() {\n        // Do nothing in base implementation\n    }\n\n    isEffectivelyEnabled(): boolean {\n        return this.isEnabled;\n    }\n\n    get isPrimary(): boolean {\n        return this.style === Enums.ActionStyle.Positive;\n    }\n\n    set isPrimary(value: boolean) {\n        if (value) {\n            this.style = Enums.ActionStyle.Positive;\n        } else {\n            if (this.style === Enums.ActionStyle.Positive) {\n                this.style = Enums.ActionStyle.Default;\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this.parent ? this.parent.hostConfig : defaultHostConfig;\n    }\n\n    get parent(): CardElement | undefined {\n        return <CardElement>this._parent;\n    }\n\n    get state(): ActionButtonState {\n        return this._state;\n    }\n\n    set state(value: ActionButtonState) {\n        if (this._state !== value) {\n            this._state = value;\n\n            this.updateCssClasses();\n        }\n    }\n\n    get isFocusable(): boolean {\n        return this._isFocusable;\n    }\n\n    set isFocusable(value: boolean) {\n        if (this._isFocusable !== value) {\n            this._isFocusable = value;\n\n            this.updateCssClasses();\n        }\n    }\n}\n\nexport abstract class SubmitActionBase extends Action {\n    //#region Schema\n\n    static readonly dataProperty = new PropertyDefinition(Versions.v1_0, \"data\");\n    static readonly associatedInputsProperty = new CustomProperty(\n        Versions.v1_3,\n        \"associatedInputs\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const value = source[prop.name];\n\n            if (value !== undefined && typeof value === \"string\") {\n                return value.toLowerCase() === \"none\" ? \"none\" : \"auto\";\n            }\n\n            return undefined;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: string | undefined,\n            context: BaseSerializationContext\n        ) => {\n            context.serializeValue(target, prop.name, value);\n        }\n    );\n    static readonly disabledUnlessAssociatedInputsChangeProperty = new BoolProperty(\n        Versions.v1_6,\n        \"disabledUnlessAssociatedInputsChange\",\n        false\n    );\n\n    @property(SubmitActionBase.dataProperty)\n    private _originalData?: PropertyBag;\n\n    @property(SubmitActionBase.associatedInputsProperty)\n    associatedInputs?: \"auto\" | \"none\";\n\n    @property(SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty)\n    disabledUnlessAssociatedInputsChange: boolean = false;\n\n    //#endregion\n\n    private _isPrepared: boolean = false;\n    private _processedData?: PropertyBag;\n    private _areReferencedInputsDirty: boolean = false;\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        const result: Dictionary<Input> = {};\n\n        if (this.associatedInputs !== \"none\") {\n            let current: CardElement | undefined = this.parent;\n            let inputs: Input[] = [];\n\n            while (current) {\n                inputs.push(...current.getAllInputs(false));\n\n                current = current.parent;\n            }\n\n            for (const input of inputs) {\n                if (input.id) {\n                    result[input.id] = input;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected internalPrepareForExecution(inputs: Dictionary<Input> | undefined) {\n        if (this._originalData) {\n            this._processedData = JSON.parse(JSON.stringify(this._originalData));\n        } else {\n            this._processedData = {};\n        }\n\n        if (this._processedData && inputs) {\n            for (const key of Object.keys(inputs)) {\n                const input = inputs[key];\n\n                if (input.id && input.isSet()) {\n                    this._processedData[input.id] =\n                        typeof input.value === \"string\" ? input.value : input.value.toString();\n                }\n            }\n        }\n\n        this._isPrepared = true;\n    }\n\n    protected internalAfterExecute() {\n        if (GlobalSettings.resetInputsDirtyStateAfterActionExecution) {\n            this.resetReferencedInputsDirtyState();\n        }\n    }\n\n    resetReferencedInputsDirtyState() {\n        let referencedInputs = this.getReferencedInputs();\n\n        this._areReferencedInputsDirty = false;\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                input.resetDirtyState();\n            }\n        }\n    }\n\n    updateEnabledState() {\n        this._areReferencedInputsDirty = false;\n\n        let referencedInputs = this.getReferencedInputs();\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                if (input.isDirty()) {\n                    this._areReferencedInputsDirty = true;\n\n                    break;\n                }\n            }\n        }\n\n        this.updateCssClasses();\n\n        if (this._renderedElement) {\n            this.setupElementForAccessibility(this._renderedElement);\n        }\n    }\n\n    isEffectivelyEnabled(): boolean {\n        let result = super.isEffectivelyEnabled();\n\n        return this.disabledUnlessAssociatedInputsChange\n            ? result && this._areReferencedInputsDirty\n            : result;\n    }\n\n    get data(): object | undefined {\n        return this._isPrepared ? this._processedData : this._originalData;\n    }\n\n    set data(value: object | undefined) {\n        this._originalData = value;\n        this._isPrepared = false;\n    }\n}\n\nexport class SubmitAction extends SubmitActionBase {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Submit\" = \"Action.Submit\";\n\n    getJsonTypeName(): string {\n        return SubmitAction.JsonTypeName;\n    }\n}\n\nexport abstract class UniversalAction extends SubmitActionBase {\n    // This is the base class for all actions that can be executed via the\n    // adaptiveCards/action activity\n}\n\nexport class ExecuteAction extends UniversalAction {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Execute\" = \"Action.Execute\";\n\n    //#region Schema\n\n    static readonly verbProperty = new StringProperty(Versions.v1_4, \"verb\");\n\n    @property(ExecuteAction.verbProperty)\n    verb: string;\n\n    //#endregion\n\n    getJsonTypeName(): string {\n        return ExecuteAction.JsonTypeName;\n    }\n}\n\nexport class DataQuery extends UniversalAction {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Data.Query\" = \"Data.Query\";\n\n    //#region Schema\n\n    static readonly datasetProperty = new StringProperty(Versions.v1_6, \"dataset\");\n    static readonly filterProperty = new StringProperty(Versions.v1_6, \"filter\");\n    static readonly countProperty = new NumProperty(Versions.v1_6, \"count\");\n    static readonly skipProperty = new NumProperty(Versions.v1_6, \"skip\");\n\n    @property(DataQuery.datasetProperty)\n    dataset: string;\n\n    @property(DataQuery.filterProperty)\n    filter: string;\n\n    @property(DataQuery.countProperty)\n    count?: number;\n\n    @property(DataQuery.skipProperty)\n    skip?: number;\n\n    //#endregion\n\n    getJsonTypeName(): string {\n        return DataQuery.JsonTypeName;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class OpenUrlAction extends Action {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n\n    @property(OpenUrlAction.urlProperty)\n    url?: string;\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.OpenUrl\" = \"Action.OpenUrl\";\n\n    getJsonTypeName(): string {\n        return OpenUrlAction.JsonTypeName;\n    }\n\n    getAriaRole(): string {\n        let ariaRole = this.getAriaRoleFromEnum();\n        return ariaRole ?? \"link\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.url) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"url\")\n            );\n        }\n    }\n\n    getHref(): string | undefined {\n        return this.url;\n    }\n}\n\nexport class ToggleVisibilityAction extends Action {\n    //#region Schema\n\n    static readonly targetElementsProperty = new CustomProperty<PropertyBag>(\n        Versions.v1_2,\n        \"targetElements\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const result: PropertyBag = {};\n\n            if (Array.isArray(source[prop.name])) {\n                for (const item of source[prop.name]) {\n                    if (typeof item === \"string\") {\n                        result[item] = undefined;\n                    } else if (typeof item === \"object\") {\n                        const elementId = item[\"elementId\"];\n\n                        if (typeof elementId === \"string\") {\n                            result[elementId] = Utils.parseBool(item[\"isVisible\"]);\n                        }\n                    }\n                }\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const targetElements: any[] = [];\n\n            for (const id of Object.keys(value)) {\n                if (typeof value[id] === \"boolean\") {\n                    targetElements.push({\n                        elementId: id,\n                        isVisible: value[id]\n                    });\n                } else {\n                    targetElements.push(id);\n                }\n            }\n\n            context.serializeArray(target, prop.name, targetElements);\n        },\n        {},\n        (sender: SerializableObject) => {\n            return {};\n        }\n    );\n\n    @property(ToggleVisibilityAction.targetElementsProperty)\n    targetElements: { [key: string]: any } = {};\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.ToggleVisibility\" = \"Action.ToggleVisibility\";\n\n    private updateAriaControlsAttribute() {\n        // apply aria labels to make it clear which elements this action will toggle\n        if (this.targetElements) {\n            const elementIds = Object.keys(this.targetElements);\n\n            if (this._renderedElement) {\n                if (elementIds.length > 0) {\n                    this._renderedElement.setAttribute(\"aria-controls\", elementIds.join(\" \"));\n                } else {\n                    this._renderedElement.removeAttribute(\"aria-controls\");\n                }\n            }\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.targetElements) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"targetElements\")\n            );\n        }\n    }\n\n    getJsonTypeName(): string {\n        return ToggleVisibilityAction.JsonTypeName;\n    }\n\n    render() {\n        super.render();\n\n        this.updateAriaControlsAttribute();\n    }\n\n    execute() {\n        super.execute();\n        if (this.parent) {\n            for (const elementId of Object.keys(this.targetElements)) {\n                const targetElement = this.parent.getRootElement().getElementById(elementId);\n\n                if (targetElement) {\n                    if (typeof this.targetElements[elementId] === \"boolean\") {\n                        targetElement.isVisible = this.targetElements[elementId];\n                    } else {\n                        targetElement.isVisible = !targetElement.isVisible;\n                    }\n                }\n            }\n        }\n    }\n\n    addTargetElement(elementId: string, isVisible: boolean | undefined = undefined) {\n        this.targetElements[elementId] = isVisible;\n        this.updateAriaControlsAttribute();\n    }\n\n    removeTargetElement(elementId: string) {\n        delete this.targetElements[elementId];\n        this.updateAriaControlsAttribute();\n    }\n}\n\nclass StringWithSubstitutionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): StringWithSubstitutions {\n        const result = new StringWithSubstitutions();\n        result.set(Utils.parseString(source[this.name]));\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: StringWithSubstitutions,\n        context: BaseSerializationContext\n    ): void {\n        context.serializeValue(target, this.name, value.getOriginal());\n    }\n\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(targetVersion, name, undefined, () => {\n            return new StringWithSubstitutions();\n        });\n    }\n}\n\nexport class HttpHeader extends SerializableObject {\n    //#region Schema\n\n    static readonly nameProperty = new StringProperty(Versions.v1_0, \"name\");\n    static readonly valueProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"value\");\n\n    protected getSchemaKey(): string {\n        return \"HttpHeader\";\n    }\n\n    @property(HttpHeader.nameProperty)\n    name: string;\n\n    @property(HttpHeader.valueProperty)\n    private _value: StringWithSubstitutions;\n\n    //#endregion\n\n    constructor(name: string = \"\", value: string = \"\") {\n        super();\n\n        this.name = name;\n        this.value = value;\n    }\n\n    getReferencedInputs(inputs: Input[], referencedInputs: Dictionary<Input>) {\n        this._value.getReferencedInputs(inputs, referencedInputs);\n    }\n\n    prepareForExecution(inputs: Dictionary<Input>) {\n        this._value.substituteInputValues(inputs, ContentTypes.applicationXWwwFormUrlencoded);\n    }\n\n    get value(): string | undefined {\n        return this._value.get();\n    }\n\n    set value(newValue: string | undefined) {\n        this._value.set(newValue);\n    }\n}\n\nexport class HttpAction extends Action {\n    //#region Schema\n\n    static readonly urlProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"url\");\n    static readonly bodyProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"body\");\n    static readonly methodProperty = new StringProperty(Versions.v1_0, \"method\");\n    static readonly headersProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"headers\",\n        HttpHeader\n    );\n    static readonly ignoreInputValidationProperty = new BoolProperty(\n        Versions.v1_3,\n        \"ignoreInputValidation\",\n        false\n    );\n\n    @property(HttpAction.urlProperty)\n    private _url: StringWithSubstitutions;\n\n    @property(HttpAction.bodyProperty)\n    private _body: StringWithSubstitutions;\n\n    @property(HttpAction.methodProperty)\n    method?: string;\n\n    @property(HttpAction.headersProperty)\n    headers: HttpHeader[];\n\n    @property(HttpAction.ignoreInputValidationProperty)\n    private _ignoreInputValidation: boolean = false;\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Http\" = \"Action.Http\";\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        const allInputs = this.parent ? this.parent.getRootElement().getAllInputs() : [];\n        const result: Dictionary<Input> = {};\n\n        this._url.getReferencedInputs(allInputs, result);\n\n        for (const header of this.headers) {\n            header.getReferencedInputs(allInputs, result);\n        }\n\n        this._body.getReferencedInputs(allInputs, result);\n\n        return result;\n    }\n\n    protected internalPrepareForExecution(inputs: Dictionary<Input> | undefined) {\n        if (inputs) {\n            this._url.substituteInputValues(inputs, ContentTypes.applicationXWwwFormUrlencoded);\n\n            let contentType = ContentTypes.applicationJson;\n\n            for (const header of this.headers) {\n                header.prepareForExecution(inputs);\n\n                if (header.name && header.name.toLowerCase() === \"content-type\") {\n                    contentType = header.value!;\n                }\n            }\n\n            this._body.substituteInputValues(inputs, contentType);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return HttpAction.JsonTypeName;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.url) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"url\")\n            );\n        }\n\n        if (this.headers.length > 0) {\n            for (const header of this.headers) {\n                if (!header.name) {\n                    context.addFailure(\n                        this,\n                        Enums.ValidationEvent.PropertyCantBeNull,\n                        Strings.errors.actionHttpHeadersMustHaveNameAndValue()\n                    );\n                }\n            }\n        }\n    }\n\n    get ignoreInputValidation(): boolean {\n        return this._ignoreInputValidation;\n    }\n\n    set ignoreInputValidation(value: boolean) {\n        this._ignoreInputValidation = value;\n    }\n\n    get url(): string | undefined {\n        return this._url.get();\n    }\n\n    set url(value: string | undefined) {\n        this._url.set(value);\n    }\n\n    get body(): string | undefined {\n        return this._body.get();\n    }\n\n    set body(value: string | undefined) {\n        this._body.set(value);\n    }\n}\n\nexport class ShowCardAction extends Action {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.ShowCard\" = \"Action.ShowCard\";\n\n    protected updateCssClasses() {\n        super.updateCssClasses();\n\n        if (this.renderedElement) {\n            const effectiveHostConfig = this.parent ? this.parent.hostConfig : defaultHostConfig;\n\n            this.renderedElement.classList.add(effectiveHostConfig.makeCssClassName(\"expandable\"));\n            this.renderedElement.setAttribute(\n                \"aria-expanded\",\n                (this.state === ActionButtonState.Expanded).toString()\n            );\n        }\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        const jsonCard = source[\"card\"];\n\n        if (jsonCard) {\n            this.card.parse(jsonCard, context);\n        } else {\n            context.logParseEvent(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.showCardMustHaveCard()\n            );\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        if (this.card) {\n            context.serializeValue(target, \"card\", this.card.toJSON(context));\n        }\n    }\n\n    protected raiseExecuteActionEvent() {\n        if (this.hostConfig.actions.showCard.actionMode === Enums.ShowCardActionMode.Popup) {\n            // Only raise the event in Popup mode.\n            super.raiseExecuteActionEvent();\n        }\n    }\n\n    readonly card: AdaptiveCard = new InlineAdaptiveCard();\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this.card.releaseDOMResources();\n    }\n\n    getJsonTypeName(): string {\n        return ShowCardAction.JsonTypeName;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        this.card.internalValidateProperties(context);\n    }\n\n    setParent(value: CardElement) {\n        super.setParent(value);\n\n        this.card.setParent(value);\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return this.card.getAllInputs(processActions);\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        result.push(...this.card.getAllActions());\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result = super.getResourceInformation();\n\n        result.push(...this.card.getResourceInformation());\n\n        return result;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result = super.getActionById(id);\n\n        if (!result) {\n            result = this.card.getActionById(id);\n        }\n\n        return result;\n    }\n}\n\nclass OverflowAction extends Action {\n    static readonly JsonTypeName: \"Action.Overflow\" = \"Action.Overflow\";\n    private _actions: Action[];\n\n    constructor(actions: Action[]) {\n        super();\n        this._actions = actions;\n\n        this.title = Strings.defaults.overflowButtonText();\n        this.tooltip = Strings.defaults.overflowButtonTooltip();\n    }\n\n    getActions(): readonly Action[] {\n        return this._actions;\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        result.push(...this._actions);\n\n        return result;\n    }\n\n    getJsonTypeName(): string {\n        return ShowCardAction.JsonTypeName;\n    }\n\n    execute() {\n        const shouldDisplayPopupMenu = !raiseDisplayOverflowActionMenuEvent(\n            this,\n            this.renderedElement\n        );\n\n        if (shouldDisplayPopupMenu && this.renderedElement) {\n            const contextMenu = new PopupMenu();\n            contextMenu.hostConfig = this.hostConfig;\n\n            for (let i = 0; i < this._actions.length; i++) {\n                const menuItem = new MenuItem(i.toString(), this._actions[i].title ?? \"\");\n                menuItem.isEnabled = this._actions[i].isEnabled;\n                menuItem.onClick = () => {\n                    const actionToExecute = this._actions[i];\n\n                    contextMenu.closePopup(false);\n\n                    if (actionToExecute.isEnabled) {\n                        actionToExecute.execute();\n                    }\n                };\n\n                contextMenu.items.add(menuItem);\n            }\n\n            contextMenu.onClose = () => {\n                this.renderedElement?.setAttribute(\"aria-expanded\", \"false\");\n            }\n\n            this.renderedElement.setAttribute(\"aria-expanded\", \"true\");\n            contextMenu.popup(this.renderedElement);\n        }\n    }\n    \n    setupElementForAccessibility(element: HTMLElement, promoteTooltipToLabel: boolean = false) {\n        super.setupElementForAccessibility(element, promoteTooltipToLabel);\n\n        element.setAttribute(\"aria-label\", Strings.defaults.overflowButtonTooltip());\n        element.setAttribute(\"aria-expanded\", \"false\");\n    }\n}\n\nclass ActionCollection {\n    private _owner: CardElement;\n    private _actionCardContainer: HTMLDivElement;\n    private _expandedAction?: ShowCardAction;\n    private _actionCard?: HTMLElement;\n\n    private isActionAllowed(action: Action): boolean {\n        const forbiddenTypes = this._owner.getForbiddenActionTypes();\n\n        if (forbiddenTypes) {\n            for (const forbiddenType of forbiddenTypes) {\n                if (action.constructor === forbiddenType) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    private refreshContainer() {\n        clearElement(this._actionCardContainer);\n\n        if (!this._actionCard) {\n            this._actionCardContainer.style.marginTop = \"0px\";\n\n            return;\n        }\n\n        this._actionCardContainer.style.marginTop =\n            this.renderedActionCount > 0\n                ? this._owner.hostConfig.actions.showCard.inlineTopMargin + \"px\"\n                : \"0px\";\n\n        const padding = this._owner.getEffectivePadding();\n\n        this._owner.getImmediateSurroundingPadding(padding);\n\n        const physicalPadding =\n            this._owner.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n        if (this._actionCard) {\n            this._actionCard.style.paddingLeft = physicalPadding.left + \"px\";\n            this._actionCard.style.paddingRight = physicalPadding.right + \"px\";\n\n            this._actionCard.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n            this._actionCard.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n\n            if (physicalPadding.bottom !== 0 && !this._owner.isDesignMode()) {\n                this._actionCard.style.paddingBottom = physicalPadding.bottom + \"px\";\n                this._actionCard.style.marginBottom = \"-\" + physicalPadding.bottom + \"px\";\n            }\n\n            Utils.appendChild(this._actionCardContainer, this._actionCard);\n        }\n    }\n\n    private layoutChanged() {\n        this._owner.getRootElement().updateLayout();\n    }\n\n    private showActionCard(\n        action: ShowCardAction,\n        suppressStyle: boolean = false,\n        raiseEvent: boolean = true\n    ) {\n        (<InlineAdaptiveCard>action.card).suppressStyle = suppressStyle;\n\n        // Always re-render a ShowCard action in design mode; reuse already rendered ShowCard (if available) otherwise\n        const renderedCard =\n            action.card.renderedElement && !this._owner.isDesignMode()\n                ? action.card.renderedElement\n                : action.card.render();\n\n        this._actionCard = renderedCard;\n        this._expandedAction = action;\n\n        this.refreshContainer();\n\n        if (raiseEvent) {\n            this.layoutChanged();\n\n            raiseInlineCardExpandedEvent(action, true);\n        }\n    }\n\n    private collapseExpandedAction() {\n        for (const action of this._renderedActions) {\n            action.state = ActionButtonState.Normal;\n        }\n\n        const previouslyExpandedAction = this._expandedAction;\n\n        this._expandedAction = undefined;\n        this._actionCard = undefined;\n\n        this.refreshContainer();\n\n        if (previouslyExpandedAction) {\n            this.layoutChanged();\n\n            raiseInlineCardExpandedEvent(previouslyExpandedAction, false);\n        }\n    }\n\n    private expandShowCardAction(action: ShowCardAction, raiseEvent: boolean) {\n        let afterSelectedAction = false;\n\n        for (const renderedAction of this._renderedActions) {\n            // Remove actions after selected action from tabOrder if the actions are oriented horizontally, to skip focus directly to expanded card\n            if (\n                this._owner.hostConfig.actions.actionsOrientation == Enums.Orientation.Horizontal &&\n                afterSelectedAction\n            ) {\n                renderedAction.isFocusable = false;\n            }\n\n            if (renderedAction !== action) {\n                renderedAction.state = ActionButtonState.Subdued;\n            } else {\n                renderedAction.state = ActionButtonState.Expanded;\n\n                afterSelectedAction = true;\n\n                if (renderedAction.renderedElement) {\n                    renderedAction.renderedElement.onblur = (_e) => {\n                        for (const ra of this._renderedActions) {\n                            ra.isFocusable = true;\n                        }\n                    };\n                }\n            }\n        }\n\n        this.showActionCard(\n            action,\n            !(this._owner.isAtTheVeryLeft() && this._owner.isAtTheVeryRight()),\n            raiseEvent\n        );\n    }\n\n    private _items: Action[] = [];\n    private _overflowAction?: OverflowAction;\n    private _renderedActions: Action[] = [];\n\n    constructor(owner: CardElement) {\n        this._owner = owner;\n    }\n\n    releaseDOMResources() {\n        for (let action of this._renderedActions) {\n            action.releaseDOMResources();\n        }\n    }\n\n    actionExecuted(action: Action) {\n        if (!(action instanceof ShowCardAction)) {\n            this.collapseExpandedAction();\n        } else {\n            if (action === this._expandedAction) {\n                this.collapseExpandedAction();\n            } else if (\n                this._owner.hostConfig.actions.showCard.actionMode ===\n                Enums.ShowCardActionMode.Inline\n            ) {\n                this.expandShowCardAction(action, true);\n            }\n        }\n    }\n\n    parse(source: any, context: SerializationContext) {\n        this.clear();\n\n        if (Array.isArray(source)) {\n            for (const jsonAction of source) {\n                let forbiddenActions: string[] = [];\n\n                // If the action owner is a ContainerWithActions, we should check for forbidden actions\n                if (this._owner instanceof ContainerWithActions) {\n                    forbiddenActions = this._owner.getForbiddenActionNames();\n                }\n\n                const action = context.parseAction(\n                    this._owner,\n                    jsonAction,\n                    forbiddenActions,\n                    !this._owner.isDesignMode()\n                );\n\n                if (action) {\n                    this.addAction(action);\n                }\n            }\n        }\n    }\n\n    toJSON(target: PropertyBag, propertyName: string, context: SerializationContext): any {\n        context.serializeArray(target, propertyName, this._items);\n    }\n\n    getActionAt(id: number): Action | undefined {\n        return this._items[id];\n    }\n\n    getActionCount(): number {\n        return this._items.length;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = undefined;\n\n        for (const item of this._items) {\n            result = item.getActionById(id);\n\n            if (result) {\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    validateProperties(context: ValidationResults) {\n        if (\n            this._owner.hostConfig.actions.maxActions &&\n            this._items.length > this._owner.hostConfig.actions.maxActions\n        ) {\n            context.addFailure(\n                this._owner,\n                Enums.ValidationEvent.TooManyActions,\n                Strings.errors.tooManyActions(this._owner.hostConfig.actions.maxActions)\n            );\n        }\n\n        if (this._items.length > 0 && !this._owner.hostConfig.supportsInteractivity) {\n            context.addFailure(\n                this._owner,\n                Enums.ValidationEvent.InteractivityNotAllowed,\n                Strings.errors.interactivityNotAllowed()\n            );\n        }\n\n        for (const item of this._items) {\n            if (!this.isActionAllowed(item)) {\n                context.addFailure(\n                    this._owner,\n                    Enums.ValidationEvent.ActionTypeNotAllowed,\n                    Strings.errors.actionTypeNotAllowed(item.getJsonTypeName())\n                );\n            }\n\n            item.internalValidateProperties(context);\n        }\n    }\n\n    render(orientation: Enums.Orientation): HTMLElement | undefined {\n        // Cache hostConfig for better perf\n        const hostConfig = this._owner.hostConfig;\n\n        if (!hostConfig.supportsInteractivity) {\n            return undefined;\n        }\n\n        const element = document.createElement(\"div\");\n        const maxActions = hostConfig.actions.maxActions\n            ? Math.min(hostConfig.actions.maxActions, this._items.length)\n            : this._items.length;\n\n        this._actionCardContainer = document.createElement(\"div\");\n        this._renderedActions = [];\n\n        if (\n            hostConfig.actions.preExpandSingleShowCardAction &&\n            maxActions === 1 &&\n            this._items[0] instanceof ShowCardAction &&\n            this.isActionAllowed(this._items[0])\n        ) {\n            this.showActionCard(this._items[0], true);\n            this._renderedActions.push(this._items[0]);\n        } else {\n            const buttonStrip = document.createElement(\"div\");\n            buttonStrip.className = hostConfig.makeCssClassName(\"ac-actionSet\");\n            buttonStrip.style.display = \"flex\";\n\n            if (orientation === Enums.Orientation.Horizontal) {\n                buttonStrip.style.flexDirection = \"row\";\n\n                if (\n                    this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch\n                ) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                } else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                }\n            } else {\n                buttonStrip.style.flexDirection = \"column\";\n\n                if (\n                    this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch\n                ) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                } else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        case Enums.ActionAlignment.Stretch:\n                            buttonStrip.style.alignItems = \"stretch\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                }\n            }\n\n            const allowedActions = this._items.filter(this.isActionAllowed.bind(this));\n\n            let primaryActions: Action[] = [];\n            const secondaryActions: Action[] = [];\n\n            if (!this._owner.isDesignMode()) {\n                allowedActions.forEach((action) =>\n                    action.mode === Enums.ActionMode.Secondary\n                        ? secondaryActions.push(action)\n                        : primaryActions.push(action)\n                );\n\n                // If primaryActions.length > maxActions, extra actions are moved to overflow\n                const overflowPrimaryActions = primaryActions.splice(hostConfig.actions.maxActions);\n\n                if (GlobalSettings.allowMoreThanMaxActionsInOverflowMenu) {\n                    secondaryActions.push(...overflowPrimaryActions);\n                }\n\n                let shouldRenderOverflowActionButton = true;\n\n                if (secondaryActions.length > 0) {\n                    if (!this._overflowAction) {\n                        this._overflowAction = new OverflowAction(secondaryActions);\n                        this._overflowAction.setParent(this._owner);\n                        this._overflowAction[\"_actionCollection\"] = this;\n                    }\n\n                    const isRootAction = this._owner instanceof AdaptiveCard && !this._owner.parent;\n                    shouldRenderOverflowActionButton = !raiseRenderOverflowActionsEvent(\n                        this._overflowAction,\n                        isRootAction\n                    );\n                }\n\n                if (this._overflowAction && shouldRenderOverflowActionButton) {\n                    primaryActions.push(this._overflowAction);\n                }\n            } else {\n                primaryActions = allowedActions;\n            }\n\n            for (let i = 0; i < primaryActions.length; i++) {\n                const action = primaryActions[i];\n                action.render();\n\n                if (action.renderedElement) {\n                    if (\n                        hostConfig.actions.actionsOrientation === Enums.Orientation.Horizontal &&\n                        hostConfig.actions.actionAlignment === Enums.ActionAlignment.Stretch\n                    ) {\n                        action.renderedElement.style.flex = \"0 1 100%\";\n                    } else {\n                        action.renderedElement.style.flex = \"0 1 auto\";\n                    }\n\n                    buttonStrip.appendChild(action.renderedElement);\n\n                    this._renderedActions.push(action);\n\n                    if (i < primaryActions.length - 1 && hostConfig.actions.buttonSpacing > 0) {\n                        const spacer = document.createElement(\"div\");\n\n                        if (orientation === Enums.Orientation.Horizontal) {\n                            spacer.style.flex = \"0 0 auto\";\n                            spacer.style.width = hostConfig.actions.buttonSpacing + \"px\";\n                        } else {\n                            spacer.style.height = hostConfig.actions.buttonSpacing + \"px\";\n                        }\n\n                        Utils.appendChild(buttonStrip, spacer);\n                    }\n                }\n            }\n\n            const buttonStripContainer = document.createElement(\"div\");\n            buttonStripContainer.style.overflow = \"hidden\";\n            buttonStripContainer.appendChild(buttonStrip);\n\n            Utils.appendChild(element, buttonStripContainer);\n        }\n\n        Utils.appendChild(element, this._actionCardContainer);\n\n        for (const renderedAction of this._renderedActions) {\n            if (renderedAction.state === ActionButtonState.Expanded) {\n                this.expandShowCardAction(<ShowCardAction>renderedAction, false);\n\n                break;\n            }\n        }\n\n        return this._renderedActions.length > 0 ? element : undefined;\n    }\n\n    addAction(action: Action) {\n        if (!action) {\n            throw new Error(\"The action parameter cannot be null.\");\n        }\n\n        if ((!action.parent || action.parent === this._owner) && this._items.indexOf(action) < 0) {\n            this._items.push(action);\n\n            if (!action.parent) {\n                action.setParent(this._owner);\n            }\n\n            action[\"_actionCollection\"] = this;\n        } else {\n            throw new Error(Strings.errors.actionAlreadyParented());\n        }\n    }\n\n    removeAction(action: Action): boolean {\n        if (this.expandedAction && this._expandedAction === action) {\n            this.collapseExpandedAction();\n        }\n\n        const actionIndex = this._items.indexOf(action);\n\n        if (actionIndex >= 0) {\n            this._items.splice(actionIndex, 1);\n\n            action.setParent(undefined);\n\n            action[\"_actionCollection\"] = undefined;\n\n            for (let i = 0; i < this._renderedActions.length; i++) {\n                if (this._renderedActions[i] === action) {\n                    this._renderedActions.splice(i, 1);\n\n                    break;\n                }\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    clear() {\n        this._items = [];\n        this._renderedActions = [];\n        this._expandedAction = undefined;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result: Input[] = [];\n\n        if (processActions) {\n            for (const action of this._items) {\n                result.push(...action.getAllInputs());\n            }\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result: IResourceInformation[] = [];\n\n        for (const action of this._items) {\n            result.push(...action.getResourceInformation());\n        }\n\n        return result;\n    }\n\n    get renderedActionCount(): number {\n        return this._renderedActions.length;\n    }\n\n    get expandedAction(): ShowCardAction | undefined {\n        return this._expandedAction;\n    }\n}\n\nexport class ActionSet extends CardElement {\n    //#region Schema\n\n    static readonly orientationProperty = new EnumProperty(\n        Versions.v1_1,\n        \"orientation\",\n        Enums.Orientation\n    );\n\n    @property(ActionSet.orientationProperty)\n    orientation?: Enums.Orientation;\n\n    //#endregion\n\n    private _actionCollection: ActionCollection;\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._actionCollection.parse(source[\"actions\"], context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        this._actionCollection.toJSON(target, \"actions\", context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        return this._actionCollection.render(\n            this.orientation !== undefined\n                ? this.orientation\n                : this.hostConfig.actions.actionsOrientation\n        );\n    }\n\n    constructor() {\n        super();\n\n        this._actionCollection = new ActionCollection(this);\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this._actionCollection.releaseDOMResources();\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return super.isBleedingAtBottom();\n        } else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (\n                    this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction\n                );\n            } else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"ActionSet\";\n    }\n\n    getActionCount(): number {\n        return this._actionCollection.getActionCount();\n    }\n\n    getActionAt(index: number): Action | undefined {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        } else {\n            return super.getActionAt(index);\n        }\n    }\n\n    getActionById(id: string): Action | undefined {\n        const result: Action | undefined = this._actionCollection.getActionById(id);\n\n        return result ? result : super.getActionById(id);\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            let action = this.getActionAt(i);\n\n            if (action) {\n                result.push(action);\n            }\n        }\n\n        return result;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        this._actionCollection.validateProperties(context);\n    }\n\n    addAction(action: Action) {\n        this._actionCollection.addAction(action);\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return processActions ? this._actionCollection.getAllInputs() : [];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this._actionCollection.getResourceInformation();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        let target: CardObject | undefined = undefined;\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            const action = this.getActionAt(i);\n\n            if (action) {\n                // recur through each Action\n                target = action.findDOMNodeOwner(node);\n\n                if (target) {\n                    return target;\n                }\n            }\n        }\n\n        // if not found in any Action, defer to parent implementation\n        return super.findDOMNodeOwner(node);\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n\n        return result;\n    }\n\n    get isInteractive(): boolean {\n        return true;\n    }\n}\n\nexport class ContainerStyleProperty extends ValueSetProperty {\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(\n            targetVersion,\n            name,\n            [\n                { value: Enums.ContainerStyle.Default },\n                { value: Enums.ContainerStyle.Emphasis },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Accent },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Good },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Attention },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Warning }\n            ],\n            defaultValue,\n            onGetInitialValue\n        );\n    }\n}\n\nexport abstract class StylableCardElementContainer extends CardElementContainer {\n    //#region Schema\n\n    static readonly styleProperty = new ContainerStyleProperty(Versions.v1_0, \"style\");\n\n    @property(StylableCardElementContainer.styleProperty)\n    get style(): string | undefined {\n        if (this.allowCustomStyle) {\n            const style = this.getValue(StylableCardElementContainer.styleProperty);\n\n            if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n                return style;\n            }\n        }\n\n        return undefined;\n    }\n\n    set style(value: string | undefined) {\n        this.setValue(StylableCardElementContainer.styleProperty, value);\n    }\n\n    //#endregion\n\n    protected get allowCustomStyle(): boolean {\n        return true;\n    }\n\n    protected get hasExplicitStyle(): boolean {\n        return this.getValue(StylableCardElementContainer.styleProperty) !== undefined;\n    }\n\n    protected applyBorder() {\n        // No border in base implementation\n    }\n\n    protected applyBackground() {\n        if (this.renderedElement) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.style,\n                this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n            );\n\n            if (styleDefinition.backgroundColor) {\n                const bgColor = Utils.stringToCssColor(styleDefinition.backgroundColor);\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    }\n\n    protected applyPadding() {\n        super.applyPadding();\n\n        if (!this.renderedElement) {\n            return;\n        }\n\n        let physicalPadding = new SpacingDefinition();\n\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                this.getEffectivePadding()\n            );\n        }\n\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n\n        if (this.isBleeding()) {\n            // Bleed into the first parent that does have padding\n            const padding = new PaddingDefinition();\n\n            this.getImmediateSurroundingPadding(padding);\n\n            const surroundingPadding =\n                this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n            this.renderedElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            this.renderedElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n\n            if (!this.isDesignMode()) {\n                this.renderedElement.style.marginTop = \"-\" + surroundingPadding.top + \"px\";\n                this.renderedElement.style.marginBottom = \"-\" + surroundingPadding.bottom + \"px\";\n            }\n\n            if (\n                this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal\n            ) {\n                this.separatorElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            }\n        } else {\n            this.renderedElement.style.marginRight = \"0\";\n            this.renderedElement.style.marginLeft = \"0\";\n            this.renderedElement.style.marginTop = \"0\";\n            this.renderedElement.style.marginBottom = \"0\";\n\n            if (\n                this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal\n            ) {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        let currentElement: CardElement | undefined = this.parent;\n\n        while (currentElement) {\n            let currentElementHasBackgroundImage: boolean = false;\n\n            if (ignoreBackgroundImages) {\n                currentElementHasBackgroundImage = false;\n            } else {\n                currentElementHasBackgroundImage =\n                    currentElement instanceof Container\n                        ? currentElement.backgroundImage.isValid()\n                        : false;\n            }\n\n            if (currentElement instanceof StylableCardElementContainer) {\n                if (\n                    this.hasExplicitStyle &&\n                    (currentElement.getEffectiveStyle() !== this.getEffectiveStyle() ||\n                        currentElementHasBackgroundImage)\n                ) {\n                    return true;\n                }\n            }\n\n            currentElement = currentElement.parent;\n        }\n\n        return false;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new PaddingDefinition(\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding\n              )\n            : super.getDefaultPadding();\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        const explicitStyle = this.getValue(StylableCardElementContainer.styleProperty);\n\n        if (explicitStyle !== undefined) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(explicitStyle);\n\n            if (!styleDefinition) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(explicitStyle, \"style\")\n                );\n            }\n        }\n    }\n\n    render(): HTMLElement | undefined {\n        const renderedElement = super.render();\n\n        if (renderedElement && this.getHasBackground()) {\n            this.applyBackground();\n        }\n\n        this.applyBorder();\n\n        return renderedElement;\n    }\n\n    getEffectiveStyle(): string {\n        const effectiveStyle = this.style;\n\n        return effectiveStyle ? effectiveStyle : super.getEffectiveStyle();\n    }\n}\n\nexport abstract class ContainerBase extends StylableCardElementContainer {\n    //#region Schema\n\n    static readonly bleedProperty = new BoolProperty(Versions.v1_2, \"bleed\", false);\n    static readonly minHeightProperty = new PixelSizeProperty(Versions.v1_2, \"minHeight\");\n\n    @property(ContainerBase.bleedProperty)\n    private _bleed: boolean = false;\n\n    @property(ContainerBase.minHeightProperty)\n    minPixelHeight?: number;\n\n    //#endregion\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        super.adjustRenderedElementSize(renderedElement);\n\n        if (this.minPixelHeight) {\n            renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n        }\n    }\n\n    protected getHasExpandedAction(): boolean {\n        return false;\n    }\n\n    protected getBleed(): boolean {\n        return this._bleed;\n    }\n\n    protected setBleed(value: boolean) {\n        this._bleed = value;\n    }\n\n    protected get renderedActionCount(): number {\n        return 0;\n    }\n\n    isBleeding(): boolean {\n        return (this.getHasBackground() || this.hostConfig.alwaysAllowBleed) && this.getBleed();\n    }\n}\n\nexport class BackgroundImage extends SerializableObject {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n    static readonly fillModeProperty = new EnumProperty(\n        Versions.v1_2,\n        \"fillMode\",\n        Enums.FillMode,\n        Enums.FillMode.Cover\n    );\n    static readonly horizontalAlignmentProperty = new EnumProperty(\n        Versions.v1_2,\n        \"horizontalAlignment\",\n        Enums.HorizontalAlignment,\n        Enums.HorizontalAlignment.Left\n    );\n    static readonly verticalAlignmentProperty = new EnumProperty(\n        Versions.v1_2,\n        \"verticalAlignment\",\n        Enums.VerticalAlignment,\n        Enums.VerticalAlignment.Top\n    );\n\n    @property(BackgroundImage.urlProperty)\n    url?: string;\n\n    @property(BackgroundImage.fillModeProperty)\n    fillMode: Enums.FillMode;\n\n    @property(BackgroundImage.horizontalAlignmentProperty)\n    horizontalAlignment: Enums.HorizontalAlignment;\n\n    @property(BackgroundImage.verticalAlignmentProperty)\n    verticalAlignment: Enums.VerticalAlignment;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"BackgroundImage\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        if (typeof source === \"string\") {\n            this.resetDefaultValues();\n            this.url = source;\n        } else {\n            return super.internalParse(source, context);\n        }\n    }\n\n    apply(element: CardElement) {\n        if (this.url && element.renderedElement) {\n            element.renderedElement.style.backgroundImage =\n                \"url('\" +\n                element.preProcessPropertyValue(BackgroundImage.urlProperty, this.url) +\n                \"')\";\n\n            switch (this.fillMode) {\n                case Enums.FillMode.Repeat:\n                    element.renderedElement.style.backgroundRepeat = \"repeat\";\n                    break;\n                case Enums.FillMode.RepeatHorizontally:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-x\";\n                    break;\n                case Enums.FillMode.RepeatVertically:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-y\";\n                    break;\n                case Enums.FillMode.Cover:\n                default:\n                    element.renderedElement.style.backgroundRepeat = \"no-repeat\";\n                    element.renderedElement.style.backgroundSize = \"cover\";\n                    break;\n            }\n\n            switch (this.horizontalAlignment) {\n                case Enums.HorizontalAlignment.Left:\n                    break;\n                case Enums.HorizontalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionX = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.renderedElement.style.backgroundPositionX = \"right\";\n                    break;\n            }\n\n            switch (this.verticalAlignment) {\n                case Enums.VerticalAlignment.Top:\n                    break;\n                case Enums.VerticalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionY = \"center\";\n                    break;\n                case Enums.VerticalAlignment.Bottom:\n                    element.renderedElement.style.backgroundPositionY = \"bottom\";\n                    break;\n            }\n        }\n    }\n\n    isValid(): boolean {\n        return this.url ? true : false;\n    }\n}\n\nexport class Container extends ContainerBase {\n    //#region Schema\n    static readonly backgroundImageProperty = new SerializableObjectProperty(\n        Versions.v1_0,\n        \"backgroundImage\",\n        BackgroundImage\n    );\n    static readonly verticalContentAlignmentProperty = new EnumProperty(\n        Versions.v1_1,\n        \"verticalContentAlignment\",\n        Enums.VerticalAlignment\n    );\n    static readonly rtlProperty = new BoolProperty(Versions.v1_0, \"rtl\");\n\n    @property(Container.backgroundImageProperty)\n    get backgroundImage(): BackgroundImage {\n        return this.getValue(Container.backgroundImageProperty);\n    }\n\n    @property(Container.verticalContentAlignmentProperty)\n    verticalContentAlignment?: Enums.VerticalAlignment;\n\n    @property(Container.rtlProperty)\n    rtl?: boolean;\n\n    //#endregion\n\n    private _items: CardElement[] = [];\n    private _renderedItems: CardElement[] = [];\n\n    protected insertItemAt(item: CardElement, index: number, forceInsert: boolean) {\n        if (!item.parent || forceInsert) {\n            if (item.isStandalone) {\n                if (index < 0 || index >= this._items.length) {\n                    this._items.push(item);\n                } else {\n                    this._items.splice(index, 0, item);\n                }\n\n                item.setParent(this);\n            } else {\n                throw new Error(Strings.errors.elementTypeNotStandalone(item.getJsonTypeName()));\n            }\n        } else {\n            throw new Error(Strings.errors.elementAlreadyParented());\n        }\n    }\n\n    protected getItemsCollectionPropertyName(): string {\n        return \"items\";\n    }\n\n    protected applyBackground() {\n        if (this.backgroundImage.isValid() && this.renderedElement) {\n            this.backgroundImage.apply(this);\n        }\n\n        super.applyBackground();\n    }\n\n    protected applyRTL(element: HTMLElement) {\n        if (this.rtl !== undefined) {\n            element.dir = this.rtl ? \"rtl\" : \"ltr\";\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedItems = [];\n\n        // Cache hostConfig to avoid walking the parent hierarchy several times\n        const hostConfig = this.hostConfig;\n\n        const element = document.createElement(\"div\");\n\n        this.applyRTL(element);\n\n        element.classList.add(hostConfig.makeCssClassName(\"ac-container\"));\n        element.style.display = \"flex\";\n        element.style.flexDirection = \"column\";\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            element.style.minHeight = \"-webkit-min-content\";\n        }\n\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Center:\n                element.style.justifyContent = \"center\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                element.style.justifyContent = \"flex-end\";\n                break;\n            default:\n                element.style.justifyContent = \"flex-start\";\n                break;\n        }\n\n        if (this._items.length > 0) {\n            for (const item of this._items) {\n                const renderedItem = this.isElementAllowed(item) ? item.render() : undefined;\n\n                if (renderedItem) {\n                    if (this._renderedItems.length > 0 && item.separatorElement) {\n                        item.separatorElement.style.flex = \"0 0 auto\";\n\n                        Utils.appendChild(element, item.separatorElement);\n                    }\n\n                    Utils.appendChild(element, renderedItem);\n\n                    this._renderedItems.push(item);\n                }\n            }\n        } else {\n            if (this.isDesignMode()) {\n                const placeholderElement = this.createPlaceholderElement();\n                placeholderElement.style.width = \"100%\";\n                placeholderElement.style.height = \"100%\";\n\n                element.appendChild(placeholderElement);\n            }\n        }\n\n        return element;\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        if (this.renderedElement) {\n            // Add 1 to account for rounding differences between browsers\n            const boundary = this.renderedElement.offsetTop + maxHeight + 1;\n\n            const handleElement = (cardElement: CardElement) => {\n                const elt = cardElement.renderedElement;\n\n                if (elt) {\n                    switch (Utils.getFitStatus(elt, boundary)) {\n                        case Enums.ContainerFitStatus.FullyInContainer:\n                            const sizeChanged = cardElement[\"resetOverflow\"]();\n                            // If the element's size changed after resetting content,\n                            // we have to check if it still fits fully in the card\n                            if (sizeChanged) {\n                                handleElement(cardElement);\n                            }\n                            break;\n                        case Enums.ContainerFitStatus.Overflowing:\n                            const containerMaxHeight = boundary - elt.offsetTop;\n                            cardElement[\"handleOverflow\"](containerMaxHeight);\n                            break;\n                        case Enums.ContainerFitStatus.FullyOutOfContainer:\n                            cardElement[\"handleOverflow\"](0);\n                            break;\n                    }\n                }\n            };\n\n            for (const item of this._items) {\n                handleElement(item);\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    protected undoOverflowTruncation() {\n        for (const item of this._items) {\n            item[\"resetOverflow\"]();\n        }\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        let result = ignoreBackgroundImages ? false : this.backgroundImage.isValid();\n\n        return result || super.getHasBackground(ignoreBackgroundImages);\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.clear();\n        this.setShouldFallback(false);\n\n        let jsonItems = source[this.getItemsCollectionPropertyName()];\n\n        if (Array.isArray(jsonItems)) {\n            for (const item of jsonItems) {\n                const element = context.parseElement(\n                    this,\n                    item,\n                    this.forbiddenChildElements(),\n                    !this.isDesignMode()\n                );\n\n                if (element) {\n                    this.insertItemAt(element, -1, true);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        const collectionPropertyName = this.getItemsCollectionPropertyName();\n\n        context.serializeArray(target, collectionPropertyName, this._items);\n    }\n\n    protected get isSelectable(): boolean {\n        return true;\n    }\n\n    getEffectivePadding(): PaddingDefinition {\n        if (\n            GlobalSettings.removePaddingFromContainersWithBackgroundImage &&\n            !this.getHasBackground(true)\n        ) {\n            return new PaddingDefinition();\n        }\n\n        return super.getEffectivePadding();\n    }\n\n    getEffectiveVerticalContentAlignment(): Enums.VerticalAlignment {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n\n        const parentContainer = this.getParentContainer();\n\n        return parentContainer\n            ? parentContainer.getEffectiveVerticalContentAlignment()\n            : Enums.VerticalAlignment.Top;\n    }\n\n    getItemCount(): number {\n        return this._items.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._items[index];\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (const item of this._renderedItems) {\n                if (item.isVisible) {\n                    return item;\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (let i = this._renderedItems.length - 1; i >= 0; i--) {\n                if (this._renderedItems[i].isVisible) {\n                    return this._renderedItems[i];\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    getJsonTypeName(): string {\n        return \"Container\";\n    }\n\n    isFirstElement(element: CardElement): boolean {\n        const designMode = this.isDesignMode();\n\n        for (const item of this._items) {\n            if (item.isVisible || designMode) {\n                return item === element;\n            }\n        }\n\n        return false;\n    }\n\n    isLastElement(element: CardElement): boolean {\n        const designMode = this.isDesignMode();\n\n        for (let i = this._items.length - 1; i >= 0; i--) {\n            if (this._items[i].isVisible || designMode) {\n                return this._items[i] === element;\n            }\n        }\n\n        return false;\n    }\n\n    isRtl(): boolean {\n        if (this.rtl !== undefined) {\n            return this.rtl;\n        } else {\n            const parentContainer = this.getParentContainer();\n\n            return parentContainer ? parentContainer.isRtl() : false;\n        }\n    }\n\n    isBleedingAtTop(): boolean {\n        const firstRenderedItem = this.getFirstVisibleRenderedItem();\n\n        return (\n            this.isBleeding() || (firstRenderedItem ? firstRenderedItem.isBleedingAtTop() : false)\n        );\n    }\n\n    isBleedingAtBottom(): boolean {\n        const lastRenderedItem = this.getLastVisibleRenderedItem();\n\n        return (\n            this.isBleeding() ||\n            (lastRenderedItem\n                ? lastRenderedItem.isBleedingAtBottom() &&\n                  lastRenderedItem.getEffectiveStyle() === this.getEffectiveStyle()\n                : false)\n        );\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return this._items.indexOf(cardElement);\n    }\n\n    addItem(item: CardElement) {\n        this.insertItemAt(item, -1, false);\n    }\n\n    insertItemBefore(item: CardElement, insertBefore: CardElement) {\n        this.insertItemAt(item, this._items.indexOf(insertBefore), false);\n    }\n\n    insertItemAfter(item: CardElement, insertAfter: CardElement) {\n        this.insertItemAt(item, this._items.indexOf(insertAfter) + 1, false);\n    }\n\n    removeItem(item: CardElement): boolean {\n        const itemIndex = this._items.indexOf(item);\n\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n\n            item.setParent(undefined);\n\n            this.updateLayout();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    clear() {\n        this._items = [];\n        this._renderedItems = [];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        const result = super.getResourceInformation();\n\n        if (this.backgroundImage.isValid()) {\n            result.push({\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion -- validated by `isValid()`\n                url: this.backgroundImage.url!,\n                mimeType: \"image\"\n            });\n        }\n\n        return result;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = super.getActionById(id);\n\n        if (!result) {\n            if (this.selectAction) {\n                result = this.selectAction.getActionById(id);\n            }\n\n            if (!result) {\n                for (const item of this._items) {\n                    result = item.getActionById(id);\n\n                    if (result) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    get padding(): PaddingDefinition | undefined {\n        return this.getPadding();\n    }\n\n    set padding(value: PaddingDefinition | undefined) {\n        this.setPadding(value);\n    }\n\n    get selectAction(): Action | undefined {\n        return this._selectAction;\n    }\n\n    set selectAction(value: Action | undefined) {\n        this._selectAction = value;\n    }\n\n    get bleed(): boolean {\n        return this.getBleed();\n    }\n\n    set bleed(value: boolean) {\n        this.setBleed(value);\n    }\n}\n\nexport type ColumnWidth = SizeAndUnit | \"auto\" | \"stretch\";\n\nexport class Column extends Container {\n    //#region Schema\n\n    static readonly widthProperty = new CustomProperty<ColumnWidth>(\n        Versions.v1_0,\n        \"width\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: ColumnWidth = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidWidth = false;\n\n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, Enums.SizeUnit.Weight);\n            } else if (value === \"auto\" || value === \"stretch\") {\n                result = value;\n            } else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n\n                    if (\n                        result.unit === Enums.SizeUnit.Pixel &&\n                        prop.targetVersion.compareTo(context.targetVersion) > 0\n                    ) {\n                        invalidWidth = true;\n                    }\n                } catch (e) {\n                    invalidWidth = true;\n                }\n            } else {\n                invalidWidth = true;\n            }\n\n            if (invalidWidth) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidColumnWidth(value)\n                );\n\n                result = \"auto\";\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: ColumnWidth,\n            context: BaseSerializationContext\n        ) => {\n            if (value instanceof SizeAndUnit) {\n                if (value.unit === Enums.SizeUnit.Pixel) {\n                    context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n                } else {\n                    context.serializeNumber(target, \"width\", value.physicalSize);\n                }\n            } else {\n                context.serializeValue(target, \"width\", value);\n            }\n        },\n        \"stretch\"\n    );\n\n    @property(Column.widthProperty)\n    width: ColumnWidth = \"stretch\";\n\n    //#endregion\n\n    private _computedWeight: number = 0;\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        const minDesignTimeColumnHeight = 20;\n\n        if (this.isDesignMode()) {\n            renderedElement.style.minWidth = \"20px\";\n            renderedElement.style.minHeight =\n                (!this.minPixelHeight\n                    ? minDesignTimeColumnHeight\n                    : Math.max(this.minPixelHeight, minDesignTimeColumnHeight)) + \"px\";\n        } else {\n            renderedElement.style.minWidth = \"0\";\n\n            if (this.minPixelHeight) {\n                renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n            }\n        }\n\n        if (this.width === \"auto\") {\n            renderedElement.style.flex = \"0 1 auto\";\n        } else if (this.width === \"stretch\") {\n            renderedElement.style.flex = \"1 1 50px\";\n        } else if (this.width instanceof SizeAndUnit) {\n            if (this.width.unit === Enums.SizeUnit.Pixel) {\n                renderedElement.style.flex = \"0 0 auto\";\n                renderedElement.style.width = this.width.physicalSize + \"px\";\n            } else {\n                renderedElement.style.flex =\n                    \"1 1 \" +\n                    (this._computedWeight > 0 ? this._computedWeight : this.width.physicalSize) +\n                    \"%\";\n            }\n        }\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    protected get separatorOrientation(): Enums.Orientation {\n        return Enums.Orientation.Vertical;\n    }\n\n    constructor(width: ColumnWidth = \"stretch\") {\n        super();\n\n        this.width = width;\n    }\n\n    getJsonTypeName(): string {\n        return \"Column\";\n    }\n\n    get hasVisibleSeparator(): boolean {\n        if (this.parent && this.parent instanceof ColumnSet) {\n            return this.separatorElement !== undefined && !this.parent.isLeftMostElement(this);\n        } else {\n            return false;\n        }\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class ColumnSet extends ContainerBase {\n    private _columns: Column[] = [];\n    private _renderedColumns: Column[];\n\n    private createColumnInstance(source: any, context: SerializationContext): Column | undefined {\n        return context.parseCardObject<Column>(\n            this,\n            source,\n            [],\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return !typeName || typeName === \"Column\" ? new Column() : undefined;\n            },\n            (typeName: string, _errorType: Enums.TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    Enums.ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedColumns = [];\n\n        if (this._columns.length > 0) {\n            // Cache hostConfig to avoid walking the parent hierarchy several times\n            const hostConfig = this.hostConfig;\n\n            const element = document.createElement(\"div\");\n            element.className = hostConfig.makeCssClassName(\"ac-columnSet\");\n            element.style.display = \"flex\";\n\n            if (GlobalSettings.useAdvancedCardBottomTruncation) {\n                // See comment in Container.internalRender()\n                element.style.minHeight = \"-webkit-min-content\";\n            }\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n\n            let totalWeight: number = 0;\n\n            for (const column of this._columns) {\n                if (\n                    column.width instanceof SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight\n                ) {\n                    totalWeight += column.width.physicalSize;\n                }\n            }\n\n            for (const column of this._columns) {\n                if (\n                    column.width instanceof SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight &&\n                    totalWeight > 0\n                ) {\n                    const computedWeight = (100 / totalWeight) * column.width.physicalSize;\n\n                    // Best way to emulate \"internal\" access I know of\n                    column[\"_computedWeight\"] = computedWeight;\n                }\n\n                const renderedColumn = column.render();\n\n                if (renderedColumn) {\n                    if (this._renderedColumns.length > 0 && column.separatorElement) {\n                        column.separatorElement.style.flex = \"0 0 auto\";\n\n                        Utils.appendChild(element, column.separatorElement);\n                    }\n\n                    Utils.appendChild(element, renderedColumn);\n\n                    this._renderedColumns.push(column);\n                }\n            }\n\n            return this._renderedColumns.length > 0 ? element : undefined;\n        } else {\n            return undefined;\n        }\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        for (const column of this._columns) {\n            column[\"handleOverflow\"](maxHeight);\n        }\n\n        return true;\n    }\n\n    protected undoOverflowTruncation() {\n        for (const column of this._columns) {\n            column[\"resetOverflow\"]();\n        }\n    }\n\n    protected get isSelectable(): boolean {\n        return true;\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._columns = [];\n        this._renderedColumns = [];\n\n        const jsonColumns = source[\"columns\"];\n\n        if (Array.isArray(jsonColumns)) {\n            for (const item of jsonColumns) {\n                const column = this.createColumnInstance(item, context);\n\n                if (column) {\n                    this._columns.push(column);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, \"columns\", this._columns);\n    }\n\n    isFirstElement(element: CardElement): boolean {\n        for (const column of this._columns) {\n            if (column.isVisible) {\n                return column === element;\n            }\n        }\n\n        return false;\n    }\n\n    isBleedingAtTop(): boolean {\n        if (this.isBleeding()) {\n            return true;\n        }\n\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (const column of this._columns) {\n                if (column.isBleedingAtTop()) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this.isBleeding()) {\n            return true;\n        }\n\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (const column of this._columns) {\n                if (column.isBleedingAtBottom()) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    getItemCount(): number {\n        return this._columns.length;\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[0];\n        } else {\n            return undefined;\n        }\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[this._renderedColumns.length - 1];\n        } else {\n            return undefined;\n        }\n    }\n\n    getColumnAt(index: number): Column {\n        return this._columns[index];\n    }\n\n    getItemAt(index: number): CardElement {\n        return this.getColumnAt(index);\n    }\n\n    getJsonTypeName(): string {\n        return \"ColumnSet\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        let weightedColumns: number = 0;\n        let stretchedColumns: number = 0;\n\n        for (const column of this._columns) {\n            if (typeof column.width === \"number\") {\n                weightedColumns++;\n            } else if (column.width === \"stretch\") {\n                stretchedColumns++;\n            }\n        }\n\n        if (weightedColumns > 0 && stretchedColumns > 0) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.Hint,\n                Strings.hints.dontUseWeightedAndStrecthedColumnsInSameSet()\n            );\n        }\n    }\n\n    addColumn(column: Column) {\n        if (!column.parent) {\n            this._columns.push(column);\n\n            column.setParent(this);\n        } else {\n            throw new Error(Strings.errors.columnAlreadyBelongsToAnotherSet());\n        }\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof Column) {\n            const itemIndex = this._columns.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._columns.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof Column ? this._columns.indexOf(cardElement) : -1;\n    }\n\n    isLeftMostElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) === 0;\n    }\n\n    isRightMostElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) === this._columns.length - 1;\n    }\n\n    isTopElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) >= 0;\n    }\n\n    isBottomElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) >= 0;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = undefined;\n\n        for (const column of this._columns) {\n            result = column.getActionById(id);\n\n            if (result) {\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    get bleed(): boolean {\n        return this.getBleed();\n    }\n\n    set bleed(value: boolean) {\n        this.setBleed(value);\n    }\n\n    get padding(): PaddingDefinition | undefined {\n        return this.getPadding();\n    }\n\n    set padding(value: PaddingDefinition | undefined) {\n        this.setPadding(value);\n    }\n\n    get selectAction(): Action | undefined {\n        return this._selectAction;\n    }\n\n    set selectAction(value: Action | undefined) {\n        this._selectAction = value;\n    }\n}\n\nfunction raiseImageLoadedEvent(image: Image) {\n    const card = image.getRootElement() as AdaptiveCard;\n    const onImageLoadedHandler =\n        card && card.onImageLoaded ? card.onImageLoaded : AdaptiveCard.onImageLoaded;\n\n    if (onImageLoadedHandler) {\n        onImageLoadedHandler(image);\n    }\n}\n\nfunction raiseAnchorClickedEvent(\n    element: CardElement,\n    anchor: HTMLAnchorElement,\n    ev?: MouseEvent\n): boolean {\n    const card = element.getRootElement() as AdaptiveCard;\n    const onAnchorClickedHandler =\n        card && card.onAnchorClicked ? card.onAnchorClicked : AdaptiveCard.onAnchorClicked;\n\n    return onAnchorClickedHandler !== undefined\n        ? onAnchorClickedHandler(element, anchor, ev)\n        : false;\n}\n\nfunction raiseExecuteActionEvent(action: Action) {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onExecuteActionHandler =\n        card && card.onExecuteAction ? card.onExecuteAction : AdaptiveCard.onExecuteAction;\n\n    if (action.prepareForExecution() && onExecuteActionHandler) {\n        onExecuteActionHandler(action);\n    }\n}\n\nfunction raiseInlineCardExpandedEvent(action: ShowCardAction, isExpanded: boolean) {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onInlineCardExpandedHandler =\n        card && card.onInlineCardExpanded\n            ? card.onInlineCardExpanded\n            : AdaptiveCard.onInlineCardExpanded;\n\n    if (onInlineCardExpandedHandler) {\n        onInlineCardExpandedHandler(action, isExpanded);\n    }\n}\n\nfunction raiseInputValueChangedEvent(input: Input) {\n    const card = input.getRootElement() as AdaptiveCard;\n    const onInputValueChangedHandler =\n        card && card.onInputValueChanged\n            ? card.onInputValueChanged\n            : AdaptiveCard.onInputValueChanged;\n\n    if (onInputValueChangedHandler) {\n        onInputValueChangedHandler(input);\n    }\n}\n\nfunction raiseElementVisibilityChangedEvent(\n    element: CardElement,\n    shouldUpdateLayout: boolean = true\n) {\n    const rootElement = element.getRootElement();\n\n    if (shouldUpdateLayout) {\n        rootElement.updateLayout();\n    }\n\n    const card = rootElement as AdaptiveCard;\n    const onElementVisibilityChangedHandler =\n        card && card.onElementVisibilityChanged\n            ? card.onElementVisibilityChanged\n            : AdaptiveCard.onElementVisibilityChanged;\n\n    if (onElementVisibilityChangedHandler !== undefined) {\n        onElementVisibilityChangedHandler(element);\n    }\n}\n\nfunction updateInputAdornersVisibility(input: HTMLInputElement, hide: boolean) {\n    if (!!hide) {\n        // hides the time/date picker icon\n        input.readOnly = true;\n        // hides the cross button icon\n        input.required = true;\n    } else {\n         // shows the time/date picker icon\n         input.readOnly = false;\n         // shows the cross button icon\n         input.required = false;\n    }\n    \n}\n\n/**\n * @returns return false to continue with default context menu; return true to skip SDK default context menu\n */\nfunction raiseDisplayOverflowActionMenuEvent(\n    action: OverflowAction,\n    target?: HTMLElement\n): boolean {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onDisplayOverflowActionMenuHandler =\n        card && card.onDisplayOverflowActionMenu\n            ? card.onDisplayOverflowActionMenu\n            : AdaptiveCard.onDisplayOverflowActionMenu;\n\n    return onDisplayOverflowActionMenuHandler !== undefined\n        ? onDisplayOverflowActionMenuHandler(action.getActions(), target)\n        : false;\n}\n\n/**\n * @returns return false to continue with default action button; return true to skip SDK default action button\n */\nfunction raiseRenderOverflowActionsEvent(\n    action: OverflowAction,\n    isAtRootLevelActions: boolean\n): boolean {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onRenderOverflowActionsHandler =\n        card && card.onRenderOverflowActions\n            ? card.onRenderOverflowActions\n            : AdaptiveCard.onRenderOverflowActions;\n\n    return onRenderOverflowActionsHandler !== undefined\n        ? onRenderOverflowActionsHandler(action.getActions(), isAtRootLevelActions)\n        : false;\n}\n\nexport abstract class ContainerWithActions extends Container {\n    private _actionCollection: ActionCollection;\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.parseActions(source, context);\n    }\n\n    protected parseActions(source: any, context: SerializationContext) {\n        this._actionCollection.parse(source[\"actions\"], context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        this._actionCollection.toJSON(target, \"actions\", context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = super.internalRender();\n\n        if (element) {\n            const renderedActions = this._actionCollection.render(\n                this.hostConfig.actions.actionsOrientation\n            );\n\n            if (renderedActions) {\n                Utils.appendChild(\n                    element,\n                    renderSeparation(\n                        this.hostConfig,\n                        {\n                            spacing: this.hostConfig.getEffectiveSpacing(\n                                this.hostConfig.actions.spacing\n                            )\n                        },\n                        Enums.Orientation.Horizontal\n                    )\n                );\n                Utils.appendChild(element, renderedActions);\n            }\n\n            if (this.renderIfEmpty) {\n                return element;\n            } else {\n                return element.children.length > 0 ? element : undefined;\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    protected getHasExpandedAction(): boolean {\n        if (this.renderedActionCount === 0) {\n            return false;\n        } else if (this.renderedActionCount === 1) {\n            return (\n                this._actionCollection.expandedAction !== undefined &&\n                !this.hostConfig.actions.preExpandSingleShowCardAction\n            );\n        } else {\n            return this._actionCollection.expandedAction !== undefined;\n        }\n    }\n\n    protected get renderedActionCount(): number {\n        return this._actionCollection.renderedActionCount;\n    }\n\n    protected get renderIfEmpty(): boolean {\n        return false;\n    }\n\n    constructor() {\n        super();\n\n        this._actionCollection = new ActionCollection(this);\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this._actionCollection.releaseDOMResources();\n    }\n\n    getActionCount(): number {\n        return this._actionCollection.getActionCount();\n    }\n\n    getActionAt(index: number): Action | undefined {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        } else {\n            return super.getActionAt(index);\n        }\n    }\n\n    getActionById(id: string): Action | undefined {\n        const result: Action | undefined = this._actionCollection.getActionById(id);\n\n        return result ? result : super.getActionById(id);\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this._actionCollection) {\n            this._actionCollection.validateProperties(context);\n        }\n    }\n\n    isLastElement(element: CardElement): boolean {\n        return super.isLastElement(element) && this._actionCollection.getActionCount() === 0;\n    }\n\n    addAction(action: Action) {\n        this._actionCollection.addAction(action);\n    }\n\n    clear() {\n        super.clear();\n\n        this._actionCollection.clear();\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result = super.getAllInputs(processActions);\n\n        if (processActions) {\n            result.push(...this._actionCollection.getAllInputs(processActions));\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result = super.getResourceInformation();\n\n        result.push(...this._actionCollection.getResourceInformation());\n\n        return result;\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return super.isBleedingAtBottom();\n        } else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (\n                    this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction\n                );\n            } else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    }\n\n    getForbiddenActionNames(): string[] {\n        return [];\n    }\n    \n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n\n        return result;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport interface IMarkdownProcessingResult {\n    didProcess: boolean;\n    outputHtml?: any;\n}\n\nexport class RefreshActionProperty extends PropertyDefinition {\n    parse(\n        sender: RefreshDefinition,\n        source: PropertyBag,\n        context: SerializationContext\n    ): ExecuteAction | undefined {\n        const action = context.parseAction(sender.parent, source[this.name], [], false);\n\n        if (action !== undefined) {\n            if (action instanceof ExecuteAction) {\n                return action;\n            }\n\n            context.logParseEvent(\n                sender,\n                Enums.ValidationEvent.ActionTypeNotAllowed,\n                Strings.errors.actionTypeNotAllowed(action.getJsonTypeName())\n            );\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.PropertyCantBeNull,\n            Strings.errors.propertyMustBeSet(\"action\")\n        );\n\n        return undefined;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: ExecuteAction | undefined,\n        context: SerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            value ? value.toJSON(context) : undefined,\n            undefined,\n            true\n        );\n    }\n\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(targetVersion, name, undefined);\n    }\n}\n\nexport class RefreshDefinition extends SerializableObject {\n    //#region Schema\n\n    static readonly actionProperty = new RefreshActionProperty(Versions.v1_4, \"action\");\n    static readonly userIdsProperty = new StringArrayProperty(Versions.v1_4, \"userIds\");\n\n    @property(RefreshDefinition.actionProperty)\n    get action(): ExecuteAction {\n        return this.getValue(RefreshDefinition.actionProperty);\n    }\n\n    set action(value: ExecuteAction) {\n        this.setValue(RefreshDefinition.actionProperty, value);\n\n        if (value) {\n            value.setParent(this.parent);\n        }\n    }\n\n    @property(RefreshDefinition.userIdsProperty)\n    userIds?: string[];\n\n    protected getSchemaKey(): string {\n        return \"RefreshDefinition\";\n    }\n\n    //#endregion\n\n    parent: CardElement;\n}\n\nexport class AuthCardButton extends SerializableObject {\n    //#region Schema\n\n    static readonly typeProperty = new StringProperty(Versions.v1_4, \"type\");\n    static readonly titleProperty = new StringProperty(Versions.v1_4, \"title\");\n    static readonly imageProperty = new StringProperty(Versions.v1_4, \"image\");\n    static readonly valueProperty = new StringProperty(Versions.v1_4, \"value\");\n\n    protected getSchemaKey(): string {\n        return \"AuthCardButton\";\n    }\n\n    //#endregion\n\n    @property(AuthCardButton.typeProperty)\n    type: string;\n\n    @property(AuthCardButton.titleProperty)\n    title?: string;\n\n    @property(AuthCardButton.imageProperty)\n    image?: string;\n\n    @property(AuthCardButton.valueProperty)\n    value: string;\n}\n\nexport class TokenExchangeResource extends SerializableObject {\n    //#region Schema\n\n    static readonly idProperty = new StringProperty(Versions.v1_4, \"id\");\n    static readonly uriProperty = new StringProperty(Versions.v1_4, \"uri\");\n    static readonly providerIdProperty = new StringProperty(Versions.v1_4, \"providerId\");\n\n    protected getSchemaKey(): string {\n        return \"TokenExchangeResource\";\n    }\n\n    //#endregion\n\n    @property(TokenExchangeResource.idProperty)\n    id?: string;\n\n    @property(TokenExchangeResource.uriProperty)\n    uri?: string;\n\n    @property(TokenExchangeResource.providerIdProperty)\n    providerId?: string;\n}\n\nexport class Authentication extends SerializableObject {\n    //#region Schema\n\n    static readonly textProperty = new StringProperty(Versions.v1_4, \"text\");\n    static readonly connectionNameProperty = new StringProperty(Versions.v1_4, \"connectionName\");\n    static readonly buttonsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_4,\n        \"buttons\",\n        AuthCardButton\n    );\n    static readonly tokenExchangeResourceProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"tokenExchangeResource\",\n        TokenExchangeResource,\n        true\n    );\n\n    protected getSchemaKey(): string {\n        return \"Authentication\";\n    }\n\n    //#endregion\n\n    @property(Authentication.textProperty)\n    text?: string;\n\n    @property(Authentication.connectionNameProperty)\n    connectionName?: string;\n\n    @property(Authentication.buttonsProperty)\n    buttons: AuthCardButton[];\n\n    @property(Authentication.tokenExchangeResourceProperty)\n    tokenExchangeResource?: TokenExchangeResource;\n}\n\n// @dynamic\nexport class AdaptiveCard extends ContainerWithActions {\n    static readonly schemaUrl = \"http://adaptivecards.io/schemas/adaptive-card.json\";\n\n    //#region Schema\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    protected static readonly $schemaProperty = new CustomProperty<string>(\n        Versions.v1_0,\n        \"$schema\",\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            return AdaptiveCard.schemaUrl;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: Versions | undefined,\n            context: BaseSerializationContext\n        ) => {\n            context.serializeValue(target, prop.name, AdaptiveCard.schemaUrl);\n        }\n    );\n\n    static readonly versionProperty = new CustomProperty<Version | undefined>(\n        Versions.v1_0,\n        \"version\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let version = Version.parse(source[prop.name], context);\n\n            if (version === undefined) {\n                version = Versions.latest;\n\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidCardVersion(version.toString())\n                );\n            }\n\n            return version;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: Version | undefined,\n            context: BaseSerializationContext\n        ) => {\n            if (value !== undefined) {\n                context.serializeValue(target, prop.name, value.toString());\n            }\n        },\n        Versions.v1_0\n    );\n\n    static readonly fallbackTextProperty = new StringProperty(Versions.v1_0, \"fallbackText\");\n    static readonly speakProperty = new StringProperty(Versions.v1_0, \"speak\");\n    static readonly refreshProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"refresh\",\n        RefreshDefinition,\n        true\n    );\n    static readonly authenticationProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"authentication\",\n        Authentication,\n        true\n    );\n\n    @property(AdaptiveCard.versionProperty)\n    version: Version;\n\n    @property(AdaptiveCard.fallbackTextProperty)\n    fallbackText?: string;\n\n    @property(AdaptiveCard.speakProperty)\n    speak?: string;\n\n    @property(AdaptiveCard.refreshProperty)\n    get refresh(): RefreshDefinition | undefined {\n        return this.getValue(AdaptiveCard.refreshProperty);\n    }\n\n    set refresh(value: RefreshDefinition | undefined) {\n        this.setValue(AdaptiveCard.refreshProperty, value);\n\n        if (value) {\n            value.parent = this;\n        }\n    }\n\n    @property(AdaptiveCard.authenticationProperty)\n    authentication?: Authentication;\n\n    //#endregion\n\n    private static _haveWarnedAboutNoMarkdownProcessing = false;\n\n    static onAnchorClicked?: (\n        element: CardElement,\n        anchor: HTMLAnchorElement,\n        ev?: MouseEvent\n    ) => boolean;\n    static onExecuteAction?: (action: Action) => void;\n    static onElementVisibilityChanged?: (element: CardElement) => void;\n    static onImageLoaded?: (image: Image) => void;\n    static onInlineCardExpanded?: (action: ShowCardAction, isExpanded: boolean) => void;\n    static onInputValueChanged?: (input: Input) => void;\n    static onCarouselEvent?: (carouselEvent: CarouselEvent) => void;\n    static onProcessMarkdown?: (text: string, result: IMarkdownProcessingResult) => void;\n    static onDisplayOverflowActionMenu?: (\n        actions: readonly Action[],\n        target?: HTMLElement\n    ) => boolean;\n    static onRenderOverflowActions?: (\n        actions: readonly Action[],\n        isRootLevelActions: boolean\n    ) => boolean;\n\n    static get processMarkdown(): (text: string) => string {\n        throw new Error(Strings.errors.processMarkdownEventRemoved());\n    }\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    static set processMarkdown(_value: (text: string) => string) {\n        throw new Error(Strings.errors.processMarkdownEventRemoved());\n    }\n\n    static applyMarkdown(text: string): IMarkdownProcessingResult {\n        const result: IMarkdownProcessingResult = {\n            didProcess: false\n        };\n\n        if (AdaptiveCard.onProcessMarkdown) {\n            AdaptiveCard.onProcessMarkdown(text, result);\n        } else if ((<any>window).markdownit) {\n            // Check for markdownit\n            const markdownIt: any = (<any>window).markdownit;\n            result.outputHtml = markdownIt().render(text);\n            result.didProcess = true;\n        } else if (!AdaptiveCard._haveWarnedAboutNoMarkdownProcessing) {\n            // eslint-disable-next-line no-console\n            console.warn(Strings.errors.markdownProcessingNotEnabled);\n            AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = true;\n        }\n\n        return result;\n    }\n\n    private _fallbackCard?: AdaptiveCard;\n\n    private isVersionSupported(): boolean {\n        if (this.bypassVersionCheck) {\n            return true;\n        } else {\n            const unsupportedVersion: boolean =\n                !this.version ||\n                !this.version.isValid ||\n                this.maxVersion.major < this.version.major ||\n                (this.maxVersion.major === this.version.major &&\n                    this.maxVersion.minor < this.version.minor);\n\n            return !unsupportedVersion;\n        }\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext(this.version);\n    }\n\n    protected getItemsCollectionPropertyName(): string {\n        return \"body\";\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        this._fallbackCard = undefined;\n\n        const fallbackElement = context.parseElement(\n            undefined,\n            source[\"fallback\"],\n            this.forbiddenChildElements(),\n            !this.isDesignMode()\n        );\n\n        if (fallbackElement) {\n            this._fallbackCard = new AdaptiveCard();\n            this._fallbackCard.addItem(fallbackElement);\n        }\n\n        super.internalParse(source, context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        this.setValue(AdaptiveCard.versionProperty, context.targetVersion);\n\n        super.internalToJSON(target, context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const renderedElement = super.internalRender();\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation && renderedElement) {\n            // Unlike containers, the root card element should be allowed to\n            // be shorter than its content (otherwise the overflow truncation\n            // logic would never get triggered)\n            renderedElement.style.removeProperty(\"minHeight\");\n        }\n\n        return renderedElement;\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        return true;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding\n        );\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    protected get renderIfEmpty(): boolean {\n        return true;\n    }\n\n    protected get bypassVersionCheck(): boolean {\n        return false;\n    }\n\n    protected get allowCustomStyle() {\n        return this.hostConfig.adaptiveCard && this.hostConfig.adaptiveCard.allowCustomStyle;\n    }\n\n    protected get hasBackground(): boolean {\n        return true;\n    }\n\n    onAnchorClicked?: (element: CardElement, anchor: HTMLAnchorElement, ev?: MouseEvent) => boolean;\n    onExecuteAction?: (action: Action) => void;\n    onElementVisibilityChanged?: (element: CardElement) => void;\n    onImageLoaded?: (image: Image) => void;\n    onInlineCardExpanded?: (action: ShowCardAction, isExpanded: boolean) => void;\n    onInputValueChanged?: (input: Input) => void;\n    onCarouselEvent?: (carouselEvent: CarouselEvent) => void;\n    onDisplayOverflowActionMenu?: (actions: readonly Action[], target?: HTMLElement) => boolean;\n    onRenderOverflowActions?: (actions: readonly Action[], isRootLevelActions: boolean) => boolean;\n\n    designMode: boolean = false;\n\n    getJsonTypeName(): string {\n        return \"AdaptiveCard\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this.getValue(CardElement.typeNameProperty) !== \"AdaptiveCard\") {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.MissingCardType,\n                Strings.errors.invalidCardType()\n            );\n        }\n\n        if (!this.bypassVersionCheck && !this.version) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"version\")\n            );\n        } else if (!this.isVersionSupported()) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.UnsupportedCardVersion,\n                Strings.errors.unsupportedCardVersion(\n                    this.version.toString(),\n                    this.maxVersion.toString()\n                )\n            );\n        }\n    }\n\n    render(target?: HTMLElement): HTMLElement | undefined {\n        let renderedCard: HTMLElement | undefined;\n\n        if (this.shouldFallback() && this._fallbackCard) {\n            this._fallbackCard.hostConfig = this.hostConfig;\n\n            renderedCard = this._fallbackCard.render();\n        } else {\n            renderedCard = super.render();\n\n            if (renderedCard) {\n                renderedCard.classList.add(this.hostConfig.makeCssClassName(\"ac-adaptiveCard\"));\n\n                // Having a tabIndex on the root container for a card can mess up accessibility in some scenarios.\n                // However, we've shipped this behavior before, and so can't just turn it off in a point release. For\n                // now, to unblock accessibility scenarios for our customers, we've got an option to turn it off. In a\n                // future release, we should strongly consider flipping the default such that we *don't* emit a tabIndex\n                // by default.\n                if (GlobalSettings.setTabIndexAtCardRoot) {\n                    renderedCard.tabIndex = 0;\n                }\n\n                if (this.speak) {\n                    renderedCard.setAttribute(\"aria-label\", this.speak);\n                }\n\n                renderedCard.onmouseenter = (ev: MouseEvent) => {\n                    this.updateInputsVisualState(true /* hover */);\n                };\n\n                renderedCard.onmouseleave = (ev: MouseEvent) => {\n                    this.updateInputsVisualState(false /* hover */);\n                };\n\n                this.getRootElement().updateActionsEnabledState();\n            }\n        }\n\n        if (target) {\n            Utils.appendChild(target, renderedCard);\n\n            this.updateLayout();\n        }\n\n        const inputElements = this.getAllInputs();\n        document.onclick = (event) => {\n            inputElements.forEach((input) => {\n                if (\n                    input instanceof ChoiceSetInput &&\n                    !input.renderedElement?.contains(event.target as Node)\n                ) {\n                    input\n                        .getDropdownElement()\n                        ?.classList.remove(\n                            this.hostConfig.makeCssClassName(\n                                \"ac-choiceSetInput-filtered-dropdown-open\"\n                            )\n                        );\n                }\n            });\n        };\n\n        return renderedCard;\n    }\n\n    updateLayout(processChildren: boolean = true) {\n        super.updateLayout(processChildren);\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation && this.isDisplayed()) {\n            const padding = this.hostConfig.getEffectiveSpacing(Enums.Spacing.Default);\n\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this[\"handleOverflow\"](this.renderedElement!.offsetHeight - padding);\n        }\n    }\n\n    shouldFallback(): boolean {\n        return super.shouldFallback() || !this.isVersionSupported();\n    }\n\n    get hasVisibleSeparator(): boolean {\n        return false;\n    }\n}\n\nclass InlineAdaptiveCard extends AdaptiveCard {\n    //#region Schema\n\n    protected getSchemaKey(): string {\n        return \"InlineAdaptiveCard\";\n    }\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.remove(AdaptiveCard.$schemaProperty, AdaptiveCard.versionProperty);\n    }\n\n    //#endregion\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(\n            this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding,\n            Enums.Spacing.Padding\n        );\n    }\n\n    protected get bypassVersionCheck(): boolean {\n        return true;\n    }\n\n    protected get defaultStyle(): string {\n        if (this.suppressStyle) {\n            return Enums.ContainerStyle.Default;\n        } else {\n            return this.hostConfig.actions.showCard.style\n                ? this.hostConfig.actions.showCard.style\n                : Enums.ContainerStyle.Emphasis;\n        }\n    }\n\n    suppressStyle: boolean = false;\n\n    render(target?: HTMLElement): HTMLElement | undefined {\n        const renderedCard = super.render(target);\n\n        if (renderedCard) {\n            renderedCard.setAttribute(\"aria-live\", \"polite\");\n            renderedCard.removeAttribute(\"tabindex\");\n        }\n\n        return renderedCard;\n    }\n}\n\nexport class SerializationContext extends BaseSerializationContext {\n    private _elementRegistry?: CardObjectRegistry<CardElement>;\n    private _actionRegistry?: CardObjectRegistry<Action>;\n\n    private _forbiddenTypes: Set<string> = new Set<string>();\n    private internalParseCardObject<T extends CardObject>(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypes: Set<string>,\n        allowFallback: boolean,\n        createInstanceCallback: (typeName: string | undefined) => T | undefined,\n        logParseEvent: (typeName: string | undefined, errorType: Enums.TypeErrorType) => void\n    ): T | undefined {\n        let result: T | undefined = undefined;\n\n        if (source && typeof source === \"object\") {\n            const oldForbiddenTypes = new Set<string>();\n            this._forbiddenTypes.forEach((type) => {\n                oldForbiddenTypes.add(type);\n            });\n            forbiddenTypes.forEach((type) => {\n                this._forbiddenTypes.add(type);\n            });\n\n            const typeName = Utils.parseString(source[\"type\"]);\n\n            if (typeName && this._forbiddenTypes.has(typeName)) {\n                logParseEvent(typeName, Enums.TypeErrorType.ForbiddenType);\n            } else {\n                let tryToFallback = false;\n\n                result = createInstanceCallback(typeName);\n\n                if (!result) {\n                    tryToFallback = GlobalSettings.enableFallback && allowFallback;\n\n                    logParseEvent(typeName, Enums.TypeErrorType.UnknownType);\n                } else {\n                    result.setParent(parent);\n                    result.parse(source, this);\n\n                    tryToFallback =\n                        GlobalSettings.enableFallback && allowFallback && result.shouldFallback();\n                }\n\n                if (tryToFallback) {\n                    const fallback = source[\"fallback\"];\n\n                    if (!fallback && parent) {\n                        parent.setShouldFallback(true);\n                    }\n                    if (typeof fallback === \"string\" && fallback.toLowerCase() === \"drop\") {\n                        result = undefined;\n                    } else if (typeof fallback === \"object\") {\n                        result = this.internalParseCardObject<T>(\n                            parent,\n                            fallback,\n                            forbiddenTypes,\n                            true,\n                            createInstanceCallback,\n                            logParseEvent\n                        );\n                    }\n                }\n            }\n\n            this._forbiddenTypes = oldForbiddenTypes;\n        }\n\n        return result;\n    }\n\n    protected cardObjectParsed(o: SerializableObject, source: any) {\n        if (o instanceof Action && this.onParseAction) {\n            this.onParseAction(o, source, this);\n        } else if (o instanceof CardElement && this.onParseElement) {\n            this.onParseElement(o, source, this);\n        }\n    }\n\n    onParseAction?: (action: Action, source: any, context: SerializationContext) => void;\n    onParseElement?: (element: CardElement, source: any, context: SerializationContext) => void;\n\n    shouldSerialize(o: SerializableObject): boolean {\n        if (o instanceof Action) {\n            return this.actionRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        } else if (o instanceof CardElement) {\n            return this.elementRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        } else {\n            return true;\n        }\n    }\n\n    parseCardObject<T extends CardObject>(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypeNames: string[],\n        allowFallback: boolean,\n        createInstanceCallback: (typeName: string) => T | undefined,\n        logParseEvent: (typeName: string, errorType: Enums.TypeErrorType) => void\n    ): T | undefined {\n        const forbiddenTypes = new Set<string>(forbiddenTypeNames);\n        const result = this.internalParseCardObject(\n            parent,\n            source,\n            forbiddenTypes,\n            allowFallback,\n            createInstanceCallback,\n            logParseEvent\n        );\n\n        if (result !== undefined) {\n            this.cardObjectParsed(result, source);\n        }\n\n        return result;\n    }\n\n    parseElement(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypes: string[],\n        allowFallback: boolean\n    ): CardElement | undefined {\n        return this.parseCardObject<CardElement>(\n            parent,\n            source,\n            forbiddenTypes,\n            allowFallback,\n            (typeName: string) => {\n                return this.elementRegistry.createInstance(typeName, this.targetVersion);\n            },\n            (typeName: string, errorType: Enums.TypeErrorType) => {\n                if (errorType === Enums.TypeErrorType.UnknownType) {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.UnknownElementType,\n                        Strings.errors.unknownElementType(typeName)\n                    );\n                } else {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.ElementTypeNotAllowed,\n                        Strings.errors.elementTypeNotAllowed(typeName)\n                    );\n                }\n            }\n        );\n    }\n\n    parseAction(\n        parent: CardElement,\n        source: any,\n        forbiddenActionTypes: string[],\n        allowFallback: boolean\n    ): Action | undefined {\n        return this.parseCardObject<Action>(\n            parent,\n            source,\n            forbiddenActionTypes,\n            allowFallback,\n            (typeName: string) => {\n                return this.actionRegistry.createInstance(typeName, this.targetVersion);\n            },\n            (typeName: string, errorType: Enums.TypeErrorType) => {\n                if (errorType === Enums.TypeErrorType.UnknownType) {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.UnknownActionType,\n                        Strings.errors.unknownActionType(typeName)\n                    );\n                } else {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.ActionTypeNotAllowed,\n                        Strings.errors.actionTypeNotAllowed(typeName)\n                    );\n                }\n            }\n        );\n    }\n\n    get elementRegistry(): CardObjectRegistry<CardElement> {\n        return this._elementRegistry ?? GlobalRegistry.elements;\n    }\n\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    setElementRegistry(value: CardObjectRegistry<CardElement> | undefined) {\n        this._elementRegistry = value;\n    }\n\n    get actionRegistry(): CardObjectRegistry<Action> {\n        return this._actionRegistry ?? GlobalRegistry.actions;\n    }\n\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    setActionRegistry(value: CardObjectRegistry<Action> | undefined) {\n        this._actionRegistry = value;\n    }\n}\n\nGlobalRegistry.defaultElements.register(\"Container\", Container);\nGlobalRegistry.defaultElements.register(\"TextBlock\", TextBlock);\nGlobalRegistry.defaultElements.register(\"RichTextBlock\", RichTextBlock, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"TextRun\", TextRun, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"Image\", Image);\nGlobalRegistry.defaultElements.register(\"ImageSet\", ImageSet);\nGlobalRegistry.defaultElements.register(\"Media\", Media, Versions.v1_1);\nGlobalRegistry.defaultElements.register(\"FactSet\", FactSet);\nGlobalRegistry.defaultElements.register(\"ColumnSet\", ColumnSet);\nGlobalRegistry.defaultElements.register(\"ActionSet\", ActionSet, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"Input.Text\", TextInput);\nGlobalRegistry.defaultElements.register(\"Input.Date\", DateInput);\nGlobalRegistry.defaultElements.register(\"Input.Time\", TimeInput);\nGlobalRegistry.defaultElements.register(\"Input.Number\", NumberInput);\nGlobalRegistry.defaultElements.register(\"Input.ChoiceSet\", ChoiceSetInput);\nGlobalRegistry.defaultElements.register(\"Input.Toggle\", ToggleInput);\n\nGlobalRegistry.defaultActions.register(OpenUrlAction.JsonTypeName, OpenUrlAction);\nGlobalRegistry.defaultActions.register(SubmitAction.JsonTypeName, SubmitAction);\nGlobalRegistry.defaultActions.register(ShowCardAction.JsonTypeName, ShowCardAction);\nGlobalRegistry.defaultActions.register(\n    ToggleVisibilityAction.JsonTypeName,\n    ToggleVisibilityAction,\n    Versions.v1_2\n);\nGlobalRegistry.defaultActions.register(ExecuteAction.JsonTypeName, ExecuteAction, Versions.v1_4);\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.6\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2023, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: February 2, 2023\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionStart(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionstart', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionstart', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, transitionStart, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend(...args) {\n  const to = Object(args[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll({\n  swiper,\n  targetPosition,\n  side\n}) {\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice({\n  userAgent\n} = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides = {}) {\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","import { getWindow } from 'ssr-window';\nexport default function Resize({\n  swiper,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const observers = [];\n  const window = getWindow();\n\n  const attach = (target, options = {}) => {\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate = this && this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","export default function transitionEmit({\n  swiper,\n  runCallbacks,\n  direction,\n  step\n}) {\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex]; // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  } // Update progress\n\n\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < swiper.loopedSlides; i += 1) {\n    const index = i - Math.floor(i / slides.length) * slides.length;\n    appendSlides.push(slides.eq(index)[0]);\n    prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);\n  }\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base = this) {\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== ''; // eslint-disable-next-line\n\n  const eventPath = event.composedPath ? event.composedPath() : event.path;\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    $targetEl = $(eventPath[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base = 'window', containerEl) {\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopedSlidesLimit: true,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj = {}) {\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor(...args) {\n    let el;\n    let params;\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      }); // eslint-disable-next-line no-constructor-return\n\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n    // eslint-disable-next-line no-constructor-return\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view = 'current', exact = false) {\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate = true) {\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","export default function classesToSelector(classes = '') {\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nexport default function Parallax({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = (duration = swiper.params.speed) => {\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate = true) {\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}","/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}","import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  swiper.a11y = {\n    clicked: false\n  };\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size = 16) {\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handlePointerDown = () => {\n    swiper.a11y.clicked = true;\n  };\n\n  const handlePointerUp = () => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        if (!swiper.destroyed) {\n          swiper.a11y.clicked = false;\n        }\n      });\n    });\n  };\n\n  const handleFocus = e => {\n    if (swiper.a11y.clicked) return;\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;\n\n    if (swiper.isHorizontal()) {\n      swiper.el.scrollLeft = 0;\n    } else {\n      swiper.el.scrollTop = 0;\n    }\n\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n    swiper.$el.on('pointerdown', handlePointerDown, true);\n    swiper.$el.on('pointerup', handlePointerUp, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n    swiper.$el.off('pointerdown', handlePointerDown, true);\n    swiper.$el.off('pointerup', handlePointerUp, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function History({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation({\n  swiper,\n  extendParams,\n  emit,\n  on\n}) {\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}","import { now } from '../../shared/utils.js';\nexport default function freeMode({\n  swiper,\n  extendParams,\n  emit,\n  once\n}) {\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd({\n    currentPos\n  }) {\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}","export default function Grid({\n  swiper,\n  extendParams\n}) {\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}","export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation({\n  swiper\n}) {\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}","export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","export default function effectVirtualTransitionEnd({\n  swiper,\n  duration,\n  transformEl,\n  allSlides\n}) {\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}","import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true,\n      perSlideRotate: 2,\n      perSlideOffset: 8\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -params.perSlideRotate * progress;\n      let tXAdd = params.perSlideOffset - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","/**\n * Swiper 8.4.7\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2023 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: January 30, 2023\n */\n\nexport { default as Swiper, default } from './core/core.js';\nexport { default as Virtual } from './modules/virtual/virtual.js';\nexport { default as Keyboard } from './modules/keyboard/keyboard.js';\nexport { default as Mousewheel } from './modules/mousewheel/mousewheel.js';\nexport { default as Navigation } from './modules/navigation/navigation.js';\nexport { default as Pagination } from './modules/pagination/pagination.js';\nexport { default as Scrollbar } from './modules/scrollbar/scrollbar.js';\nexport { default as Parallax } from './modules/parallax/parallax.js';\nexport { default as Zoom } from './modules/zoom/zoom.js';\nexport { default as Lazy } from './modules/lazy/lazy.js';\nexport { default as Controller } from './modules/controller/controller.js';\nexport { default as A11y } from './modules/a11y/a11y.js';\nexport { default as History } from './modules/history/history.js';\nexport { default as HashNavigation } from './modules/hash-navigation/hash-navigation.js';\nexport { default as Autoplay } from './modules/autoplay/autoplay.js';\nexport { default as Thumbs } from './modules/thumbs/thumbs.js';\nexport { default as FreeMode } from './modules/free-mode/free-mode.js';\nexport { default as Grid } from './modules/grid/grid.js';\nexport { default as Manipulation } from './modules/manipulation/manipulation.js';\nexport { default as EffectFade } from './modules/effect-fade/effect-fade.js';\nexport { default as EffectCube } from './modules/effect-cube/effect-cube.js';\nexport { default as EffectFlip } from './modules/effect-flip/effect-flip.js';\nexport { default as EffectCoverflow } from './modules/effect-coverflow/effect-coverflow.js';\nexport { default as EffectCreative } from './modules/effect-creative/effect-creative.js';\nexport { default as EffectCards } from './modules/effect-cards/effect-cards.js';","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    AdaptiveCard,\n    ActionType,\n    CardElement,\n    Container,\n    SerializationContext,\n    ShowCardAction,\n    ToggleVisibilityAction\n} from \"./card-elements\";\nimport * as Enums from \"./enums\";\nimport {\n    BoolProperty,\n    NumProperty,\n    EnumProperty,\n    property,\n    PropertyBag,\n    SerializableObjectSchema,\n    Versions,\n    PixelSizeProperty\n} from \"./serialization\";\nimport { GlobalRegistry } from \"./registry\";\nimport { TypeErrorType, ValidationEvent } from \"./enums\";\nimport { Strings } from \"./strings\";\nimport {\n    Swiper,\n    A11y,\n    Autoplay,\n    History,\n    Keyboard,\n    Navigation,\n    Pagination,\n    Scrollbar,\n    SwiperOptions\n} from \"swiper\";\nimport * as Utils from \"./utils\";\nimport { GlobalSettings } from \"./shared\";\n\n// Note: to function correctly, consumers need to have CSS from swiper/css, swiper/css/pagination, and\n// swiper/css/navigation\n\nexport class CarouselPage extends Container {\n    //#region Schema\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // `style`, `bleed`, `isVisible` are not supported in CarouselPage\n        schema.remove(Container.styleProperty);\n        schema.remove(Container.bleedProperty);\n        schema.remove(Container.isVisibleProperty);\n    }\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        const carouselSlide: HTMLElement = document.createElement(\"div\");\n        carouselSlide.className = this.hostConfig.makeCssClassName(\"swiper-slide\");\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        const renderedElement = super.internalRender();\n        Utils.appendChild(carouselSlide, renderedElement);\n        return carouselSlide;\n    }\n\n    getForbiddenActionTypes(): ActionType[] {\n        return [ShowCardAction, ToggleVisibilityAction];\n    }\n\n    getForbiddenChildElements(): string[] {\n        return this.forbiddenChildElements();\n    }\n\n    protected forbiddenChildElements(): string[] {\n        return [\n            ToggleVisibilityAction.JsonTypeName,\n            ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            \"Carousel\",\n            ...super.forbiddenChildElements()\n        ];\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.setShouldFallback(false);\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    getJsonTypeName(): string {\n        return \"CarouselPage\";\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n\n    get hasVisibleSeparator(): boolean {\n        return false;\n    }\n}\n\nexport class Carousel extends Container {\n    //#region Schema\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // `style`, `bleed`, `isVisible` are not supported in Carousel\n        schema.remove(Container.styleProperty);\n        schema.remove(Container.bleedProperty);\n        schema.remove(Container.isVisibleProperty);\n    }\n\n    static readonly timerProperty = new NumProperty(Versions.v1_6, \"timer\", undefined);\n    @property(Carousel.timerProperty)\n    get timer(): number | undefined {\n        let timer = this.getValue(Carousel.timerProperty);\n\n        if (timer && timer < this.hostConfig.carousel.minAutoplayDelay) {\n            console.warn(Strings.errors.tooLittleTimeDelay);\n            timer = this.hostConfig.carousel.minAutoplayDelay;\n        }\n\n        return timer;\n    }\n\n    set timer(value: number | undefined) {\n        if (value && value < this.hostConfig.carousel.minAutoplayDelay) {\n            console.warn(Strings.errors.tooLittleTimeDelay);\n            this.setValue(Carousel.timerProperty, this.hostConfig.carousel.minAutoplayDelay);\n        } else {\n            this.setValue(Carousel.timerProperty, value);\n        }\n    }\n\n    static readonly initialPageProperty = new NumProperty(Versions.v1_6, \"initialPage\", 0);\n    @property(Carousel.initialPageProperty)\n    get initialPageIndex(): number {\n        return this.getValue(Carousel.initialPageProperty); \n    }\n\n    set initialPageIndex(value: number) { \n        if (this.isValidParsedPageIndex(value)) { \n            this.setValue(Carousel.initialPageProperty, value);\n        } else { \n            console.warn(Strings.errors.invalidInitialPageIndex(value));\n            this.setValue(Carousel.initialPageProperty, 0); \n        }\n    }\n\n    static readonly loopProperty = new BoolProperty(Versions.v1_6, \"loop\", true);\n    @property(Carousel.loopProperty)\n    carouselLoop: boolean = true;\n    \n    static readonly orientationProperty = new EnumProperty(\n        Versions.v1_6,\n        \"orientation\",\n        Enums.Orientation,\n        Enums.Orientation.Horizontal\n    );\n    @property(Carousel.orientationProperty)\n    carouselOrientation: Enums.Orientation = Enums.Orientation.Horizontal; \n\n    static readonly carouselHeightProperty = new PixelSizeProperty(\n        Versions.v1_6,\n        \"heightInPixels\"\n    );\n    @property(Carousel.carouselHeightProperty)\n    carouselHeight?: number;\n    \n    private isValidParsedPageIndex(index: number) : boolean {\n        return this._pages ? this.isValidPageIndex(index, this._pages.length) : false;\n    }\n\n    private isValidRenderedPageIndex(index: number) : boolean {\n        return this._renderedPages ? this.isValidPageIndex(index, this._renderedPages.length) : false;\n    }\n\n    private isValidPageIndex(index: number, collectionSize: number) {\n        return (collectionSize > 0 && 0 <= index && index < collectionSize);\n    }\n\n    //#endregion\n\n    get previousEventType(): Enums.CarouselInteractionEvent {\n        return this._previousEventType;\n    }\n\n    set previousEventType(eventType: Enums.CarouselInteractionEvent) {\n        this._previousEventType = eventType;\n    }\n\n    private _pages: CarouselPage[] = [];\n    private _renderedPages: CarouselPage[];\n    private _carouselPageContainer: HTMLElement;\n    private _containerForAdorners: HTMLElement;\n    private _currentIndex: number = 0;\n    private _previousEventType: Enums.CarouselInteractionEvent = Enums.CarouselInteractionEvent.Pagination;\n    private _observer: ResizeObserver | null;\n    private _carousel: Swiper | null;\n\n    // Question: Why do we place this on the Carousel instead of the CarouselPage?\n    protected forbiddenChildElements(): string[] {\n        return [\n            ToggleVisibilityAction.JsonTypeName,\n            ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            ...super.forbiddenChildElements()\n        ];\n    }\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        super.adjustRenderedElementSize(renderedElement);\n        if (this.height == \"stretch\" && this._containerForAdorners !== undefined) { \n            this._containerForAdorners.style.height = \"100%\";\n        }\n\n        // Assign the explicit height to carouselPageContainer if given\n        if (this.carouselHeight) {\n            this._carouselPageContainer.style.height = this.carouselHeight + \"px\";\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Carousel\";\n    }\n\n    getItemCount(): number {\n        return this._pages.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._pages[index];\n    }\n\n    addPage(page: CarouselPage) {\n        this._pages.push(page);\n        page.setParent(this);\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof CarouselPage) {\n            const itemIndex = this._pages.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._pages.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedPages?.length > 0) {\n            return this._renderedPages[0];\n        } else {\n            return undefined;\n        }\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedPages?.length > 0) {\n            return this._renderedPages[this._renderedPages.length - 1];\n        } else {\n            return undefined;\n        }\n    }\n\n    get currentPageId(): string | undefined {\n        if (this._carousel?.slides?.length) {\n            const activeSlide = this._carousel.slides[this._carousel.activeIndex] as HTMLElement;\n            return activeSlide.id;\n        }\n        return undefined;\n    }\n\n    get currentPageIndex(): number | undefined {\n        return this._carousel?.realIndex;\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._pages = [];\n\n        const jsonPages = source[\"pages\"];\n        if (Array.isArray(jsonPages)) {\n            for (const item of jsonPages) {\n                const page = this.createCarouselPageInstance(item, context);\n                if (page) {\n                    this._pages.push(page);\n                }\n            }\n        }\n\n        // everything is parsed do validate on initial page index\n        this.validateParsing(context);\n    }\n\n    private validateParsing(context: SerializationContext) {\n        if (!this.isValidParsedPageIndex(this.initialPageIndex)) {\n            context.logParseEvent(\n                this,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidInitialPageIndex(this.initialPageIndex)\n            );\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, \"pages\", this._pages);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedPages = [];\n\n        if (this._pages.length <= 0) {\n            return undefined;\n        }\n\n        this.validateOrientationProperties();\n\n        const cardLevelContainer: HTMLElement = document.createElement(\"div\");\n        cardLevelContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-card-level-container\");\n\n        const carouselContainer: HTMLElement = document.createElement(\"div\");\n        carouselContainer.className = this.hostConfig.makeCssClassName(\"swiper\", \"ac-carousel\");\n        this._carouselPageContainer = carouselContainer;\n\n        const containerForAdorners: HTMLElement = document.createElement(\"div\");\n        containerForAdorners.className = this.hostConfig.makeCssClassName(\"ac-carousel-container\");\n        this._containerForAdorners = containerForAdorners;\n\n        cardLevelContainer.appendChild(containerForAdorners);\n        \n        const navigationContainer: HTMLElement = document.createElement(\"div\");\n        navigationContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-navigation\");\n        containerForAdorners.appendChild(navigationContainer);\n\n        const carouselWrapper: HTMLElement = document.createElement(\"div\");\n        carouselWrapper.className = this.hostConfig.makeCssClassName(\n            \"swiper-wrapper\",\n            \"ac-carousel-card-container\"\n        );\n        carouselWrapper.style.display = \"flex\";\n\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Top:\n                carouselWrapper.style.alignItems = \"flex-start\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                carouselWrapper.style.alignItems = \"flex-end\";\n                break;\n            default:\n                carouselWrapper.style.alignItems = \"center\";\n                break;\n        }\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            carouselWrapper.style.minHeight = \"-webkit-min-content\";\n        }\n\n        const prevElementDiv: HTMLElement = document.createElement(\"div\");\n        prevElementDiv.className = this.hostConfig.makeCssClassName(\n            \"swiper-button-prev\"\n        );\n\n        const nextElementDiv: HTMLElement = document.createElement(\"div\");\n        nextElementDiv.className = this.hostConfig.makeCssClassName(\n            \"swiper-button-next\"\n        );\n\n        if (this.carouselOrientation === Enums.Orientation.Horizontal) {\n            this.updateCssForHorizontalCarousel(prevElementDiv, nextElementDiv);\n        } else {\n            this.updateCssForVerticalCarousel(navigationContainer, prevElementDiv, nextElementDiv);\n        }\n\n        const pagination: HTMLElement = document.createElement(\"div\");\n        pagination.className = this.hostConfig.makeCssClassName(\n            \"swiper-pagination\",\n            \"ac-carousel-pagination\"\n        );\n\n        navigationContainer.appendChild(prevElementDiv);\n        Utils.addCancelSelectActionEventHandler(prevElementDiv);\n\n        navigationContainer.appendChild(pagination);\n        Utils.addCancelSelectActionEventHandler(pagination);\n\n        navigationContainer.appendChild(nextElementDiv);\n        Utils.addCancelSelectActionEventHandler(nextElementDiv);\n\n        if (this.isDesignMode()) {\n            // If we are in design mode, we need to ensure these elements are in front of the peers\n            prevElementDiv.style.zIndex = \"20\";\n            nextElementDiv.style.zIndex = \"20\";\n            pagination.style.zIndex = \"20\";\n        }\n\n        const requestedNumberOfPages: number = Math.min(\n            this._pages.length,\n            this.hostConfig.carousel.maxCarouselPages\n        );\n        if (this._pages.length > this.hostConfig.carousel.maxCarouselPages) {\n            console.warn(Strings.errors.tooManyCarouselPages);\n        }\n\n        if (this._pages.length > 0) {\n            for (let i = 0; i < requestedNumberOfPages; i++) {\n                const page = this._pages[i];\n                const renderedItem = this.isElementAllowed(page) ? page.render() : undefined;\n                renderedItem?.classList.add(\"ac-carousel-page\");\n                renderedItem?.children[0]?.classList.add(\"ac-carousel-page-container\");\n\n                if (renderedItem) {\n                    Utils.appendChild(carouselWrapper, renderedItem);\n                    this._renderedPages.push(page);\n                }\n            }\n        }\n\n        carouselContainer.appendChild(carouselWrapper);\n\n        carouselContainer.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        containerForAdorners.appendChild(carouselContainer);\n\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        this.applyRTL(pagination);\n\n        if (!this.isDesignMode()) {\n            if (this.isValidRenderedPageIndex(this.initialPageIndex)) {\n                this._currentIndex = this.initialPageIndex;\n            } else {\n                console.warn(Strings.errors.invalidInitialPageIndex(this.initialPageIndex));\n                this._currentIndex = 0\n            }\n        }\n\n        this.initializeCarouselControl(\n            carouselContainer,\n            nextElementDiv,\n            prevElementDiv,\n            pagination,\n            this.rtl\n        );\n\n        return this._renderedPages.length > 0 ? cardLevelContainer : undefined;\n    }\n\n    applyRTL(pagination: HTMLElement) {\n        super.applyRTL(this._carouselPageContainer);\n        if (this.rtl) {\n            pagination.classList.add(this.hostConfig.makeCssClassName(\n                \"ac-carousel-pagination-rtl\"\n            ));\n        }\n    }\n\n    validateOrientationProperties() {\n        if (!this.carouselHeight) {\n            this.carouselOrientation = Enums.Orientation.Horizontal;\n        }\n    }\n\n    updateCssForHorizontalCarousel(\n        prevElementDiv: HTMLElement,\n        nextElementDiv: HTMLElement\n    ) {\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-left\"\n        ));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-right\"\n        ));\n    }\n\n    updateCssForVerticalCarousel(\n        navigationContainer: HTMLElement,\n        prevElementDiv: HTMLElement,\n        nextElementDiv: HTMLElement\n    ) {\n        this._containerForAdorners.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-container-vertical\"\n        ));\n        navigationContainer.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-navigation-vertical\"\n        ))\n\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-up\"\n        ));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-down\"\n        ));\n    }\n\n    private initializeCarouselControl(\n        carouselContainer: HTMLElement,\n        nextElement: HTMLElement,\n        prevElement: HTMLElement,\n        paginationElement: HTMLElement,\n        rtl: boolean | undefined\n    ): void {\n\n        const nextElementAdjustedForRtl = (rtl === undefined || !rtl ? nextElement : prevElement);\n        const prevElementAdjustedForRtl = (rtl === undefined || !rtl ? prevElement : nextElement);\n\n        const prevElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? prevElementAdjustedForRtl : prevElement;\n        const nextElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? nextElementAdjustedForRtl : nextElement;\n\n        const swiperOptions: SwiperOptions = {\n            loop: !this.isDesignMode() && this.carouselLoop,\n            modules: [Navigation, Pagination, Scrollbar, A11y, History, Keyboard],\n            pagination: {\n                el: paginationElement,\n                clickable: true\n            },\n            navigation: {\n                prevEl: prevElementAdjustedForOrientation,\n                nextEl: nextElementAdjustedForOrientation\n            },\n            a11y: {\n                enabled: true\n            },\n            keyboard: {\n                enabled: false,\n                onlyInViewport: true\n            },\n            direction: this.carouselOrientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\",\n            resizeObserver: false,\n            initialSlide: this._currentIndex\n        };\n\n        if (this.timer && !this.isDesignMode()) {\n            swiperOptions.modules?.push(Autoplay);\n            swiperOptions.autoplay = { delay: this.timer, pauseOnMouseEnter: true };\n        }\n\n        const carousel: Swiper = new Swiper(carouselContainer, swiperOptions);\n\n        // While the 'pauseOnMouseEnter' option should resume autoplay on\n        // mouse exit it doesn't do it, so adding custom events to handle it\n\n        carouselContainer.addEventListener(\"mouseenter\", function (_event) {\n            carousel.autoplay?.stop();\n        });\n\n        carouselContainer.addEventListener(\"mouseleave\", function (_event) {\n            carousel.autoplay?.start();\n        });\n\n        carousel.on('navigationNext',  (swiper: Swiper) => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationNext);\n        });\n\n        carousel.on('navigationPrev',  (swiper: Swiper) => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationPrevious);\n        });\n\n        carousel.on('slideChangeTransitionEnd',  (swiper: Swiper) => {\n            this.currentIndex = swiper.realIndex;\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Pagination); \n        });\n\n        carousel.on('autoplay',  () => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Autoplay);\n        });\n\n        carousel.on('paginationRender', (swiper, paginationEl) => {\n            swiper.pagination.bullets.forEach((bullet, index) => {\n                bullet.addEventListener(\"keypress\", function(event : KeyboardEvent) {\n                    if (event.key == \"Enter\") {\n                        event.preventDefault();\n                        swiper.slideTo(index + 1);\n                    }\n                });\n            });\n        });\n\n        carousel.on('destroy', () => {\n            this.destroyResizeObserver();\n        });\n\n        prevElement.title = prevElement.ariaLabel ?? Strings.defaults.carouselNavigationPreviousTooltip();\n\n        nextElement.title = nextElement.ariaLabel ?? Strings.defaults.carouselNavigationNextTooltip();\n\n        this._carousel = carousel;\n\n        this.createResizeObserver();\n    }\n\n    private createCarouselPageInstance(\n        source: any,\n        context: SerializationContext\n    ): CarouselPage | undefined {\n        return context.parseCardObject<CarouselPage>(\n            this,\n            source,\n            this.forbiddenChildElements(),\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return !typeName || typeName === \"CarouselPage\" ? new CarouselPage() : undefined;\n            },\n            (typeName: string, _errorType: TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    slideTo(index: number) {\n        this._carousel?.slideTo(index);\n    }\n\n    get carouselPageContainer() {\n        return this._carouselPageContainer;\n    }\n\n    get currentIndex(): number {\n        return this._currentIndex;\n    }\n\n    set currentIndex(currentIndex: number) {\n        this._currentIndex = currentIndex;\n    }\n\n    private createCarouselEvent (type : Enums.CarouselInteractionEvent): CarouselEvent\n    {\n        let currentPageId : string | undefined;\n        if (this.currentPageIndex != undefined) {\n            currentPageId = this.getItemAt(this.currentPageIndex).id;\n        }\n        return new CarouselEvent(type, this.id, currentPageId, this.currentPageIndex);   \n    }\n\n    private raiseCarouselEvent(eventType : Enums.CarouselInteractionEvent) {\n        const card = this.parent ? (this.parent.getRootElement() as AdaptiveCard) : undefined;\n        const onCarouselEventHandler = \n            card && card.onCarouselEvent\n                ? card.onCarouselEvent\n                : AdaptiveCard.onCarouselEvent;\n        // pagination event is triggered on slide transition end event \n        if (onCarouselEventHandler && eventType == Enums.CarouselInteractionEvent.Pagination) {\n        // returns the event type that causes slide transition\n            onCarouselEventHandler(this.createCarouselEvent(this.previousEventType));\n        }\n        this.previousEventType = eventType;\n    }\n\n    /// Swiper version 8 added requestAnimationFrame() call in its resize observer code\n    /// The new call causes flickering issue,\n    /// We've copied resize observer code from Swiper version 7 with some modifications\n    private createResizeObserver() : void {\n\n        if (!this.checkIfCarouselInValidStateForResizeEvent()) {\n            return;\n        }\n\n        this._observer = new ResizeObserver((entries) => {\n            const width = this._carousel?.width;\n            const height = this._carousel?.height;\n            let newWidth = width;\n            let newHeight = height;\n            entries.forEach(({ contentBoxSize, contentRect, target }) => {\n            if (target && target !== this._carousel?.el) {\n                return;\n            }\n\n            newWidth = contentRect\n                ? contentRect.width\n                : (contentBoxSize[0] || contentBoxSize).inlineSize;\n\n            newHeight = contentRect\n                ? contentRect.height\n                : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n                if (this.checkIfCarouselInValidStateForResizeEvent()) {\n                    this._carousel?.emit('beforeResize');\n                    this._carousel?.emit('resize');\n                }\n            }\n\n        });\n\n        this._observer.observe(this._carousel?.el!);\n    }\n\n    private destroyResizeObserver(): void {\n        if (this._observer && this._observer.unobserve && this._carousel?.el) {\n            this._observer.unobserve(this._carousel.el);\n            this._observer = null;\n        }\n    };\n\n    private checkIfCarouselInValidStateForResizeEvent()\n    {\n        return this._carousel && !this._carousel.destroyed;\n    }\n}\n\nexport class CarouselEvent {\n    constructor(public type : Enums.CarouselInteractionEvent,\n        public carouselId : string | undefined,\n        public activeCarouselPageId : string | undefined,\n        public activeCarouselPageIndex : number | undefined) {}\n}\n\nGlobalRegistry.defaultElements.register(\n    \"Carousel\",\n    Carousel,\n    Versions.v1_6\n);\n\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    CardElement,\n    StylableCardElementContainer,\n    SerializationContext,\n    Container,\n    ContainerStyleProperty\n} from \"./card-elements\";\nimport {\n    HorizontalAlignment,\n    VerticalAlignment,\n    SizeUnit,\n    ValidationEvent,\n    TypeErrorType,\n    Spacing\n} from \"./enums\";\nimport { TextStyleDefinition } from \"./host-config\";\nimport { GlobalRegistry } from \"./registry\";\nimport {\n    BaseSerializationContext,\n    BoolProperty,\n    CustomProperty,\n    EnumProperty,\n    property,\n    PropertyBag,\n    PropertyDefinition,\n    SerializableObject,\n    SerializableObjectCollectionProperty,\n    Versions\n} from \"./serialization\";\nimport { SizeAndUnit, PaddingDefinition } from \"./shared\";\nimport { Strings } from \"./strings\";\nimport { stringToCssColor } from \"./utils\";\n\nexport class TableColumnDefinition extends SerializableObject {\n    //#region Schema\n\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    static readonly widthProperty = new CustomProperty<SizeAndUnit>(\n        Versions.v1_5,\n        \"width\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: SizeAndUnit = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidWidth = false;\n\n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, SizeUnit.Weight);\n            } else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n                } catch (e) {\n                    invalidWidth = true;\n                }\n            } else {\n                invalidWidth = true;\n            }\n\n            if (invalidWidth) {\n                context.logParseEvent(\n                    sender,\n                    ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidColumnWidth(value)\n                );\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: SizeAndUnit,\n            context: BaseSerializationContext\n        ) => {\n            if (value.unit === SizeUnit.Pixel) {\n                context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n            } else {\n                context.serializeNumber(target, \"width\", value.physicalSize);\n            }\n        },\n        new SizeAndUnit(1, SizeUnit.Weight)\n    );\n\n    @property(TableColumnDefinition.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(TableColumnDefinition.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    @property(TableColumnDefinition.widthProperty)\n    width: SizeAndUnit = new SizeAndUnit(1, SizeUnit.Weight);\n\n    getSchemaKey(): string {\n        return \"ColumnDefinition\";\n    }\n\n    //#endregion\n\n    computedWidth: SizeAndUnit;\n}\n\nexport abstract class StylableContainer<\n    T extends CardElement\n> extends StylableCardElementContainer {\n    private _items: T[] = [];\n\n    private parseItem(source: any, context: SerializationContext): T | undefined {\n        return context.parseCardObject<T>(\n            this,\n            source,\n            [], // Forbidden types not supported for elements for now\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return this.createItemInstance(typeName);\n            },\n            (typeName: string, _errorType: TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    protected abstract getCollectionPropertyName(): string;\n    protected abstract createItemInstance(typeName: string): T | undefined;\n\n    protected internalAddItem(item: T) {\n        if (!item.parent) {\n            this._items.push(item);\n\n            item.setParent(this);\n        } else {\n            throw new Error(Strings.errors.elementAlreadyParented());\n        }\n    }\n\n    protected internalRemoveItem(item: T): boolean {\n        const itemIndex = this._items.indexOf(item);\n\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n\n            item.setParent(undefined);\n\n            this.updateLayout();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    protected internalIndexOf(item: T): number {\n        return this._items.indexOf(item);\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._items = [];\n\n        const items = source[this.getCollectionPropertyName()];\n\n        if (Array.isArray(items)) {\n            for (const item of items) {\n                const instance = this.parseItem(item, context);\n\n                if (instance) {\n                    this._items.push(instance);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, this.getCollectionPropertyName(), this._items);\n    }\n\n    removeItem(item: T): boolean {\n        return this.internalRemoveItem(item);\n    }\n\n    getItemCount(): number {\n        return this._items.length;\n    }\n\n    getItemAt(index: number): T {\n        return this._items[index];\n    }\n\n    getFirstVisibleRenderedItem(): T | undefined {\n        return this.getItemCount() > 0 ? this.getItemAt(0) : undefined;\n    }\n\n    getLastVisibleRenderedItem(): T | undefined {\n        return this.getItemCount() > 0 ? this.getItemAt(this.getItemCount() - 1) : undefined;\n    }\n}\n\nexport type CellType = \"data\" | \"header\";\n\nexport class TableCell extends Container {\n    private _columnIndex: number = -1;\n    private _cellType: CellType = \"data\";\n\n    protected getHasBorder(): boolean {\n        return this.parentRow.parentTable.showGridLines;\n    }\n\n    protected applyBorder() {\n        if (this.renderedElement && this.getHasBorder()) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.parentRow.parentTable.gridStyle\n            );\n\n            if (styleDefinition.borderColor) {\n                const borderColor = stringToCssColor(styleDefinition.borderColor);\n\n                if (borderColor) {\n                    this.renderedElement.style.borderRight = \"1px solid \" + borderColor;\n                    this.renderedElement.style.borderBottom = \"1px solid \" + borderColor;\n                }\n            }\n        }\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new PaddingDefinition(Spacing.Small, Spacing.Small, Spacing.Small, Spacing.Small)\n            : super.getDefaultPadding();\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const cellElement = super.internalRender();\n\n        if (cellElement) {\n            cellElement.setAttribute(\"role\", this.cellType === \"data\" ? \"cell\" : \"columnheader\");\n            cellElement.style.minWidth = \"0\";\n\n            if (this.cellType === \"header\") {\n                cellElement.setAttribute(\"scope\", \"col\");\n            }\n        }\n\n        return cellElement;\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    getJsonTypeName(): string {\n        return \"TableCell\";\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.cellType === \"header\") {\n            return this.hostConfig.textStyles.columnHeader;\n        }\n\n        return super.getEffectiveTextStyleDefinition();\n    }\n\n    getEffectiveHorizontalAlignment(): HorizontalAlignment {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n\n        if (this.parentRow.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.horizontalCellContentAlignment;\n        }\n\n        if (this.columnIndex >= 0) {\n            const horizontalAlignment = this.parentRow.parentTable.getColumnAt(\n                this.columnIndex\n            ).horizontalCellContentAlignment;\n\n            if (horizontalAlignment !== undefined) {\n                return horizontalAlignment;\n            }\n        }\n\n        if (this.parentRow.parentTable.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.horizontalCellContentAlignment;\n        }\n\n        return super.getEffectiveHorizontalAlignment();\n    }\n\n    getEffectiveVerticalContentAlignment(): VerticalAlignment {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n\n        if (this.parentRow.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.verticalCellContentAlignment;\n        }\n\n        if (this.columnIndex >= 0) {\n            const verticalAlignment = this.parentRow.parentTable.getColumnAt(\n                this.columnIndex\n            ).verticalCellContentAlignment;\n\n            if (verticalAlignment !== undefined) {\n                return verticalAlignment;\n            }\n        }\n\n        if (this.parentRow.parentTable.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.verticalCellContentAlignment;\n        }\n\n        return super.getEffectiveVerticalContentAlignment();\n    }\n\n    get columnIndex(): number {\n        return this._columnIndex;\n    }\n\n    get cellType(): CellType {\n        return this._cellType;\n    }\n\n    get parentRow(): TableRow {\n        return this.parent as TableRow;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class TableRow extends StylableContainer<TableCell> {\n    //#region Schema\n\n    static readonly styleProperty = new ContainerStyleProperty(Versions.v1_5, \"style\");\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    @property(TableRow.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(TableRow.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    //#endregion\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(Spacing.None, Spacing.None, Spacing.None, Spacing.None);\n    }\n\n    protected applyBackground() {\n        if (this.renderedElement) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.style,\n                this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n            );\n\n            if (styleDefinition.backgroundColor) {\n                const bgColor = stringToCssColor(styleDefinition.backgroundColor);\n\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    }\n\n    protected getCollectionPropertyName(): string {\n        return \"cells\";\n    }\n\n    protected createItemInstance(typeName: string): TableCell | undefined {\n        return !typeName || typeName === \"TableCell\" ? new TableCell() : undefined;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const isFirstRow = this.getIsFirstRow();\n        const cellSpacing = this.hostConfig.table.cellSpacing;\n\n        const rowElement = document.createElement(\"div\");\n        rowElement.setAttribute(\"role\", \"row\");\n        rowElement.style.display = \"flex\";\n        rowElement.style.flexDirection = \"row\";\n\n        for (let i = 0; i < Math.min(this.getItemCount(), this.parentTable.getColumnCount()); i++) {\n            const cell = this.getItemAt(i);\n\n            // Cheating a bit in order to keep cellType read-only\n            cell[\"_columnIndex\"] = i;\n            cell[\"_cellType\"] =\n                this.parentTable.firstRowAsHeaders && isFirstRow ? \"header\" : \"data\";\n\n            const renderedCell = cell.render();\n\n            if (renderedCell) {\n                const column = this.parentTable.getColumnAt(i);\n\n                if (column.computedWidth.unit === SizeUnit.Pixel) {\n                    renderedCell.style.flex = \"0 0 \" + column.computedWidth.physicalSize + \"px\";\n                } else {\n                    renderedCell.style.flex = \"1 1 \" + column.computedWidth.physicalSize + \"%\";\n                }\n\n                if (i > 0 && !this.parentTable.showGridLines && cellSpacing > 0) {\n                    renderedCell.style.marginLeft = cellSpacing + \"px\";\n                }\n\n                rowElement.appendChild(renderedCell);\n            }\n        }\n\n        return rowElement.children.length > 0 ? rowElement : undefined;\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    addCell(cell: TableCell) {\n        this.internalAddItem(cell);\n    }\n\n    removeCellAt(columnIndex: number): boolean {\n        if (columnIndex >= 0 && columnIndex < this.getItemCount()) {\n            return this.removeItem(this.getItemAt(columnIndex));\n        }\n\n        return false;\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof TableCell ? this.internalIndexOf(cardElement) : -1;\n    }\n\n    ensureHasEnoughCells(cellCount: number) {\n        while (this.getItemCount() < cellCount) {\n            this.addCell(new TableCell());\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"TableRow\";\n    }\n\n    getIsFirstRow(): boolean {\n        return this.parentTable.getItemAt(0) === this;\n    }\n\n    get parentTable(): Table {\n        return this.parent as Table;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class Table extends StylableContainer<TableRow> {\n    //#region Schema\n\n    private static readonly _columnsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_5,\n        \"columns\",\n        TableColumnDefinition\n    );\n\n    static readonly firstRowAsHeadersProperty = new BoolProperty(\n        Versions.v1_5,\n        \"firstRowAsHeaders\",\n        true\n    );\n    static readonly showGridLinesProperty = new BoolProperty(Versions.v1_5, \"showGridLines\", true);\n    static readonly gridStyleProperty = new ContainerStyleProperty(Versions.v1_5, \"gridStyle\");\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    @property(Table._columnsProperty)\n    private _columns: TableColumnDefinition[] = [];\n\n    @property(Table.firstRowAsHeadersProperty)\n    firstRowAsHeaders: boolean = true;\n\n    @property(Table.showGridLinesProperty)\n    showGridLines: boolean = true;\n\n    @property(Table.gridStyleProperty)\n    get gridStyle(): string | undefined {\n        const style = this.getValue(Table.gridStyleProperty);\n\n        if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n            return style;\n        }\n\n        return undefined;\n    }\n\n    set gridStyle(value: string | undefined) {\n        this.setValue(Table.gridStyleProperty, value);\n    }\n\n    @property(Table.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(Table.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    //#endregion\n\n    private ensureRowsHaveEnoughCells() {\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).ensureHasEnoughCells(this.getColumnCount());\n        }\n    }\n\n    private removeCellsFromColumn(columnIndex: number) {\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).removeCellAt(columnIndex);\n        }\n    }\n\n    protected getCollectionPropertyName(): string {\n        return \"rows\";\n    }\n\n    protected createItemInstance(typeName: string): TableRow | undefined {\n        return !typeName || typeName === \"TableRow\" ? new TableRow() : undefined;\n    }\n\n    protected internalParse(source: PropertyBag, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.ensureRowsHaveEnoughCells();\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this.getItemCount() > 0) {\n            let totalWeights: number = 0;\n\n            for (const column of this._columns) {\n                if (column.width.unit === SizeUnit.Weight) {\n                    totalWeights += column.width.physicalSize;\n                }\n            }\n\n            for (const column of this._columns) {\n                if (column.width.unit === SizeUnit.Pixel) {\n                    column.computedWidth = new SizeAndUnit(\n                        column.width.physicalSize,\n                        SizeUnit.Pixel\n                    );\n                } else {\n                    column.computedWidth = new SizeAndUnit(\n                        (100 / totalWeights) * column.width.physicalSize,\n                        SizeUnit.Weight\n                    );\n                }\n            }\n\n            const tableElement = document.createElement(\"div\");\n            tableElement.setAttribute(\"role\", \"table\");\n            tableElement.style.display = \"flex\";\n            tableElement.style.flexDirection = \"column\";\n\n            if (this.showGridLines) {\n                const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                    this.gridStyle\n                );\n\n                if (styleDefinition.borderColor) {\n                    const borderColor = stringToCssColor(styleDefinition.borderColor);\n\n                    if (borderColor) {\n                        tableElement.style.borderTop = \"1px solid \" + borderColor;\n                        tableElement.style.borderLeft = \"1px solid \" + borderColor;\n                    }\n                }\n            }\n\n            const cellSpacing = this.hostConfig.table.cellSpacing;\n\n            for (let i = 0; i < this.getItemCount(); i++) {\n                const renderedRow = this.getItemAt(i).render();\n\n                if (renderedRow) {\n                    if (i > 0 && !this.showGridLines && cellSpacing > 0) {\n                        const separatorRow = document.createElement(\"div\");\n                        separatorRow.setAttribute(\"aria-hidden\", \"true\");\n                        separatorRow.style.height = cellSpacing + \"px\";\n\n                        tableElement.appendChild(separatorRow);\n                    }\n\n                    tableElement.appendChild(renderedRow);\n                }\n            }\n\n            return tableElement;\n        }\n\n        return undefined;\n    }\n\n    addColumn(column: TableColumnDefinition) {\n        this._columns.push(column);\n\n        this.ensureRowsHaveEnoughCells();\n    }\n\n    removeColumn(column: TableColumnDefinition) {\n        const index = this._columns.indexOf(column);\n\n        if (index >= 0) {\n            this.removeCellsFromColumn(index);\n\n            this._columns.splice(index, 1);\n        }\n    }\n\n    getColumnCount(): number {\n        return this._columns.length;\n    }\n\n    getColumnAt(index: number): TableColumnDefinition {\n        return this._columns[index];\n    }\n\n    addRow(row: TableRow) {\n        this.internalAddItem(row);\n\n        row.ensureHasEnoughCells(this.getColumnCount());\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof TableRow ? this.internalIndexOf(cardElement) : -1;\n    }\n\n    getJsonTypeName(): string {\n        return \"Table\";\n    }\n}\n\nGlobalRegistry.defaultElements.register(\"Table\", Table, Versions.v1_5);\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { ActivityResponse, IActivityRequest } from \"./activity-request\";\n\nexport abstract class ChannelAdapter {\n    abstract sendRequestAsync(request: IActivityRequest): Promise<ActivityResponse>;\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    Authentication,\n    AuthCardButton,\n    UniversalAction,\n    TokenExchangeResource\n} from \"./card-elements\";\n\nexport enum ActivityRequestTrigger {\n    Automatic = \"automatic\",\n    Manual = \"manual\"\n}\n\nexport interface IActivityRequest {\n    readonly action: UniversalAction;\n    readonly trigger: ActivityRequestTrigger;\n    readonly attemptNumber: number;\n    readonly consecutiveActions: number;\n\n    authCode?: string;\n    authToken?: string;\n\n    retryAsync(): void;\n}\n\nexport class ActivityRequestError {\n    constructor(readonly code?: string, readonly message?: string) {}\n}\n\nexport abstract class ActivityResponse {\n    constructor(readonly request: IActivityRequest) {}\n}\n\nexport class SuccessResponse extends ActivityResponse {\n    constructor(readonly request: IActivityRequest, readonly rawContent?: string) {\n        super(request);\n    }\n}\n\nexport class ErrorResponse extends ActivityResponse {\n    constructor(readonly request: IActivityRequest, readonly error: ActivityRequestError) {\n        super(request);\n    }\n}\n\nexport class LoginRequestResponse extends ActivityResponse {\n    private _auth: Authentication;\n    readonly signinButton?: AuthCardButton;\n\n    constructor(readonly request: IActivityRequest, auth: Authentication) {\n        super(request);\n        this._auth = auth;\n\n        for (const button of this._auth.buttons) {\n            if (button.type === \"signin\" && button.value !== undefined) {\n                try {\n                    new URL(button.value);\n\n                    this.signinButton = button;\n\n                    break;\n                } catch (e) {\n                    // Ignore parsing error\n                }\n            }\n        }\n    }\n\n    get tokenExchangeResource(): TokenExchangeResource | undefined {\n        return this._auth.tokenExchangeResource;\n    }\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Utils from \"./utils\";\nimport { GlobalSettings } from \"./shared\";\nimport { ChannelAdapter } from \"./channel-adapter\";\nimport {\n    ActivityResponse,\n    IActivityRequest,\n    ActivityRequestTrigger,\n    SuccessResponse,\n    ErrorResponse,\n    LoginRequestResponse\n} from \"./activity-request\";\nimport { Strings } from \"./strings\";\nimport {\n    SubmitAction,\n    ExecuteAction,\n    SerializationContext,\n    AdaptiveCard,\n    Action,\n    Input,\n    TokenExchangeResource,\n    AuthCardButton,\n    UniversalAction,\n    ChoiceSetInput,\n    DataQuery\n} from \"./card-elements\";\nimport { Versions } from \"./serialization\";\nimport { HostConfig } from \"./host-config\";\n\nfunction logEvent(level: Enums.LogLevel, message?: any, ...optionalParams: any[]) {\n    if (GlobalSettings.applets.logEnabled) {\n        if (GlobalSettings.applets.onLogEvent) {\n            GlobalSettings.applets.onLogEvent(level, message, optionalParams);\n        } else {\n            /* eslint-disable no-console */\n            switch (level) {\n                case Enums.LogLevel.Warning:\n                    console.warn(message, optionalParams);\n                    break;\n                case Enums.LogLevel.Error:\n                    console.error(message, optionalParams);\n                    break;\n                default:\n                    console.log(message, optionalParams);\n                    break;\n            }\n            /* eslint-enable no-console */\n        }\n    }\n}\n\nclass ActivityRequest implements IActivityRequest {\n    constructor(\n        readonly action: UniversalAction,\n        readonly trigger: ActivityRequestTrigger,\n        readonly consecutiveActions: number\n    ) {}\n\n    authCode?: string;\n    authToken?: string;\n    attemptNumber: number = 0;\n\n    onSend: (sender: ActivityRequest) => void;\n\n    // eslint-disable-next-line @typescript-eslint/require-await\n    async retryAsync(): Promise<void> {\n        if (this.onSend) {\n            this.onSend(this);\n        }\n    }\n}\n\nexport class AdaptiveApplet {\n    private static readonly _submitMagicCodeActionId = \"submitMagicCode\";\n    private static readonly _cancelMagicCodeAuthActionId = \"cancelMagicCodeAuth\";\n\n    private _card?: AdaptiveCard;\n    private _cardPayload: any;\n    private _choiceSet?: ChoiceSetInput;\n    private _allowAutomaticCardUpdate: boolean = false;\n    private _refreshButtonHostElement: HTMLElement;\n    private _cardHostElement: HTMLElement;\n    private _progressOverlay?: HTMLElement;\n\n    private displayCard(card: AdaptiveCard) {\n        if (card.renderedElement) {\n            Utils.clearElementChildren(this._cardHostElement);\n\n            this._refreshButtonHostElement.style.display = \"none\";\n\n            this._cardHostElement.appendChild(card.renderedElement);\n        } else {\n            throw new Error(\"displayCard: undefined card.\");\n        }\n    }\n\n    private showManualRefreshButton(refreshAction: ExecuteAction) {\n        const displayBuiltInManualRefreshButton = this.onShowManualRefreshButton\n            ? this.onShowManualRefreshButton(this)\n            : true;\n\n        if (displayBuiltInManualRefreshButton) {\n            this._refreshButtonHostElement.style.display = \"none\";\n\n            let renderedRefreshButton: HTMLElement | undefined = undefined;\n\n            if (this.onRenderManualRefreshButton) {\n                renderedRefreshButton = this.onRenderManualRefreshButton(this);\n            } else {\n                let message = Strings.runtime.refreshThisCard();\n\n                if (GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Automatic) {\n                    let autoRefreshPausedMessage = Strings.runtime.automaticRefreshPaused();\n\n                    if (autoRefreshPausedMessage[autoRefreshPausedMessage.length - 1] !== \" \") {\n                        autoRefreshPausedMessage += \" \";\n                    }\n\n                    message = Strings.runtime.clckToRestartAutomaticRefresh();\n                }\n\n                const cardPayload = {\n                    type: \"AdaptiveCard\",\n                    version: \"1.2\",\n                    body: [\n                        {\n                            type: \"RichTextBlock\",\n                            horizontalAlignment: \"right\",\n                            inlines: [\n                                {\n                                    type: \"TextRun\",\n                                    text: message,\n                                    selectAction: {\n                                        type: \"Action.Submit\",\n                                        id: \"refreshCard\"\n                                    }\n                                }\n                            ]\n                        }\n                    ]\n                };\n\n                const card = new AdaptiveCard();\n                card.parse(cardPayload, new SerializationContext(Versions.v1_2));\n                card.onExecuteAction = (action: Action) => {\n                    if (action.id === \"refreshCard\") {\n                        Utils.clearElementChildren(this._refreshButtonHostElement);\n\n                        this.internalExecuteAction(\n                            refreshAction,\n                            ActivityRequestTrigger.Automatic,\n                            0\n                        );\n                    }\n                };\n\n                renderedRefreshButton = card.render();\n            }\n\n            if (renderedRefreshButton) {\n                Utils.clearElementChildren(this._refreshButtonHostElement);\n\n                this._refreshButtonHostElement.appendChild(renderedRefreshButton);\n\n                this._refreshButtonHostElement.style.removeProperty(\"display\");\n            }\n        }\n    }\n\n    private createActivityRequest(\n        action: UniversalAction,\n        trigger: ActivityRequestTrigger,\n        consecutiveActions: number\n    ): ActivityRequest | undefined {\n        if (this.card) {\n            const request = new ActivityRequest(action, trigger, consecutiveActions);\n            request.onSend = (sender: ActivityRequest) => {\n                sender.attemptNumber++;\n\n                void this.internalSendActivityRequestAsync(request);\n            };\n\n            const cancel = this.onPrepareActivityRequest\n                ? !this.onPrepareActivityRequest(this, request, action)\n                : false;\n\n            return cancel ? undefined : request;\n        } else {\n            throw new Error(\"createActivityRequest: no card has been set.\");\n        }\n    }\n\n    private createMagicCodeInputCard(attemptNumber: number): AdaptiveCard {\n        const payload = {\n            type: \"AdaptiveCard\",\n            version: \"1.0\",\n            body: [\n                {\n                    type: \"TextBlock\",\n                    color: \"attention\",\n                    text: attemptNumber === 1 ? undefined : \"That didn't work... let's try again.\",\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"TextBlock\",\n                    text: 'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"Input.Text\",\n                    id: \"magicCode\",\n                    placeholder: \"Enter magic code\"\n                },\n                {\n                    type: \"ActionSet\",\n                    horizontalAlignment: \"center\",\n                    actions: [\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._submitMagicCodeActionId,\n                            title: \"Submit\"\n                        },\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._cancelMagicCodeAuthActionId,\n                            title: \"Cancel\"\n                        }\n                    ]\n                }\n            ]\n        };\n\n        const card = new AdaptiveCard();\n        card.parse(payload);\n\n        return card;\n    }\n\n    private cancelAutomaticRefresh() {\n        if (this._allowAutomaticCardUpdate) {\n            logEvent(\n                Enums.LogLevel.Warning,\n                \"Automatic card refresh has been cancelled as a result of the user interacting with the card.\"\n            );\n        }\n\n        this._allowAutomaticCardUpdate = false;\n    }\n\n    private createSerializationContext(): SerializationContext {\n        return this.onCreateSerializationContext\n            ? this.onCreateSerializationContext(this)\n            : new SerializationContext();\n    }\n\n    private internalSetCard(payload: any, consecutiveActions: number) {\n        if (typeof payload === \"object\" && payload[\"type\"] === \"AdaptiveCard\") {\n            this._cardPayload = payload;\n        }\n\n        if (this._cardPayload) {\n            try {\n                const card = new AdaptiveCard();\n\n                if (this.hostConfig) {\n                    card.hostConfig = this.hostConfig;\n                }\n\n                const serializationContext = this.createSerializationContext();\n\n                card.parse(this._cardPayload, serializationContext);\n\n                const doChangeCard = this.onCardChanging\n                    ? this.onCardChanging(this, this._cardPayload)\n                    : true;\n\n                if (doChangeCard) {\n                    this._card = card;\n\n                    if (\n                        this._card.authentication &&\n                        this._card.authentication.tokenExchangeResource &&\n                        this.onPrefetchSSOToken\n                    ) {\n                        this.onPrefetchSSOToken(\n                            this,\n                            this._card.authentication.tokenExchangeResource\n                        );\n                    }\n\n                    this._card.onExecuteAction = (action: Action) => {\n                        // If the user takes an action, cancel any pending automatic refresh\n                        this.cancelAutomaticRefresh();\n\n                        this.internalExecuteAction(action, ActivityRequestTrigger.Manual, 0);\n                    };\n                    this._card.onInputValueChanged = (input: Input) => {\n                        // If the user modifies an input, cancel any pending automatic refresh\n                        this.cancelAutomaticRefresh();\n                        if (input instanceof ChoiceSetInput && input.isDynamicTypeahead()) {\n                            const filter = input.getFilterForDynamicSearch();\n                            if (filter) {\n                                const dataQueryAction = new DataQuery();\n                                dataQueryAction.filter = filter;\n                                dataQueryAction.dataset = input.choicesData?.dataset || \"\";\n                                dataQueryAction.count = input.choicesData?.count;\n                                dataQueryAction.skip = input.choicesData?.skip;\n\n                                this._choiceSet = input;\n                                this.internalExecuteAction(\n                                    dataQueryAction,\n                                    ActivityRequestTrigger.Manual,\n                                    0 // consecutiveActions\n                                );\n                            }\n                        }\n                    };\n\n                    this._card.render();\n\n                    if (this._card.renderedElement) {\n                        this.displayCard(this._card);\n\n                        if (this.onCardChanged) {\n                            this.onCardChanged(this);\n                        }\n\n                        if (this._card.refresh) {\n                            if (\n                                GlobalSettings.applets.refresh.mode ===\n                                    Enums.RefreshMode.Automatic &&\n                                consecutiveActions <\n                                    GlobalSettings.applets.refresh\n                                        .maximumConsecutiveAutomaticRefreshes\n                            ) {\n                                if (\n                                    GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes <=\n                                    0\n                                ) {\n                                    logEvent(\n                                        Enums.LogLevel.Info,\n                                        \"Triggering automatic card refresh number \" +\n                                            (consecutiveActions + 1)\n                                    );\n\n                                    this.internalExecuteAction(\n                                        this._card.refresh.action,\n                                        ActivityRequestTrigger.Automatic,\n                                        consecutiveActions + 1\n                                    );\n                                } else {\n                                    logEvent(\n                                        Enums.LogLevel.Info,\n                                        \"Scheduling automatic card refresh number \" +\n                                            (consecutiveActions + 1) +\n                                            \" in \" +\n                                            GlobalSettings.applets.refresh\n                                                .timeBetweenAutomaticRefreshes +\n                                            \"ms\"\n                                    );\n\n                                    const action = this._card.refresh.action;\n\n                                    this._allowAutomaticCardUpdate = true;\n\n                                    window.setTimeout(() => {\n                                        if (this._allowAutomaticCardUpdate) {\n                                            this.internalExecuteAction(\n                                                action,\n                                                ActivityRequestTrigger.Automatic,\n                                                consecutiveActions + 1\n                                            );\n                                        }\n                                    }, GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes);\n                                }\n                            } else if (\n                                GlobalSettings.applets.refresh.mode !== Enums.RefreshMode.Disabled\n                            ) {\n                                if (consecutiveActions > 0) {\n                                    logEvent(\n                                        Enums.LogLevel.Warning,\n                                        \"Stopping automatic refreshes after \" +\n                                            consecutiveActions +\n                                            \" consecutive refreshes.\"\n                                    );\n                                } else {\n                                    logEvent(\n                                        Enums.LogLevel.Warning,\n                                        \"The card has a refresh section, but automatic refreshes are disabled.\"\n                                    );\n                                }\n\n                                if (\n                                    GlobalSettings.applets.refresh\n                                        .allowManualRefreshesAfterAutomaticRefreshes ||\n                                    GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Manual\n                                ) {\n                                    logEvent(Enums.LogLevel.Info, \"Showing manual refresh button.\");\n\n                                    this.showManualRefreshButton(this._card.refresh.action);\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                // Ignore all errors\n                logEvent(Enums.LogLevel.Error, \"setCard: \" + error);\n            }\n        }\n    }\n\n    private internalExecuteAction(\n        action: Action,\n        trigger: ActivityRequestTrigger,\n        consecutiveActions: number\n    ) {\n        if (action instanceof UniversalAction) {\n            if (this.channelAdapter) {\n                const request = this.createActivityRequest(action, trigger, consecutiveActions);\n\n                if (request) {\n                    void request.retryAsync();\n                }\n            } else {\n                throw new Error(\"internalExecuteAction: No channel adapter set.\");\n            }\n        }\n\n        if (this.onAction) {\n            this.onAction(this, action);\n        }\n    }\n\n    private createProgressOverlay(request: ActivityRequest): HTMLElement | undefined {\n        if (!this._progressOverlay) {\n            if (this.onCreateProgressOverlay) {\n                this._progressOverlay = this.onCreateProgressOverlay(this, request);\n            } else {\n                this._progressOverlay = document.createElement(\"div\");\n                this._progressOverlay.className = \"aaf-progress-overlay\";\n\n                const spinner = document.createElement(\"div\");\n                spinner.className = \"aaf-spinner\";\n                spinner.style.width = \"28px\";\n                spinner.style.height = \"28px\";\n\n                this._progressOverlay.appendChild(spinner);\n            }\n        }\n\n        return this._progressOverlay;\n    }\n\n    private removeProgressOverlay(request: IActivityRequest) {\n        if (this.onRemoveProgressOverlay) {\n            this.onRemoveProgressOverlay(this, request);\n        }\n\n        if (this._progressOverlay !== undefined) {\n            this.renderedElement.removeChild(this._progressOverlay);\n\n            this._progressOverlay = undefined;\n        }\n    }\n\n    private activityRequestSucceeded(\n        response: SuccessResponse,\n        parsedContent: string | AdaptiveCard | undefined\n    ) {\n        if (this.onActivityRequestSucceeded) {\n            this.onActivityRequestSucceeded(this, response, parsedContent);\n        }\n    }\n\n    private activityRequestFailed(response: ErrorResponse): number {\n        return this.onActivityRequestFailed\n            ? this.onActivityRequestFailed(this, response)\n            : GlobalSettings.applets.defaultTimeBetweenRetryAttempts;\n    }\n\n    private showAuthCodeInputDialog(request: ActivityRequest) {\n        const showBuiltInAuthCodeInputCard = this.onShowAuthCodeInputDialog\n            ? this.onShowAuthCodeInputDialog(this, request)\n            : true;\n\n        if (showBuiltInAuthCodeInputCard) {\n            const authCodeInputCard = this.createMagicCodeInputCard(request.attemptNumber);\n            authCodeInputCard.render();\n            authCodeInputCard.onExecuteAction = (submitMagicCodeAction: Action) => {\n                if (this.card && submitMagicCodeAction instanceof SubmitAction) {\n                    switch (submitMagicCodeAction.id) {\n                        case AdaptiveApplet._submitMagicCodeActionId:\n                            let authCode: string | undefined = undefined;\n\n                            if (\n                                submitMagicCodeAction.data &&\n                                typeof (<any>submitMagicCodeAction.data)[\"magicCode\"] === \"string\"\n                            ) {\n                                authCode = (<any>submitMagicCodeAction.data)[\"magicCode\"];\n                            }\n\n                            if (authCode) {\n                                this.displayCard(this.card);\n\n                                request.authCode = authCode;\n                                void request.retryAsync();\n                            } else {\n                                alert(\"Please enter the magic code you received.\");\n                            }\n\n                            break;\n                        case AdaptiveApplet._cancelMagicCodeAuthActionId:\n                            logEvent(Enums.LogLevel.Warning, \"Authentication cancelled by user.\");\n\n                            this.displayCard(this.card);\n\n                            break;\n                        default:\n                            logEvent(\n                                Enums.LogLevel.Error,\n                                \"Unexpected action taken from magic code input card (id = \" +\n                                    submitMagicCodeAction.id +\n                                    \")\"\n                            );\n\n                            alert(Strings.magicCodeInputCard.somethingWentWrong());\n\n                            break;\n                    }\n                }\n            };\n\n            this.displayCard(authCodeInputCard);\n        }\n    }\n\n    private async internalSendActivityRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendActivityRequestAsync: channelAdapter is not set.\");\n        }\n        const { action } = request;\n        if (action instanceof ExecuteAction) {\n            await this.internalSendExecuteRequestAsync(request);\n        } else if (action instanceof DataQuery) {\n            await this.internalSendDataQueryRequestAsync(request);\n        } else {\n            throw new Error(\"internalSendActivityRequestAsync: Unhandled Action Type\");\n        }\n    }\n\n    private async internalSendExecuteRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendExecuteRequestAsync: channelAdapter is not set.\");\n        }\n\n        const overlay = this.createProgressOverlay(request);\n\n        if (overlay !== undefined) {\n            this.renderedElement.appendChild(overlay);\n        }\n\n        let done = false;\n\n        while (!done) {\n            let response: ActivityResponse | undefined = undefined;\n\n            if (request.attemptNumber === 1) {\n                logEvent(\n                    Enums.LogLevel.Info,\n                    \"Sending activity request to channel (attempt \" + request.attemptNumber + \")\"\n                );\n            } else {\n                logEvent(\n                    Enums.LogLevel.Info,\n                    \"Re-sending activity request to channel (attempt \" + request.attemptNumber + \")\"\n                );\n            }\n\n            try {\n                response = await this.channelAdapter.sendRequestAsync(request);\n            } catch (error) {\n                logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error);\n\n                this.removeProgressOverlay(request);\n\n                done = true;\n            }\n\n            if (response) {\n                if (response instanceof SuccessResponse) {\n                    this.removeProgressOverlay(request);\n\n                    if (response.rawContent === undefined) {\n                        throw new Error(\n                            \"internalSendExecuteRequestAsync: Action.Execute result is undefined\"\n                        );\n                    }\n\n                    let parsedContent = response.rawContent;\n\n                    try {\n                        parsedContent = JSON.parse(response.rawContent);\n                    } catch {\n                        // Leave parseContent as is\n                    }\n\n                    if (typeof parsedContent === \"string\") {\n                        logEvent(\n                            Enums.LogLevel.Info,\n                            \"The activity request returned a string after \" +\n                                request.attemptNumber +\n                                \" attempt(s).\"\n                        );\n\n                        this.activityRequestSucceeded(response, parsedContent);\n                    } else if (\n                        typeof parsedContent === \"object\" &&\n                        parsedContent[\"type\"] === \"AdaptiveCard\"\n                    ) {\n                        logEvent(\n                            Enums.LogLevel.Info,\n                            \"The activity request returned an Adaptive Card after \" +\n                                request.attemptNumber +\n                                \" attempt(s).\"\n                        );\n\n                        this.internalSetCard(parsedContent, request.consecutiveActions);\n                        this.activityRequestSucceeded(response, this.card);\n                    } else {\n                        throw new Error(\n                            \"internalSendExecuteRequestAsync: Action.Execute result is of unsupported type (\" +\n                                typeof response.rawContent +\n                                \")\"\n                        );\n                    }\n\n                    done = true;\n                } else if (response instanceof ErrorResponse) {\n                    const retryIn: number = this.activityRequestFailed(response);\n\n                    if (\n                        retryIn >= 0 &&\n                        request.attemptNumber < GlobalSettings.applets.maximumRetryAttempts\n                    ) {\n                        logEvent(\n                            Enums.LogLevel.Warning,\n                            `Activity request failed: ${response.error.message}. Retrying in ${retryIn}ms`\n                        );\n\n                        request.attemptNumber++;\n\n                        await new Promise<void>((resolve, _reject) => {\n                            window.setTimeout(() => {\n                                resolve();\n                            }, retryIn);\n                        });\n                    } else {\n                        logEvent(\n                            Enums.LogLevel.Error,\n                            `Activity request failed: ${response.error.message}. Giving up after ${request.attemptNumber} attempt(s)`\n                        );\n\n                        this.removeProgressOverlay(request);\n\n                        done = true;\n                    }\n                } else if (response instanceof LoginRequestResponse) {\n                    logEvent(\n                        Enums.LogLevel.Info,\n                        \"The activity request returned a LoginRequestResponse after \" +\n                            request.attemptNumber +\n                            \" attempt(s).\"\n                    );\n\n                    if (request.attemptNumber <= GlobalSettings.applets.maximumRetryAttempts) {\n                        let attemptOAuth = true;\n\n                        if (response.tokenExchangeResource && this.onSSOTokenNeeded) {\n                            // Attempt to use SSO. The host will return true if it can handle SSO, in which case\n                            // we bypass OAuth\n                            attemptOAuth = !this.onSSOTokenNeeded(\n                                this,\n                                request,\n                                response.tokenExchangeResource\n                            );\n                        }\n\n                        if (attemptOAuth) {\n                            // Attempt to use OAuth\n                            this.removeProgressOverlay(request);\n\n                            if (response.signinButton === undefined) {\n                                throw new Error(\n                                    \"internalSendExecuteRequestAsync: the login request doesn't contain a valid signin URL.\"\n                                );\n                            }\n\n                            logEvent(\n                                Enums.LogLevel.Info,\n                                \"Login required at \" + response.signinButton.value\n                            );\n\n                            if (this.onShowSigninPrompt) {\n                                // Bypass the built-in auth prompt if the host app handles it\n                                this.onShowSigninPrompt(this, request, response.signinButton);\n                            } else {\n                                this.showAuthCodeInputDialog(request);\n\n                                const left =\n                                    window.screenX +\n                                    (window.outerWidth - GlobalSettings.applets.authPromptWidth) /\n                                        2;\n                                const top =\n                                    window.screenY +\n                                    (window.outerHeight - GlobalSettings.applets.authPromptHeight) /\n                                        2;\n\n                                window.open(\n                                    response.signinButton.value,\n                                    response.signinButton.title\n                                        ? response.signinButton.title\n                                        : \"Sign in\",\n                                    `width=${GlobalSettings.applets.authPromptWidth},height=${GlobalSettings.applets.authPromptHeight},left=${left},top=${top}`\n                                );\n                            }\n                        }\n                    } else {\n                        logEvent(\n                            Enums.LogLevel.Error,\n                            \"Authentication failed. Giving up after \" +\n                                request.attemptNumber +\n                                \" attempt(s)\"\n                        );\n\n                        alert(Strings.magicCodeInputCard.authenticationFailed());\n                    }\n\n                    // Exit the loop. After a LoginRequestResponse, the host app is responsible for retrying the request\n                    break;\n                } else {\n                    throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                }\n            }\n        }\n    }\n\n    private async internalSendDataQueryRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendDataQueryRequestAsync: channel adapter not set\");\n        }\n        const filter = (request.action as DataQuery).filter;\n        if (this._choiceSet) {\n            this._choiceSet.showLoadingIndicator();\n            let response: ActivityResponse | undefined = undefined;\n            try {\n                response = await this.channelAdapter.sendRequestAsync(request);\n            } catch (error) {\n                this._choiceSet.showErrorIndicator(filter, \"Unable to load\");\n                logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error);\n            }\n            if (response) {\n                if (response instanceof SuccessResponse) {\n                    const rawResponse = response.rawContent;\n                    if (rawResponse) {\n                        let parsedResponse;\n                        try {\n                            parsedResponse = JSON.parse(rawResponse);\n                        } catch (error) {\n                            this._choiceSet.showErrorIndicator(filter, \"Unable to load\");\n                            throw new Error(\n                                \"internalSendDataQueryRequestAsync: Cannot parse response object: \" +\n                                    rawResponse\n                            );\n                        }\n                        if (typeof parsedResponse === \"object\") {\n                            this._choiceSet.renderChoices(filter, parsedResponse);\n                            this.activityRequestSucceeded(response, rawResponse);\n                        } else {\n                            this._choiceSet.showErrorIndicator(filter, \"Error loading results\");\n                            throw new Error(\n                                \"internalSendDataQueryRequestAsync: Data.Query result is of unsupported type (\" +\n                                    typeof rawResponse +\n                                    \")\"\n                            );\n                        }\n                    } else {\n                        this._choiceSet.showErrorIndicator(filter, \"Unable to load\");\n                        throw new Error(\n                            \"internalSendDataQueryRequestAsync: Data.Query result is undefined\"\n                        );\n                    }\n                } else if (response instanceof ErrorResponse) {\n                    this._choiceSet.showErrorIndicator(\n                        filter,\n                        response.error.message || \"Error loading results\"\n                    );\n                    logEvent(\n                        Enums.LogLevel.Error,\n                        `Activity request failed: ${response.error.message}.`\n                    );\n                    this.activityRequestFailed(response);\n                } else {\n                    this._choiceSet.showErrorIndicator(filter, \"Unable to load\");\n                    throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                }\n            } else {\n                this._choiceSet.removeLoadingIndicator();\n            }\n        }\n    }\n\n    readonly renderedElement: HTMLElement;\n\n    hostConfig?: HostConfig;\n    channelAdapter?: ChannelAdapter;\n\n    onCardChanging?: (sender: AdaptiveApplet, card: any) => boolean;\n    onCardChanged?: (sender: AdaptiveApplet) => void;\n    onPrefetchSSOToken?: (\n        sender: AdaptiveApplet,\n        tokenExchangeResource: TokenExchangeResource\n    ) => void;\n    onSSOTokenNeeded?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        tokenExchangeResource: TokenExchangeResource\n    ) => boolean;\n    onPrepareActivityRequest?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        action: UniversalAction\n    ) => boolean;\n    onActivityRequestSucceeded?: (\n        sender: AdaptiveApplet,\n        response: SuccessResponse,\n        parsedContent: string | AdaptiveCard | undefined\n    ) => void;\n    onActivityRequestFailed?: (sender: AdaptiveApplet, response: ErrorResponse) => number;\n    onCreateSerializationContext?: (sender: AdaptiveApplet) => SerializationContext;\n    onCreateProgressOverlay?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest\n    ) => HTMLElement | undefined;\n    onRemoveProgressOverlay?: (sender: AdaptiveApplet, request: IActivityRequest) => void;\n    onRenderManualRefreshButton?: (sender: AdaptiveApplet) => HTMLElement | undefined;\n    onAction?: (sender: AdaptiveApplet, action: Action) => void;\n    onShowManualRefreshButton?: (sender: AdaptiveApplet) => boolean;\n    onShowAuthCodeInputDialog?: (sender: AdaptiveApplet, request: IActivityRequest) => boolean;\n    onShowSigninPrompt?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        signinButton: AuthCardButton\n    ) => void;\n\n    constructor() {\n        this.renderedElement = document.createElement(\"div\");\n        this.renderedElement.className = \"aaf-cardHost\";\n        this.renderedElement.style.position = \"relative\";\n        this.renderedElement.style.display = \"flex\";\n        this.renderedElement.style.flexDirection = \"column\";\n\n        this._cardHostElement = document.createElement(\"div\");\n\n        this._refreshButtonHostElement = document.createElement(\"div\");\n        this._refreshButtonHostElement.className = \"aaf-refreshButtonHost\";\n        this._refreshButtonHostElement.style.display = \"none\";\n\n        this.renderedElement.appendChild(this._cardHostElement);\n        this.renderedElement.appendChild(this._refreshButtonHostElement);\n    }\n\n    refreshCard() {\n        if (this._card && this._card.refresh) {\n            this.internalExecuteAction(this._card.refresh.action, ActivityRequestTrigger.Manual, 0);\n        }\n    }\n\n    setCard(payload: any) {\n        this.internalSetCard(payload, 0);\n    }\n\n    get card(): AdaptiveCard | undefined {\n        return this._card;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport * from \"./strings\";\nexport * from \"./enums\";\nexport * from \"./shared\";\nexport * from \"./utils\";\nexport * from \"./serialization\";\nexport * from \"./host-capabilities\";\nexport * from \"./host-config\";\nexport * from \"./registry\";\nexport * from \"./card-object\";\nexport * from \"./card-elements\";\nexport * from \"./carousel\";\nexport * from \"./table\";\nexport * from \"./channel-adapter\";\nexport * from \"./activity-request\";\nexport * from \"./adaptive-applet\";\n\nexport { IAdaptiveCard, ICardElement } from \"./schema\";\n","module.exports = {\r\n    \"type\": \"AdaptiveCard\",\r\n    \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\r\n    \"version\": \"1.5\",\r\n    \"body\": [\r\n        {\r\n            \"type\": \"Table\",\r\n            \"columns\": [\r\n                {\r\n                    \"width\": 1\r\n                },\r\n                {\r\n                    \"width\": 1\r\n                }\r\n            ],\r\n            \"rows\": [\r\n                {\r\n                    \"type\": \"TableRow\",\r\n                    \"cells\": [\r\n                        {\r\n                            \"type\": \"TableCell\",\r\n                            \"items\": [\r\n                                {\r\n                                    \"type\": \"Image\",\r\n                                    \"url\": \"${logo}\",\r\n                                    \"id\": \"logo\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"type\": \"TableCell\",\r\n                            \"items\": [\r\n                                {\r\n                                    \"type\": \"TextBlock\",\r\n                                    \"text\": \"${type-of-card}\",\r\n                                    \"wrap\": true,\r\n                                    \"id\": \"type-of-card\"\r\n                                }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"type\": \"Container\",\r\n            \"items\": [\r\n                {\r\n                    \"type\": \"TextBlock\",\r\n                    \"text\": \"${tenant}\",\r\n                    \"wrap\": true,\r\n                    \"id\": \"tenant\"\r\n                }\r\n            ],\r\n            \"id\": \"tenant-container\"\r\n        }\r\n    ]\r\n};","module.exports = {\r\n    \"logo\": \"https://logos-world.net/wp-content/uploads/2020/09/Microsoft-Logo.png\",\r\n    \"type-of-card\": \"Verified Employee\",\r\n    \"tenant\": \"Microsoft\"\r\n};","module.exports = {\r\n    \"type\": \"AdaptiveCard\",\r\n    \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\r\n    \"version\": \"1.5\",\r\n    \"body\": [\r\n        {\r\n            \"type\": \"Container\",\r\n            \"items\": [\r\n                {\r\n                    \"type\": \"Image\",\r\n                    \"style\": \"Person\",\r\n                    \"url\": \"${profile-picture}\",\r\n                    \"id\": \"profile-picture\"\r\n                }\r\n            ],\r\n            \"id\": \"upper-container\"\r\n        },\r\n        {\r\n            \"type\": \"Container\",\r\n            \"items\": [\r\n                {\r\n                    \"type\": \"TextBlock\",\r\n                    \"text\": \"${name}\",\r\n                    \"wrap\": true,\r\n                    \"id\": \"name\"\r\n                }, {\r\n                    \"type\": \"Image\",\r\n                    \"url\": \"${logo}\",\r\n                    \"altText\": \"{company-logo}\",\r\n                    \"id\": \"tenant-logo\"\r\n        }\r\n\r\n            ],\r\n            \"id\": \"lower-container\"\r\n        }\r\n    ]\r\n};","module.exports = {\r\n    \"logo\": \"https://logos-world.net/wp-content/uploads/2020/09/Microsoft-Logo.png\",\r\n    \"name\": \"Alexandra\",\r\n    \"profile-picture\": \"https://media.licdn.com/dms/image/D4E03AQGkzTTnRWg9Ew/profile-displayphoto-shrink_200_200/0/1680903299224?e=1694044800&v=beta&t=HH2xxMsmqQCKdLpRc1FU4xf0Mp92WaG9giK9F_bOH8M\"\r\n};","import * as AdaptiveCards from \"adaptivecards\";\n\n/* Default Template card imports. */\nimport defaultCardJson from './default-template/default-template.json' assert { type: 'json' };\nimport data from './default-template/default-template-data.json' assert { type: 'json' };\n\n/* MSFT Badge Template card imports. */\nimport microsoftcardJson from './microsoft-badge-template/microsoft-badge-template.json' assert { type: 'json' };\nimport msftData from './microsoft-badge-template/microsoft-badge-template-data.json' assert { type: 'json' };\n\n\n\n// Create an AdaptiveCard instance\nvar adaptiveCard = new AdaptiveCards.AdaptiveCard();\n\n// Introduce the data from the data.json file into the template.\nconst cardJson = replacePlaceholders(microsoftcardJson, msftData);\n\n// Parse the card payload\nadaptiveCard.parse(cardJson);\n// Render the card to an HTML element:\nvar renderedCard = adaptiveCard.render();\n\n//function pickCard()\n\n// Append the card to the document.\ndocument.getElementById(\"cardContainer\").appendChild(renderedCard);\n\nfunction pickCardTemplate(template) {\n    document.getElementById(\"cardContainer\").removeChild();\n    var cardJson;\n    if (template == 0) {\n        cardJson = replacePlaceholders(defaultCardJson, data);\n    } else {\n        cardJson = replacePlaceholders(microsoftcardJson, msftData);\n    }\n\n    adaptiveCard.parse(cardJson);\n    renderedCard = adaptiveCard.render();\n    document.getElementById(\"cardContainer\").appendChild(renderedCard);\n}\n\n\n\n/* Helper functions. */\n\n/**\n * Replaces the placeholder values in the JSON with the actual ones fetched from the data file.\n * @param {*} template      the JSON file containing the placeholder values to be replaced by actual values\n * @param {*} data          the JSON file containing the actual values\n * @returns\n */\nfunction replacePlaceholders(template, data) {\n    const jsonString = JSON.stringify(template);\n    console.log(jsonString)\n    const replacedString = jsonString.replace(/\\${([^}]+)}/g, (match, key) => {\n        const value = getValueByKey(key, data);\n        return value !== undefined ? value : match;\n    });\n\n    return JSON.parse(replacedString);\n}\n\n/**\n * Return the value found for the specific key in the data JSON file.\n * @param {*} key           the key to be replaced with the actual value\n * @param {*} data          the value that we replace the key with\n * @returns\n */\nfunction getValueByKey(key, data) {\n    console.log(key);\n    const keys = key.split('.');\n    let value = data;\n    console.log(keys);\n    for (const k of keys) {\n        value = value[k];\n        if (value === undefined) {break;}\n    }\n\n    return value;\n}\n\n\n// Set the adaptive card's event handlers. onExecuteAction is invoked\n// whenever an action is clicked in the card\n/*\nadaptiveCard.onExecuteAction = function(action) {\n    document.body.removeChild(renderedCard);\n    document.body.appendChild(renderedBackCard)\n}\n*/","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}