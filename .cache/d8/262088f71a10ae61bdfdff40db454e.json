{"id":"../../node_modules/adaptivecards/lib/host-capabilities.js","dependencies":[{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\host-capabilities.js.map","includedInParent":true,"mtime":1689085533832},{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\src\\host-capabilities.ts","includedInParent":true,"mtime":1689085534019},{"name":"C:\\Users\\t-acruau\\adaptive-cards\\package.json","includedInParent":true,"mtime":1689259513501},{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\package.json","includedInParent":true,"mtime":1689085533782},{"name":"./serialization","loc":{"line":21,"column":30,"index":1001},"parent":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\host-capabilities.js","resolved":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\serialization.js"}],"generated":{"js":"\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HostCapabilities = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar serialization_1 = require(\"./serialization\");\nvar HostCapabilities = /** @class */ (function (_super) {\n    __extends(HostCapabilities, _super);\n    function HostCapabilities() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._capabilities = {};\n        return _this;\n    }\n    HostCapabilities.prototype.getSchemaKey = function () {\n        return \"HostCapabilities\";\n    };\n    HostCapabilities.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        if (source) {\n            // eslint-disable-next-line guard-for-in\n            for (var name_1 in source) {\n                var jsonVersion = source[name_1];\n                if (typeof jsonVersion === \"string\") {\n                    if (jsonVersion === \"*\") {\n                        this.addCapability(name_1, \"*\");\n                    }\n                    else {\n                        var version = serialization_1.Version.parse(jsonVersion, context);\n                        if (version === null || version === void 0 ? void 0 : version.isValid) {\n                            this.addCapability(name_1, version);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    HostCapabilities.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        // eslint-disable-next-line guard-for-in\n        for (var key in this._capabilities) {\n            target[key] = this._capabilities[key];\n        }\n    };\n    HostCapabilities.prototype.addCapability = function (name, version) {\n        this._capabilities[name] = version;\n    };\n    HostCapabilities.prototype.removeCapability = function (name) {\n        delete this._capabilities[name];\n    };\n    HostCapabilities.prototype.clear = function () {\n        this._capabilities = {};\n    };\n    HostCapabilities.prototype.hasCapability = function (name, version) {\n        if (this._capabilities.hasOwnProperty(name)) {\n            if (version === \"*\" || this._capabilities[name] === \"*\") {\n                return true;\n            }\n            return version.compareTo(this._capabilities[name]) <= 0;\n        }\n        return false;\n    };\n    HostCapabilities.prototype.areAllMet = function (hostCapabilities) {\n        for (var capabilityName in this._capabilities) {\n            if (!hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return HostCapabilities;\n}(serialization_1.SerializableObject));\nexports.HostCapabilities = HostCapabilities;\n"},"sourceMaps":{"js":{"version":3,"file":"host-capabilities.js","sourceRoot":"","sources":["../src/host-capabilities.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,4DAA4D;AAC5D,kCAAkC;AAClC,iDAMyB;AAEzB;IAAsC,oCAAkB;IAAxD;QAAA,qEA0EC;QAzEW,mBAAa,GAAqC,EAAE,CAAC;;IAyEjE,CAAC;IAvEa,uCAAY,GAAtB;QACI,OAAO,kBAAkB,CAAC;IAC9B,CAAC;IAES,wCAAa,GAAvB,UAAwB,MAAW,EAAE,OAAiC;QAClE,iBAAM,aAAa,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,MAAM,EAAE;YACR,wCAAwC;YACxC,KAAK,IAAM,MAAI,IAAI,MAAM,EAAE;gBACvB,IAAM,WAAW,GAAG,MAAM,CAAC,MAAI,CAAC,CAAC;gBAEjC,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;oBACjC,IAAI,WAAW,KAAK,GAAG,EAAE;wBACrB,IAAI,CAAC,aAAa,CAAC,MAAI,EAAE,GAAG,CAAC,CAAC;qBACjC;yBAAM;wBACH,IAAM,OAAO,GAAG,uBAAO,CAAC,KAAK,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;wBAEpD,IAAI,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,EAAE;4BAClB,IAAI,CAAC,aAAa,CAAC,MAAI,EAAE,OAAO,CAAC,CAAC;yBACrC;qBACJ;iBACJ;aACJ;SACJ;IACL,CAAC;IAES,yCAAc,GAAxB,UAAyB,MAAmB,EAAE,OAAiC;QAC3E,iBAAM,cAAc,YAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,wCAAwC;QACxC,KAAK,IAAM,GAAG,IAAI,IAAI,CAAC,aAAa,EAAE;YAClC,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;SACzC;IACL,CAAC;IAED,wCAAa,GAAb,UAAc,IAAY,EAAE,OAAsB;QAC9C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;IACvC,CAAC;IAED,2CAAgB,GAAhB,UAAiB,IAAY;QACzB,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,gCAAK,GAAL;QACI,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,wCAAa,GAAb,UAAc,IAAY,EAAE,OAAsB;QAC9C,IAAI,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;YACzC,IAAI,OAAO,KAAK,GAAG,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE;gBACrD,OAAO,IAAI,CAAC;aACf;YAED,OAAO,OAAO,CAAC,SAAS,CAAU,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;SACpE;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,oCAAS,GAAT,UAAU,gBAAkC;QACxC,KAAK,IAAM,cAAc,IAAI,IAAI,CAAC,aAAa,EAAE;YAC7C,IACI,CAAC,gBAAgB,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,EACrF;gBACE,OAAO,KAAK,CAAC;aAChB;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,uBAAC;AAAD,CAAC,AA1ED,CAAsC,kCAAkB,GA0EvD;AA1EY,4CAAgB","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    TargetVersion,\n    Version,\n    SerializableObject,\n    BaseSerializationContext,\n    PropertyBag\n} from \"./serialization\";\n\nexport class HostCapabilities extends SerializableObject {\n    private _capabilities: { [key: string]: TargetVersion } = {};\n\n    protected getSchemaKey(): string {\n        return \"HostCapabilities\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        super.internalParse(source, context);\n\n        if (source) {\n            // eslint-disable-next-line guard-for-in\n            for (const name in source) {\n                const jsonVersion = source[name];\n\n                if (typeof jsonVersion === \"string\") {\n                    if (jsonVersion === \"*\") {\n                        this.addCapability(name, \"*\");\n                    } else {\n                        const version = Version.parse(jsonVersion, context);\n\n                        if (version?.isValid) {\n                            this.addCapability(name, version);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        super.internalToJSON(target, context);\n\n        // eslint-disable-next-line guard-for-in\n        for (const key in this._capabilities) {\n            target[key] = this._capabilities[key];\n        }\n    }\n\n    addCapability(name: string, version: TargetVersion) {\n        this._capabilities[name] = version;\n    }\n\n    removeCapability(name: string) {\n        delete this._capabilities[name];\n    }\n\n    clear() {\n        this._capabilities = {};\n    }\n\n    hasCapability(name: string, version: TargetVersion): boolean {\n        if (this._capabilities.hasOwnProperty(name)) {\n            if (version === \"*\" || this._capabilities[name] === \"*\") {\n                return true;\n            }\n\n            return version.compareTo(<Version>this._capabilities[name]) <= 0;\n        }\n\n        return false;\n    }\n\n    areAllMet(hostCapabilities: HostCapabilities): boolean {\n        for (const capabilityName in this._capabilities) {\n            if (\n                !hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])\n            ) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n"]}},"error":null,"hash":"f99a1c3357b96ab3263eee18fabe47fc","cacheData":{"env":{}}}