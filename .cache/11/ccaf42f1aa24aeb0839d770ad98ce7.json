{"id":"../../node_modules/adaptivecards/lib/controls/popup-menu.js","dependencies":[{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-menu.js.map","includedInParent":true,"mtime":1689085533842},{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\src\\controls\\popup-menu.ts","includedInParent":true,"mtime":1689085534043},{"name":"C:\\Users\\t-acruau\\adaptive-cards\\package.json","includedInParent":true,"mtime":1689259513501},{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\package.json","includedInParent":true,"mtime":1689085533782},{"name":"./constants","loc":{"line":21,"column":26,"index":990},"parent":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-menu.js","resolved":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\constants.js"},{"name":"./collection","loc":{"line":22,"column":27,"index":1033},"parent":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-menu.js","resolved":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\collection.js"},{"name":"./popup-control","loc":{"line":23,"column":30,"index":1080},"parent":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-menu.js","resolved":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-control.js"}],"generated":{"js":"\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PopupMenu = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar constants_1 = require(\"./constants\");\nvar collection_1 = require(\"./collection\");\nvar popup_control_1 = require(\"./popup-control\");\nvar PopupMenu = /** @class */ (function (_super) {\n    __extends(PopupMenu, _super);\n    function PopupMenu() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._items = new collection_1.Collection();\n        _this._renderedItems = [];\n        _this._selectedIndex = -1;\n        return _this;\n    }\n    PopupMenu.prototype.renderContent = function () {\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl ac-popup\");\n        element.setAttribute(\"role\", \"listbox\");\n        for (var i = 0; i < this._items.length; i++) {\n            var renderedItem = this._items.get(i).render(this.hostConfig);\n            renderedItem.tabIndex = 0;\n            element.appendChild(renderedItem);\n            if (i === this.selectedIndex) {\n                renderedItem.focus();\n            }\n            this._renderedItems.push(renderedItem);\n        }\n        return element;\n    };\n    PopupMenu.prototype.keyDown = function (e) {\n        _super.prototype.keyDown.call(this, e);\n        var selectedItemIndex = this._selectedIndex;\n        switch (e.key) {\n            case constants_1.Constants.keys.tab:\n                this.closePopup(true);\n                break;\n            /*\n            case Constants.keys.enter:\n                if (this.selectedIndex >= 0) {\n                    this.selectedIndex = this.selectedIndex;\n\n                    this.close();\n                }\n\n                break;\n            */\n            case constants_1.Constants.keys.up:\n                if (selectedItemIndex <= 0) {\n                    selectedItemIndex = this._renderedItems.length - 1;\n                }\n                else {\n                    selectedItemIndex--;\n                    if (selectedItemIndex < 0) {\n                        selectedItemIndex = this._renderedItems.length - 1;\n                    }\n                }\n                this.selectedIndex = selectedItemIndex;\n                e.cancelBubble = true;\n                break;\n            case constants_1.Constants.keys.down:\n                if (selectedItemIndex < 0) {\n                    selectedItemIndex = 0;\n                }\n                else {\n                    selectedItemIndex++;\n                    if (selectedItemIndex >= this._renderedItems.length) {\n                        selectedItemIndex = 0;\n                    }\n                }\n                this.selectedIndex = selectedItemIndex;\n                e.cancelBubble = true;\n                break;\n        }\n    };\n    Object.defineProperty(PopupMenu.prototype, \"items\", {\n        get: function () {\n            return this._items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PopupMenu.prototype, \"selectedIndex\", {\n        get: function () {\n            return this._selectedIndex;\n        },\n        set: function (index) {\n            if (index >= 0 && index < this._renderedItems.length) {\n                this._renderedItems[index].focus();\n                this._selectedIndex = index;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PopupMenu;\n}(popup_control_1.PopupControl));\nexports.PopupMenu = PopupMenu;\n"},"sourceMaps":{"js":{"version":3,"file":"popup-menu.js","sourceRoot":"","sources":["../../src/controls/popup-menu.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,4DAA4D;AAC5D,kCAAkC;AAClC,yCAAwC;AACxC,2CAA0C;AAC1C,iDAA+C;AAG/C;IAA+B,6BAAY;IAA3C;QAAA,qEAgGC;QA/FW,YAAM,GAAyB,IAAI,uBAAU,EAAY,CAAC;QAC1D,oBAAc,GAAuB,EAAE,CAAC;QACxC,oBAAc,GAAW,CAAC,CAAC,CAAC;;IA6FxC,CAAC;IA3Fa,iCAAa,GAAvB;QACI,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC;QACzE,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;QAExC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzC,IAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAChE,YAAY,CAAC,QAAQ,GAAG,CAAC,CAAC;YAE1B,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAElC,IAAI,CAAC,KAAK,IAAI,CAAC,aAAa,EAAE;gBAC1B,YAAY,CAAC,KAAK,EAAE,CAAC;aACxB;YAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC1C;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,2BAAO,GAAP,UAAQ,CAAgB;QACpB,iBAAM,OAAO,YAAC,CAAC,CAAC,CAAC;QAEjB,IAAI,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC;QAE5C,QAAQ,CAAC,CAAC,GAAG,EAAE;YACX,KAAK,qBAAS,CAAC,IAAI,CAAC,GAAG;gBACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAEtB,MAAM;YACV;;;;;;;;;cASE;YACF,KAAK,qBAAS,CAAC,IAAI,CAAC,EAAE;gBAClB,IAAI,iBAAiB,IAAI,CAAC,EAAE;oBACxB,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;iBACtD;qBAAM;oBACH,iBAAiB,EAAE,CAAC;oBAEpB,IAAI,iBAAiB,GAAG,CAAC,EAAE;wBACvB,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;qBACtD;iBACJ;gBAED,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC;gBAEvC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;gBAEtB,MAAM;YACV,KAAK,qBAAS,CAAC,IAAI,CAAC,IAAI;gBACpB,IAAI,iBAAiB,GAAG,CAAC,EAAE;oBACvB,iBAAiB,GAAG,CAAC,CAAC;iBACzB;qBAAM;oBACH,iBAAiB,EAAE,CAAC;oBAEpB,IAAI,iBAAiB,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;wBACjD,iBAAiB,GAAG,CAAC,CAAC;qBACzB;iBACJ;gBAED,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC;gBAEvC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;gBAEtB,MAAM;SACb;IACL,CAAC;IAED,sBAAI,4BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAED,sBAAI,oCAAa;aAAjB;YACI,OAAO,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;aAED,UAAkB,KAAa;YAC3B,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;gBAClD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;gBAEnC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;aAC/B;QACL,CAAC;;;OARA;IASL,gBAAC;AAAD,CAAC,AAhGD,CAA+B,4BAAY,GAgG1C;AAhGY,8BAAS","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport { Collection } from \"./collection\";\nimport { PopupControl } from \"./popup-control\";\nimport { MenuItem } from \"./menu-item\";\n\nexport class PopupMenu extends PopupControl {\n    private _items: Collection<MenuItem> = new Collection<MenuItem>();\n    private _renderedItems: Array<HTMLElement> = [];\n    private _selectedIndex: number = -1;\n\n    protected renderContent(): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl ac-popup\");\n        element.setAttribute(\"role\", \"listbox\");\n\n        for (let i = 0; i < this._items.length; i++) {\n            const renderedItem = this._items.get(i).render(this.hostConfig);\n            renderedItem.tabIndex = 0;\n\n            element.appendChild(renderedItem);\n\n            if (i === this.selectedIndex) {\n                renderedItem.focus();\n            }\n\n            this._renderedItems.push(renderedItem);\n        }\n\n        return element;\n    }\n\n    keyDown(e: KeyboardEvent) {\n        super.keyDown(e);\n\n        let selectedItemIndex = this._selectedIndex;\n\n        switch (e.key) {\n            case Constants.keys.tab:\n                this.closePopup(true);\n\n                break;\n            /*\n            case Constants.keys.enter:\n                if (this.selectedIndex >= 0) {\n                    this.selectedIndex = this.selectedIndex;\n\n                    this.close();\n                }\n\n                break;\n            */\n            case Constants.keys.up:\n                if (selectedItemIndex <= 0) {\n                    selectedItemIndex = this._renderedItems.length - 1;\n                } else {\n                    selectedItemIndex--;\n\n                    if (selectedItemIndex < 0) {\n                        selectedItemIndex = this._renderedItems.length - 1;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n            case Constants.keys.down:\n                if (selectedItemIndex < 0) {\n                    selectedItemIndex = 0;\n                } else {\n                    selectedItemIndex++;\n\n                    if (selectedItemIndex >= this._renderedItems.length) {\n                        selectedItemIndex = 0;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n        }\n    }\n\n    get items(): Collection<MenuItem> {\n        return this._items;\n    }\n\n    get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    set selectedIndex(index: number) {\n        if (index >= 0 && index < this._renderedItems.length) {\n            this._renderedItems[index].focus();\n\n            this._selectedIndex = index;\n        }\n    }\n}\n"]}},"error":null,"hash":"ddb8d930c347c68f19b205bdf0ec43c6","cacheData":{"env":{}}}