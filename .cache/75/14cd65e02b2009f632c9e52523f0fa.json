{"id":"../../node_modules/adaptivecards/lib/controls/popup-control.js","dependencies":[{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-control.js.map","includedInParent":true,"mtime":1689085533842},{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\src\\controls\\popup-control.ts","includedInParent":true,"mtime":1689085534043},{"name":"C:\\Users\\t-acruau\\adaptive-cards\\package.json","includedInParent":true,"mtime":1689259513501},{"name":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\package.json","includedInParent":true,"mtime":1689085533782},{"name":"./constants","loc":{"line":6,"column":26,"index":230},"parent":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-control.js","resolved":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\constants.js"},{"name":"../utils","loc":{"line":7,"column":20,"index":266},"parent":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-control.js","resolved":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\utils.js"},{"name":"../host-config","loc":{"line":8,"column":28,"index":307},"parent":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\controls\\popup-control.js","resolved":"C:\\Users\\t-acruau\\node_modules\\adaptivecards\\lib\\host-config.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PopupControl = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar constants_1 = require(\"./constants\");\nvar Utils = require(\"../utils\");\nvar host_config_1 = require(\"../host-config\");\nvar PopupControl = /** @class */ (function () {\n    function PopupControl() {\n        this._isOpen = false;\n    }\n    PopupControl.prototype.keyDown = function (e) {\n        switch (e.key) {\n            case constants_1.Constants.keys.escape:\n                this.closePopup(true);\n                break;\n        }\n    };\n    PopupControl.prototype.render = function (_rootElementBounds) {\n        var _this = this;\n        var element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = function (e) {\n            _this.keyDown(e);\n            return !e.cancelBubble;\n        };\n        element.appendChild(this.renderContent());\n        return element;\n    };\n    PopupControl.prototype.focus = function () {\n        if (this._popupElement) {\n            this._popupElement.firstElementChild.focus();\n        }\n    };\n    PopupControl.prototype.popup = function (rootElement) {\n        var _a, _b, _c, _d, _f;\n        var _this = this;\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = function (_e) {\n                _this.closePopup(true);\n            };\n            document.body.appendChild(this._overlayElement);\n            var rootElementBounds = rootElement.getBoundingClientRect();\n            this._popupElement = this.render(rootElementBounds);\n            (_a = this._popupElement.classList).remove.apply(_a, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\", \"ac-ctrl-slideRightToLeft\", \"ac-ctrl-slideTopToBottom\", \"ac-ctrl-slideRightToLeft\"));\n            window.addEventListener(\"resize\", function (_e) {\n                _this.closePopup(true);\n            });\n            var rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n            this._overlayElement.appendChild(this._popupElement);\n            var popupElementBounds = this._popupElement.getBoundingClientRect();\n            var availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            var availableSpaceAbove = rootElementBounds.top;\n            var availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            var availableSpaceLeft = rootElementBounds.left;\n            var left = rootElementBounds.left + Utils.getScrollX();\n            var top_1;\n            if (availableSpaceAbove < popupElementBounds.height &&\n                availableSpaceBelow < popupElementBounds.height) {\n                // Not enough space above or below root element\n                var actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top_1 = Utils.getScrollY();\n                }\n                else {\n                    top_1 =\n                        Utils.getScrollY() +\n                            rootElementBounds.top +\n                            (rootElementBounds.height - actualPopupHeight) / 2;\n                }\n                if (availableSpaceLeft < popupElementBounds.width &&\n                    availableSpaceRight < popupElementBounds.width) {\n                    // Not enough space left or right of root element\n                    var actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    }\n                    else {\n                        left =\n                            Utils.getScrollX() +\n                                rootElementBounds.left +\n                                (rootElementBounds.width - actualPopupWidth) / 2;\n                    }\n                }\n                else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n                        (_b = this._popupElement.classList).add.apply(_b, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\"));\n                    }\n                    else {\n                        left =\n                            Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n                        (_c = this._popupElement.classList).add.apply(_c, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideRightToLeft\"));\n                    }\n                }\n            }\n            else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top_1 = Utils.getScrollY() + rootElementBounds.bottom;\n                    (_d = this._popupElement.classList).add.apply(_d, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideTopToBottom\"));\n                }\n                else {\n                    top_1 = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n                    (_f = this._popupElement.classList).add.apply(_f, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideBottomToTop\"));\n                }\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top_1 + \"px\";\n            this._popupElement.focus();\n            this._isOpen = true;\n        }\n    };\n    PopupControl.prototype.closePopup = function (wasCancelled) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n            this._isOpen = false;\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    };\n    Object.defineProperty(PopupControl.prototype, \"hostConfig\", {\n        get: function () {\n            return this._hostConfig ? this._hostConfig : host_config_1.defaultHostConfig;\n        },\n        set: function (value) {\n            this._hostConfig = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PopupControl.prototype, \"isOpen\", {\n        get: function () {\n            return this._isOpen;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PopupControl;\n}());\nexports.PopupControl = PopupControl;\n"},"sourceMaps":{"js":{"version":3,"file":"popup-control.js","sourceRoot":"","sources":["../../src/controls/popup-control.ts"],"names":[],"mappings":";;;AAAA,4DAA4D;AAC5D,kCAAkC;AAClC,yCAAwC;AACxC,gCAAkC;AAClC,8CAA+D;AAE/D;IAAA;QACY,YAAO,GAAY,KAAK,CAAC;IA6MrC,CAAC;IApMG,8BAAO,GAAP,UAAQ,CAAgB;QACpB,QAAQ,CAAC,CAAC,GAAG,EAAE;YACX,KAAK,qBAAS,CAAC,IAAI,CAAC,MAAM;gBACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAEtB,MAAM;SACb;IACL,CAAC;IAED,6BAAM,GAAN,UAAO,kBAA8B;QAArC,iBAeC;QAdG,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;QACrB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,yBAAyB,CAAC,CAAC;QAC3F,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACvC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAC3C,OAAO,CAAC,SAAS,GAAG,UAAC,CAAC;YAClB,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAEhB,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC;QAC3B,CAAC,CAAC;QAEF,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;QAE1C,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,4BAAK,GAAL;QACI,IAAI,IAAI,CAAC,aAAa,EAAE;YACN,IAAI,CAAC,aAAa,CAAC,iBAAkB,CAAC,KAAK,EAAE,CAAC;SAC/D;IACL,CAAC;IAED,4BAAK,GAAL,UAAM,WAAwB;;QAA9B,iBA2IC;QA1IG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;YACrF,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,eAAe,CAAC,WAAW,GAAG,IAAI,CAAC;YAC/E,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC;YACjF,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,UAAC,EAAE;gBAC9B,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC;YAEF,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAEhD,IAAM,iBAAiB,GAAG,WAAW,CAAC,qBAAqB,EAAE,CAAC;YAE9D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;YACpD,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,MAAM,WAC5B,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,EAC1B,0BAA0B,EAC1B,0BAA0B,EAC1B,0BAA0B,CAC7B,EACH;YAEF,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,UAAC,EAAE;gBACjC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;YAEH,IAAM,gBAAgB,GAAG,WAAW,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;YAChE,IAAI,gBAAgB,EAAE;gBAClB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAC;aACnE;YAED,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAErD,IAAM,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YAEtE,IAAM,mBAAmB,GAAG,MAAM,CAAC,WAAW,GAAG,iBAAiB,CAAC,MAAM,CAAC;YAC1E,IAAM,mBAAmB,GAAG,iBAAiB,CAAC,GAAG,CAAC;YAClD,IAAM,mBAAmB,GAAG,MAAM,CAAC,UAAU,GAAG,iBAAiB,CAAC,KAAK,CAAC;YACxE,IAAM,kBAAkB,GAAG,iBAAiB,CAAC,IAAI,CAAC;YAElD,IAAI,IAAI,GAAG,iBAAiB,CAAC,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;YACvD,IAAI,KAAG,CAAC;YAER,IACI,mBAAmB,GAAG,kBAAkB,CAAC,MAAM;gBAC/C,mBAAmB,GAAG,kBAAkB,CAAC,MAAM,EACjD;gBACE,+CAA+C;gBAC/C,IAAM,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,MAAM,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;gBAElF,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,iBAAiB,GAAG,IAAI,CAAC;gBAE9D,IAAI,iBAAiB,GAAG,kBAAkB,CAAC,MAAM,EAAE;oBAC/C,KAAG,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;iBAC5B;qBAAM;oBACH,KAAG;wBACC,KAAK,CAAC,UAAU,EAAE;4BAClB,iBAAiB,CAAC,GAAG;4BACrB,CAAC,iBAAiB,CAAC,MAAM,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC;iBAC1D;gBAED,IACI,kBAAkB,GAAG,kBAAkB,CAAC,KAAK;oBAC7C,mBAAmB,GAAG,kBAAkB,CAAC,KAAK,EAChD;oBACE,iDAAiD;oBACjD,IAAM,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,KAAK,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;oBAE/E,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,gBAAgB,GAAG,IAAI,CAAC;oBAE5D,IAAI,gBAAgB,GAAG,kBAAkB,CAAC,KAAK,EAAE;wBAC7C,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;qBAC7B;yBAAM;wBACH,IAAI;4BACA,KAAK,CAAC,UAAU,EAAE;gCAClB,iBAAiB,CAAC,IAAI;gCACtB,CAAC,iBAAiB,CAAC,KAAK,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;qBACxD;iBACJ;qBAAM;oBACH,wDAAwD;oBACxD,IAAI,mBAAmB,IAAI,kBAAkB,CAAC,KAAK,EAAE;wBACjD,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,KAAK,CAAC;wBAEpD,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,GAAG,WACzB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,CAC7B,EACH;qBACL;yBAAM;wBACH,IAAI;4BACA,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,IAAI,GAAG,kBAAkB,CAAC,KAAK,CAAC;wBAE3E,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,GAAG,WACzB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,CAC7B,EACH;qBACL;iBACJ;aACJ;iBAAM;gBACH,2CAA2C;gBAC3C,IAAI,mBAAmB,IAAI,kBAAkB,CAAC,MAAM,EAAE;oBAClD,KAAG,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,MAAM,CAAC;oBAEpD,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,GAAG,WACzB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,CAC7B,EACH;iBACL;qBAAM;oBACH,KAAG,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC;oBAE7E,CAAA,KAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAA,CAAC,GAAG,WACzB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAChC,eAAe,EACf,0BAA0B,CAC7B,EACH;iBACL;gBAED,IAAI,mBAAmB,GAAG,kBAAkB,CAAC,KAAK,EAAE;oBAChD,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,iBAAiB,CAAC,KAAK,GAAG,kBAAkB,CAAC,KAAK,CAAC;iBAClF;aACJ;YAED,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;YAC5C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,KAAG,GAAG,IAAI,CAAC;YAE1C,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YAE3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;IACL,CAAC;IAED,iCAAU,GAAV,UAAW,YAAqB;QAC5B,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAEhD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YAErB,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;aACpC;SACJ;IACL,CAAC;IAED,sBAAI,oCAAU;aAAd;YACI,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,+BAAiB,CAAC;QACnE,CAAC;aAED,UAAe,KAAiB;YAC5B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC7B,CAAC;;;OAJA;IAMD,sBAAI,gCAAM;aAAV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IACL,mBAAC;AAAD,CAAC,AA9MD,IA8MC;AA9MqB,oCAAY","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport * as Utils from \"../utils\";\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\n\nexport abstract class PopupControl {\n    private _isOpen: boolean = false;\n    private _overlayElement: HTMLElement;\n    private _popupElement: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    protected abstract renderContent(): HTMLElement;\n\n    onClose: (popupControl: PopupControl, wasCancelled: boolean) => void;\n\n    keyDown(e: KeyboardEvent) {\n        switch (e.key) {\n            case Constants.keys.escape:\n                this.closePopup(true);\n\n                break;\n        }\n    }\n\n    render(_rootElementBounds: ClientRect): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = (e) => {\n            this.keyDown(e);\n\n            return !e.cancelBubble;\n        };\n\n        element.appendChild(this.renderContent());\n\n        return element;\n    }\n\n    focus() {\n        if (this._popupElement) {\n            (<HTMLElement>this._popupElement.firstElementChild).focus();\n        }\n    }\n\n    popup(rootElement: HTMLElement) {\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = (_e) => {\n                this.closePopup(true);\n            };\n\n            document.body.appendChild(this._overlayElement);\n\n            const rootElementBounds = rootElement.getBoundingClientRect();\n\n            this._popupElement = this.render(rootElementBounds);\n            this._popupElement.classList.remove(\n                ...this.hostConfig.makeCssClassNames(\n                    \"ac-ctrl-slide\",\n                    \"ac-ctrl-slideLeftToRight\",\n                    \"ac-ctrl-slideRightToLeft\",\n                    \"ac-ctrl-slideTopToBottom\",\n                    \"ac-ctrl-slideRightToLeft\"\n                )\n            );\n\n            window.addEventListener(\"resize\", (_e) => {\n                this.closePopup(true);\n            });\n\n            const rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n\n            this._overlayElement.appendChild(this._popupElement);\n\n            const popupElementBounds = this._popupElement.getBoundingClientRect();\n\n            const availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            const availableSpaceAbove = rootElementBounds.top;\n            const availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            const availableSpaceLeft = rootElementBounds.left;\n\n            let left = rootElementBounds.left + Utils.getScrollX();\n            let top;\n\n            if (\n                availableSpaceAbove < popupElementBounds.height &&\n                availableSpaceBelow < popupElementBounds.height\n            ) {\n                // Not enough space above or below root element\n                const actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top = Utils.getScrollY();\n                } else {\n                    top =\n                        Utils.getScrollY() +\n                        rootElementBounds.top +\n                        (rootElementBounds.height - actualPopupHeight) / 2;\n                }\n\n                if (\n                    availableSpaceLeft < popupElementBounds.width &&\n                    availableSpaceRight < popupElementBounds.width\n                ) {\n                    // Not enough space left or right of root element\n                    const actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    } else {\n                        left =\n                            Utils.getScrollX() +\n                            rootElementBounds.left +\n                            (rootElementBounds.width - actualPopupWidth) / 2;\n                    }\n                } else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideLeftToRight\"\n                            )\n                        );\n                    } else {\n                        left =\n                            Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideRightToLeft\"\n                            )\n                        );\n                    }\n                }\n            } else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top = Utils.getScrollY() + rootElementBounds.bottom;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideTopToBottom\"\n                        )\n                    );\n                } else {\n                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideBottomToTop\"\n                        )\n                    );\n                }\n\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top + \"px\";\n\n            this._popupElement.focus();\n\n            this._isOpen = true;\n        }\n    }\n\n    closePopup(wasCancelled: boolean) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n\n            this._isOpen = false;\n\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this._hostConfig ? this._hostConfig : defaultHostConfig;\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get isOpen(): boolean {\n        return this._isOpen;\n    }\n}\n"]}},"error":null,"hash":"844f333fba43c106c4e076fd519676f5","cacheData":{"env":{}}}